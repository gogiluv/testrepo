webpackJsonp([5],{"5JVp":function(t,e,i){var s=i("tGP5");t.exports=s},A588:function(t,e,i){var s=i("y1vT"),n=i("FuDM");t.exports={props:{width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:"100%"},value:{type:String,default:"// code \n"},srcPath:{type:String},language:{type:String,default:"c"},theme:{type:String,default:"vs-dark"},options:{type:Object,default:function(){}},highlighted:{type:Array,default:function(){return[{number:0,class:""}]}},changeThrottle:{type:Number,default:0}},mounted:function(){this.fetchEditor()},destroyed:function(){this.destroyMonaco()},computed:{style:function(){var t=this.width,e=this.height;return{width:-1!==t.toString().indexOf("%")?t:t+"px",height:-1!==e.toString().indexOf("%")?e:e+"px"}},editorOptions:function(){return Object.assign({},this.defaults,this.options,{value:this.code,language:this.language,theme:this.theme})}},data:function(){return{defaults:{selectOnLineNumbers:!0,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!1,glyphMargin:!0}}},watch:{highlighted:{handler:function(t){this.highlightLines(t)},deep:!0},options:{deep:!0,handler:function(t){this.editor&&this.editor.updateOptions(t)}},value:function(t){this.editor&&t!==this.editor.getValue()&&this.editor.setValue(t)},language:function(t){this.editor&&window.monaco.editor.setModelLanguage(this.editor.getModel(),t)},theme:function(t){this.editor&&window.monaco.editor.setTheme(t)}},beforeDestroy:function(){this.editor&&this.editor.dispose()},methods:{getMonaco:function(){return this.editor},focus:function(){this.editor.focus()},highlightLines:function(t){var e=this;this.editor&&t.forEach(function(t){var i=t.class,s=e.$el.querySelector("."+i);s&&s.classList.remove(i);var n=parseInt(t.number);if(!(!e.editor&&n<1||isNaN(n))){var a=e.$el.querySelector('.view-lines [linenumber="'+n+'"]');a&&a.classList.add(i)}})},editorHasLoaded:function(t,e){var i=this;this.editor=t,this.monaco=e,this.editor.onDidChangeModelContent(function(e){return i.codeChangeHandler(t,e)}),this.$emit("mounted",t)},codeChangeHandler:function(t){this.codeChangeEmitter?this.codeChangeEmitter(t):(this.codeChangeEmitter=s(function(t){this.$emit("codeChange",t)},this.changeThrottle),this.codeChangeEmitter(t))},fetchEditor:function(){n.load(this.srcPath,this.createMonaco)},createMonaco:function(){this.editor=window.monaco.editor.create(this.$el,this.editorOptions),this.editorHasLoaded(this.editor,window.monaco)},destroyMonaco:function(){void 0!==this.editor&&this.editor.dispose()}}}},FuDM:function(t,e){t.exports={load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://as.alipayobjects.com/g/cicada/monaco-editor-mirror/0.6.1/min",e=arguments[1];if(window.monaco)e();else{var i={paths:{vs:t+"/vs"}},s=i.paths.vs+"/loader.js",n=function(){if(window.LOADER_PENDING&&window.require.config(i),window.require(["vs/editor/editor.main"],function(){e()}),window.LOADER_PENDING){window.LOADER_PENDING=!1;var t=window.LOADER_CALLBACKS;if(t&&t.length)for(var s=t.shift();s;)s.fn.call(s.window),s=t.shift()}};if(window.LOADER_PENDING)window.LOADER_CALLBACKS=window.LOADER_CALLBACKS||[],window.LOADER_CALLBACKS.push({window:this,fn:n});else if(void 0===window.require){var a=window.document.createElement("script");a.type="text/javascript",a.src=s,a.addEventListener("load",n),window.document.body.appendChild(a),window.LOADER_PENDING=!0}else n()}}}},ObyN:function(t,e){},WQH6:function(t,e,i){"use strict";function s(t){return C[t.name].color}Object.defineProperty(e,"__esModule",{value:!0});var n=i("fZjL"),a=i.n(n),o=i("mvHQ"),r=i.n(o),c=i("Dd8w"),l=i.n(c),u=i("NYxO"),d=i("IcnI"),h=i("5JVp"),p={components:{MonacoEditor:i.n(h).a},props:{languages:{},language:{},code:{type:String,default:""}},data:function(){return{codingLanguage:"c",theme:"vs-dark",highlightLines:[{number:0,class:"primary-highlighted-line"},{number:0,class:"secondary-highlighted-line"}],themes:[{label:"vs-dark",value:"vs-dark"},{label:"vs",value:"vs"},{label:"hc-black",value:"hc-black"}]}},mounted:function(){},methods:{onMounted:function(t){this.editor=t,"C++"===this.language?this.codingLanguage="cpp":"C"===this.language?this.codingLanguage="c":"C#"===this.language?this.codingLanguage="csharp":"Java"===this.language?this.codingLanguage="java":"Python2"===this.language?this.codingLanguage="python":"Python3"===this.language&&(this.codingLanguage="python")},onCodeChange:function(){this.$emit("update:code",this.editor.getValue())},onLangChange:function(t){this.language=t,"C++"===t?t="cpp":"C"===t?t="c":"C#"===t?t="csharp":"Java"===t?t="java":"Python2"===t?t="python":"Python3"===t&&(t="python"),this.codingLanguage=t,this.$emit("onChangeLanguage",t),this.$emit("update:language",this.language)},onThemeChange:function(t){}},created:function(){this.options={selectOnLineNumbers:!1},this.editorOptions={code:this.code,language:this.language,theme:this.theme}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{margin:"0px 0px 15px 0px"}},[i("Row",{staticClass:"header",attrs:{type:"flex",justify:"space-between"}},[i("Col",{attrs:{span:10}},[i("div",[i("span",[t._v("Language:")]),t._v(" "),i("Select",{staticClass:"adjust",attrs:{value:t.language},on:{"on-change":t.onLangChange}},t._l(t.languages,function(e){return i("Option",{key:e,attrs:{value:e}},[t._v(t._s(e)+"\n          ")])}))],1)]),t._v(" "),i("Col",{attrs:{span:10}},[i("div",{staticClass:"fl-right"},[i("span",[t._v("Theme:")]),t._v(" "),i("Select",{staticClass:"adjust",on:{"on-change":t.onThemeChange},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}},t._l(t.themes,function(e){return i("Option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label)+"\n          ")])}))],1)])],1),t._v(" "),i("MonacoEditor",{ref:"myEditor",attrs:{height:"480",width:"100%",srcPath:"/static/release_monaco/min",value:t.code,theme:t.theme,language:t.codingLanguage,editorOptions:t.editorOptions},on:{"update:value":function(e){t.code=e},mounted:t.onMounted,codeChange:t.onCodeChange}})],1)},staticRenderFns:[]},g=i("VU/8")(p,m,!1,function(t){i("ObyN"),i("s7eV"),i("gNku")},"data-v-1908f86e",null).exports,v=i("VKKs"),f=i("y2MC"),_=i("FN8c"),b=i("8Q2T"),C={AC:{color:"#19be6b"},WA:{color:"#ed3f14"},TLE:{color:"#ff9300"},MLE:{color:"#f7de00"},RE:{color:"#ff6104"},CE:{color:"#80848f"},PAC:{color:"#2d8cf0"}},y={legend:{left:"center",top:"10",orient:"horizontal",data:["AC","WA"]},series:[{name:"Summary",type:"pie",radius:"80%",center:["50%","55%"],itemStyle:{normal:{color:s}},data:[{value:0,name:"WA"},{value:0,name:"AC"}],label:{normal:{position:"inner",show:!0,formatter:"{b}: {c}\n {d}%",textStyle:{fontWeight:"bold"}}}}]},w={legend:{left:"center",top:"10",orient:"horizontal",itemGap:20,data:["AC","RE","WA","TLE","PAC","MLE"]},series:[{name:"Detail",type:"pie",radius:["45%","70%"],center:["50%","55%"],itemStyle:{normal:{color:s}},data:[{value:0,name:"RE"},{value:0,name:"WA"},{value:0,name:"TLE"},{value:0,name:"AC"},{value:0,name:"MLE"},{value:0,name:"PAC"}],label:{normal:{formatter:"{b}: {c}\n {d}%"}},labelLine:{normal:{}}},{name:"Summary",type:"pie",radius:"30%",center:["50%","55%"],itemStyle:{normal:{color:s}},data:[{value:"0",name:"WA"},{value:0,name:"AC",selected:!0}],label:{normal:{position:"inner",formatter:"{b}: {c}\n {d}%"}}}]},I=["-1","-2","0","1","2","3","4","8"],S={name:"Problem",components:{MonacoEditor:g},mixins:[f.a],data:function(){return{statusVisible:!1,captchaRequired:!1,graphVisible:!1,submissionExists:!1,captchaCode:"",captchaSrc:"",contestID:"",problemID:"",submitting:!1,code:"",language:"C++",submissionId:"",result:{result:9},problem:{title:"",description:"",hint:"",my_status:"",template:{},languages:[],created_by:{username:""},tags:[]},pie:y,largePie:w,largePieInitOpts:{width:"500",height:"480"}}},beforeRouteEnter:function(t,e,i){var s=v.a.get(Object(_.j)(t.params.problemID,t.params.contestID));s?i(function(t){t.language=s.language,t.code=s.code}):i()},mounted:function(){this.$store.commit(d.b.CHANGE_CONTEST_ITEM_VISIBLE,{menu:!1}),this.init()},methods:l()({},Object(u.mapActions)(["changeDomTitle"]),{init:function(){var t=this;this.$Loading.start(),this.contestID=this.$route.params.contestID,this.problemID=this.$route.params.problemID;var e="problem-details"===this.$route.name?"getProblem":"getContestProblem";b.a[e](this.problemID,this.contestID).then(function(e){t.$Loading.finish(),t.$nextTick(function(){window.MathJax&&window.MathJax.Hub.Queue(["Typeset",window.MathJax.Hub,"problem-content"])});var i=e.data.data;if(t.changeDomTitle({title:i.title}),b.a.submissionExists(i.id).then(function(e){t.submissionExists=e.data.data}),i.languages=i.languages.sort(),t.problem=i,t.changePie(i),"C++"===t.language&&""===t.code&&-1===t.problem.languages.indexOf(t.language)){t.language=t.problem.languages[0];var s=t.problem.template;s&&s[t.language]&&(t.code=s[t.language])}},function(){t.$Loading.error()})},changePie:function(t){for(var e in t.statistic_info)-1===I.indexOf(e)&&delete t.statistic_info[e];var i=t.accepted_number,s=[{name:"WA",value:t.submission_number-i},{name:"AC",value:i}];this.pie.series[0].data=s;var n=JSON.parse(r()(s));n[1].selected=!0,this.largePie.series[1].data=n;var o=a()(t.statistic_info).map(function(t){return _.e[t].short});0===o.length&&o.push("AC","WA"),this.largePie.legend.data=o;var c=t.statistic_info[0];delete t.statistic_info[0];var l=[];a()(t.statistic_info).forEach(function(e){l.push({name:_.e[e].short,value:t.statistic_info[e]})}),l.push({name:"AC",value:c}),this.largePie.series[0].data=l},handleRoute:function(t){this.$router.push(t)},onChangeLang:function(t){var e=this;this.problem.template[t]&&(""===this.code.trim()?this.code=this.problem.template[t]:this.$Modal.confirm({content:"The problem has template for "+t+", Do you want to replace your code with template?",onOk:function(){e.code=e.problem.template[t]}})),this.language=t},checkSubmissionStatus:function(){var t=this;this.refreshStatus&&clearTimeout(this.refreshStatus);this.refreshStatus=setTimeout(function e(){var i=t.submissionId;b.a.getSubmission(i).then(function(i){t.result=i.data.data,0!==a()(i.data.data.statistic_info).length?(t.submitting=!1,clearTimeout(t.refreshStatus),t.init()):t.refreshStatus=setTimeout(e,2e3)},function(e){t.submitting=!1,clearTimeout(t.refreshStatus)})},2e3)},submitCode:function(){var t=this;if(""!==this.code.trim()){this.submissionId="",this.result={result:9},this.submitting=!0;var e={problem_id:this.problem.id,language:this.language,code:this.code,contest_id:this.contestID};this.captchaRequired&&(e.captcha=this.captchaCode);var i=function(e,i){t.statusVisible=!0,b.a.submitCode(e).then(function(e){t.submissionId=e.data.data&&e.data.data.submission_id,t.submitting=!1,t.submissionExists=!0,i?t.checkSubmissionStatus():t.$Modal.success({title:"Success",content:"Submit code successfully"})},function(e){t.getCaptchaSrc(),e.data.data.startsWith("Captcha is required")&&(t.captchaRequired=!0),t.submitting=!1,t.statusVisible=!1})};"OI"!==this.contestRuleType||this.OIContestRealTimePermission?i(e,!0):this.submissionExists?this.$Modal.confirm({title:"",content:"<h3>You have submission in this problem, sure to cover it?<h3>",onOk:function(){setTimeout(function(){i(e,!1)},1e3)},onCancel:function(){t.submitting=!1}}):i(e,!1)}else this.$error("Code can not be empty")},onCopy:function(t){this.$success("Code copied")},onCopyError:function(t){this.$error("Failed to copy code")}}),computed:l()({},Object(u.mapGetters)(["problemSubmitDisabled","contestRuleType","OIContestRealTimePermission","contestStatus"]),{contest:function(){return this.$store.state.contest.contest},contestEnded:function(){return this.contestStatus===_.a.ENDED},submissionStatus:function(){return{text:_.e[this.result.result].name,color:_.e[this.result.result].color}},submissionRoute:function(){return this.contestID?{name:"contest-submission-list",query:{problemID:this.problemID}}:{name:"submission-list",query:{problemID:this.problemID}}}}),beforeRouteLeave:function(t,e,i){clearInterval(this.refreshStatus),this.$store.commit(d.b.CHANGE_CONTEST_ITEM_VISIBLE,{menu:!0}),v.a.set(Object(_.j)(this.problem._id,e.params.contestID),{code:this.code,language:this.language}),i()},watch:{$route:function(){this.init()}}},E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-container"},[i("div",{attrs:{id:"problem-main"}},[i("Panel",{attrs:{padding:40,shadow:""}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.problem.title))]),t._v(" "),i("div",{staticClass:"markdown-body",attrs:{id:"problem-content"}},[i("p",{staticClass:"title"},[t._v("Description")]),t._v(" "),i("p",{staticClass:"content",domProps:{innerHTML:t._s(t.problem.description)}}),t._v(" "),i("p",{staticClass:"title"},[t._v("Input")]),t._v(" "),i("p",{staticClass:"content",domProps:{innerHTML:t._s(t.problem.input_description)}}),t._v(" "),i("p",{staticClass:"title"},[t._v("Output")]),t._v(" "),i("p",{staticClass:"content",domProps:{innerHTML:t._s(t.problem.output_description)}}),t._v(" "),t._l(t.problem.samples,function(e,s){return i("div",[i("div",{staticClass:"flex-container sample"},[i("div",{staticClass:"sample-input"},[i("p",{staticClass:"title"},[t._v("Sample Input "+t._s(s+1)+"\n                "),i("a",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.input,expression:"sample.input",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onCopyError,expression:"onCopyError",arg:"error"}],staticClass:"copy"},[i("Icon",{attrs:{type:"clipboard"}})],1)]),t._v(" "),i("pre",[t._v(t._s(e.input))])]),t._v(" "),i("div",{staticClass:"sample-output"},[i("p",{staticClass:"title"},[t._v("Sample Output "+t._s(s+1))]),t._v(" "),i("pre",[t._v(t._s(e.output))])])])])}),t._v(" "),t.problem.hint?i("div",[i("p",{staticClass:"title"},[t._v("Hint")]),t._v(" "),i("Card",{attrs:{"dis-hover":""}},[i("div",{staticClass:"content",domProps:{innerHTML:t._s(t.problem.hint)}})])],1):t._e(),t._v(" "),t.problem.source?i("div",[i("p",{staticClass:"title"},[t._v("Source")]),t._v(" "),i("p",{staticClass:"content"},[t._v(t._s(t.problem.source))])]):t._e()],2)]),t._v(" "),i("Card",{attrs:{padding:20,id:"submit-code","dis-hover":""}},[i("MonacoEditor",{attrs:{languages:t.problem.languages,language:t.language,code:t.code},on:{"update:language":function(e){t.language=e},"update:code":function(e){t.code=e},changeLang:t.onChangeLang}}),t._v(" "),i("Row",{attrs:{type:"flex",justify:"space-between"}},[i("Col",{attrs:{span:10}},[t.statusVisible?i("div",{staticClass:"status"},[!this.contestID||this.contestID&&t.OIContestRealTimePermission?[i("span",[t._v("Status:")]),t._v(" "),i("Tag",{attrs:{type:"dot",color:t.submissionStatus.color},nativeOn:{click:function(e){t.handleRoute("/status/"+t.submissionId)}}},[t._v("\n              "+t._s(t.submissionStatus.text)+"\n            ")])]:this.contestID&&!t.OIContestRealTimePermission?[i("Alert",{attrs:{type:"success","show-icon":""}},[t._v("Submitted successfully")])]:t._e()],2):0===t.problem.my_status?i("div",[i("Alert",{attrs:{type:"success","show-icon":""}},[t._v("You have solved the problem")])],1):this.contestID&&!t.OIContestRealTimePermission&&t.submissionExists?i("div",[i("Alert",{attrs:{type:"success","show-icon":""}},[t._v("You have submitted a solution.")])],1):t._e(),t._v(" "),t.contestEnded?i("div",[i("Alert",{attrs:{type:"warning","show-icon":""}},[t._v("Contest has ended")])],1):t._e()]),t._v(" "),i("Col",{attrs:{span:12}},[t.captchaRequired?[i("div",{staticClass:"captcha-container"},[t.captchaRequired?i("Tooltip",{attrs:{content:"Click to refresh",placement:"top"}},[i("img",{attrs:{src:t.captchaSrc},on:{click:t.getCaptchaSrc}})]):t._e(),t._v(" "),i("Input",{staticClass:"captcha-code",model:{value:t.captchaCode,callback:function(e){t.captchaCode=e},expression:"captchaCode"}})],1)]:t._e(),t._v(" "),i("Button",{staticClass:"fl-right",attrs:{type:"warning",icon:"edit",loading:t.submitting,disabled:t.problemSubmitDisabled},on:{click:t.submitCode}},[t.submitting?i("span",[t._v("Submitting")]):i("span",[t._v("Submit")])])],2)],1)],1)],1),t._v(" "),i("div",{attrs:{id:"right-column"}},[i("VerticalMenu",{on:{"on-click":t.handleRoute}},[this.contestID?[i("VerticalMenu-item",{attrs:{route:{name:"contest-problem-list",params:{contestID:t.contestID}}}},[i("Icon",{attrs:{type:"ios-photos"}}),t._v("\n          Problems\n        ")],1),t._v(" "),i("VerticalMenu-item",{attrs:{route:{name:"contest-announcement-list",params:{contestID:t.contestID}}}},[i("Icon",{attrs:{type:"chatbubble-working"}}),t._v("\n          Announcements\n        ")],1)]:t._e(),t._v(" "),!this.contestID||t.OIContestRealTimePermission?i("VerticalMenu-item",{attrs:{route:t.submissionRoute}},[i("Icon",{attrs:{type:"navicon-round"}}),t._v("\n        Submissions\n      ")],1):t._e(),t._v(" "),this.contestID?[!this.contestID||t.OIContestRealTimePermission?i("VerticalMenu-item",{attrs:{route:{name:"contest-rank",params:{contestID:t.contestID}}}},[i("Icon",{attrs:{type:"stats-bars"}}),t._v("\n          Rankings\n        ")],1):t._e(),t._v(" "),i("VerticalMenu-item",{attrs:{route:{name:"contest-details",params:{contestID:t.contestID}}}},[i("Icon",{attrs:{type:"home"}}),t._v("\n          View Contest\n        ")],1)]:t._e()],2),t._v(" "),i("Card",{attrs:{id:"info"}},[i("div",{staticClass:"header",attrs:{slot:"title"},slot:"title"},[i("Icon",{attrs:{type:"information-circled"}}),t._v(" "),i("span",{staticClass:"card-title"},[t._v("Information")])],1),t._v(" "),i("ul",[i("li",[i("p",[t._v("ID")]),t._v(" "),i("p",[t._v(t._s(t.problem._id))])]),t._v(" "),i("li",[i("p",[t._v("Time Limit")]),t._v(" "),i("p",[t._v(t._s(t.problem.time_limit)+"MS")])]),t._v(" "),i("li",[i("p",[t._v("Memory Limit")]),t._v(" "),i("p",[t._v(t._s(t.problem.memory_limit)+"MB")])]),t._v(" "),i("li",[i("p",[t._v("Created By")]),t._v(" "),i("p",[t._v(t._s(t.problem.created_by.username))])]),t._v(" "),t.problem.difficulty?i("li",[i("p",[t._v("Level")]),t._v(" "),i("p",[t._v(t._s(t.problem.difficulty))])]):t._e(),t._v(" "),t.problem.total_score?i("li",[i("p",[t._v("Score")]),t._v(" "),i("p",[t._v(t._s(t.problem.total_score))])]):t._e(),t._v(" "),i("li",[i("p",[t._v("Tags")]),t._v(" "),i("p",[i("Poptip",{attrs:{trigger:"hover",placement:"left-end"}},[i("a",[t._v("Show")]),t._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},t._l(t.problem.tags,function(e){return i("Tag",{key:e},[t._v(t._s(e))])}))])],1)])])]),t._v(" "),!this.contestID||t.OIContestRealTimePermission?i("Card",{attrs:{id:"pieChart",padding:0}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("Icon",{attrs:{type:"ios-analytics"}}),t._v(" "),i("span",{staticClass:"card-title"},[t._v("Statistic")]),t._v(" "),i("Button",{attrs:{type:"ghost",size:"small",id:"detail"},on:{click:function(e){t.graphVisible=!t.graphVisible}}},[t._v("Details")])],1),t._v(" "),i("div",{staticClass:"echarts"},[i("ECharts",{attrs:{options:t.pie}})],1)]):t._e()],1),t._v(" "),i("Modal",{model:{value:t.graphVisible,callback:function(e){t.graphVisible=e},expression:"graphVisible"}},[i("div",{attrs:{id:"pieChart-detail"}},[i("ECharts",{attrs:{options:t.largePie,initOptions:t.largePieInitOpts}})],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"ghost"},on:{click:function(e){t.graphVisible=!1}}},[t._v("Close")])],1)])],1)},staticRenderFns:[]},L=i("VU/8")(S,E,!1,function(t){i("du+P")},"data-v-47a7a4d8",null);e.default=L.exports},"du+P":function(t,e){},gNku:function(t,e){},oiBh:function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{style:this.style})},staticRenderFns:[]};e.a=s},s7eV:function(t,e){},tGP5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("A588"),n=i.n(s);for(var a in s)"default"!==a&&function(t){i.d(e,t,function(){return s[t]})}(a);var o=i("oiBh"),r=i("VU/8")(n.a,o.a,!1,null,null,null);e.default=r.exports}});