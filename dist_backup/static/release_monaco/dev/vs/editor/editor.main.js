(function(){var r=["require","exports","vs/base/common/lifecycle","vs/editor/common/core/range","vs/base/common/event","vs/base/common/strings","vs/css!vs/editor/editor.main","vs/base/common/winjs.base","vs/nls","vs/nls!vs/editor/editor.main","vs/base/browser/dom","vs/editor/browser/editorExtensions","vs/editor/common/core/position","vs/base/common/errors","vs/platform/instantiation/common/instantiation","vs/base/common/platform","vs/platform/theme/common/themeService","vs/editor/common/modes","vs/base/common/async","vs/platform/contextkey/common/contextkey","vs/editor/common/core/selection","vs/editor/common/editorContextKeys","vs/platform/theme/common/colorRegistry","vs/base/common/arrays","vs/editor/browser/editorBrowser","vs/editor/common/model","vs/base/common/color","vs/base/common/objects","vs/base/browser/fastDomNode","vs/base/common/types","vs/base/common/uri","vs/base/browser/browser","vs/editor/common/model/textModel","vs/editor/common/editorCommon","vs/platform/commands/common/commands","vs/editor/browser/view/viewPart","vs/editor/common/view/editorColorRegistry","vs/base/common/keyCodes","vs/editor/browser/services/codeEditorService","vs/editor/common/controller/cursorCommon","vs/editor/common/modes/languageConfigurationRegistry","vs/base/common/paths","vs/base/browser/mouseEvent","vs/base/common/scrollable","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/registry/common/platform","vs/platform/notification/common/notification","vs/base/browser/ui/widget","vs/base/browser/builder","vs/platform/keybinding/common/keybinding","vs/editor/common/config/editorOptions","vs/editor/common/core/editOperation","vs/base/browser/ui/aria/aria","vs/editor/common/services/modelService","vs/base/browser/keyboardEvent","vs/base/browser/ui/scrollbar/scrollableElement","vs/platform/configuration/common/configuration","vs/editor/common/view/viewEvents","vs/editor/common/controller/cursorEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/common/services/modeService","vs/editor/common/modes/languageConfiguration","vs/editor/common/services/editorWorkerService","vs/platform/opener/common/opener","vs/editor/common/services/resolverService","vs/editor/browser/config/configuration","vs/base/common/severity","vs/base/common/network","vs/base/common/actions","vs/editor/common/modes/nullMode","vs/platform/editor/common/editor","vs/base/browser/touch","vs/platform/contextview/browser/contextView","vs/base/browser/ui/actionbar/actionbar","vs/base/common/htmlContent","vs/base/common/map","vs/platform/storage/common/storage","vs/base/common/assert","vs/base/browser/globalMouseMoveMonitor","vs/editor/common/commands/replaceCommand","vs/platform/configuration/common/configurationRegistry","vs/editor/common/viewModel/viewEventHandler","vs/platform/telemetry/common/telemetry","vs/editor/common/core/lineTokens","vs/editor/common/viewModel/viewModel","vs/editor/standalone/common/standaloneThemeService","vs/editor/common/view/renderingContext","vs/base/browser/event","vs/editor/common/core/characterClassifier","vs/platform/actions/common/actions","vs/editor/common/core/uint","vs/base/parts/tree/browser/treeDefaults","vs/platform/files/common/files","vs/platform/instantiation/common/serviceCollection","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/markers/common/markers","vs/editor/common/modes/supports","vs/editor/common/modes/supports/richEditBrackets","vs/platform/progress/common/progress","vs/editor/common/model/wordHelper","vs/editor/common/controller/wordCharacterClassifier","vs/editor/common/viewModel/prefixSumComputer","vs/editor/common/core/token","vs/editor/browser/core/editorState","vs/base/browser/ui/list/listWidget","vs/base/browser/ui/sash/sash","vs/base/parts/quickopen/common/quickOpen","vs/editor/contrib/suggest/suggest","vs/base/common/labels","vs/platform/theme/common/styler","vs/base/common/filters","vs/base/common/iterator","vs/platform/workspace/common/workspace","vs/base/browser/ui/inputbox/inputBox","vs/editor/standalone/browser/simpleServices","vs/base/parts/quickopen/browser/quickOpenModel","vs/base/common/decorators","vs/platform/log/common/log","vs/editor/common/viewLayout/lineDecorations","vs/editor/common/config/fontInfo","vs/base/common/cancellation","vs/editor/contrib/markdown/markdownRenderer","vs/editor/common/model/intervalTree","vs/editor/common/controller/cursorTypeOperations","vs/editor/common/modes/modesRegistry","vs/editor/contrib/referenceSearch/referencesModel","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/common/diff/diff","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/core/stringBuilder","vs/editor/contrib/folding/foldingRanges","vs/editor/browser/controller/coreCommands","vs/editor/contrib/snippet/snippetParser","vs/editor/browser/view/viewLayer","vs/base/common/idGenerator","vs/base/browser/htmlContentRenderer","vs/editor/browser/editorDom","vs/editor/browser/codeEditor","vs/editor/browser/widget/diffEditorWidget","vs/editor/browser/widget/embeddedCodeEditorWidget","vs/editor/contrib/find/findModel","vs/editor/contrib/referenceSearch/peekViewWidget","vs/editor/standalone/browser/quickOpen/editorQuickOpen","vs/editor/common/config/editorZoom","vs/editor/common/view/minimapCharRenderer","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/common/worker/simpleWorker","vs/editor/browser/controller/textAreaState","vs/editor/browser/controller/textAreaInput","vs/editor/common/services/resourceConfiguration","vs/editor/common/services/editorWorkerServiceImpl","vs/editor/common/model/chunksTextBuffer/bufferPiece","vs/platform/clipboard/common/clipboardService","vs/editor/browser/viewParts/margin/margin","vs/base/common/hash","vs/editor/contrib/colorPicker/color","vs/editor/contrib/comment/blockCommentCommand","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/contrib/goToDeclaration/clickLinkGesture","vs/platform/environment/common/environment","vs/editor/contrib/hover/hoverOperation","vs/editor/contrib/hover/hoverWidgets","vs/editor/common/model/textModelEvents","vs/platform/keybinding/common/keybindingResolver","vs/editor/common/model/textModelSearch","vs/editor/standalone/common/monarch/monarchCommon","vs/base/common/linkedList","vs/editor/browser/widget/diffNavigator","vs/base/common/resources","vs/base/browser/ui/findinput/findInputCheckboxes","vs/editor/browser/services/bulkEdit","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/iconLabel/iconLabel","vs/base/common/keybindingLabels","vs/editor/common/config/commonEditorConfig","vs/css!vs/base/browser/ui/list/list","vs/base/common/glob","vs/base/browser/iframe","vs/base/parts/tree/browser/treeImpl","vs/editor/common/modes/textToHtmlTokenizer","vs/editor/common/standalone/standaloneBase","vs/base/browser/ui/scrollbar/scrollbarState","vs/editor/contrib/colorPicker/colorDetector","vs/editor/contrib/goToDeclaration/goToDeclaration","vs/editor/contrib/parameterHints/provideSignatureHelp","vs/editor/common/view/overviewZoneManager","vs/editor/contrib/snippet/snippetController2","vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/editor/common/commands/shiftCommand","vs/editor/common/controller/cursorMoveOperations","vs/editor/common/controller/cursorDeleteOperations","vs/editor/browser/viewParts/lines/viewLine","vs/editor/browser/controller/mouseTarget","vs/css!vs/editor/contrib/goToDeclaration/goToDeclarationMouse","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/browser/widget/codeEditorWidget","vs/editor/common/controller/cursorWordOperations","vs/editor/common/controller/cursorMoveCommands","vs/editor/common/viewModel/splitLinesCollection","vs/editor/contrib/zoneWidget/zoneWidget","vs/editor/contrib/find/findController","vs/editor/contrib/message/messageController","vs/base/common/mime","vs/platform/instantiation/common/descriptors","vs/platform/list/browser/listService","vs/editor/common/editorAction","vs/editor/contrib/referenceSearch/referencesWidget","vs/editor/contrib/referenceSearch/referencesController","vs/editor/contrib/goToDeclaration/goToDeclarationCommands","vs/base/common/functional","vs/editor/standalone/browser/standaloneServices","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/base/browser/ui/selectBox/selectBoxNative","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/editor/common/model/textModelTokens","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/editor/common/modes/supports/electricCharacter","vs/base/common/marshalling","vs/css!vs/base/browser/ui/menu/menu","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/base/common/collections","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/common/view/runtimeMinimapCharRenderer","vs/editor/common/view/viewContext","vs/editor/common/view/viewEventDispatcher","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/base/browser/ui/octiconLabel/octiconLabel","vs/base/browser/ui/list/listView","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewLayout/whitespaceComputer","vs/editor/common/viewLayout/linesLayout","vs/base/common/numbers","vs/editor/common/model/linesTextBuffer/linesTextBuffer","vs/editor/common/model/linesTextBuffer/linesTextBufferBuilder","vs/editor/common/model/mirrorTextModel","vs/editor/common/services/editorSimpleWorker","vs/base/browser/ui/list/listPaging","vs/base/parts/tree/browser/treeView","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/base/parts/quickopen/browser/quickopen","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/browser/viewParts/viewZones/viewZones","vs/css!vs/base/parts/tree/browser/tree","vs/editor/common/viewLayout/viewLayout","vs/editor/common/viewModel/viewModelDecorations","vs/editor/contrib/caretOperations/moveCaretCommand","vs/css!vs/editor/browser/controller/textAreaHandler","vs/editor/contrib/colorPicker/colorPickerModel","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/contrib/comment/lineCommentCommand","vs/editor/contrib/dnd/dragAndDropCommand","vs/editor/contrib/find/findState","vs/editor/contrib/find/replaceAllCommand","vs/editor/contrib/find/replacePattern","vs/css!vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/editor/contrib/folding/foldingModel","vs/editor/contrib/folding/hiddenRangeModel","vs/editor/contrib/folding/syntaxRangeProvider","vs/editor/contrib/format/formatCommand","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/contrib/hover/modesGlyphHover","vs/editor/contrib/inPlaceReplace/inPlaceReplaceCommand","vs/editor/contrib/indentation/indentUtils","vs/editor/contrib/linesOperations/copyLinesCommand","vs/editor/contrib/linesOperations/deleteLinesCommand","vs/editor/contrib/linesOperations/sortLinesCommand","vs/editor/contrib/quickFix/codeActionTrigger","vs/editor/contrib/quickFix/quickFixWidget","vs/editor/contrib/smartSelect/tokenTree","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/snippet/snippetVariables","vs/editor/contrib/suggest/completionModel","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/standalone/common/monarch/monarchCompile","vs/editor/standalone/common/monarch/monarchLexer","vs/nls!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/nls!vs/base/browser/ui/aria/aria","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputCheckboxes","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/base/browser/ui/findinput/findInput","vs/base/browser/ui/menu/menu","vs/nls!vs/base/common/keybindingLabels","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/common/severity","vs/css!vs/editor/browser/widget/media/diffEditor","vs/nls!vs/base/parts/quickopen/browser/quickOpenModel","vs/css!vs/editor/browser/widget/media/diffReview","vs/nls!vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/base/parts/tree/browser/treeDefaults","vs/css!vs/editor/browser/widget/media/editor","vs/css!vs/editor/browser/widget/media/tokens","vs/base/parts/quickopen/browser/quickOpenWidget","vs/nls!vs/editor/browser/services/bulkEdit","vs/nls!vs/editor/browser/widget/diffEditorWidget","vs/nls!vs/editor/browser/widget/diffReview","vs/nls!vs/editor/common/config/commonEditorConfig","vs/nls!vs/editor/common/config/editorOptions","vs/css!vs/editor/contrib/bracketMatching/bracketMatching","vs/css!vs/editor/contrib/clipboard/clipboard","vs/css!vs/editor/contrib/codelens/codelensWidget","vs/css!vs/editor/contrib/colorPicker/colorPicker","vs/css!vs/editor/contrib/dnd/dnd","vs/editor/common/controller/cursorColumnSelection","vs/css!vs/editor/contrib/find/findWidget","vs/css!vs/editor/contrib/folding/folding","vs/base/common/history","vs/css!vs/editor/contrib/gotoError/gotoError","vs/css!vs/editor/contrib/hover/hover","vs/editor/common/controller/oneCursor","vs/editor/common/controller/cursorCollection","vs/css!vs/editor/contrib/links/links","vs/editor/common/viewModel/characterHardWrappingLineMapper","vs/editor/common/viewModel/viewModelImpl","vs/editor/contrib/folding/foldingDecorations","vs/editor/contrib/folding/indentRangeProvider","vs/editor/contrib/linesOperations/moveLinesCommand","vs/editor/contrib/quickFix/lightBulbWidget","vs/css!vs/editor/contrib/message/messageController","vs/nls!vs/editor/common/controller/cursor","vs/editor/common/controller/cursor","vs/nls!vs/editor/common/modes/modesRegistry","vs/nls!vs/editor/common/services/modelServiceImpl","vs/nls!vs/editor/common/view/editorColorRegistry","vs/nls!vs/editor/contrib/bracketMatching/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/caretOperations","vs/nls!vs/editor/contrib/caretOperations/transpose","vs/nls!vs/editor/contrib/clipboard/clipboard","vs/nls!vs/editor/contrib/comment/comment","vs/nls!vs/editor/contrib/contextmenu/contextmenu","vs/nls!vs/editor/contrib/find/findController","vs/nls!vs/editor/contrib/find/findWidget","vs/nls!vs/editor/contrib/folding/folding","vs/nls!vs/editor/contrib/format/formatActions","vs/nls!vs/editor/contrib/goToDeclaration/goToDeclarationCommands","vs/nls!vs/editor/contrib/goToDeclaration/goToDeclarationMouse","vs/nls!vs/editor/contrib/gotoError/gotoError","vs/nls!vs/editor/contrib/hover/hover","vs/nls!vs/editor/contrib/hover/modesContentHover","vs/nls!vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/nls!vs/editor/contrib/linesOperations/linesOperations","vs/nls!vs/editor/contrib/links/links","vs/nls!vs/editor/contrib/multicursor/multicursor","vs/nls!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/parameterHints/parameterHintsWidget","vs/nls!vs/editor/contrib/quickFix/quickFixCommands","vs/nls!vs/editor/contrib/referenceSearch/peekViewWidget","vs/nls!vs/editor/contrib/referenceSearch/referenceSearch","vs/nls!vs/editor/contrib/referenceSearch/referencesController","vs/nls!vs/editor/contrib/referenceSearch/referencesModel","vs/css!vs/editor/contrib/parameterHints/parameterHints","vs/nls!vs/editor/contrib/referenceSearch/referencesWidget","vs/nls!vs/editor/contrib/rename/rename","vs/nls!vs/editor/contrib/rename/renameInputField","vs/nls!vs/editor/contrib/smartSelect/smartSelect","vs/nls!vs/editor/contrib/suggest/suggestController","vs/nls!vs/editor/contrib/suggest/suggestWidget","vs/nls!vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode","vs/nls!vs/editor/contrib/wordHighlighter/wordHighlighter","vs/nls!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/nls!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/nls!vs/editor/standalone/browser/quickOpen/gotoLine","vs/nls!vs/editor/standalone/browser/quickOpen/quickCommand","vs/nls!vs/editor/standalone/browser/quickOpen/quickOutline","vs/nls!vs/editor/standalone/browser/standaloneCodeEditor","vs/nls!vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/theme/common/colorRegistry","vs/nls!vs/platform/workspaces/common/workspaces","vs/platform/contextview/browser/contextMenuHandler","vs/platform/contextview/browser/contextMenuService","vs/css!vs/editor/contrib/quickFix/lightBulbWidget","vs/css!vs/editor/contrib/referenceSearch/media/peekViewWidget","vs/css!vs/editor/contrib/referenceSearch/media/referencesWidget","vs/css!vs/editor/contrib/rename/renameInputField","vs/css!vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/contrib/suggest/media/suggest","vs/css!vs/editor/contrib/zoneWidget/zoneWidget","vs/css!vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/common/services/webWorker","vs/editor/contrib/smartSelect/tokenSelectionSupport","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickOpen/gotoLine","vs/editor/contrib/snippet/snippetSession","vs/css!vs/editor/standalone/browser/quickOpen/quickOutline","vs/editor/contrib/links/getLinks","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/config/charWidthReader","vs/platform/actions/common/menu","vs/editor/browser/config/elementSizeObserver","vs/platform/dialogs/common/dialogs","vs/editor/editor.api","vs/base/common/comparers","vs/editor/browser/services/abstractCodeEditorService","vs/base/common/stopwatch","vs/editor/common/commonCodeEditor","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/abstractKeybindingService","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/common/json","vs/platform/keybinding/common/resolvedKeybindingItem","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/platform/markers/common/markerService","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/common/winjs.polyfill.promise","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/core/rgba","vs/base/common/graph","vs/base/parts/quickopen/browser/quickOpenViewer","vs/editor/common/commands/surroundSelectionCommand","vs/editor/standalone/browser/colorizer","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/base/parts/tree/browser/tree","vs/base/parts/tree/browser/treeDnd","vs/editor/common/services/languagesRegistry","vs/editor/common/services/modeServiceImpl","vs/base/parts/tree/browser/treeModel","vs/platform/configuration/common/configurationModels","vs/platform/contextkey/browser/contextKeyService","vs/base/parts/tree/browser/treeViewModel","vs/base/worker/defaultWorkerFactory","vs/editor/common/diff/diffComputer","vs/editor/browser/view/viewOverlays","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/editor/contrib/suggest/suggestMemory","vs/css!vs/base/browser/builder","vs/base/browser/ui/list/rangeMap","vs/base/common/diff/diffChange","vs/editor/browser/view/viewController","vs/editor/contrib/caretOperations/caretOperations","vs/editor/contrib/caretOperations/transpose","vs/editor/contrib/clipboard/clipboard","vs/editor/contrib/codelens/codelens","vs/base/browser/dnd","vs/editor/contrib/comment/comment","vs/editor/contrib/contextmenu/contextmenu","vs/editor/contrib/cursorUndo/cursorUndo","vs/editor/contrib/dnd/dnd","vs/editor/contrib/folding/folding","vs/editor/contrib/format/format","vs/editor/contrib/format/formatActions","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/editor/contrib/hover/getHover","vs/editor/contrib/linesOperations/linesOperations","vs/css!vs/base/browser/ui/aria/aria","vs/editor/contrib/quickFix/quickFix","vs/editor/contrib/quickFix/quickFixModel","vs/editor/contrib/quickFix/quickFixCommands","vs/editor/contrib/quickOpen/quickOpen","vs/editor/contrib/smartSelect/smartSelect","vs/css!vs/base/browser/ui/checkbox/checkbox","vs/editor/common/model/chunksTextBuffer/chunksTextBuffer","vs/editor/contrib/suggest/suggestModel","vs/editor/common/model/chunksTextBuffer/chunksTextBufferBuilder","vs/editor/contrib/wordOperations/wordOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/platform/contextview/browser/contextViewService","vs/platform/telemetry/common/telemetryUtils","vs/platform/opener/browser/openerService","vs/editor/common/model/editStack","vs/editor/common/model/indentationGuesser","vs/editor/standalone/browser/quickOpen/quickOpenEditorWidget","vs/base/browser/ui/checkbox/checkbox","vs/editor/browser/services/codeEditorServiceImpl","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/common/model/linesTextBuffer/textSource","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/view/viewOutgoingEvents","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/selections/selections","vs/css!vs/base/browser/ui/contextview/contextview","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/currentLineMarginHighlight/currentLineMarginHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/view/viewImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/base/browser/ui/list/rowCache","vs/editor/browser/widget/diffReview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/countBadge/countBadge","vs/editor/common/services/modelServiceImpl","vs/editor/contrib/bracketMatching/bracketMatching","vs/editor/contrib/codelens/codelensWidget","vs/editor/contrib/codelens/codelensController","vs/editor/contrib/colorPicker/colorPickerWidget","vs/editor/contrib/find/findDecorations","vs/editor/common/modes/abstractMode","vs/editor/contrib/find/findOptionsWidget","vs/editor/contrib/find/findWidget","vs/css!vs/base/browser/ui/findinput/findInput","vs/editor/contrib/gotoError/gotoError","vs/editor/contrib/hover/modesContentHover","vs/editor/contrib/hover/hover","vs/editor/contrib/inPlaceReplace/inPlaceReplace","vs/editor/contrib/links/links","vs/editor/common/modes/languageSelector","vs/editor/contrib/multicursor/multicursor","vs/editor/contrib/parameterHints/parameterHintsWidget","vs/editor/contrib/parameterHints/parameterHints","vs/editor/common/modes/languageFeatureRegistry","vs/editor/contrib/rename/renameInputField","vs/editor/contrib/rename/rename","vs/editor/contrib/suggest/suggestWidget","vs/editor/contrib/suggest/suggestController","vs/editor/contrib/wordHighlighter/wordHighlighter","vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/editor/common/modes/linkComputer","vs/editor/standalone/browser/quickOpen/gotoLine","vs/editor/standalone/browser/quickOpen/quickCommand","vs/editor/standalone/browser/quickOpen/quickOutline","vs/editor/standalone/common/themes","vs/editor/standalone/browser/standaloneThemeServiceImpl","vs/platform/workbench/common/contextkeys","vs/editor/common/modes/supports/characterPair","vs/platform/workspaces/common/workspaces","vs/editor/common/modes/supports/indentRules","vs/editor/common/modes/supports/inplaceReplaceSupport","vs/editor/common/modes/supports/onEnter","vs/css!vs/base/browser/ui/findinput/findInputCheckboxes","vs/editor/contrib/goToDeclaration/goToDeclarationMouse","vs/editor/contrib/referenceSearch/referenceSearch","vs/editor/editor.all","vs/editor/common/modes/supports/tokenization","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/common/modes/tokenizationRegistry","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/base/common/marked/marked","vs/editor/edcore.main"];var e=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){t[i]=r[e[i]]}return t};"use strict";var t;(function(e){var t=function(){function e(){this._pendingLoads=0}e.prototype.attachListeners=function(e,t,i,n){var r=function(){t.removeEventListener("load",o);t.removeEventListener("error",s)};var o=function(e){r();i()};var s=function(e){r();n(e)};t.addEventListener("load",o);t.addEventListener("error",s)};e.prototype._onLoad=function(e,t){this._pendingLoads--;t()};e.prototype._onLoadError=function(e,t,i){this._pendingLoads--;t(i)};e.prototype._insertLinkNode=function(e){this._pendingLoads++;var t=document.head||document.getElementsByTagName("head")[0];var i=t.getElementsByTagName("link")||document.head.getElementsByTagName("script");if(i.length>0){t.insertBefore(e,i[i.length-1])}else{t.appendChild(e)}};e.prototype.createLinkTag=function(t,e,i,n){var r=this;var o=document.createElement("link");o.setAttribute("rel","stylesheet");o.setAttribute("type","text/css");o.setAttribute("data-name",t);var s=function(){return r._onLoad(t,i)};var a=function(e){return r._onLoadError(t,n,e)};this.attachListeners(t,o,s,a);o.setAttribute("href",e);return o};e.prototype._linkTagExists=function(e,t){var i,n,r,o,s=document.getElementsByTagName("link");for(i=0,n=s.length;i<n;i++){r=s[i].getAttribute("data-name");o=s[i].getAttribute("href");if(r===e||o===t){return true}}return false};e.prototype.load=function(e,t,i,n){if(this._linkTagExists(e,t)){i();return}var r=this.createLinkTag(e,t,i,n);this._insertLinkNode(r)};return e}();var i=function(){function e(){this._cssLoader=new t}e.prototype.load=function(e,t,i){var n=t.toUrl(e+".css");this._cssLoader.load(e,n,function(e){i({})},function(e){if(typeof i.error==="function"){i.error("Could not find "+n+" or it was empty")}})};return e}();e.CSSPlugin=i;define("vs/css",new i)})(t||(t={}));"use strict";var i;(function(e){var t=function(){function e(){this._detected=false;this._isPseudo=false}Object.defineProperty(e.prototype,"isPseudo",{get:function(){this._detect();return this._isPseudo},enumerable:true,configurable:true});e.prototype._detect=function(){if(this._detected){return}this._detected=true;this._isPseudo=typeof document!=="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0};return e}();function o(e,n,t){var i;if(n.length===0){i=e}else{i=e.replace(/\{(\d+)\}/g,function(e,t){var i=t[0];return typeof n[i]!=="undefined"?n[i]:e})}if(t.isPseudo){i="［"+i.replace(/[aouei]/g,"$&$&")+"］"}return i}function c(e,t){var i=e[t];if(i)return i;i=e["*"];if(i)return i;return null}function s(e,t,i){var n=[];for(var r=3;r<arguments.length;r++){n[r-3]=arguments[r]}return o(i,n,e)}function d(n,r){return function(e,t){var i=Array.prototype.slice.call(arguments,2);return o(n[e],i,r)}}var i=function(){function l(e){var r=this;this._env=e;this.localize=function(e,t){var i=[];for(var n=2;n<arguments.length;n++){i[n-2]=arguments[n]}return s.apply(void 0,[r._env,e,t].concat(i))}}l.prototype.setPseudoTranslation=function(e){this._env._isPseudo=e};l.prototype.create=function(e,t){return{localize:d(t[e],this._env)}};l.prototype.load=function(i,n,t,e){var r=this;e=e||{};if(!i||i.length===0){t({localize:this.localize})}else{var o=e["vs/nls"]||{};var s=o.availableLanguages?c(o.availableLanguages,i):null;var a=".nls";if(s!==null&&s!==l.DEFAULT_TAG){a=a+"."+s}var u=function(e){if(Array.isArray(e)){e.localize=d(e,r._env)}else{e.localize=d(e[i],r._env)}t(e)};if(typeof o.loadBundle==="function"){o.loadBundle(i,s,function(e,t){if(e){n([i+".nls"],u)}else{u(t)}})}else{n([i+a],u)}}};l.DEFAULT_TAG="i-default";return l}();e.NLSPlugin=i;define("vs/nls",new i(new t))})(i||(i={}));define(r[178],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=false;var i=null;function r(e){if(!e.parent||e.parent===e){return null}try{var t=e.location;var i=e.parent.location;if(t.protocol!==i.protocol||t.hostname!==i.hostname||t.port!==i.port){n=true;return null}}catch(e){n=true;return null}return e.parent}function o(e,t){var i=e.document.getElementsByTagName("iframe");var n;for(var r=0,o=i.length;r<o;r++){n=i[r];if(n.contentWindow===t){return n}}return null}var s=function(){function e(){}e.getSameOriginWindowChain=function(){if(!i){i=[];var e=window,t;do{t=r(e);if(t){i.push({window:e,iframeElement:o(t,e)})}else{i.push({window:e,iframeElement:null})}e=t}while(e)}return i.slice(0)};e.hasDifferentOriginAncestor=function(){if(!i){this.getSameOriginWindowChain()}return n};e.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t){return{top:0,left:0}}var i=0,n=0;var r=this.getSameOriginWindowChain();for(var o=0;o<r.length;o++){var s=r[o];if(s.window===t){break}if(!s.iframeElement){break}var a=s.iframeElement.getBoundingClientRect();i+=a.top;n+=a.left}return{top:i,left:n}};return e}();t.IframeUtils=s});define(r[453],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function a(e,t){if(e.start>=t.end||t.start>=e.end){return{start:0,end:0}}var i=Math.max(e.start,t.start);var n=Math.min(e.end,t.end);if(n-i<=0){return{start:0,end:0}}return{start:i,end:n}}t.intersect=a;function u(e){return e.end-e.start<=0}t.isEmpty=u;function i(e,t){var i=[];var n={start:e.start,end:Math.min(t.start,e.end)};var r={start:Math.max(t.end,e.start),end:e.end};if(!u(n)){i.push(n)}if(!u(r)){i.push(r)}return i}t.relativeComplement=i;function l(e,t){var i=[];for(var n=0,r=t;n<r.length;n++){var o=r[n];if(e.start>=o.range.end){continue}if(e.end<o.range.start){break}var s=a(e,o.range);if(u(s)){continue}i.push({range:s,size:o.size})}return i}t.groupIntersect=l;function c(e,t){var i=e.start,n=e.end;return{start:i+t,end:n+t}}t.shift=c;function n(e){var t=[];var i=null;for(var n=0,r=e;n<r.length;n++){var o=r[n];var s=o.range.start;var a=o.range.end;var u=o.size;if(i&&u===i.size){i.range.end=a;continue}i={range:{start:s,end:a},size:u};t.push(i)}return t}t.consolidate=n;function d(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return n(e.reduce(function(e,t){return e.concat(t)},[]))}var r=function(){function e(){this.groups=[];this._size=0}e.prototype.splice=function(i,e){var t=[];for(var n=2;n<arguments.length;n++){t[n-2]=arguments[n]}var r=t.length-e;var o=l({start:0,end:i},this.groups);var s=l({start:i+e,end:Number.POSITIVE_INFINITY},this.groups).map(function(e){return{range:c(e.range,r),size:e.size}});var a=t.map(function(e,t){return{range:{start:i+t,end:i+t+1},size:e.size}});this.groups=d(o,a,s);this._size=this.groups.reduce(function(e,t){return e+t.size*(t.range.end-t.range.start)},0)};Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;if(!e){return 0}return this.groups[e-1].range.end},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:true,configurable:true});e.prototype.indexAt=function(e){if(e<0){return-1}var t=0;var i=0;for(var n=0,r=this.groups;n<r.length;n++){var o=r[n];var s=o.range.end-o.range.start;var a=i+s*o.size;if(e<a){return t+Math.floor((e-i)/o.size)}t+=s;i=a}return t};e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)};e.prototype.positionAt=function(e){if(e<0){return-1}var t=0;var i=0;for(var n=0,r=this.groups;n<r.length;n++){var o=r[n];var s=o.range.end-o.range.start;var a=i+s;if(e<a){return t+(e-i)*o.size}t+=s*o.size;i=a}return-1};e.prototype.dispose=function(){this.groups=null};return e}();t.RangeMap=r});define(r[182],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=20;var i=function(){function t(e,t,i){this._scrollbarSize=Math.round(t);this._oppositeScrollbarSize=Math.round(i);this._arrowSize=Math.round(e);this._visibleSize=0;this._scrollSize=0;this._scrollPosition=0;this._computedAvailableSize=0;this._computedIsNeeded=false;this._computedSliderSize=0;this._computedSliderRatio=0;this._computedSliderPosition=0;this._refreshComputedValues()}t.prototype.clone=function(){var e=new t(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize);e.setVisibleSize(this._visibleSize);e.setScrollSize(this._scrollSize);e.setScrollPosition(this._scrollPosition);return e};t.prototype.setVisibleSize=function(e){var t=Math.round(e);if(this._visibleSize!==t){this._visibleSize=t;this._refreshComputedValues();return true}return false};t.prototype.setScrollSize=function(e){var t=Math.round(e);if(this._scrollSize!==t){this._scrollSize=t;this._refreshComputedValues();return true}return false};t.prototype.setScrollPosition=function(e){var t=Math.round(e);if(this._scrollPosition!==t){this._scrollPosition=t;this._refreshComputedValues();return true}return false};t._computeValues=function(e,t,i,n,r){var o=Math.max(0,i-e);var s=Math.max(0,o-2*t);var a=n>0&&n>i;if(!a){return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0}}var u=Math.round(Math.max(d,Math.floor(i*s/n)));var l=(s-u)/(n-i);var c=r*l;return{computedAvailableSize:Math.round(o),computedIsNeeded:a,computedSliderSize:Math.round(u),computedSliderRatio:l,computedSliderPosition:Math.round(c)}};t.prototype._refreshComputedValues=function(){var e=t._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize;this._computedIsNeeded=e.computedIsNeeded;this._computedSliderSize=e.computedSliderSize;this._computedSliderRatio=e.computedSliderRatio;this._computedSliderPosition=e.computedSliderPosition};t.prototype.getArrowSize=function(){return this._arrowSize};t.prototype.getScrollPosition=function(){return this._scrollPosition};t.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize};t.prototype.getRectangleSmallSize=function(){return this._scrollbarSize};t.prototype.isNeeded=function(){return this._computedIsNeeded};t.prototype.getSliderSize=function(){return this._computedSliderSize};t.prototype.getSliderPosition=function(){return this._computedSliderPosition};t.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded){return 0}var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)};t.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded){return 0}var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)};return t}();t.ScrollbarState=i});define(r[77],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t){if(!e||e===null){throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}}t.ok=i});define(r[223],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=Object.prototype.hasOwnProperty;function i(e){var t=[];for(var i in e){if(o.call(e,i)){t.push(e[i])}}return t}t.values=i;function n(e){var t=0;for(var i in e){if(o.call(e,i)){t+=1}}return t}t.size=n;function r(i,n){var e=function(e){if(o.call(i,e)){var t=n({key:e,value:i[e]},function(){delete i[e]});if(t===false){return{value:void 0}}}};for(var t in i){var r=e(t);if(typeof r==="object")return r.value}}t.forEach=r;function s(e,t){if(!o.call(e,t)){return false}delete e[t];return true}t.remove=s;function a(e,t){var i=Object.create(null);for(var n=0,r=e;n<r.length;n++){var o=r[n];var s=t(o);var a=i[s];if(!a){a=i[s]=[]}a.push(o)}return i}t.groupBy=a});define(r[26],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}var h=function(){function e(e,t,i,n){if(n===void 0){n=1}this.r=Math.min(255,Math.max(0,e))|0;this.g=Math.min(255,Math.max(0,t))|0;this.b=Math.min(255,Math.max(0,i))|0;this.a=r(Math.max(Math.min(1,n),0),3)}e.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a};return e}();t.RGBA=h;var i=function(){function d(e,t,i,n){this.h=Math.max(Math.min(360,e),0)|0;this.s=r(Math.max(Math.min(1,t),0),3);this.l=r(Math.max(Math.min(1,i),0),3);this.a=r(Math.max(Math.min(1,n),0),3)}d.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a};d.fromRGBA=function(e){var t=e.r/255;var i=e.g/255;var n=e.b/255;var r=e.a;var o=Math.max(t,i,n);var s=Math.min(t,i,n);var a=0;var u=0;var l=(s+o)/2;var c=o-s;if(c>0){u=Math.min(l<=.5?c/(2*l):c/(2-2*l),1);switch(o){case t:a=(i-n)/c+(i<n?6:0);break;case i:a=(n-t)/c+2;break;case n:a=(t-i)/c+4;break}a*=60;a=Math.round(a)}return new d(a,u,l,r)};d._hue2rgb=function(e,t,i){if(i<0){i+=1}if(i>1){i-=1}if(i<1/6){return e+(t-e)*6*i}if(i<1/2){return t}if(i<2/3){return e+(t-e)*(2/3-i)*6}return e};d.toRGBA=function(e){var t=e.h/360;var i=e.s,n=e.l,r=e.a;var o,s,a;if(i===0){o=s=a=n}else{var u=n<.5?n*(1+i):n+i-n*i;var l=2*n-u;o=d._hue2rgb(l,u,t+1/3);s=d._hue2rgb(l,u,t);a=d._hue2rgb(l,u,t-1/3)}return new h(Math.round(o*255),Math.round(s*255),Math.round(a*255),r)};return d}();t.HSLA=i;var n=function(){function l(e,t,i,n){this.h=Math.max(Math.min(360,e),0)|0;this.s=r(Math.max(Math.min(1,t),0),3);this.v=r(Math.max(Math.min(1,i),0),3);this.a=r(Math.max(Math.min(1,n),0),3)}l.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a};l.fromRGBA=function(e){var t=e.r/255;var i=e.g/255;var n=e.b/255;var r=Math.max(t,i,n);var o=Math.min(t,i,n);var s=r-o;var a=r===0?0:s/r;var u;if(s===0){u=0}else if(r===t){u=((i-n)/s%6+6)%6}else if(r===i){u=(n-t)/s+2}else{u=(t-i)/s+4}return new l(Math.round(u*60),a,r,e.a)};l.toRGBA=function(e){var t=e.h,i=e.s,n=e.v,r=e.a;var o=n*i;var s=o*(1-Math.abs(t/60%2-1));var a=n-o;var u=[0,0,0],l=u[0],c=u[1],d=u[2];if(t<60){l=o;c=s}else if(t<120){l=s;c=o}else if(t<180){c=o;d=s}else if(t<240){c=s;d=o}else if(t<300){l=s;d=o}else if(t<360){l=o;d=s}l=Math.round((l+a)*255);c=Math.round((c+a)*255);d=Math.round((d+a)*255);return new h(l,c,d,r)};return l}();t.HSVA=n;var o=function(){function u(e){if(!e){throw new Error("Color needs a value")}else if(e instanceof h){this.rgba=e}else if(e instanceof i){this._hsla=e;this.rgba=i.toRGBA(e)}else if(e instanceof n){this._hsva=e;this.rgba=n.toRGBA(e)}else{throw new Error("Invalid color ctor argument")}}u.fromHex=function(e){return u.Format.CSS.parseHex(e)||u.red};Object.defineProperty(u.prototype,"hsla",{get:function(){if(this._hsla){return this._hsla}else{return i.fromRGBA(this.rgba)}},enumerable:true,configurable:true});Object.defineProperty(u.prototype,"hsva",{get:function(){if(this._hsva){return this._hsva}return n.fromRGBA(this.rgba)},enumerable:true,configurable:true});u.prototype.equals=function(e){return!!e&&h.equals(this.rgba,e.rgba)&&i.equals(this.hsla,e.hsla)&&n.equals(this.hsva,e.hsva)};u.prototype.getRelativeLuminance=function(){var e=u._relativeLuminanceForComponent(this.rgba.r);var t=u._relativeLuminanceForComponent(this.rgba.g);var i=u._relativeLuminanceForComponent(this.rgba.b);var n=.2126*e+.7152*t+.0722*i;return r(n,4)};u._relativeLuminanceForComponent=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};u.prototype.getContrastRatio=function(e){var t=this.getRelativeLuminance();var i=e.getRelativeLuminance();return t>i?(t+.05)/(i+.05):(i+.05)/(t+.05)};u.prototype.isDarker=function(){var e=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return e<128};u.prototype.isLighter=function(){var e=(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3;return e>=128};u.prototype.isLighterThan=function(e){var t=this.getRelativeLuminance();var i=e.getRelativeLuminance();return t>i};u.prototype.isDarkerThan=function(e){var t=this.getRelativeLuminance();var i=e.getRelativeLuminance();return t<i};u.prototype.lighten=function(e){return new u(new i(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))};u.prototype.darken=function(e){return new u(new i(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))};u.prototype.transparent=function(e){var t=this.rgba,i=t.r,n=t.g,r=t.b,o=t.a;return new u(new h(i,n,r,o*e))};u.prototype.isTransparent=function(){return this.rgba.a===0};u.prototype.isOpaque=function(){return this.rgba.a===1};u.prototype.opposite=function(){return new u(new h(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))};u.prototype.blend=function(e){var t=e.rgba;var i=this.rgba.a;var n=t.a;var r=i+n*(1-i);if(r<1e-6){return u.transparent}var o=this.rgba.r*i/r+t.r*n*(1-i)/r;var s=this.rgba.g*i/r+t.g*n*(1-i)/r;var a=this.rgba.b*i/r+t.b*n*(1-i)/r;return new u(new h(o,s,a,r))};u.prototype.flatten=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=e.reduceRight(function(e,t){return u._flatten(t,e)});return u._flatten(this,i)};u._flatten=function(e,t){var i=1-e.rgba.a;return new u(new h(i*t.rgba.r+e.rgba.a*e.rgba.r,i*t.rgba.g+e.rgba.a*e.rgba.g,i*t.rgba.b+e.rgba.a*e.rgba.b))};u.prototype.toString=function(){return u.Format.CSS.format(this)};u.getLighterColor=function(e,t,i){if(e.isLighterThan(t)){return e}i=i?i:.5;var n=e.getRelativeLuminance();var r=t.getRelativeLuminance();i=i*(r-n)/r;return e.lighten(i)};u.getDarkerColor=function(e,t,i){if(e.isDarkerThan(t)){return e}i=i?i:.5;var n=e.getRelativeLuminance();var r=t.getRelativeLuminance();i=i*(n-r)/n;return e.darken(i)};u.white=new u(new h(255,255,255,1));u.black=new u(new h(0,0,0,1));u.red=new u(new h(255,0,0,1));u.blue=new u(new h(0,0,255,1));u.green=new u(new h(0,255,0,1));u.cyan=new u(new h(0,255,255,1));u.lightgrey=new u(new h(211,211,211,1));u.transparent=new u(new h(0,0,0,0));return u}();t.Color=o;(function(d){var e;(function(e){var t;(function(e){function t(e){if(e.rgba.a===1){return"rgb("+e.rgba.r+", "+e.rgba.g+", "+e.rgba.b+")"}return d.Format.CSS.formatRGBA(e)}e.formatRGB=t;function i(e){return"rgba("+e.rgba.r+", "+e.rgba.g+", "+e.rgba.b+", "+ +e.rgba.a.toFixed(2)+")"}e.formatRGBA=i;function n(e){if(e.hsla.a===1){return"hsl("+e.hsla.h+", "+(e.hsla.s*100).toFixed(2)+"%, "+(e.hsla.l*100).toFixed(2)+"%)"}return d.Format.CSS.formatHSLA(e)}e.formatHSL=n;function r(e){return"hsla("+e.hsla.h+", "+(e.hsla.s*100).toFixed(2)+"%, "+(e.hsla.l*100).toFixed(2)+"%, "+e.hsla.a.toFixed(2)+")"}e.formatHSLA=r;function o(e){var t=e.toString(16);return t.length!==2?"0"+t:t}function s(e){return"#"+o(e.rgba.r)+o(e.rgba.g)+o(e.rgba.b)}e.formatHex=s;function a(e,t){if(t===void 0){t=false}if(t&&e.rgba.a===1){return d.Format.CSS.formatHex(e)}return"#"+o(e.rgba.r)+o(e.rgba.g)+o(e.rgba.b)+o(Math.round(e.rgba.a*255))}e.formatHexA=a;function u(e){if(!e){return null}if(e.isOpaque()){return d.Format.CSS.formatHex(e)}return d.Format.CSS.formatRGBA(e)}e.format=u;function l(e){if(!e){return null}var t=e.length;if(t===0){return null}if(e.charCodeAt(0)!==35){return null}if(t===7){var i=16*c(e.charCodeAt(1))+c(e.charCodeAt(2));var n=16*c(e.charCodeAt(3))+c(e.charCodeAt(4));var r=16*c(e.charCodeAt(5))+c(e.charCodeAt(6));return new d(new h(i,n,r,1))}if(t===9){var i=16*c(e.charCodeAt(1))+c(e.charCodeAt(2));var n=16*c(e.charCodeAt(3))+c(e.charCodeAt(4));var r=16*c(e.charCodeAt(5))+c(e.charCodeAt(6));var o=16*c(e.charCodeAt(7))+c(e.charCodeAt(8));return new d(new h(i,n,r,o/255))}if(t===4){var i=c(e.charCodeAt(1));var n=c(e.charCodeAt(2));var r=c(e.charCodeAt(3));return new d(new h(16*i+i,16*n+n,16*r+r))}if(t===5){var i=c(e.charCodeAt(1));var n=c(e.charCodeAt(2));var r=c(e.charCodeAt(3));var o=c(e.charCodeAt(4));return new d(new h(16*i+i,16*n+n,16*r+r,(16*o+o)/255))}return null}e.parseHex=l;function c(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(t=e.CSS||(e.CSS={}))})(e=d.Format||(d.Format={}))})(o=t.Color||(t.Color={}));t.Color=o});define(r[116],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(o){return function(e,t,i){var n=null;var r=null;if(typeof i.value==="function"){n="value";r=i.value}else if(typeof i.get==="function"){n="get";r=i.get}if(!r){throw new Error("not supported")}i[n]=o(r,t)}}t.createDecorator=i;function n(e,t,i){var n=null;var r=null;if(typeof i.value==="function"){n="value";r=i.value}else if(typeof i.get==="function"){n="get";r=i.get}if(!r){throw new Error("not supported")}var o="$memoize$"+t;i[n]=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(!this.hasOwnProperty(o)){Object.defineProperty(this,o,{configurable:false,enumerable:false,writable:false,value:r.apply(this,e)})}return this[o]}}t.memoize=n;function r(o){return i(function(n,e){var r="$debounce$"+e;return function(){var e=this;var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}clearTimeout(this[r]);this[r]=setTimeout(function(){return n.apply(e,t)},o)}})}t.debounce=r});define(r[454],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n){this.originalStart=e;this.originalLength=t;this.modifiedStart=i;this.modifiedLength=n}e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength};e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength};return e}();t.DiffChange=i});define(r[127],e([0,1,454]),function(e,t,T){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(t){return{getLength:function(){return t.length},getElementHash:function(e){return t[e]}}}function i(e,t,i){return new r(n(e),n(t)).ComputeDiff(i)}t.stringDiff=i;var f=function(){function e(){}e.Assert=function(e,t){if(!e){throw new Error(t)}};return e}();t.Debug=f;var M=function(){function e(){}e.Copy=function(e,t,i,n,r){for(var o=0;o<r;o++){i[n+o]=e[t+o]}};return e}();t.MyArray=M;var k=1447;var O=function(){function e(){this.m_changes=[];this.m_originalStart=Number.MAX_VALUE;this.m_modifiedStart=Number.MAX_VALUE;this.m_originalCount=0;this.m_modifiedCount=0}e.prototype.MarkNextChange=function(){if(this.m_originalCount>0||this.m_modifiedCount>0){this.m_changes.push(new T.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount))}this.m_originalCount=0;this.m_modifiedCount=0;this.m_originalStart=Number.MAX_VALUE;this.m_modifiedStart=Number.MAX_VALUE};e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e);this.m_modifiedStart=Math.min(this.m_modifiedStart,t);this.m_originalCount++};e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e);this.m_modifiedStart=Math.min(this.m_modifiedStart,t);this.m_modifiedCount++};e.prototype.getChanges=function(){if(this.m_originalCount>0||this.m_modifiedCount>0){this.MarkNextChange()}return this.m_changes};e.prototype.getReverseChanges=function(){if(this.m_originalCount>0||this.m_modifiedCount>0){this.MarkNextChange()}this.m_changes.reverse();return this.m_changes};return e}();var a=Object.prototype.hasOwnProperty;var r=function(){function e(e,t,i){if(i===void 0){i=null}this.OriginalSequence=e;this.ModifiedSequence=t;this.ContinueProcessingPredicate=i;this.m_originalIds=[];this.m_modifiedIds=[];this.m_forwardHistory=[];this.m_reverseHistory=[];this.ComputeUniqueIdentifiers()}e.prototype.ComputeUniqueIdentifiers=function(){var e=this.OriginalSequence.getLength();var t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e);this.m_modifiedIds=new Array(t);var i={};var n=1;var r;for(r=0;r<e;r++){var o=this.OriginalSequence.getElementHash(r);if(!a.call(i,o)){this.m_originalIds[r]=n++;i[o]=this.m_originalIds[r]}else{this.m_originalIds[r]=i[o]}}for(r=0;r<t;r++){var s=this.ModifiedSequence.getElementHash(r);if(!a.call(i,s)){this.m_modifiedIds[r]=n++;i[s]=this.m_modifiedIds[r]}else{this.m_modifiedIds[r]=i[s]}}};e.prototype.ElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]};e.prototype.OriginalElementsAreEqual=function(e,t){return this.m_originalIds[e]===this.m_originalIds[t]};e.prototype.ModifiedElementsAreEqual=function(e,t){return this.m_modifiedIds[e]===this.m_modifiedIds[t]};e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)};e.prototype._ComputeDiff=function(e,t,i,n,r){var o=[false];var s=this.ComputeDiffRecursive(e,t,i,n,o);if(r){return this.ShiftChanges(s)}return s};e.prototype.ComputeDiffRecursive=function(e,t,i,n,r){r[0]=false;while(e<=t&&i<=n&&this.ElementsAreEqual(e,i)){e++;i++}while(t>=e&&n>=i&&this.ElementsAreEqual(t,n)){t--;n--}if(e>t||i>n){var o=void 0;if(i<=n){f.Assert(e===t+1,"originalStart should only be one more than originalEnd");o=[new T.DiffChange(e,0,i,n-i+1)]}else if(e<=t){f.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd");o=[new T.DiffChange(e,t-e+1,i,0)]}else{f.Assert(e===t+1,"originalStart should only be one more than originalEnd");f.Assert(i===n+1,"modifiedStart should only be one more than modifiedEnd");o=[]}return o}var s=[0],a=[0];var u=this.ComputeRecursionPoint(e,t,i,n,s,a,r);var l=s[0];var c=a[0];if(u!==null){return u}else if(!r[0]){var d=this.ComputeDiffRecursive(e,l,i,c,r);var h=[];if(!r[0]){h=this.ComputeDiffRecursive(l+1,t,c+1,n,r)}else{h=[new T.DiffChange(l+1,t-(l+1)+1,c+1,n-(c+1)+1)]}return this.ConcatenateChanges(d,h)}return[new T.DiffChange(e,t-e+1,i,n-i+1)]};e.prototype.WALKTRACE=function(e,t,i,n,r,o,s,a,u,l,c,d,h,f,p,g,v,m){var _=null,y=null;var C=new O;var b=t;var S=i;var w=h[0]-g[0]-n;var E=Number.MIN_VALUE;var L=this.m_forwardHistory.length-1;var x;do{x=w+e;if(x===b||x<S&&u[x-1]<u[x+1]){c=u[x+1];f=c-w-n;if(c<E){C.MarkNextChange()}E=c;C.AddModifiedElement(c+1,f);w=x+1-e}else{c=u[x-1]+1;f=c-w-n;if(c<E){C.MarkNextChange()}E=c-1;C.AddOriginalElement(c,f+1);w=x-1-e}if(L>=0){u=this.m_forwardHistory[L];e=u[0];b=1;S=u.length-1}}while(--L>=-1);_=C.getReverseChanges();if(m[0]){var N=h[0]+1;var I=g[0]+1;if(_!==null&&_.length>0){var D=_[_.length-1];N=Math.max(N,D.getOriginalEnd());I=Math.max(I,D.getModifiedEnd())}y=[new T.DiffChange(N,d-N+1,I,p-I+1)]}else{C=new O;b=o;S=s;w=h[0]-g[0]-a;E=Number.MAX_VALUE;L=v?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{x=w+r;if(x===b||x<S&&l[x-1]>=l[x+1]){c=l[x+1]-1;f=c-w-a;if(c>E){C.MarkNextChange()}E=c+1;C.AddOriginalElement(c+1,f+1);w=x+1-r}else{c=l[x-1];f=c-w-a;if(c>E){C.MarkNextChange()}E=c;C.AddModifiedElement(c+1,f+1);w=x-1-r}if(L>=0){l=this.m_reverseHistory[L];r=l[0];b=1;S=l.length-1}}while(--L>=-1);y=C.getChanges()}return this.ConcatenateChanges(_,y)};e.prototype.ComputeRecursionPoint=function(e,t,i,n,r,o,s){var a,u;var l=0,c=0;var d=0,h=0;var f;e--;i--;r[0]=0;o[0]=0;this.m_forwardHistory=[];this.m_reverseHistory=[];var p=t-e+(n-i);var g=p+1;var v=new Array(g);var m=new Array(g);var _=n-i;var y=t-e;var C=e-i;var b=t-n;var S=y-_;var w=S%2===0;v[_]=e;m[y]=t;s[0]=false;var E,L;for(f=1;f<=p/2+1;f++){var x=0;var N=0;l=this.ClipDiagonalBound(_-f,f,_,g);c=this.ClipDiagonalBound(_+f,f,_,g);for(E=l;E<=c;E+=2){if(E===l||E<c&&v[E-1]<v[E+1]){a=v[E+1]}else{a=v[E-1]+1}u=a-(E-_)-C;L=a;while(a<t&&u<n&&this.ElementsAreEqual(a+1,u+1)){a++;u++}v[E]=a;if(a+u>x+N){x=a;N=u}if(!w&&Math.abs(E-y)<=f-1){if(a>=m[E]){r[0]=a;o[0]=u;if(L<=m[E]&&k>0&&f<=k+1){return this.WALKTRACE(_,l,c,C,y,d,h,b,v,m,a,t,r,u,n,o,w,s)}else{return null}}}}var I=(x-e+(N-i)-f)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(x,this.OriginalSequence,I)){s[0]=true;r[0]=x;o[0]=N;if(I>0&&k>0&&f<=k+1){return this.WALKTRACE(_,l,c,C,y,d,h,b,v,m,a,t,r,u,n,o,w,s)}else{e++;i++;return[new T.DiffChange(e,t-e+1,i,n-i+1)]}}d=this.ClipDiagonalBound(y-f,f,y,g);h=this.ClipDiagonalBound(y+f,f,y,g);for(E=d;E<=h;E+=2){if(E===d||E<h&&m[E-1]>=m[E+1]){a=m[E+1]-1}else{a=m[E-1]}u=a-(E-y)-b;L=a;while(a>e&&u>i&&this.ElementsAreEqual(a,u)){a--;u--}m[E]=a;if(w&&Math.abs(E-_)<=f){if(a<=v[E]){r[0]=a;o[0]=u;if(L>=v[E]&&k>0&&f<=k+1){return this.WALKTRACE(_,l,c,C,y,d,h,b,v,m,a,t,r,u,n,o,w,s)}else{return null}}}}if(f<=k){var D=new Array(c-l+2);D[0]=_-l+1;M.Copy(v,l,D,1,c-l+1);this.m_forwardHistory.push(D);D=new Array(h-d+2);D[0]=y-d+1;M.Copy(m,d,D,1,h-d+1);this.m_reverseHistory.push(D)}}return this.WALKTRACE(_,l,c,C,y,d,h,b,v,m,a,t,r,u,n,o,w,s)};e.prototype.ShiftChanges=function(e){var t;do{t=false;for(var i=0;i<e.length;i++){var n=e[i];var r=i<e.length-1?e[i+1].originalStart:this.OriginalSequence.getLength();var o=i<e.length-1?e[i+1].modifiedStart:this.ModifiedSequence.getLength();var s=n.originalLength>0;var a=n.modifiedLength>0;while(n.originalStart+n.originalLength<r&&n.modifiedStart+n.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!a||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength))){n.originalStart++;n.modifiedStart++}}var u=new Array;var l=[null];for(var i=0;i<e.length;i++){if(i<e.length-1&&this.ChangesOverlap(e[i],e[i+1],l)){t=true;u.push(l[0]);i++}else{u.push(e[i])}}e=u}while(t);for(var i=e.length-1;i>=0;i--){var n=e[i];var r=0;var o=0;if(i>0){var c=e[i-1];if(c.originalLength>0){r=c.originalStart+c.originalLength}if(c.modifiedLength>0){o=c.modifiedStart+c.modifiedLength}}var s=n.originalLength>0;var a=n.modifiedLength>0;var d=0;var h=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength);for(var f=1;;f++){var p=n.originalStart-f;var g=n.modifiedStart-f;if(p<r||g<o){break}if(s&&!this.OriginalElementsAreEqual(p,p+n.originalLength)){break}if(a&&!this.ModifiedElementsAreEqual(g,g+n.modifiedLength)){break}var v=this._boundaryScore(p,n.originalLength,g,n.modifiedLength);if(v>h){h=v;d=f}}n.originalStart-=d;n.modifiedStart-=d}return e};e.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1){return true}return/^\s*$/.test(this.OriginalSequence.getElementHash(e))};e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1)){return true}if(t>0){var i=e+t;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i)){return true}}return false};e.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1){return true}return/^\s*$/.test(this.ModifiedSequence.getElementHash(e))};e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1)){return true}if(t>0){var i=e+t;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i)){return true}}return false};e.prototype._boundaryScore=function(e,t,i,n){var r=this._OriginalRegionIsBoundary(e,t)?1:0;var o=this._ModifiedRegionIsBoundary(i,n)?1:0;return r+o};e.prototype.ConcatenateChanges=function(e,t){var i=[];var n=null;if(e.length===0||t.length===0){return t.length>0?t:e}else if(this.ChangesOverlap(e[e.length-1],t[0],i)){n=new Array(e.length+t.length-1);M.Copy(e,0,n,0,e.length-1);n[e.length-1]=i[0];M.Copy(t,1,n,e.length,t.length-1);return n}else{n=new Array(e.length+t.length);M.Copy(e,0,n,0,e.length);M.Copy(t,0,n,e.length,t.length);return n}};e.prototype.ChangesOverlap=function(e,t,i){f.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change");f.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change");if(e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var n=e.originalStart;var r=e.originalLength;var o=e.modifiedStart;var s=e.modifiedLength;if(e.originalStart+e.originalLength>=t.originalStart){r=t.originalStart+t.originalLength-e.originalStart}if(e.modifiedStart+e.modifiedLength>=t.modifiedStart){s=t.modifiedStart+t.modifiedLength-e.modifiedStart}i[0]=new T.DiffChange(n,r,o,s);return true}else{i[0]=null;return false}};e.prototype.ClipDiagonalBound=function(e,t,i,n){if(e>=0&&e<n){return e}var r=i;var o=n-i-1;var s=t%2===0;if(e<0){var a=r%2===0;return s===a?0:1}else{var u=o%2===0;return s===u?n-1:n-2}};return e}();t.LcsDiff=r});define(r[210],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e){var t=this;var i=false;var n;return function(){if(i){return n}i=true;n=e.apply(t,arguments);return n}}t.once=i});define(r[155],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){if(t===void 0){t=0}switch(typeof e){case"object":if(e===null){return r(349,t)}else if(Array.isArray(e)){return s(e,t)}return a(e,t);case"string":return o(e,t);case"boolean":return i(e,t);case"number":return r(e,t);case"undefined":return r(e,937);default:return r(e,617)}}t.hash=n;function r(e,t){return(t<<5)-t+e|0}function i(e,t){return r(e?433:863,t)}function o(e,t){t=r(149417,t);for(var i=0,n=e.length;i<n;i++){t=r(e.charCodeAt(i),t)}return t}function s(e,t){t=r(104579,t);return e.reduce(function(e,t){return n(t,e)},t)}function a(i,e){e=r(181387,e);return Object.keys(i).sort().reduce(function(e,t){e=o(t,e);return n(i[t],e)},e)}});define(r[135],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e){this._prefix=e;this._lastId=0}e.prototype.nextId=function(){return this._prefix+ ++this._lastId};return e}();t.IdGenerator=i;t.defaultGenerator=new i("id#")});var pe=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();define(r[111],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){if(t===void 0){t=0}if(i===void 0){i=e.length}this.items=e;this.start=t;this.end=i;this.index=t-1}e.prototype.first=function(){this.index=this.start;return this.current()};e.prototype.next=function(){this.index=Math.min(this.index+1,this.end);return this.current()};e.prototype.current=function(){if(this.index===this.start-1||this.index===this.end){return null}return this.items[this.index]};return e}();t.ArrayIterator=i;var n=function(n){pe(e,n);function e(e,t,i){if(t===void 0){t=0}if(i===void 0){i=e.length}return n.call(this,e,t,i)||this}e.prototype.current=function(){return n.prototype.current.call(this)};e.prototype.previous=function(){this.index=Math.max(this.index-1,this.start-1);return this.current()};e.prototype.first=function(){this.index=this.start;return this.current()};e.prototype.last=function(){this.index=this.end-1;return this.current()};e.prototype.parent=function(){return null};return e}(i);t.ArrayNavigator=n;var r=function(){function e(e,t){this.iterator=e;this.fn=t}e.prototype.next=function(){return this.fn(this.iterator.next())};return e}();t.MappedIterator=r;var o=function(n){pe(e,n);function e(e,t){var i=n.call(this,e,t)||this;i.navigator=e;return i}e.prototype.current=function(){return this.fn(this.navigator.current())};e.prototype.previous=function(){return this.fn(this.navigator.previous())};e.prototype.parent=function(){return this.fn(this.navigator.parent())};e.prototype.first=function(){return this.fn(this.navigator.first())};e.prototype.last=function(){return this.fn(this.navigator.last())};e.prototype.next=function(){return this.fn(this.navigator.next())};return e}(r);t.MappedNavigator=o});define(r[328],e([0,1,111]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){if(e===void 0){e=[]}if(t===void 0){t=10}this._initialize(e);this._limit=t;this._onChange()}e.prototype.getHistory=function(){return this._elements};e.prototype.add=function(e){this._history.delete(e);this._history.add(e);this._onChange()};e.prototype.addIfNotPresent=function(e){if(!this._history.has(e)){this.add(e)}};e.prototype.next=function(){if(this._navigator.next()){return this._navigator.current()}this.last();return null};e.prototype.previous=function(){if(this._navigator.previous()){return this._navigator.current()}this.first();return null};e.prototype.current=function(){return this._navigator.current()};e.prototype.parent=function(){return null};e.prototype.first=function(){return this._navigator.first()};e.prototype.last=function(){return this._navigator.last()};e.prototype._onChange=function(){this._reduceToLimit();this._navigator=new i.ArrayNavigator(this._elements);this._navigator.last()};e.prototype._reduceToLimit=function(){var e=this._elements;if(e.length>this._limit){this._initialize(e.slice(e.length-this._limit))}};e.prototype._initialize=function(e){this._history=new Set;for(var t=0,i=e;t<i.length;t++){var n=i[t];this._history.add(n)}};Object.defineProperty(e.prototype,"_elements",{get:function(){var t=[];this._history.forEach(function(e){return t.push(e)});return t},enumerable:true,configurable:true});return e}();t.HistoryNavigator=n});define(r[425],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var g;(function(e){e[e["None"]=0]="None";e[e["UnexpectedEndOfComment"]=1]="UnexpectedEndOfComment";e[e["UnexpectedEndOfString"]=2]="UnexpectedEndOfString";e[e["UnexpectedEndOfNumber"]=3]="UnexpectedEndOfNumber";e[e["InvalidUnicode"]=4]="InvalidUnicode";e[e["InvalidEscapeCharacter"]=5]="InvalidEscapeCharacter";e[e["InvalidCharacter"]=6]="InvalidCharacter"})(g=t.ScanError||(t.ScanError={}));var E;(function(e){e[e["Unknown"]=0]="Unknown";e[e["OpenBraceToken"]=1]="OpenBraceToken";e[e["CloseBraceToken"]=2]="CloseBraceToken";e[e["OpenBracketToken"]=3]="OpenBracketToken";e[e["CloseBracketToken"]=4]="CloseBracketToken";e[e["CommaToken"]=5]="CommaToken";e[e["ColonToken"]=6]="ColonToken";e[e["NullKeyword"]=7]="NullKeyword";e[e["TrueKeyword"]=8]="TrueKeyword";e[e["FalseKeyword"]=9]="FalseKeyword";e[e["StringLiteral"]=10]="StringLiteral";e[e["NumericLiteral"]=11]="NumericLiteral";e[e["LineCommentTrivia"]=12]="LineCommentTrivia";e[e["BlockCommentTrivia"]=13]="BlockCommentTrivia";e[e["LineBreakTrivia"]=14]="LineBreakTrivia";e[e["Trivia"]=15]="Trivia";e[e["EOF"]=16]="EOF"})(E=t.SyntaxKind||(t.SyntaxKind={}));function L(o,e){if(e===void 0){e=false}var s=0,a=o.length,u="",l=0,c=E.Unknown,d=g.None;function r(e,t){var i=0;var n=0;while(i<e||!t){var r=o.charCodeAt(s);if(r>=48&&r<=57){n=n*16+r-48}else if(r>=65&&r<=70){n=n*16+r-65+10}else if(r>=97&&r<=102){n=n*16+r-97+10}else{break}s++;i++}if(i<e){n=-1}return n}function t(e){s=e;u="";l=0;c=E.Unknown;d=g.None}function h(){var e=s;if(o.charCodeAt(s)===48){s++}else{s++;while(s<o.length&&_(o.charCodeAt(s))){s++}}if(s<o.length&&o.charCodeAt(s)===46){s++;if(s<o.length&&_(o.charCodeAt(s))){s++;while(s<o.length&&_(o.charCodeAt(s))){s++}}else{d=g.UnexpectedEndOfNumber;return o.substring(e,s)}}var t=s;if(s<o.length&&(o.charCodeAt(s)===69||o.charCodeAt(s)===101)){s++;if(s<o.length&&o.charCodeAt(s)===43||o.charCodeAt(s)===45){s++}if(s<o.length&&_(o.charCodeAt(s))){s++;while(s<o.length&&_(o.charCodeAt(s))){s++}t=s}else{d=g.UnexpectedEndOfNumber}}return o.substring(e,t)}function f(){var e="",t=s;while(true){if(s>=a){e+=o.substring(t,s);d=g.UnexpectedEndOfString;break}var i=o.charCodeAt(s);if(i===34){e+=o.substring(t,s);s++;break}if(i===92){e+=o.substring(t,s);s++;if(s>=a){d=g.UnexpectedEndOfString;break}i=o.charCodeAt(s++);switch(i){case 34:e+='"';break;case 92:e+="\\";break;case 47:e+="/";break;case 98:e+="\b";break;case 102:e+="\f";break;case 110:e+="\n";break;case 114:e+="\r";break;case 116:e+="\t";break;case 117:var n=r(4,true);if(n>=0){e+=String.fromCharCode(n)}else{d=g.InvalidUnicode}break;default:d=g.InvalidEscapeCharacter}t=s;continue}if(i>=0&&i<=31){if(m(i)){e+=o.substring(t,s);d=g.UnexpectedEndOfString;break}else{d=g.InvalidCharacter}}s++}return e}function i(){u="";d=g.None;l=s;if(s>=a){l=a;return c=E.EOF}var e=o.charCodeAt(s);if(v(e)){do{s++;u+=String.fromCharCode(e);e=o.charCodeAt(s)}while(v(e));return c=E.Trivia}if(m(e)){s++;u+=String.fromCharCode(e);if(e===13&&o.charCodeAt(s)===10){s++;u+="\n"}return c=E.LineBreakTrivia}switch(e){case 123:s++;return c=E.OpenBraceToken;case 125:s++;return c=E.CloseBraceToken;case 91:s++;return c=E.OpenBracketToken;case 93:s++;return c=E.CloseBracketToken;case 58:s++;return c=E.ColonToken;case 44:s++;return c=E.CommaToken;case 34:s++;u=f();return c=E.StringLiteral;case 47:var t=s-1;if(o.charCodeAt(s+1)===47){s+=2;while(s<a){if(m(o.charCodeAt(s))){break}s++}u=o.substring(t,s);return c=E.LineCommentTrivia}if(o.charCodeAt(s+1)===42){s+=2;var i=a-1;var n=false;while(s<i){var r=o.charCodeAt(s);if(r===42&&o.charCodeAt(s+1)===47){s+=2;n=true;break}s++}if(!n){s++;d=g.UnexpectedEndOfComment}u=o.substring(t,s);return c=E.BlockCommentTrivia}u+=String.fromCharCode(e);s++;return c=E.Unknown;case 45:u+=String.fromCharCode(e);s++;if(s===a||!_(o.charCodeAt(s))){return c=E.Unknown}case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:u+=h();return c=E.NumericLiteral;default:while(s<a&&p(e)){s++;e=o.charCodeAt(s)}if(l!==s){u=o.substring(l,s);switch(u){case"true":return c=E.TrueKeyword;case"false":return c=E.FalseKeyword;case"null":return c=E.NullKeyword}return c=E.Unknown}u+=String.fromCharCode(e);s++;return c=E.Unknown}}function p(e){if(v(e)||m(e)){return false}switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:return false}return true}function n(){var e;do{e=i()}while(e>=E.LineCommentTrivia&&e<=E.Trivia);return e}return{setPosition:t,getPosition:function(){return s},scan:e?n:i,getToken:function(){return c},getTokenValue:function(){return u},getTokenOffset:function(){return l},getTokenLength:function(){return s-l},getTokenError:function(){return d}}}t.createScanner=L;function v(e){return e===32||e===9||e===11||e===12||e===160||e===5760||e>=8192&&e<=8203||e===8239||e===8287||e===12288||e===65279}function m(e){return e===10||e===13||e===8232||e===8233}function _(e){return e>=48&&e<=57}var i;(function(e){e[e["nullCharacter"]=0]="nullCharacter";e[e["maxAsciiCharacter"]=127]="maxAsciiCharacter";e[e["lineFeed"]=10]="lineFeed";e[e["carriageReturn"]=13]="carriageReturn";e[e["lineSeparator"]=8232]="lineSeparator";e[e["paragraphSeparator"]=8233]="paragraphSeparator";e[e["nextLine"]=133]="nextLine";e[e["space"]=32]="space";e[e["nonBreakingSpace"]=160]="nonBreakingSpace";e[e["enQuad"]=8192]="enQuad";e[e["emQuad"]=8193]="emQuad";e[e["enSpace"]=8194]="enSpace";e[e["emSpace"]=8195]="emSpace";e[e["threePerEmSpace"]=8196]="threePerEmSpace";e[e["fourPerEmSpace"]=8197]="fourPerEmSpace";e[e["sixPerEmSpace"]=8198]="sixPerEmSpace";e[e["figureSpace"]=8199]="figureSpace";e[e["punctuationSpace"]=8200]="punctuationSpace";e[e["thinSpace"]=8201]="thinSpace";e[e["hairSpace"]=8202]="hairSpace";e[e["zeroWidthSpace"]=8203]="zeroWidthSpace";e[e["narrowNoBreakSpace"]=8239]="narrowNoBreakSpace";e[e["ideographicSpace"]=12288]="ideographicSpace";e[e["mathematicalSpace"]=8287]="mathematicalSpace";e[e["ogham"]=5760]="ogham";e[e["_"]=95]="_";e[e["$"]=36]="$";e[e["_0"]=48]="_0";e[e["_1"]=49]="_1";e[e["_2"]=50]="_2";e[e["_3"]=51]="_3";e[e["_4"]=52]="_4";e[e["_5"]=53]="_5";e[e["_6"]=54]="_6";e[e["_7"]=55]="_7";e[e["_8"]=56]="_8";e[e["_9"]=57]="_9";e[e["a"]=97]="a";e[e["b"]=98]="b";e[e["c"]=99]="c";e[e["d"]=100]="d";e[e["e"]=101]="e";e[e["f"]=102]="f";e[e["g"]=103]="g";e[e["h"]=104]="h";e[e["i"]=105]="i";e[e["j"]=106]="j";e[e["k"]=107]="k";e[e["l"]=108]="l";e[e["m"]=109]="m";e[e["n"]=110]="n";e[e["o"]=111]="o";e[e["p"]=112]="p";e[e["q"]=113]="q";e[e["r"]=114]="r";e[e["s"]=115]="s";e[e["t"]=116]="t";e[e["u"]=117]="u";e[e["v"]=118]="v";e[e["w"]=119]="w";e[e["x"]=120]="x";e[e["y"]=121]="y";e[e["z"]=122]="z";e[e["A"]=65]="A";e[e["B"]=66]="B";e[e["C"]=67]="C";e[e["D"]=68]="D";e[e["E"]=69]="E";e[e["F"]=70]="F";e[e["G"]=71]="G";e[e["H"]=72]="H";e[e["I"]=73]="I";e[e["J"]=74]="J";e[e["K"]=75]="K";e[e["L"]=76]="L";e[e["M"]=77]="M";e[e["N"]=78]="N";e[e["O"]=79]="O";e[e["P"]=80]="P";e[e["Q"]=81]="Q";e[e["R"]=82]="R";e[e["S"]=83]="S";e[e["T"]=84]="T";e[e["U"]=85]="U";e[e["V"]=86]="V";e[e["W"]=87]="W";e[e["X"]=88]="X";e[e["Y"]=89]="Y";e[e["Z"]=90]="Z";e[e["ampersand"]=38]="ampersand";e[e["asterisk"]=42]="asterisk";e[e["at"]=64]="at";e[e["backslash"]=92]="backslash";e[e["bar"]=124]="bar";e[e["caret"]=94]="caret";e[e["closeBrace"]=125]="closeBrace";e[e["closeBracket"]=93]="closeBracket";e[e["closeParen"]=41]="closeParen";e[e["colon"]=58]="colon";e[e["comma"]=44]="comma";e[e["dot"]=46]="dot";e[e["doubleQuote"]=34]="doubleQuote";e[e["equals"]=61]="equals";e[e["exclamation"]=33]="exclamation";e[e["greaterThan"]=62]="greaterThan";e[e["lessThan"]=60]="lessThan";e[e["minus"]=45]="minus";e[e["openBrace"]=123]="openBrace";e[e["openBracket"]=91]="openBracket";e[e["openParen"]=40]="openParen";e[e["percent"]=37]="percent";e[e["plus"]=43]="plus";e[e["question"]=63]="question";e[e["semicolon"]=59]="semicolon";e[e["singleQuote"]=39]="singleQuote";e[e["slash"]=47]="slash";e[e["tilde"]=126]="tilde";e[e["backspace"]=8]="backspace";e[e["formFeed"]=12]="formFeed";e[e["byteOrderMark"]=65279]="byteOrderMark";e[e["tab"]=9]="tab";e[e["verticalTab"]=11]="verticalTab"})(i||(i={}));var x;(function(e){e[e["InvalidSymbol"]=0]="InvalidSymbol";e[e["InvalidNumberFormat"]=1]="InvalidNumberFormat";e[e["PropertyNameExpected"]=2]="PropertyNameExpected";e[e["ValueExpected"]=3]="ValueExpected";e[e["ColonExpected"]=4]="ColonExpected";e[e["CommaExpected"]=5]="CommaExpected";e[e["CloseBraceExpected"]=6]="CloseBraceExpected";e[e["CloseBracketExpected"]=7]="CloseBracketExpected";e[e["EndOfFileExpected"]=8]="EndOfFileExpected"})(x=t.ParseErrorCode||(t.ParseErrorCode={}));function u(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return"null"}}function n(e,t,i){if(t===void 0){t=[]}var n=null;var r=[];var o=[];function s(e){if(Array.isArray(r)){r.push(e)}else if(n){r[n]=e}}var a={onObjectBegin:function(){var e={};s(e);o.push(r);r=e;n=null},onObjectProperty:function(e){n=e},onObjectEnd:function(){r=o.pop()},onArrayBegin:function(){var e=[];s(e);o.push(r);r=e;n=null},onArrayEnd:function(){r=o.pop()},onLiteralValue:s,onError:function(e){t.push({error:e})}};l(e,a,i);return r[0]}t.parse=n;function r(e,t,i){if(t===void 0){t=[]}var n={type:"array",offset:-1,length:-1,children:[]};function r(e){if(n.type==="property"){n.length=e-n.offset;n=n.parent}}function o(e){n.children.push(e);return e}var s={onObjectBegin:function(e){n=o({type:"object",offset:e,length:-1,parent:n,children:[]})},onObjectProperty:function(e,t,i){n=o({type:"property",offset:t,length:-1,parent:n,children:[]});n.children.push({type:"string",value:e,offset:t,length:i,parent:n})},onObjectEnd:function(e,t){n.length=e+t-n.offset;n=n.parent;r(e+t)},onArrayBegin:function(e,t){n=o({type:"array",offset:e,length:-1,parent:n,children:[]})},onArrayEnd:function(e,t){n.length=e+t-n.offset;n=n.parent;r(e+t)},onLiteralValue:function(e,t,i){o({type:u(e),offset:t,length:i,parent:n,value:e});r(t+i)},onSeparator:function(e,t,i){if(n.type==="property"){if(e===":"){n.columnOffset=t}else if(e===","){r(t)}}},onError:function(e){t.push({error:e})}};l(e,s,i);var a=n.children[0];if(a){delete a.parent}return a}t.parseTree=r;function o(e,t){if(!e){return void 0}var i=e;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(typeof o==="string"){if(i.type!=="object"){return void 0}var s=false;for(var a=0,u=i.children;a<u.length;a++){var l=u[a];if(l.children[0].value===o){i=l.children[1];s=true;break}}if(!s){return void 0}}else{var c=o;if(i.type!=="array"||c<0||c>=i.children.length){return void 0}i=i.children[c]}}return i}t.findNodeAtLocation=o;function s(e){if(e.type==="array"){return e.children.map(s)}else if(e.type==="object"){var t={};for(var i=0,n=e.children;i<n.length;i++){var r=n[i];t[r.children[0].value]=s(r.children[1])}return t}return e.value}t.getNodeValue=s;function l(e,t,i){var r=L(e,false);function n(e){return e?function(){return e(r.getTokenOffset(),r.getTokenLength())}:function(){return true}}function o(t){return t?function(e){return t(e,r.getTokenOffset(),r.getTokenLength())}:function(){return true}}var s=n(t.onObjectBegin),a=o(t.onObjectProperty),u=n(t.onObjectEnd),l=n(t.onArrayBegin),c=n(t.onArrayEnd),d=o(t.onLiteralValue),h=o(t.onSeparator),f=o(t.onError);var p=i&&i.disallowComments;var g=i&&i.allowTrailingComma;function v(){while(true){var e=r.scan();switch(e){case E.LineCommentTrivia:case E.BlockCommentTrivia:if(p){m(x.InvalidSymbol)}break;case E.Unknown:m(x.InvalidSymbol);break;case E.Trivia:case E.LineBreakTrivia:break;default:return e}}}function m(e,t,i){if(t===void 0){t=[]}if(i===void 0){i=[]}f(e);if(t.length+i.length>0){var n=r.getToken();while(n!==E.EOF){if(t.indexOf(n)!==-1){v();break}else if(i.indexOf(n)!==-1){break}n=v()}}}function _(e){var t=r.getTokenValue();if(e){d(t)}else{a(t)}v();return true}function y(){switch(r.getToken()){case E.NumericLiteral:var e=0;try{e=JSON.parse(r.getTokenValue());if(typeof e!=="number"){m(x.InvalidNumberFormat);e=0}}catch(e){m(x.InvalidNumberFormat)}d(e);break;case E.NullKeyword:d(null);break;case E.TrueKeyword:d(true);break;case E.FalseKeyword:d(false);break;default:return false}v();return true}function C(){if(r.getToken()!==E.StringLiteral){m(x.PropertyNameExpected,[],[E.CloseBraceToken,E.CommaToken]);return false}_(false);if(r.getToken()===E.ColonToken){h(":");v();if(!w()){m(x.ValueExpected,[],[E.CloseBraceToken,E.CommaToken])}}else{m(x.ColonExpected,[],[E.CloseBraceToken,E.CommaToken])}return true}function b(){s();v();var e=false;while(r.getToken()!==E.CloseBraceToken&&r.getToken()!==E.EOF){if(r.getToken()===E.CommaToken){if(!e){m(x.ValueExpected,[],[])}h(",");v();if(r.getToken()===E.CloseBraceToken&&g){break}}else if(e){m(x.CommaExpected,[],[])}if(!C()){m(x.ValueExpected,[],[E.CloseBraceToken,E.CommaToken])}e=true}u();if(r.getToken()!==E.CloseBraceToken){m(x.CloseBraceExpected,[E.CloseBraceToken],[])}else{v()}return true}function S(){l();v();var e=false;while(r.getToken()!==E.CloseBracketToken&&r.getToken()!==E.EOF){if(r.getToken()===E.CommaToken){if(!e){m(x.ValueExpected,[],[])}h(",");v();if(r.getToken()===E.CloseBracketToken&&g){break}}else if(e){m(x.CommaExpected,[],[])}if(!w()){m(x.ValueExpected,[],[E.CloseBracketToken,E.CommaToken])}e=true}c();if(r.getToken()!==E.CloseBracketToken){m(x.CloseBracketExpected,[E.CloseBracketToken],[])}else{v()}return true}function w(){switch(r.getToken()){case E.OpenBracketToken:return S();case E.OpenBraceToken:return b();case E.StringLiteral:return _(true);default:return y()}}v();if(r.getToken()===E.EOF){return true}if(!w()){m(x.ValueExpected,[],[]);return false}if(r.getToken()!==E.EOF){m(x.EndOfFileExpected,[],[])}return true}t.visit=l});define(r[37],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Unknown"]=0]="Unknown";e[e["Backspace"]=1]="Backspace";e[e["Tab"]=2]="Tab";e[e["Enter"]=3]="Enter";e[e["Shift"]=4]="Shift";e[e["Ctrl"]=5]="Ctrl";e[e["Alt"]=6]="Alt";e[e["PauseBreak"]=7]="PauseBreak";e[e["CapsLock"]=8]="CapsLock";e[e["Escape"]=9]="Escape";e[e["Space"]=10]="Space";e[e["PageUp"]=11]="PageUp";e[e["PageDown"]=12]="PageDown";e[e["End"]=13]="End";e[e["Home"]=14]="Home";e[e["LeftArrow"]=15]="LeftArrow";e[e["UpArrow"]=16]="UpArrow";e[e["RightArrow"]=17]="RightArrow";e[e["DownArrow"]=18]="DownArrow";e[e["Insert"]=19]="Insert";e[e["Delete"]=20]="Delete";e[e["KEY_0"]=21]="KEY_0";e[e["KEY_1"]=22]="KEY_1";e[e["KEY_2"]=23]="KEY_2";e[e["KEY_3"]=24]="KEY_3";e[e["KEY_4"]=25]="KEY_4";e[e["KEY_5"]=26]="KEY_5";e[e["KEY_6"]=27]="KEY_6";e[e["KEY_7"]=28]="KEY_7";e[e["KEY_8"]=29]="KEY_8";e[e["KEY_9"]=30]="KEY_9";e[e["KEY_A"]=31]="KEY_A";e[e["KEY_B"]=32]="KEY_B";e[e["KEY_C"]=33]="KEY_C";e[e["KEY_D"]=34]="KEY_D";e[e["KEY_E"]=35]="KEY_E";e[e["KEY_F"]=36]="KEY_F";e[e["KEY_G"]=37]="KEY_G";e[e["KEY_H"]=38]="KEY_H";e[e["KEY_I"]=39]="KEY_I";e[e["KEY_J"]=40]="KEY_J";e[e["KEY_K"]=41]="KEY_K";e[e["KEY_L"]=42]="KEY_L";e[e["KEY_M"]=43]="KEY_M";e[e["KEY_N"]=44]="KEY_N";e[e["KEY_O"]=45]="KEY_O";e[e["KEY_P"]=46]="KEY_P";e[e["KEY_Q"]=47]="KEY_Q";e[e["KEY_R"]=48]="KEY_R";e[e["KEY_S"]=49]="KEY_S";e[e["KEY_T"]=50]="KEY_T";e[e["KEY_U"]=51]="KEY_U";e[e["KEY_V"]=52]="KEY_V";e[e["KEY_W"]=53]="KEY_W";e[e["KEY_X"]=54]="KEY_X";e[e["KEY_Y"]=55]="KEY_Y";e[e["KEY_Z"]=56]="KEY_Z";e[e["Meta"]=57]="Meta";e[e["ContextMenu"]=58]="ContextMenu";e[e["F1"]=59]="F1";e[e["F2"]=60]="F2";e[e["F3"]=61]="F3";e[e["F4"]=62]="F4";e[e["F5"]=63]="F5";e[e["F6"]=64]="F6";e[e["F7"]=65]="F7";e[e["F8"]=66]="F8";e[e["F9"]=67]="F9";e[e["F10"]=68]="F10";e[e["F11"]=69]="F11";e[e["F12"]=70]="F12";e[e["F13"]=71]="F13";e[e["F14"]=72]="F14";e[e["F15"]=73]="F15";e[e["F16"]=74]="F16";e[e["F17"]=75]="F17";e[e["F18"]=76]="F18";e[e["F19"]=77]="F19";e[e["NumLock"]=78]="NumLock";e[e["ScrollLock"]=79]="ScrollLock";e[e["US_SEMICOLON"]=80]="US_SEMICOLON";e[e["US_EQUAL"]=81]="US_EQUAL";e[e["US_COMMA"]=82]="US_COMMA";e[e["US_MINUS"]=83]="US_MINUS";e[e["US_DOT"]=84]="US_DOT";e[e["US_SLASH"]=85]="US_SLASH";e[e["US_BACKTICK"]=86]="US_BACKTICK";e[e["US_OPEN_SQUARE_BRACKET"]=87]="US_OPEN_SQUARE_BRACKET";e[e["US_BACKSLASH"]=88]="US_BACKSLASH";e[e["US_CLOSE_SQUARE_BRACKET"]=89]="US_CLOSE_SQUARE_BRACKET";e[e["US_QUOTE"]=90]="US_QUOTE";e[e["OEM_8"]=91]="OEM_8";e[e["OEM_102"]=92]="OEM_102";e[e["NUMPAD_0"]=93]="NUMPAD_0";e[e["NUMPAD_1"]=94]="NUMPAD_1";e[e["NUMPAD_2"]=95]="NUMPAD_2";e[e["NUMPAD_3"]=96]="NUMPAD_3";e[e["NUMPAD_4"]=97]="NUMPAD_4";e[e["NUMPAD_5"]=98]="NUMPAD_5";e[e["NUMPAD_6"]=99]="NUMPAD_6";e[e["NUMPAD_7"]=100]="NUMPAD_7";e[e["NUMPAD_8"]=101]="NUMPAD_8";e[e["NUMPAD_9"]=102]="NUMPAD_9";e[e["NUMPAD_MULTIPLY"]=103]="NUMPAD_MULTIPLY";e[e["NUMPAD_ADD"]=104]="NUMPAD_ADD";e[e["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR";e[e["NUMPAD_SUBTRACT"]=106]="NUMPAD_SUBTRACT";e[e["NUMPAD_DECIMAL"]=107]="NUMPAD_DECIMAL";e[e["NUMPAD_DIVIDE"]=108]="NUMPAD_DIVIDE";e[e["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION";e[e["ABNT_C1"]=110]="ABNT_C1";e[e["ABNT_C2"]=111]="ABNT_C2";e[e["MAX_VALUE"]=112]="MAX_VALUE"})(i=t.KeyCode||(t.KeyCode={}));var n=function(){function e(){this._keyCodeToStr=[];this._strToKeyCode=Object.create(null)}e.prototype.define=function(e,t){this._keyCodeToStr[e]=t;this._strToKeyCode[t.toLowerCase()]=e};e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]};e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0};return e}();var s=new n;var a=new n;var u=new n;(function(){function e(e,t,i,n){if(i===void 0){i=t}if(n===void 0){n=i}s.define(e,t);a.define(e,i);u.define(e,n)}e(0,"unknown");e(1,"Backspace");e(2,"Tab");e(3,"Enter");e(4,"Shift");e(5,"Ctrl");e(6,"Alt");e(7,"PauseBreak");e(8,"CapsLock");e(9,"Escape");e(10,"Space");e(11,"PageUp");e(12,"PageDown");e(13,"End");e(14,"Home");e(15,"LeftArrow","Left");e(16,"UpArrow","Up");e(17,"RightArrow","Right");e(18,"DownArrow","Down");e(19,"Insert");e(20,"Delete");e(21,"0");e(22,"1");e(23,"2");e(24,"3");e(25,"4");e(26,"5");e(27,"6");e(28,"7");e(29,"8");e(30,"9");e(31,"A");e(32,"B");e(33,"C");e(34,"D");e(35,"E");e(36,"F");e(37,"G");e(38,"H");e(39,"I");e(40,"J");e(41,"K");e(42,"L");e(43,"M");e(44,"N");e(45,"O");e(46,"P");e(47,"Q");e(48,"R");e(49,"S");e(50,"T");e(51,"U");e(52,"V");e(53,"W");e(54,"X");e(55,"Y");e(56,"Z");e(57,"Meta");e(58,"ContextMenu");e(59,"F1");e(60,"F2");e(61,"F3");e(62,"F4");e(63,"F5");e(64,"F6");e(65,"F7");e(66,"F8");e(67,"F9");e(68,"F10");e(69,"F11");e(70,"F12");e(71,"F13");e(72,"F14");e(73,"F15");e(74,"F16");e(75,"F17");e(76,"F18");e(77,"F19");e(78,"NumLock");e(79,"ScrollLock");e(80,";",";","OEM_1");e(81,"=","=","OEM_PLUS");e(82,",",",","OEM_COMMA");e(83,"-","-","OEM_MINUS");e(84,".",".","OEM_PERIOD");e(85,"/","/","OEM_2");e(86,"`","`","OEM_3");e(110,"ABNT_C1");e(111,"ABNT_C2");e(87,"[","[","OEM_4");e(88,"\\","\\","OEM_5");e(89,"]","]","OEM_6");e(90,"'","'","OEM_7");e(91,"OEM_8");e(92,"OEM_102");e(93,"NumPad0");e(94,"NumPad1");e(95,"NumPad2");e(96,"NumPad3");e(97,"NumPad4");e(98,"NumPad5");e(99,"NumPad6");e(100,"NumPad7");e(101,"NumPad8");e(102,"NumPad9");e(103,"NumPad_Multiply");e(104,"NumPad_Add");e(105,"NumPad_Separator");e(106,"NumPad_Subtract");e(107,"NumPad_Decimal");e(108,"NumPad_Divide")})();var r;(function(e){function t(e){return s.keyCodeToStr(e)}e.toString=t;function i(e){return s.strToKeyCode(e)}e.fromString=i;function n(e){return a.keyCodeToStr(e)}e.toUserSettingsUS=n;function r(e){return u.keyCodeToStr(e)}e.toUserSettingsGeneral=r;function o(e){return a.strToKeyCode(e)||u.strToKeyCode(e)}e.fromUserSettings=o})(r=t.KeyCodeUtils||(t.KeyCodeUtils={}));var o;(function(e){e[e["CtrlCmd"]=2048]="CtrlCmd";e[e["Shift"]=1024]="Shift";e[e["Alt"]=512]="Alt";e[e["WinCtrl"]=256]="WinCtrl";e[e["KeyCode"]=255]="KeyCode"})(o||(o={}));var l;(function(e){e[e["CtrlCmd"]=2048]="CtrlCmd";e[e["Shift"]=1024]="Shift";e[e["Alt"]=512]="Alt";e[e["WinCtrl"]=256]="WinCtrl"})(l=t.KeyMod||(t.KeyMod={}));function c(e,t){var i=(t&65535)<<16>>>0;return(e|i)>>>0}t.KeyChord=c;function d(e,t){if(e===0){return null}var i=(e&65535)>>>0;var n=(e&4294901760)>>>16;if(n!==0){return new g(h(i,t),h(n,t))}return h(i,t)}t.createKeybinding=d;function h(e,t){var i=e&2048?true:false;var n=e&256?true:false;var r=t===2?n:i;var o=e&1024?true:false;var s=e&512?true:false;var a=t===2?i:n;var u=e&255;return new p(r,o,s,a,u)}t.createSimpleKeybinding=h;var f;(function(e){e[e["Simple"]=1]="Simple";e[e["Chord"]=2]="Chord"})(f=t.KeybindingType||(t.KeybindingType={}));var p=function(){function e(e,t,i,n,r){this.type=1;this.ctrlKey=e;this.shiftKey=t;this.altKey=i;this.metaKey=n;this.keyCode=r}e.prototype.equals=function(e){if(e.type!==1){return false}return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode};e.prototype.getHashCode=function(){var e=this.ctrlKey?"1":"0";var t=this.shiftKey?"1":"0";var i=this.altKey?"1":"0";var n=this.metaKey?"1":"0";return""+e+t+i+n+this.keyCode};e.prototype.isModifierKey=function(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4};e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57};return e}();t.SimpleKeybinding=p;var g=function(){function e(e,t){this.type=2;this.firstPart=e;this.chordPart=t}e.prototype.getHashCode=function(){return this.firstPart.getHashCode()+";"+this.chordPart.getHashCode()};return e}();t.ChordKeybinding=g;var v=function(){function e(e,t,i,n,r,o){this.ctrlKey=e;this.shiftKey=t;this.altKey=i;this.metaKey=n;this.keyLabel=r;this.keyAriaLabel=o}return e}();t.ResolvedKeybindingPart=v;var m=function(){function e(){}return e}();t.ResolvedKeybinding=m});define(r[2],e([0,1,210]),function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.empty=Object.freeze({dispose:function(){}});function i(e){return typeof e.dispose==="function"&&e.dispose.length===0}t.isDisposable=i;function n(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(Array.isArray(e)){e.forEach(function(e){return e&&e.dispose()});return[]}else if(t.length===0){if(e){e.dispose();return e}return undefined}else{n(e);n(t);return[]}}t.dispose=n;function r(e){return{dispose:function(){return n(e)}}}t.combinedDisposable=r;function s(){var n=[];for(var e=0;e<arguments.length;e++){n[e]=arguments[e]}return{dispose:function(){for(var e=0,t=n;e<t.length;e++){var i=t[e];i()}}}}t.toDisposable=s;var a=function(){function e(){this._toDispose=[]}e.prototype.dispose=function(){this._toDispose=n(this._toDispose)};e.prototype._register=function(e){this._toDispose.push(e);return e};return e}();t.Disposable=a;var u=function(){function e(){this.references=Object.create(null)}e.prototype.acquire=function(e){var t=this;var i=this.references[e];if(!i){i=this.references[e]={counter:0,object:this.createReferencedObject(e)}}var n=i.object;var r=o.once(function(){if(--i.counter===0){t.destroyReferencedObject(i.object);delete t.references[e]}});i.counter++;return{object:n,dispose:r}};return e}();t.ReferenceCollection=u;var l=function(){function e(e){this.object=e}e.prototype.dispose=function(){};return e}();t.ImmortalReference=l});define(r[167],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function e(e){this.element=e}return e}();var i=function(){function e(){}e.prototype.isEmpty=function(){return!this._first};e.prototype.clear=function(){this._first=undefined;this._last=undefined};e.prototype.unshift=function(e){return this.insert(e,false)};e.prototype.push=function(e){return this.insert(e,true)};e.prototype.insert=function(e,t){var i=this;var n=new s(e);if(!this._first){this._first=n;this._last=n}else if(t){var r=this._last;this._last=n;n.prev=r;r.next=n}else{var o=this._first;this._first=n;n.next=o;o.prev=n}return function(){for(var e=i._first;e instanceof s;e=e.next){if(e!==n){continue}if(e.prev&&e.next){var t=e.prev;t.next=e.next;e.next.prev=t}else if(!e.prev&&!e.next){i._first=undefined;i._last=undefined}else if(!e.next){i._last=i._last.prev;i._last.next=undefined}else if(!e.prev){i._first=i._first.next;i._first.prev=undefined}break}}};e.prototype.iterator=function(){var e={done:undefined,value:undefined};var t=this._first;return{next:function(){if(!t){e.done=true;e.value=undefined}else{e.done=false;e.value=t.element;t=t.next}return e}}};e.prototype.toArray=function(){var e=[];for(var t=this._first;t instanceof s;t=t.next){e.push(t.element)}return e};return e}();t.LinkedList=i});var v;(function(){var h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:t,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:t,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:t,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};h._label=/(?:\\[\[\]]|[^\[\]])+/;h._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/;h.def=e(h.def)("label",h._label)("title",h._title)();h.bullet=/(?:[*+-]|\d+\.)/;h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;h.item=e(h.item,"gm")(/bull/g,h.bullet)();h.list=e(h.list)(/bull/g,h.bullet)("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))")("def","\\n+(?="+h.def.source+")")();h._tag="(?!(?:"+"a|em|strong|small|s|cite|q|dfn|abbr|data|time|code"+"|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo"+"|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b";h.html=e(h.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>]*)*?\/?>/)(/tag/g,h._tag)();h.paragraph=e(h.paragraph)("hr",h.hr)("heading",h.heading)("lheading",h.lheading)("tag","<"+h._tag)();h.blockquote=e(h.blockquote)("paragraph",h.paragraph)();h.normal=p({},h);h.gfm=p({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});h.gfm.paragraph=e(h.paragraph)("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|")();h.tables=p({},h.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});function u(e){this.tokens=[];this.tokens.links={};this.options=e||g.defaults;this.rules=h.normal;if(this.options.gfm){if(this.options.tables){this.rules=h.tables}else{this.rules=h.gfm}}}u.rules=h;u.lex=function(e,t){var i=new u(t);return i.lex(e)};u.prototype.lex=function(e){e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(e,true)};u.prototype.token=function(e,t){var e=e.replace(/^ +$/gm,""),i,n,r,o,s,a,u,l,c,d;while(e){if(r=this.rules.newline.exec(e)){e=e.substring(r[0].length);if(r[0].length>1){this.tokens.push({type:"space"})}}if(r=this.rules.code.exec(e)){e=e.substring(r[0].length);r=r[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?r.replace(/\n+$/,""):r});continue}if(r=this.rules.fences.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:"code",lang:r[2],text:r[3]||""});continue}if(r=this.rules.heading.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});continue}if(t&&(r=this.rules.nptable.exec(e))){e=e.substring(r[0].length);a={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")};for(l=0;l<a.align.length;l++){if(/^ *-+: *$/.test(a.align[l])){a.align[l]="right"}else if(/^ *:-+: *$/.test(a.align[l])){a.align[l]="center"}else if(/^ *:-+ *$/.test(a.align[l])){a.align[l]="left"}else{a.align[l]=null}}for(l=0;l<a.cells.length;l++){a.cells[l]=a.cells[l].split(/ *\| */)}this.tokens.push(a);continue}if(r=this.rules.hr.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:"hr"});continue}if(r=this.rules.blockquote.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:"blockquote_start"});r=r[0].replace(/^ *> ?/gm,"");this.token(r,t);this.tokens.push({type:"blockquote_end"});continue}if(r=this.rules.list.exec(e)){e=e.substring(r[0].length);o=r[2];this.tokens.push({type:"list_start",ordered:o.length>1});r=r[0].match(this.rules.item);i=false;d=r.length;l=0;for(;l<d;l++){a=r[l];u=a.length;a=a.replace(/^ *([*+-]|\d+\.) +/,"");if(~a.indexOf("\n ")){u-=a.length;a=!this.options.pedantic?a.replace(new RegExp("^ {1,"+u+"}","gm"),""):a.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&l!==d-1){s=h.bullet.exec(r[l+1])[0];if(o!==s&&!(o.length>1&&s.length>1)){e=r.slice(l+1).join("\n")+e;l=d-1}}n=i||/\n\n(?!\s*$)/.test(a);if(l!==d-1){i=a.charAt(a.length-1)==="\n";if(!n)n=i}this.tokens.push({type:n?"loose_item_start":"list_item_start"});this.token(a,false);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(r=this.rules.html.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(r[1]==="pre"||r[1]==="script"||r[1]==="style"),text:r[0]});continue}if(t&&(r=this.rules.def.exec(e))){e=e.substring(r[0].length);if(r[3])r[3]=r[3].substring(1,r[3].length-1);c=r[1].toLowerCase();if(!this.tokens.links[c]){this.tokens.links[c]={href:r[2],title:r[3]}}continue}if(t&&(r=this.rules.table.exec(e))){e=e.substring(r[0].length);a={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(l=0;l<a.align.length;l++){if(/^ *-+: *$/.test(a.align[l])){a.align[l]="right"}else if(/^ *:-+: *$/.test(a.align[l])){a.align[l]="center"}else if(/^ *:-+ *$/.test(a.align[l])){a.align[l]="left"}else{a.align[l]=null}}for(l=0;l<a.cells.length;l++){a.cells[l]=a.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */)}this.tokens.push(a);continue}if(r=this.rules.lheading.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:"heading",depth:r[2]==="="?1:2,text:r[1]});continue}if(t&&(r=this.rules.paragraph.exec(e))){e=e.substring(r[0].length);this.tokens.push({type:"paragraph",text:r[1].charAt(r[1].length-1)==="\n"?r[1].slice(0,-1):r[1]});continue}if(r=this.rules.text.exec(e)){e=e.substring(r[0].length);this.tokens.push({type:"text",text:r[0]});continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:t,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)(\s*)([\s\S]*?[^`]?)\2\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:t,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;i.autolink=e(i.autolink)("scheme",i._scheme)("email",i._email)();i._inside=/(?:\[[^\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/;i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/;i.link=e(i.link)("inside",i._inside)("href",i._href)();i.reflink=e(i.reflink)("inside",i._inside)();i.normal=p({},i);i.pedantic=p({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});i.gfm=p({},i.normal,{escape:e(i.escape)("])","~|])")(),url:e(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/)("email",i._email)(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:e(i.text)("]|","~]|")("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|")()});i.breaks=p({},i.gfm,{br:e(i.br)("{2,}","*")(),text:e(i.gfm.text)("{2,}","*")()});function r(e,t){this.options=t||g.defaults;this.links=e;this.rules=i.normal;this.renderer=this.options.renderer||new n;this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.gfm){if(this.options.breaks){this.rules=i.breaks}else{this.rules=i.gfm}}else if(this.options.pedantic){this.rules=i.pedantic}}r.rules=i;r.output=function(e,t,i){var n=new r(t,i);return n.output(e)};r.prototype.output=function(e){var t="",i,n,r,o;while(e){if(o=this.rules.escape.exec(e)){e=e.substring(o[0].length);t+=o[1];continue}if(o=this.rules.autolink.exec(e)){e=e.substring(o[0].length);if(o[2]==="@"){n=c(this.mangle(o[1]));r="mailto:"+n}else{n=c(o[1]);r=n}t+=this.renderer.link(r,null,n);continue}if(!this.inLink&&(o=this.rules.url.exec(e))){o[0]=this.rules._backpedal.exec(o[0])[0];e=e.substring(o[0].length);if(o[2]==="@"){n=c(o[0]);r="mailto:"+n}else{n=c(o[0]);if(o[1]==="www."){r="http://"+n}else{r=n}}t+=this.renderer.link(r,null,n);continue}if(o=this.rules.tag.exec(e)){if(!this.inLink&&/^<a /i.test(o[0])){this.inLink=true}else if(this.inLink&&/^<\/a>/i.test(o[0])){this.inLink=false}e=e.substring(o[0].length);t+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):c(o[0]):o[0];continue}if(o=this.rules.link.exec(e)){e=e.substring(o[0].length);this.inLink=true;t+=this.outputLink(o,{href:o[2],title:o[3]});this.inLink=false;continue}if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){e=e.substring(o[0].length);i=(o[2]||o[1]).replace(/\s+/g," ");i=this.links[i.toLowerCase()];if(!i||!i.href){t+=o[0].charAt(0);e=o[0].substring(1)+e;continue}this.inLink=true;t+=this.outputLink(o,i);this.inLink=false;continue}if(o=this.rules.strong.exec(e)){e=e.substring(o[0].length);t+=this.renderer.strong(this.output(o[2]||o[1]));continue}if(o=this.rules.em.exec(e)){e=e.substring(o[0].length);t+=this.renderer.em(this.output(o[2]||o[1]));continue}if(o=this.rules.code.exec(e)){e=e.substring(o[0].length);t+=this.renderer.codespan(c(o[3].trim(),true));continue}if(o=this.rules.br.exec(e)){e=e.substring(o[0].length);t+=this.renderer.br();continue}if(o=this.rules.del.exec(e)){e=e.substring(o[0].length);t+=this.renderer.del(this.output(o[1]));continue}if(o=this.rules.text.exec(e)){e=e.substring(o[0].length);t+=this.renderer.text(c(this.smartypants(o[0])));continue}if(e){throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}}return t};r.prototype.outputLink=function(e,t){var i=c(t.href),n=t.title?c(t.title):null;return e[0].charAt(0)!=="!"?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,c(e[1]))};r.prototype.smartypants=function(e){if(!this.options.smartypants)return e;return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")};r.prototype.mangle=function(e){if(!this.options.mangle)return e;var t="",i=e.length,n=0,r;for(;n<i;n++){r=e.charCodeAt(n);if(Math.random()>.5){r="x"+r.toString(16)}t+="&#"+r+";"}return t};function n(e){this.options=e||{}}n.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);if(n!=null&&n!==e){i=true;e=n}}if(!t){return"<pre><code>"+(i?e:c(e,true))+"\n</code></pre>"}return'<pre><code class="'+this.options.langPrefix+c(t,true)+'">'+(i?e:c(e,true))+"\n</code></pre>\n"};n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"};n.prototype.html=function(e){return e};n.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"};n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};n.prototype.list=function(e,t){var i=t?"ol":"ul";return"<"+i+">\n"+e+"</"+i+">\n"};n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"};n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"};n.prototype.table=function(e,t){return"<table>\n"+"<thead>\n"+e+"</thead>\n"+"<tbody>\n"+t+"</tbody>\n"+"</table>\n"};n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"};n.prototype.tablecell=function(e,t){var i=t.header?"th":"td";var n=t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">";return n+e+"</"+i+">\n"};n.prototype.strong=function(e){return"<strong>"+e+"</strong>"};n.prototype.em=function(e){return"<em>"+e+"</em>"};n.prototype.codespan=function(e){return"<code>"+e+"</code>"};n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};n.prototype.del=function(e){return"<del>"+e+"</del>"};n.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(d(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return i}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0){return i}}if(this.options.baseUrl&&!f.test(e)){e=s(this.options.baseUrl,e)}var r='<a href="'+e+'"';if(t){r+=' title="'+t+'"'}r+=">"+i+"</a>";return r};n.prototype.image=function(e,t,i){if(this.options.baseUrl&&!f.test(e)){e=s(this.options.baseUrl,e)}var n='<img src="'+e+'" alt="'+i+'"';if(t){n+=' title="'+t+'"'}n+=this.options.xhtml?"/>":">";return n};n.prototype.text=function(e){return e};function o(){}o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e};o.prototype.link=o.prototype.image=function(e,t,i){return""+i};o.prototype.br=function(){return""};function l(e){this.tokens=[];this.token=null;this.options=e||g.defaults;this.options.renderer=this.options.renderer||new n;this.renderer=this.options.renderer;this.renderer.options=this.options}l.parse=function(e,t){var i=new l(t);return i.parse(e)};l.prototype.parse=function(e){this.inline=new r(e.links,this.options);this.inlineText=new r(e.links,p({},this.options,{renderer:new o}));this.tokens=e.reverse();var t="";while(this.next()){t+=this.tok()}return t};l.prototype.next=function(){return this.token=this.tokens.pop()};l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};l.prototype.parseText=function(){var e=this.token.text;while(this.peek().type==="text"){e+="\n"+this.next().text}return this.inline.output(e)};l.prototype.tok=function(){switch(this.token.type){case"space":{return""}case"hr":{return this.renderer.hr()}case"heading":{return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)))}case"code":{return this.renderer.code(this.token.text,this.token.lang,this.token.escaped)}case"table":{var e="",t="",i,n,r,o;r="";for(i=0;i<this.token.header.length;i++){r+=this.renderer.tablecell(this.inline.output(this.token.header[i]),{header:true,align:this.token.align[i]})}e+=this.renderer.tablerow(r);for(i=0;i<this.token.cells.length;i++){n=this.token.cells[i];r="";for(o=0;o<n.length;o++){r+=this.renderer.tablecell(this.inline.output(n[o]),{header:false,align:this.token.align[o]})}t+=this.renderer.tablerow(r)}return this.renderer.table(e,t)}case"blockquote_start":{var t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return this.renderer.blockquote(t)}case"list_start":{var t="",s=this.token.ordered;while(this.next().type!=="list_end"){t+=this.tok()}return this.renderer.list(t,s)}case"list_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(t)}case"loose_item_start":{var t="";while(this.next().type!=="list_item_end"){t+=this.tok()}return this.renderer.listitem(t)}case"html":{var a=!this.token.pre&&!this.options.pedantic?this.inline.output(this.token.text):this.token.text;return this.renderer.html(a)}case"paragraph":{return this.renderer.paragraph(this.inline.output(this.token.text))}case"text":{return this.renderer.paragraph(this.parseText())}}};function c(e,t){return e.replace(!t?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){t=t.toLowerCase();if(t==="colon")return":";if(t.charAt(0)==="#"){return t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1))}return""})}function e(n,r){n=n.source;r=r||"";return function e(t,i){if(!t)return new RegExp(n,r);i=i.source||i;i=i.replace(/(^|[^\[])\^/g,"$1");n=n.replace(t,i);return e}}function s(e,t){if(!a[" "+e]){if(/^[^:]+:\/*[^/]*$/.test(e)){a[" "+e]=e+"/"}else{a[" "+e]=e.replace(/[^/]*$/,"")}}e=a[" "+e];if(t.slice(0,2)==="//"){return e.replace(/:[\s\S]*/,":")+t}else if(t.charAt(0)==="/"){return e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t}else{return e+t}}var a={};var f=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function t(){}t.exec=t;function p(e){var t=1,i,n;for(;t<arguments.length;t++){i=arguments[t];for(n in i){if(Object.prototype.hasOwnProperty.call(i,n)){e[n]=i[n]}}}return e}function g(e,i,n){if(typeof e=="undefined"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||typeof i==="function"){if(!n){n=i;i=null}i=p({},g.defaults,i||{});var r=i.highlight,o,s,t=0;try{o=u.lex(e,i)}catch(e){return n(e)}s=o.length;var a=function(t){if(t){i.highlight=r;return n(t)}var e;try{e=l.parse(o,i)}catch(e){t=e}i.highlight=r;return t?n(t):n(null,e)};if(!r||r.length<3){return a()}delete i.highlight;if(!s)return a();for(;t<o.length;t++){(function(i){if(i.type!=="code"){return--s||a()}return r(i.text,i.lang,function(e,t){if(e)return a(e);if(t==null||t===i.text){return--s||a()}i.text=t;i.escaped=true;--s||a()})})(o[t])}return}try{if(i)i=p({},g.defaults,i);return l.parse(u.lex(e,i),i)}catch(e){e.message+="\nPlease report this to https://github.com/chjj/marked.";if((i||g.defaults).silent){return"<p>An error occurred:</p><pre>"+c(e.message+"",true)+"</pre>"}throw e}}g.options=g.setOptions=function(e){p(g.defaults,e);return g};g.defaults={gfm:true,tables:true,breaks:false,pedantic:false,sanitize:false,sanitizer:null,mangle:true,smartLists:false,silent:false,highlight:null,langPrefix:"lang-",smartypants:false,headerPrefix:"",renderer:new n,xhtml:false,baseUrl:null};g.Parser=l;g.parser=l.parse;g.Renderer=n;g.TextRenderer=o;g.Lexer=u;g.lexer=u.lex;g.InlineLexer=r;g.inlineLexer=r.output;g.parse=g;v=g}).call(this);define("vs/base/common/marked/marked",[],function(){return{marked:v}});define(r[67],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e.inMemory="inmemory";e.vscode="vscode";e.internal="private";e.walkThrough="walkThrough";e.walkThroughSnippet="walkThroughSnippet";e.http="http";e.https="https";e.file="file";e.mailto="mailto";e.untitled="untitled";e.data="data"})(i=t.Schemas||(t.Schemas={}))});define(r[234],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t,i){return Math.min(Math.max(e,t),i)}t.clamp=i;function n(e,t){return(t+e%t)%t}t.rot=n});define(r[15],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=false;var n=false;var r=false;var o=false;var s=false;var a=undefined;var u=undefined;var l=undefined;t.LANGUAGE_DEFAULT="en";if(typeof process==="object"&&typeof process.nextTick==="function"&&typeof process.platform==="string"){i=process.platform==="win32";n=process.platform==="darwin";r=process.platform==="linux";var c=process.env["VSCODE_NLS_CONFIG"];if(c){try{var d=JSON.parse(c);var h=d.availableLanguages["*"];a=d.locale;u=h?h:t.LANGUAGE_DEFAULT;l=d._translationsConfigFile}catch(e){}}o=true}else if(typeof navigator==="object"){var f=navigator.userAgent;i=f.indexOf("Windows")>=0;n=f.indexOf("Macintosh")>=0;r=f.indexOf("Linux")>=0;s=true;a=navigator.language;u=a}var p;(function(e){e[e["Web"]=0]="Web";e[e["Mac"]=1]="Mac";e[e["Linux"]=2]="Linux";e[e["Windows"]=3]="Windows"})(p=t.Platform||(t.Platform={}));var g=p.Web;if(o){if(n){g=p.Mac}else if(i){g=p.Windows}else if(r){g=p.Linux}}t.isWindows=i;t.isMacintosh=n;t.isLinux=r;t.isNative=o;t.isWeb=s;t.platform=g;function v(){return o&&!i&&process.getuid()===0}t.isRootUser=v;t.language=u;t.locale=a;t.translationsConfigFile=l;var m=typeof self==="object"?self:typeof global==="object"?global:{};t.globals=m;var _;(function(e){e[e["Windows"]=1]="Windows";e[e["Macintosh"]=2]="Macintosh";e[e["Linux"]=3]="Linux"})(_=t.OperatingSystem||(t.OperatingSystem={}));t.OS=n?2:i?1:3;var y;(function(e){e[e["Unknown"]=0]="Unknown";e[e["Disabled"]=1]="Disabled";e[e["Enabled"]=2]="Enabled"})(y=t.AccessibilitySupport||(t.AccessibilitySupport={}))});define(r[420],e([0,1,15]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=i.globals.performance&&typeof i.globals.performance.now==="function";var r=function(){function t(e){this._highResolution=n&&e;this._startTime=this._now();this._stopTime=-1}t.create=function(e){if(e===void 0){e=true}return new t(e)};t.prototype.stop=function(){this._stopTime=this._now()};t.prototype.elapsed=function(){if(this._stopTime!==-1){return this._stopTime-this._startTime}return this._now()-this._startTime};t.prototype._now=function(){return this._highResolution?i.globals.performance.now():(new Date).getTime()};return t}();t.StopWatch=r});define(r[29],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function n(e){if(Array.isArray){return Array.isArray(e)}if(e&&typeof e.length===i.number&&e.constructor===Array){return true}return false}t.isArray=n;function r(e){if(typeof e===i.string||e instanceof String){return true}return false}t.isString=r;function o(e){return n(e)&&e.every(function(e){return r(e)})}t.isStringArray=o;function s(e){return typeof e===i.object&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}t.isObject=s;function a(e){if((typeof e===i.number||e instanceof Number)&&!isNaN(e)){return true}return false}t.isNumber=a;function u(e){return e===true||e===false}t.isBoolean=u;function l(e){return typeof e===i.undefined}t.isUndefined=l;function c(e){return l(e)||e===null}t.isUndefinedOrNull=c;var d=Object.prototype.hasOwnProperty;function h(e){if(!s(e)){return false}for(var t in e){if(d.call(e,t)){return false}}return true}t.isEmptyObject=h;function f(e){return typeof e===i.function}t.isFunction=f;function p(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return e&&e.length>0&&e.every(f)}t.areFunctions=p;function g(e,t){var i=Math.min(e.length,t.length);for(var n=0;n<i;n++){v(e[n],t[n])}}t.validateConstraints=g;function v(e,t){if(r(t)){if(typeof e!==t){throw new Error("argument does not match constraint: typeof "+t)}}else if(f(t)){if(e instanceof t){return}if(!c(e)&&e.constructor===t){return}if(t.length===1&&t.call(undefined,e)===true){return}throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}t.validateConstraint=v;function m(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}var n=Object.create(e.prototype);e.apply(n,t);return n}t.create=m});define(r[434],e([0,1,29,223]),function(e,t,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return{data:e,incoming:Object.create(null),outgoing:Object.create(null)}}var r=function(){function e(e){this._hashFn=e;this._nodes=Object.create(null)}e.prototype.roots=function(){var t=[];a.forEach(this._nodes,function(e){if(i.isEmptyObject(e.value.outgoing)){t.push(e.value)}});return t};e.prototype.traverse=function(e,t,i){var n=this.lookup(e);if(!n){return}this._traverse(n,t,Object.create(null),i)};e.prototype._traverse=function(e,t,i,n){var r=this;var o=this._hashFn(e.data);if(i[o]){return}i[o]=true;n(e.data);var s=t?e.outgoing:e.incoming;a.forEach(s,function(e){return r._traverse(e.value,t,i,n)})};e.prototype.insertEdge=function(e,t){var i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing[this._hashFn(t)]=n;n.incoming[this._hashFn(e)]=i};e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t];a.forEach(this._nodes,function(e){delete e.value.outgoing[t];delete e.value.incoming[t]})};e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e);var i=this._nodes[t];if(!i){i=n(e);this._nodes[t]=i}return i};e.prototype.lookup=function(e){return this._nodes[this._hashFn(e)]};Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this._nodes).length},enumerable:true,configurable:true});e.prototype.toString=function(){var t=[];a.forEach(this._nodes,function(e){t.push(e.key+", (incoming)["+Object.keys(e.value.incoming).join(", ")+"], (outgoing)["+Object.keys(e.value.outgoing).join(",")+"]")});return t.join("\n")};return e}();t.Graph=r});define(r[27],e([0,1,29]),function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(t){if(!t||typeof t!=="object"){return t}if(t instanceof RegExp){return t}var i=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(e){if(t[e]&&typeof t[e]==="object"){i[e]=n(t[e])}else{i[e]=t[e]}});return i}t.deepClone=n;function i(e){if(!e||typeof e!=="object"){return e}var t=[e];while(t.length>0){var i=t.shift();Object.freeze(i);for(var n in i){if(l.call(i,n)){var r=i[n];if(typeof r==="object"&&!Object.isFrozen(r)){t.push(r)}}}}return e}t.deepFreeze=i;var l=Object.prototype.hasOwnProperty;function r(e,t){return c(e,t,[])}t.cloneAndChange=r;function c(e,t,i){if(u.isUndefinedOrNull(e)){return e}var n=t(e);if(typeof n!=="undefined"){return n}if(u.isArray(e)){var r=[];for(var o=0;o<e.length;o++){r.push(c(e[o],t,i))}return r}if(u.isObject(e)){if(i.indexOf(e)>=0){throw new Error("Cannot clone recursive data-structure")}i.push(e);var s={};for(var a in e){if(l.call(e,a)){s[a]=c(e[a],t,i)}}i.pop();return s}return e}function o(t,i,n){if(n===void 0){n=true}if(!u.isObject(t)){return i}if(u.isObject(i)){Object.keys(i).forEach(function(e){if(e in t){if(n){if(u.isObject(t[e])&&u.isObject(i[e])){o(t[e],i[e],n)}else{t[e]=i[e]}}}else{t[e]=i[e]}})}return t}t.mixin=o;function s(i){var e=[];for(var t=1;t<arguments.length;t++){e[t-1]=arguments[t]}e.forEach(function(t){return Object.keys(t).forEach(function(e){return i[e]=t[e]})});return i}t.assign=s;function a(e,t){if(e===t){return true}if(e===null||e===undefined||t===null||t===undefined){return false}if(typeof e!==typeof t){return false}if(typeof e!=="object"){return false}if(Array.isArray(e)!==Array.isArray(t)){return false}var i;var n;if(Array.isArray(e)){if(e.length!==t.length){return false}for(i=0;i<e.length;i++){if(!a(e[i],t[i])){return false}}}else{var r=[];for(n in e){r.push(n)}r.sort();var o=[];for(n in t){o.push(n)}o.sort();if(!a(r,o)){return false}for(i=0;i<r.length;i++){if(!a(e[r[i]],t[r[i]])){return false}}}return true}t.equals=a;function d(e){var t={};for(var i=0;i<e.length;++i){t[e[i]]=true}return t}t.arrayToHash=d;function h(e,t){if(t===void 0){t=false}if(t){e=e.map(function(e){return e.toLowerCase()})}var i=d(e);if(t){return function(e){return i[e.toLowerCase()]!==undefined&&i.hasOwnProperty(e.toLowerCase())}}else{return function(e){return i[e]!==undefined&&i.hasOwnProperty(e)}}}t.createKeywordMatcher=h;function f(e){var i=[];return JSON.stringify(e,function(e,t){if(u.isObject(t)||Array.isArray(t)){if(i.indexOf(t)!==-1){return"[Circular]"}else{i.push(t)}}return t})}t.safeStringify=f;function p(e,t,i){if(i===void 0){i=null}var n=t(e);return typeof n==="undefined"?i:n}t.getOrDefault=p;function g(n,r){var o=Object.create(null);if(!n||!r){return o}var e=Object.keys(r);e.forEach(function(e){var t=n[e];var i=r[e];if(!a(t,i)){o[e]=i}});return o}t.distinct=g});define(r[30],e([0,1,15]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,i)}function p(e){return e.replace(/[#?]/,i)}var r=/^\w[\w\d+.-]*$/;var o=/^\//;var s=/^\/\//;function a(e){if(e.scheme&&!r.test(e.scheme)){throw new Error("[UriError]: Scheme contains illegal characters.")}if(e.path){if(e.authority){if(!o.test(e.path)){throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}}else{if(s.test(e.path)){throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}}}var g="";var v="/";var u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;var l=/^\/[a-zA-Z]:/;var m=/^(\/)?([A-Z]:)/;var c=/^[a-zA-Z]:/;var d=function(){function i(e,t,i,n,r){if(typeof e==="object"){this.scheme=e.scheme||g;this.authority=e.authority||g;this.path=e.path||g;this.query=e.query||g;this.fragment=e.fragment||g}else{this.scheme=e||g;this.authority=t||g;this.path=i||g;this.query=n||g;this.fragment=r||g;a(this)}}i.isUri=function(e){if(e instanceof i){return true}if(!e){return false}return typeof e.authority==="string"&&typeof e.fragment==="string"&&typeof e.path==="string"&&typeof e.query==="string"&&typeof e.scheme==="string"};Object.defineProperty(i.prototype,"fsPath",{get:function(){return _(this)},enumerable:true,configurable:true});i.prototype.with=function(e){if(!e){return this}var t=e.scheme,i=e.authority,n=e.path,r=e.query,o=e.fragment;if(t===void 0){t=this.scheme}else if(t===null){t=g}if(i===void 0){i=this.authority}else if(i===null){i=g}if(n===void 0){n=this.path}else if(n===null){n=g}if(r===void 0){r=this.query}else if(r===null){r=g}if(o===void 0){o=this.fragment}else if(o===null){o=g}if(t===this.scheme&&i===this.authority&&n===this.path&&r===this.query&&o===this.fragment){return this}return new h(t,i,n,r,o)};i.parse=function(e){var t=u.exec(e);if(!t){return new h(g,g,g,g,g)}return new h(t[2]||g,decodeURIComponent(t[4]||g),decodeURIComponent(t[5]||g),decodeURIComponent(t[7]||g),decodeURIComponent(t[9]||g))};i.file=function(e){var t=g;if(n.isWindows){e=e.replace(/\\/g,v)}if(e[0]===v&&e[1]===v){var i=e.indexOf(v,2);if(i===-1){t=e.substring(2);e=v}else{t=e.substring(2,i);e=e.substring(i)||v}}if(c.test(e)){e=v+e}else if(e[0]!==v){e=v+e}return new h("file",t,e,g,g)};i.from=function(e){return new h(e.scheme,e.authority,e.path,e.query,e.fragment)};i.prototype.toString=function(e){if(e===void 0){e=false}return y(this,e)};i.prototype.toJSON=function(){var e={$mid:1,fsPath:this.fsPath,external:this.toString()};if(this.path){e.path=this.path}if(this.scheme){e.scheme=this.scheme}if(this.authority){e.authority=this.authority}if(this.query){e.query=this.query}if(this.fragment){e.fragment=this.fragment}return e};i.revive=function(e){if(!e){return e}else if(e instanceof i){return e}else{var t=new h(e);t._fsPath=e.fsPath;t._formatted=e.external;return t}};return i}();t.default=d;var h=function(t){pe(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._formatted=null;e._fsPath=null;return e}Object.defineProperty(e.prototype,"fsPath",{get:function(){if(!this._fsPath){this._fsPath=_(this)}return this._fsPath},enumerable:true,configurable:true});e.prototype.toString=function(e){if(e===void 0){e=false}if(!e){if(!this._formatted){this._formatted=y(this,false)}return this._formatted}else{return y(this,true)}};return e}(d);function _(e){var t;if(e.authority&&e.path&&e.scheme==="file"){t="//"+e.authority+e.path}else if(l.test(e.path)){t=e.path[1].toLowerCase()+e.path.substr(2)}else{t=e.path}if(n.isWindows){t=t.replace(/\//g,"\\")}return t}function y(e,t){var i=!t?f:p;var n=[];var r=e.scheme,o=e.authority,s=e.path,a=e.query,u=e.fragment;if(r){n.push(r,":")}if(o||r==="file"){n.push("//")}if(o){var l=o.indexOf("@");if(l!==-1){var c=o.substr(0,l);o=o.substr(l+1);l=c.indexOf(":");if(l===-1){n.push(i(c))}else{n.push(i(c.substr(0,l)),":",i(c.substr(l+1)))}n.push("@")}o=o.toLowerCase();l=o.indexOf(":");if(l===-1){n.push(i(o))}else{n.push(i(o.substr(0,l)),o.substr(l))}}if(s){var d=m.exec(s);if(d){if(d[1]){s="/"+d[2].toLowerCase()+s.substr(3)}else{s=d[2].toLowerCase()+s.substr(2)}}var h=0;while(true){var l=s.indexOf(v,h);if(l===-1){n.push(i(s.substring(h)));break}n.push(i(s.substring(h,l)),v);h=l+1}}if(a){n.push("?",i(a))}if(u){n.push("#",i(u))}return n.join(g)}});define(r[75],e([0,1,30]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){var t=[];e.forEach(function(e){return t.push(e)});return t}t.values=n;function r(e){var i=[];e.forEach(function(e,t){return i.push(t)});return i}t.keys=r;function o(e,t,i){var n=e.get(t);if(n===void 0){n=i;e.set(t,n)}return n}t.getOrSet=o;var s=function(){function e(){this._value="";this._pos=0}e.prototype.reset=function(e){this._value=e;this._pos=0;return this};e.prototype.next=function(){this._pos+=1;return this};e.prototype.join=function(e){return e.join("")};e.prototype.hasNext=function(){return this._pos<this._value.length-1};e.prototype.cmp=function(e){var t=e.charCodeAt(0);var i=this._value.charCodeAt(this._pos);return t-i};e.prototype.value=function(){return this._value[this._pos]};return e}();t.StringIterator=s;var a=function(){function i(){}i.prototype.reset=function(e){this._value=e.replace(/\\$|\/$/,"");this._from=0;this._to=0;return this.next()};i.prototype.hasNext=function(){return this._to<this._value.length};i.prototype.join=function(e){return e.join("/")};i.prototype.next=function(){this._from=this._to;var e=true;for(;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(t===i._fwd||t===i._bwd){if(e){this._from++}else{break}}else{e=false}}return this};i.prototype.cmp=function(e){var t=0;var i=e.length;var n=this._from;while(t<i&&n<this._to){var r=e.charCodeAt(t)-this._value.charCodeAt(n);if(r!==0){return r}t+=1;n+=1}if(i===this._to-this._from){return 0}else if(t<i){return-1}else{return 1}};i.prototype.value=function(){return this._value.substring(this._from,this._to)};i._fwd="/".charCodeAt(0);i._bwd="\\".charCodeAt(0);return i}();t.PathIterator=a;var u=function(){function e(){}e.prototype.isEmpty=function(){return!this.left&&!this.mid&&!this.right&&!this.element};return e}();var l=function(){function o(e){this._iter=e}o.forPaths=function(){return new o(new a)};o.forStrings=function(){return new o(new s)};o.prototype.clear=function(){this._root=undefined};o.prototype.set=function(e,t){var i=this._iter.reset(e);var n;if(!this._root){this._root=new u;this._root.str=i.value()}n=this._root;while(true){var r=i.cmp(n.str);if(r>0){if(!n.left){n.left=new u;n.left.str=i.value()}n=n.left}else if(r<0){if(!n.right){n.right=new u;n.right.str=i.value()}n=n.right}else if(i.hasNext()){i.next();if(!n.mid){n.mid=new u;n.mid.str=i.value()}n=n.mid}else{break}}var o=n.element;n.element=t;return o};o.prototype.get=function(e){var t=this._iter.reset(e);var i=this._root;while(i){var n=t.cmp(i.str);if(n>0){i=i.left}else if(n<0){i=i.right}else if(t.hasNext()){t.next();i=i.mid}else{break}}return i?i.element:undefined};o.prototype.delete=function(e){var t=this._iter.reset(e);var i=[];var n=this._root;while(n){var r=t.cmp(n.str);if(r>0){i.push([1,n]);n=n.left}else if(r<0){i.push([-1,n]);n=n.right}else if(t.hasNext()){t.next();i.push([0,n]);n=n.mid}else{n.element=undefined;while(i.length>0&&n.isEmpty()){var o=i.pop(),s=o[0],a=o[1];switch(s){case 1:a.left=undefined;break;case 0:a.mid=undefined;break;case-1:a.right=undefined;break}n=a}break}}};o.prototype.findSubstr=function(e){var t=this._iter.reset(e);var i=this._root;var n;while(i){var r=t.cmp(i.str);if(r>0){i=i.left}else if(r<0){i=i.right}else if(t.hasNext()){t.next();n=i.element||n;i=i.mid}else{break}}return i&&i.element||n};o.prototype.findSuperstr=function(e){var t=this._iter.reset(e);var i=this._root;while(i){var n=t.cmp(i.str);if(n>0){i=i.left}else if(n<0){i=i.right}else if(t.hasNext()){t.next();i=i.mid}else{if(!i.mid){return undefined}var r=new o(this._iter);r._root=i.mid;return r}}return undefined};o.prototype.forEach=function(e){this._forEach(this._root,[],e)};o.prototype._forEach=function(e,t,i){if(e){this._forEach(e.left,t,i);t.push(e.str);if(e.element){i(e.element,this._iter.join(t))}this._forEach(e.mid,t,i);t.pop();this._forEach(e.right,t,i)}};return o}();t.TernarySearchTree=l;var c=function(){function e(e){this.ignoreCase=e;this.map=new Map}e.prototype.set=function(e,t){this.map.set(this.toKey(e),t)};e.prototype.get=function(e){return this.map.get(this.toKey(e))};e.prototype.has=function(e){return this.map.has(this.toKey(e))};Object.defineProperty(e.prototype,"size",{get:function(){return this.map.size},enumerable:true,configurable:true});e.prototype.clear=function(){this.map.clear()};e.prototype.delete=function(e){return this.map.delete(this.toKey(e))};e.prototype.forEach=function(e){this.map.forEach(e)};e.prototype.values=function(){return n(this.map)};e.prototype.toKey=function(e){var t=e.toString();if(this.ignoreCase){t=t.toLowerCase()}return t};return e}();t.ResourceMap=c;var d=function(e){pe(t,e);function t(){return e.call(this)||this}t.prototype.keys=function(){return r(this.map).map(function(e){return i.default.parse(e)})};return t}(c);t.StrictResourceMap=d;var h;(function(e){e[e["None"]=0]="None";e[e["AsOld"]=1]="AsOld";e[e["AsNew"]=2]="AsNew"})(h=t.Touch||(t.Touch={}));var f=function(){function e(){this._map=new Map;this._head=undefined;this._tail=undefined;this._size=0}e.prototype.clear=function(){this._map.clear();this._head=undefined;this._tail=undefined;this._size=0};e.prototype.isEmpty=function(){return!this._head&&!this._tail};Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:true,configurable:true});e.prototype.has=function(e){return this._map.has(e)};e.prototype.get=function(e,t){if(t===void 0){t=h.None}var i=this._map.get(e);if(!i){return undefined}if(t!==h.None){this.touch(i,t)}return i.value};e.prototype.set=function(e,t,i){if(i===void 0){i=h.None}var n=this._map.get(e);if(n){n.value=t;if(i!==h.None){this.touch(n,i)}}else{n={key:e,value:t,next:undefined,previous:undefined};switch(i){case h.None:this.addItemLast(n);break;case h.AsOld:this.addItemFirst(n);break;case h.AsNew:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n);this._size++}};e.prototype.delete=function(e){return!!this.remove(e)};e.prototype.remove=function(e){var t=this._map.get(e);if(!t){return undefined}this._map.delete(e);this.removeItem(t);this._size--;return t.value};e.prototype.shift=function(){if(!this._head&&!this._tail){return undefined}if(!this._head||!this._tail){throw new Error("Invalid list")}var e=this._head;this._map.delete(e.key);this.removeItem(e);this._size--;return e.value};e.prototype.forEach=function(e,t){var i=this._head;while(i){if(t){e.bind(t)(i.value,i.key,this)}else{e(i.value,i.key,this)}i=i.next}};e.prototype.values=function(){var e=[];var t=this._head;while(t){e.push(t.value);t=t.next}return e};e.prototype.keys=function(){var e=[];var t=this._head;while(t){e.push(t.key);t=t.next}return e};e.prototype.trimOld=function(e){if(e>=this.size){return}if(e===0){this.clear();return}var t=this._head;var i=this.size;while(t&&i>e){this._map.delete(t.key);t=t.next;i--}this._head=t;this._size=i;t.previous=void 0};e.prototype.addItemFirst=function(e){if(!this._head&&!this._tail){this._tail=e}else if(!this._head){throw new Error("Invalid list")}else{e.next=this._head;this._head.previous=e}this._head=e};e.prototype.addItemLast=function(e){if(!this._head&&!this._tail){this._head=e}else if(!this._tail){throw new Error("Invalid list")}else{e.previous=this._tail;this._tail.next=e}this._tail=e};e.prototype.removeItem=function(e){if(e===this._head&&e===this._tail){this._head=void 0;this._tail=void 0}else if(e===this._head){this._head=e.next}else if(e===this._tail){this._tail=e.previous}else{var t=e.next;var i=e.previous;if(!t||!i){throw new Error("Invalid list")}t.previous=i;i.next=t}};e.prototype.touch=function(e,t){if(!this._head||!this._tail){throw new Error("Invalid list")}if(t!==h.AsOld&&t!==h.AsNew){return}if(t===h.AsOld){if(e===this._head){return}var i=e.next;var n=e.previous;if(e===this._tail){n.next=void 0;this._tail=n}else{i.previous=n;n.next=i}e.previous=void 0;e.next=this._head;this._head.previous=e;this._head=e}else if(t===h.AsNew){if(e===this._tail){return}var i=e.next;var n=e.previous;if(e===this._head){i.previous=void 0;this._head=i}else{i.previous=n;n.next=i}e.next=void 0;e.previous=this._tail;this._tail.next=e;this._tail=e}};return e}();t.LinkedMap=f;var p=function(n){pe(e,n);function e(e,t){if(t===void 0){t=1}var i=n.call(this)||this;i._limit=e;i._ratio=Math.min(Math.max(0,t),1);return i}Object.defineProperty(e.prototype,"limit",{get:function(){return this._limit},set:function(e){this._limit=e;this.checkTrim()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},set:function(e){this._ratio=Math.min(Math.max(0,e),1);this.checkTrim()},enumerable:true,configurable:true});e.prototype.get=function(e){return n.prototype.get.call(this,e,h.AsNew)};e.prototype.peek=function(e){return n.prototype.get.call(this,e,h.None)};e.prototype.set=function(e,t){n.prototype.set.call(this,e,t,h.AsNew);this.checkTrim()};e.prototype.checkTrim=function(){if(this.size>this._limit){this.trimOld(Math.round(this._limit*this._ratio))}};return e}(f);t.LRUCache=p});define(r[218],e([0,1,30]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e){return JSON.stringify(e,o)}t.stringify=i;function r(e){var t=JSON.parse(e);t=s(t,0);return t}t.parse=r;function o(e,t){if(t instanceof RegExp){return{$mid:2,source:t.source,flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")}}return t}function s(e,t){if(!e||t>200){return e}if(typeof e==="object"){switch(e.$mid){case 1:return n.default.revive(e);case 2:return new RegExp(e.source,e.flags)}for(var i in e){if(Object.hasOwnProperty.call(e,i)){e[i]=s(e[i],t+1)}}}return e}t.revive=s});define(r[5],e([0,1,75]),function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:true});o.empty="";function i(e){if(!e||typeof e!=="string"){return true}return e.trim().length===0}o.isFalsyOrWhitespace=i;function n(e,t,i){if(i===void 0){i="0"}var n=""+e;var r=[n];for(var o=n.length;o<t;o++){r.push(i)}return r.reverse().join("")}o.pad=n;var r=/{(\d+)}/g;function s(e){var n=[];for(var t=1;t<arguments.length;t++){n[t-1]=arguments[t]}if(n.length===0){return e}return e.replace(r,function(e,t){var i=parseInt(t,10);return isNaN(i)||i<0||i>=n.length?e:n[i]})}o.format=s;function a(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}o.escape=a;function u(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g,"\\$&")}o.escapeRegExpCharacters=u;function l(e,t){if(t===void 0){t=" "}var i=c(e,t);return d(i,t)}o.trim=l;function c(e,t){if(!e||!t){return e}var i=t.length;if(i===0||e.length===0){return e}var n=0,r=-1;while((r=e.indexOf(t,n))===n){n=n+i}return e.substring(n)}o.ltrim=c;function d(e,t){if(!e||!t){return e}var i=t.length,n=e.length;if(i===0||n===0){return e}var r=n,o=-1;while(true){o=e.lastIndexOf(t,r-1);if(o===-1||o+i!==r){break}if(o===0){return""}r=o}return e.substring(0,r)}o.rtrim=d;function h(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}o.convertSimple2RegExpPattern=h;function f(e){return e.replace(/\*/g,"")}o.stripWildcards=f;function p(e,t){if(e.length<t.length){return false}for(var i=0;i<t.length;i++){if(e[i]!==t[i]){return false}}return true}o.startsWith=p;function g(e,t){var i=e.length-t.length;if(i>0){return e.indexOf(t,i)===i}else if(i===0){return e===t}else{return false}}o.endsWith=g;function v(e,t,i){if(i===void 0){i={}}if(!e){throw new Error("Cannot create regex from empty string")}if(!t){e=u(e)}if(i.wholeWord){if(!/\B/.test(e.charAt(0))){e="\\b"+e}if(!/\B/.test(e.charAt(e.length-1))){e=e+"\\b"}}var n="";if(i.global){n+="g"}if(!i.matchCase){n+="i"}if(i.multiline){n+="m"}return new RegExp(e,n)}o.createRegExp=v;function m(e){if(e.source==="^"||e.source==="^$"||e.source==="$"||e.source==="^\\s*$"){return false}var t=e.exec("");return t&&e.lastIndex===0}o.regExpLeadsToEndlessLoop=m;function _(e){return!!e.match(/([^\\]|^)(\\\\)*\\\d+/)}o.regExpContainsBackreference=_;o.canNormalize=typeof"".normalize==="function";var y=new t.LRUCache(1e4);function C(e){return E(e,"NFC",y)}o.normalizeNFC=C;var b=new t.LRUCache(1e4);function S(e){return E(e,"NFD",b)}o.normalizeNFD=S;var w=/[^\u0000-\u0080]/;function E(e,t,i){if(!o.canNormalize||!e){return e}var n=i.get(e);if(n){return n}var r;if(w.test(e)){r=e.normalize(t)}else{r=e}i.set(e,r);return r}function L(e){for(var t=0,i=e.length;t<i;t++){var n=e.charCodeAt(t);if(n!==32&&n!==9){return t}}return-1}o.firstNonWhitespaceIndex=L;function x(e,t,i){if(t===void 0){t=0}if(i===void 0){i=e.length}for(var n=t;n<i;n++){var r=e.charCodeAt(n);if(r!==32&&r!==9){return e.substring(t,n)}}return e.substring(t,i)}o.getLeadingWhitespace=x;function N(e,t){if(t===void 0){t=e.length-1}for(var i=t;i>=0;i--){var n=e.charCodeAt(i);if(n!==32&&n!==9){return i}}return-1}o.lastNonWhitespaceIndex=N;function I(e,t){if(e<t){return-1}else if(e>t){return 1}else{return 0}}o.compare=I;function D(e,t){var i=Math.min(e.length,t.length);for(var n=0;n<i;n++){var r=e.charCodeAt(n);var o=t.charCodeAt(n);if(r===o){continue}if(M(r)){r+=32}if(M(o)){o+=32}var s=r-o;if(s===0){continue}else if(T(r)&&T(o)){return s}else{return I(e.toLowerCase(),t.toLowerCase())}}if(e.length<t.length){return-1}else if(e.length>t.length){return 1}else{return 0}}o.compareIgnoreCase=D;function T(e){return e>=97&&e<=122}function M(e){return e>=65&&e<=90}function k(e){return T(e)||M(e)}function O(e,t){var i=e?e.length:0;var n=t?t.length:0;if(i!==n){return false}return R(e,t)}o.equalsIgnoreCase=O;function R(e,t,i){if(i===void 0){i=e.length}if(typeof e!=="string"||typeof t!=="string"){return false}for(var n=0;n<i;n++){var r=e.charCodeAt(n);var o=t.charCodeAt(n);if(r===o){continue}if(k(r)&&k(o)){var s=Math.abs(r-o);if(s!==0&&s!==32){return false}}else{if(String.fromCharCode(r).toLowerCase()!==String.fromCharCode(o).toLowerCase()){return false}}}return true}function P(e,t){var i=t.length;if(t.length>e.length){return false}return R(e,t,i)}o.beginsWithIgnoreCase=P;function A(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i++){if(e.charCodeAt(i)!==t.charCodeAt(i)){return i}}return n}o.commonPrefixLength=A;function F(e,t){var i,n=Math.min(e.length,t.length);var r=e.length-1;var o=t.length-1;for(i=0;i<n;i++){if(e.charCodeAt(r-i)!==t.charCodeAt(o-i)){return i}}return n}o.commonSuffixLength=F;function W(e,t,i,n,r,o){while(t<i&&r<o){if(e[t]!==n[r]){return false}t+=1;r+=1}return true}function B(e,t){var i=e.length;var n=t.length;var r=i-n;if(r===0){return e===t?i:0}else if(r<0){n+=r;r=0}while(r<i&&n>0){if(W(e,r,i,t,0,n)){return n}n-=1;r+=1}return 0}o.overlap=B;function V(e){return 55296<=e&&e<=56319}o.isHighSurrogate=V;function H(e){return 56320<=e&&e<=57343}o.isLowSurrogate=H;var z=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function K(e){return z.test(e)}o.containsRTL=K;var U=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEF8]|\uD83E[\uDD00-\uDDE6])/;function j(e){return U.test(e)}o.containsEmoji=j;var q=/^[\t\n\r\x20-\x7E]*$/;function G(e){return q.test(e)}o.isBasicASCII=G;function Y(e){for(var t=0,i=e.length;t<i;t++){if(Z(e.charCodeAt(t))){return true}}return false}o.containsFullWidthCharacter=Y;function Z(e){e=+e;return e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}o.isFullWidthCharacter=Z;function $(e,t){if(e.length<t){return e}var i=/\b/g;var n=0;while(i.test(e)){if(e.length-i.lastIndex<t){break}n=i.lastIndex;i.lastIndex+=1}return e.substring(n).replace(/^\s/,o.empty)}o.lcut=$;var X=/\x1B\x5B[12]?K/g;var J=/\x1b\[\d+m/g;var Q=/\x1b\[0?m/g;function ee(e){if(e){e=e.replace(X,"");e=e.replace(J,"");e=e.replace(Q,"")}return e}o.removeAnsiEscapeCodes=ee;o.UTF8_BOM_CHARACTER=String.fromCharCode(65279);function te(e){return e&&e.length>0&&e.charCodeAt(0)===65279}o.startsWithUTF8BOM=te;function ie(e){return te(e)?e.substr(1):e}o.stripUTF8BOM=ie;function ne(e){return btoa(encodeURIComponent(e))}o.safeBtoa=ne;function re(e,t){var i="";for(var n=0;n<t;n++){i+=e}return i}o.repeat=re;function oe(e,t){if(!e||!t){return false}if(e.length<t.length){return false}var i=t.length;var n=e.toLowerCase();var r=0;var o=-1;while(r<i){var s=n.indexOf(t[r],o+1);if(s<0){return false}o=s;r++}return true}o.fuzzyContains=oe;function se(e,t){if(t===void 0){t=false}if(!e){return false}if(t){e=e.replace(/\\./g,"")}return e.toLowerCase()!==e}o.containsUppercaseCharacter=se});define(r[229],e([0,1,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return i.escape(e)}t.render=n;var r=function(){function e(e){this._container=e}Object.defineProperty(e.prototype,"text",{set:function(e){this._container.innerHTML=n(e||"")},enumerable:true,configurable:true});return e}();t.OcticonLabel=r});define(r[110],e([0,1,5,75]),function(e,o,s,t){"use strict";Object.defineProperty(o,"__esModule",{value:true});function i(){var o=[];for(var e=0;e<arguments.length;e++){o[e]=arguments[e]}return function(e,t){for(var i=0,n=o.length;i<n;i++){var r=o[i](e,t);if(r){return r}}return null}}o.or=i;o.matchesStrictPrefix=n.bind(undefined,false);o.matchesPrefix=n.bind(undefined,true);function n(e,t,i){if(!i||i.length<t.length){return null}var n;if(e){n=s.beginsWithIgnoreCase(i,t)}else{n=i.indexOf(t)===0}if(!n){return null}return t.length>0?[{start:0,end:t.length}]:[]}function r(e,t){var i=t.toLowerCase().indexOf(e.toLowerCase());if(i===-1){return null}return[{start:i,end:i+e.length}]}o.matchesContiguousSubString=r;function a(e,t){return u(e.toLowerCase(),t.toLowerCase(),0,0)}o.matchesSubString=a;function u(e,t,i,n){if(i===e.length){return[]}else if(n===t.length){return null}else{if(e[i]===t[n]){var r=null;if(r=u(e,t,i+1,n+1)){return c({start:n,end:n+1},r)}return null}return u(e,t,i,n+1)}}function d(e){return 97<=e&&e<=122}function h(e){return 65<=e&&e<=90}o.isUpper=h;function f(e){return 48<=e&&e<=57}function l(e){return e===32||e===9||e===10||e===13}function p(e){return d(e)||h(e)||f(e)}function c(e,t){if(t.length===0){t=[e]}else if(e.end===t[0].start){t[0].start=e.start}else{t.unshift(e)}return t}function g(e,t){for(var i=t;i<e.length;i++){var n=e.charCodeAt(i);if(h(n)||f(n)||i>0&&!p(e.charCodeAt(i-1))){return i}}return e.length}function v(e,t,i,n){if(i===e.length){return[]}else if(n===t.length){return null}else if(e[i]!==t[n].toLowerCase()){return null}else{var r=null;var o=n+1;r=v(e,t,i+1,n+1);while(!r&&(o=g(t,o))<t.length){r=v(e,t,i+1,o);o++}return r===null?null:c({start:n,end:n+1},r)}}function m(e){var t=0,i=0,n=0,r=0,o=0;for(var s=0;s<e.length;s++){o=e.charCodeAt(s);if(h(o)){t++}if(d(o)){i++}if(p(o)){n++}if(f(o)){r++}}var a=t/e.length;var u=i/e.length;var l=n/e.length;var c=r/e.length;return{upperPercent:a,lowerPercent:u,alphaPercent:l,numericPercent:c}}function _(e){var t=e.upperPercent,i=e.lowerPercent;return i===0&&t>.6}function y(e){var t=e.upperPercent,i=e.lowerPercent,n=e.alphaPercent,r=e.numericPercent;return i>.2&&t<.8&&n>.6&&r<.2}function C(e){var t=0,i=0,n=0,r=0;for(var o=0;o<e.length;o++){n=e.charCodeAt(o);if(h(n)){t++}if(d(n)){i++}if(l(n)){r++}}if((t===0||i===0)&&r===0){return e.length<=30}else{return t<=5}}function b(e,t){if(!t){return null}t=t.trim();if(t.length===0){return null}if(!C(e)){return null}if(t.length>60){return null}var i=m(t);if(!y(i)){if(!_(i)){return null}t=t.toLowerCase()}var n=null;var r=0;while(r<t.length&&(n=v(e.toLowerCase(),t,0,r))===null){r=g(t,r+1)}return n}o.matchesCamelCase=b;function S(e,t,i){if(i===void 0){i=false}if(!t||t.length===0){return null}var n=null;var r=0;while(r<t.length&&(n=w(e.toLowerCase(),t,0,r,i))===null){r=E(t,r+1)}return n}o.matchesWords=S;function w(e,t,i,n,r){if(i===e.length){return[]}else if(n===t.length){return null}else if(e[i]!==t[n].toLowerCase()){return null}else{var o=null;var s=n+1;o=w(e,t,i+1,n+1,r);if(!r){while(!o&&(s=E(t,s))<t.length){o=w(e,t,i+1,s,r);s++}}return o===null?null:c({start:n,end:n+1},o)}}function E(e,t){for(var i=t;i<e.length;i++){var n=e.charCodeAt(i);if(l(n)||i>0&&l(e.charCodeAt(i-1))){return i}}return e.length}o.fuzzyContiguousFilter=i(o.matchesPrefix,b,r);var L=i(o.matchesPrefix,b,a);var x=new t.LRUCache(1e4);function N(e,t,i){if(i===void 0){i=false}if(typeof e!=="string"||typeof t!=="string"){return null}var n=x.get(e);if(!n){n=new RegExp(s.convertSimple2RegExpPattern(e),"i");x.set(e,n)}var r=n.exec(t);if(r){return[{start:r.index,end:r.index+r[0].length}]}return i?L(e,t):o.fuzzyContiguousFilter(e,t)}o.matchesFuzzy=N;function I(e,t,i){e=e.toLowerCase();t=t.toLowerCase();var n=[];var r=0;for(var o=0;o<e.length;++o){var s=t.indexOf(e.charAt(o),r);if(s>=0){n.push(s);r=s+1}}return[n.length,n]}o.skipScore=I;function D(e){var t=[];if(!e){return t}var i;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(i&&i.end===o){i.end+=1}else{i={start:o,end:o+1};t.push(i)}}return t}o.createMatches=D;function T(){var e=[];var t=[0];for(var i=1;i<=100;i++){t.push(-i)}for(var i=0;i<=100;i++){var n=t.slice(0);n[0]=-i;e.push(n)}return e}var M=T();var k=T();var O=T();var R=false;function P(e,t,i,n,r){function o(e,t,i){if(i===void 0){i=" "}while(e.length<t){e=i+e}return e}var s=" |   |"+n.split("").map(function(e){return o(e,3)}).join("|")+"\n";for(var a=0;a<=i;a++){if(a===0){s+=" |"}else{s+=t[a-1]+"|"}s+=e[a].slice(0,r+1).map(function(e){return o(e.toString(),3)}).join("|")+"\n"}return s}function A(e,t){if(t<0||t>=e.length){return false}var i=e.charCodeAt(t);switch(i){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:return true;default:return false}}function F(e,t){if(t<0||t>=e.length){return false}var i=e.charCodeAt(t);switch(i){case 32:case 9:return true;default:return false}}var W;(function(e){e[e["Top"]=1]="Top";e[e["Diag"]=2]="Diag";e[e["Left"]=4]="Left"})(W||(W={}));function B(e,t,i){var n=e.length>100?100:e.length;var r=t.length>100?100:t.length;var o=0;if(i===undefined){i=n}while(o<i){if(F(e,o)){o+=1}else{break}}if(o===n){return[-100,[]]}if(n>r){return undefined}var s=e.toLowerCase();var a=t.toLowerCase();var u=o;var l=0;while(u<n&&l<r){if(s[u]===a[l]){u+=1}l+=1}if(u!==n){return undefined}for(u=o+1;u<=n;u++){for(l=1;l<=r;l++){var c=-1;var d=a[l-1];if(s[u-1]===d){if(l===u-o){if(e[u-1]===t[l-1]){c=7}else{c=5}}else if(d!==t[l-1]){if(e[u-1]===t[l-1]){c=7}else{c=5}}else if(A(a,l-2)||F(a,l-2)){c=5}else{c=1}}k[u][l]=c;var h=M[u-1][l-1]+(c>1?1:c);var f=M[u-1][l]+-1;var p=M[u][l-1]+-1;if(p>=f){if(p>h){M[u][l]=p;O[u][l]=4}else if(p===h){M[u][l]=p;O[u][l]=4|2}else{M[u][l]=h;O[u][l]=2}}else{if(f>h){M[u][l]=f;O[u][l]=1}else if(f===h){M[u][l]=f;O[u][l]=1|2}else{M[u][l]=h;O[u][l]=2}}}}if(R){console.log(P(M,e,n,t,r));console.log(P(O,e,n,t,r));console.log(P(k,e,n,t,r))}V=0;z=-100;K=o;U(n,r,n===r?1:0,new j,false);if(V===0){return undefined}return[z,H.toArray()]}o.fuzzyScore=B;var V=0;var H;var z=0;var K=0;function U(e,t,i,n,r){if(V>=10||i<-25){return}var o=0;while(e>K&&t>0){var s=k[e][t];var a=O[e][t];if(a===4){t-=1;if(r){i-=5}else if(!n.isEmpty()){i-=1}r=false;o=0}else if(a&2){if(a&4){U(e,t-1,!n.isEmpty()?i-1:i,n.slice(),r)}i+=s;e-=1;t-=1;n.unshift(t);r=true;if(s===1){o+=1;if(e===K){return undefined}}else{i+=1+o*(s-1);o=0}}else{return undefined}}i-=t>=3?9:t*3;V+=1;if(i>z){z=i;H=n}}var j=function(){function t(){}t.prototype.isEmpty=function(){return!this._data&&(!this._parent||this._parent.isEmpty())};t.prototype.unshift=function(e){if(!this._data){this._data=[e]}else{this._data.unshift(e)}};t.prototype.slice=function(){var e=new t;e._parent=this;e._parentLen=this._data?this._data.length:0;return e};t.prototype.toArray=function(){if(!this._data){return this._parent.toArray()}var e=[];var t=this;while(t){if(t._parent&&t._parent._data){e.push(t._parent._data.slice(t._parent._data.length-t._parentLen))}t=t._parent}return Array.prototype.concat.apply(this._data,e)};return t}();function q(e,t,i){return Y(e,t,true,i)}o.fuzzyScoreGracefulAggressive=q;function G(e,t,i){return Y(e,t,false,i)}o.fuzzyScoreGraceful=G;function Y(e,t,i,n){var r=B(e,t,n);if(r&&!i){return r}if(e.length>=3){var o=Math.min(7,e.length-1);for(var s=1;s<o;s++){var a=Z(e,s);if(a){var u=B(a,t,n);if(u){u[0]-=3;if(!r||u[0]>r[0]){r=u}}}}}return r}function Z(e,t){if(t+1>=e.length){return undefined}var i=e[t];var n=e[t+1];if(i===n){return undefined}return e.slice(0,t)+n+i+e.slice(t+2)}});define(r[41],e([0,1,15,5]),function(e,o,f,s){"use strict";Object.defineProperty(o,"__esModule",{value:true});o.sep="/";o.nativeSep=f.isWindows?"\\":"/";function t(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");if(t===0){return"."}else if(~t===0){return e[0]}else{var i=e.substring(0,~t);if(f.isWindows&&i[i.length-1]===":"){i+=o.nativeSep}return i}}o.dirname=t;function i(e){var t=~e.lastIndexOf("/")||~e.lastIndexOf("\\");if(t===0){return e}else if(~t===e.length-1){return i(e.substring(0,e.length-1))}else{return e.substr(~t+1)}}o.basename=i;function n(e){e=i(e);var t=~e.lastIndexOf(".");return t?e.substring(~t):""}o.extname=n;var r=/(\/\.\.?\/)|(\/\.\.?)$|^(\.\.?\/)|(\/\/+)|(\\)/;var a=/(\\\.\.?\\)|(\\\.\.?)$|^(\.\.?\\)|(\\\\+)|(\/)/;function p(e,t){return t?!a.test(e):!r.test(e)}function u(e,t){if(e===null||e===void 0){return e}var i=e.length;if(i===0){return"."}var n=f.isWindows&&t;if(p(e,n)){return e}var r=n?"\\":"/";var o=v(e,r);var s=o.length;var a=false;var u="";for(var l=o.length;l<=i;l++){if(l===i||e.charCodeAt(l)===47||e.charCodeAt(l)===92){if(g(e,s,l,"..")){var c=u.lastIndexOf(r);var d=u.slice(c+1);if((o||d.length>0)&&d!==".."){u=c===-1?"":u.slice(0,c);a=true}}else if(g(e,s,l,".")&&(o||u||l<i-1)){a=true}if(!a){var h=e.slice(s,l);if(u!==""&&u[u.length-1]!==r){u+=r}u+=h}s=l+1;a=false}}return o+u}o.normalize=u;function g(e,t,i,n){return t+n.length===i&&e.indexOf(n,t)===t}function v(e,t){if(t===void 0){t="/"}if(!e){return""}var i=e.length;var n=e.charCodeAt(0);if(n===47||n===92){n=e.charCodeAt(1);if(n===47||n===92){n=e.charCodeAt(2);if(n!==47&&n!==92){var r=3;var o=r;for(;r<i;r++){n=e.charCodeAt(r);if(n===47||n===92){break}}n=e.charCodeAt(r+1);if(o!==r&&n!==47&&n!==92){r+=1;for(;r<i;r++){n=e.charCodeAt(r);if(n===47||n===92){return e.slice(0,r+1).replace(/[\\/]/g,t)}}}}}return t}else if(n>=65&&n<=90||n>=97&&n<=122){if(e.charCodeAt(1)===58){n=e.charCodeAt(2);if(n===47||n===92){return e.slice(0,2)+t}else{return e.slice(0,2)}}}var s=e.indexOf("://");if(s!==-1){s+=3;for(;s<i;s++){n=e.charCodeAt(s);if(n===47||n===92){return e.slice(0,s+1)}}}return""}o.getRoot=v;o.join=function(){var e="";for(var t=0;t<arguments.length;t++){var i=arguments[t];if(t>0){var n=e.charCodeAt(e.length-1);if(n!==47&&n!==92){var r=i.charCodeAt(0);if(r!==47&&r!==92){e+=o.sep}}}e+=i}return u(e)};function l(e){if(!f.isWindows){return false}if(!e||e.length<5){return false}var t=e.charCodeAt(0);if(t!==92){return false}t=e.charCodeAt(1);if(t!==92){return false}var i=2;var n=i;for(;i<e.length;i++){t=e.charCodeAt(i);if(t===92){break}}if(n===i){return false}t=e.charCodeAt(i+1);if(isNaN(t)||t===92){return false}return true}o.isUNC=l;var c=f.isWindows?/[\\/:\*\?"<>\|]/g:/[\\/]/g;var d=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])$/i;function h(e){if(!e||e.length===0||/^\s+$/.test(e)){return false}c.lastIndex=0;if(c.test(e)){return false}if(f.isWindows&&d.test(e)){return false}if(e==="."||e===".."){return false}if(f.isWindows&&e[e.length-1]==="."){return false}if(f.isWindows&&e.length!==e.trim().length){return false}return true}o.isValidBasename=h;function m(e,t,i){var n=e===t;if(!i||n){return n}if(!e||!t){return false}return s.equalsIgnoreCase(e,t)}o.isEqual=m;function _(e,t,i){if(e===t){return true}if(!e||!t){return false}if(t.length>e.length){return false}if(i){var n=s.beginsWithIgnoreCase(e,t);if(!n){return false}if(t.length===e.length){return true}var r=t.length;if(t.charAt(t.length-1)===o.nativeSep){r--}return e.charAt(r)===o.nativeSep}if(t.charAt(t.length-1)!==o.nativeSep){t+=o.nativeSep}return e.indexOf(t)===0}o.isEqualOrParent=_;function y(e){return f.isWindows?C(e):b(e)}o.isAbsolute=y;function C(e){if(!e){return false}var t=e.charCodeAt(0);if(t===47||t===92){return true}else if(t>=65&&t<=90||t>=97&&t<=122){if(e.length>2&&e.charCodeAt(1)===58){var i=e.charCodeAt(2);if(i===47||i===92){return true}}}return false}o.isAbsolute_win32=C;function b(e){return e&&e.charCodeAt(0)===47}o.isAbsolute_posix=b});define(r[418],e([0,1,5,41]),function(e,t,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c;var h;function i(e){c=e;h=e.resolvedOptions().numeric}t.setFileNameComparer=i;function f(e,t,i){if(i===void 0){i=false}if(c){var n=e||"";var r=t||"";var o=c.compare(n,r);if(h&&o===0&&n!==r){return n<r?-1:1}return o}return s(e,t,i)}t.compareFileNames=f;var n=/^(.*?)(\.([^.]*))?$/;function s(e,t,i){if(i===void 0){i=false}if(!i){e=e&&e.toLowerCase();t=t&&t.toLowerCase()}var n=g(e),r=n[0],o=n[1];var s=g(t),a=s[0],u=s[1];if(r!==a){return r<a?-1:1}if(o===u){return 0}return o<u?-1:1}t.noIntlCompareFileNames=s;function r(e,t){if(c){var i=g(e),n=i[0],r=i[1];var o=g(t),s=o[0],a=o[1];var u=c.compare(r,a);if(u===0){if(h&&r!==a){return r<a?-1:1}u=c.compare(n,s);if(h&&u===0&&n!==s){return n<s?-1:1}}return u}return p(e,t)}t.compareFileExtensions=r;function p(e,t){var i=g(e&&e.toLowerCase()),n=i[0],r=i[1];var o=g(t&&t.toLowerCase()),s=o[0],a=o[1];if(r!==a){return r<a?-1:1}if(n===s){return 0}return n<s?-1:1}function g(e){var t=e?n.exec(e):[];return[t&&t[1]||"",t&&t[3]||""]}function v(e,t,i){if(i===void 0){i=false}if(!i){e=e&&e.toLowerCase();t=t&&t.toLowerCase()}if(e===t){return 0}return e<t?-1:1}function o(e,t,i){if(i===void 0){i=false}var n=e.split(d.nativeSep);var r=t.split(d.nativeSep);var o=n.length-1;var s=r.length-1;var a,u;for(var l=0;;l++){a=o===l;u=s===l;if(a&&u){return f(n[l],r[l],i)}else if(a){return-1}else if(u){return 1}var c=v(n[l],r[l],i);if(c!==0){return c}}}t.comparePaths=o;function a(e,t,i){var n=e.toLowerCase();var r=t.toLowerCase();var o=m(e,t,i);if(o){return o}var s=l.endsWith(n,i);var a=l.endsWith(r,i);if(s!==a){return s?-1:1}var u=f(n,r);if(u!==0){return u}return n.localeCompare(r)}t.compareAnything=a;function m(e,t,i){var n=e.toLowerCase();var r=t.toLowerCase();var o=l.startsWith(n,i);var s=l.startsWith(r,i);if(o!==s){return o?-1:1}else if(o&&s){if(n.length<r.length){return-1}if(n.length>r.length){return 1}}return 0}t.compareByPrefix=m});define(r[108],e([0,1,30,15,41,5,67]),function(e,t,u,l,g,v,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t,i){if(!e){return null}if(typeof e==="string"){e=u.default.file(e)}if(e.scheme!==c.Schemas.file&&e.scheme!==c.Schemas.untitled){return e.with({query:null,fragment:null}).toString(true)}var n=t?t.getWorkspaceFolder(e):null;if(n){var r=t.getWorkspace().folders.length>1;var o=void 0;if(g.isEqual(n.uri.fsPath,e.fsPath,!l.isLinux)){o=""}else{o=g.normalize(v.ltrim(e.fsPath.substr(n.uri.fsPath.length),g.nativeSep),true)}if(r){var s=g.basename(n.uri.fsPath);o=o?g.join(s,o):s}return o}if(d(e.fsPath)){return g.normalize(h(e.fsPath),true)}var a=g.normalize(e.fsPath,true);if(!l.isWindows&&i){a=f(a,i.userHome)}return a}t.getPathLabel=i;function n(e){if(!e){return null}if(typeof e==="string"){e=u.default.file(e)}var t=g.basename(e.fsPath)||e.fsPath;if(d(t)){return h(t)}return t}t.getBaseLabel=n;function d(e){return l.isWindows&&e&&e[1]===":"}function h(e){if(d(e)){return e.charAt(0).toUpperCase()+e.slice(1)}return e}t.normalizeDriveLetter=h;function f(e,t){if(e&&(l.isMacintosh||l.isLinux)&&g.isEqualOrParent(e,t,!l.isLinux)){e="~"+e.substr(t.length)}return e}t.tildify=f;function r(e,t){return e.replace(/^~($|\/|\\)/,t+"$1")}t.untildify=r;var m="…";var _="\\\\";var y="~";function o(e){var t=new Array(e.length);var i=false;for(var n=0;n<e.length;n++){var r=e[n];if(r===""){t[n]="."+g.nativeSep;continue}if(!r){t[n]=r;continue}i=true;var o="";if(r.indexOf(_)===0){o=r.substr(0,r.indexOf(_)+_.length);r=r.substr(r.indexOf(_)+_.length)}else if(r.indexOf(g.nativeSep)===0){o=r.substr(0,r.indexOf(g.nativeSep)+g.nativeSep.length);r=r.substr(r.indexOf(g.nativeSep)+g.nativeSep.length)}else if(r.indexOf(y)===0){o=r.substr(0,r.indexOf(y)+y.length);r=r.substr(r.indexOf(y)+y.length)}var s=r.split(g.nativeSep);for(var a=1;i&&a<=s.length;a++){for(var u=s.length-a;i&&u>=0;u--){i=false;var l=s.slice(u,u+a).join(g.nativeSep);for(var c=0;!i&&c<e.length;c++){if(c!==n&&e[c]&&e[c].indexOf(l)>-1){var d=u+a===s.length;var h=u>0&&e[c].indexOf(g.nativeSep)>-1?g.nativeSep+l:l;var f=v.endsWith(e[c],h);i=!d||f}}if(!i){var p="";if(v.endsWith(s[0],":")||o!==""){if(u===1){u=0;a++;l=s[0]+g.nativeSep+l}if(u>0){p=s[0]+g.nativeSep}p=o+p}if(u>0){p=p+m+g.nativeSep}p=p+l;if(u+a<s.length){p=p+g.nativeSep+m}t[n]=p}}}if(i){t[n]=r}}return t}t.shorten=o;var p;(function(e){e[e["TEXT"]=0]="TEXT";e[e["VARIABLE"]=1]="VARIABLE";e[e["SEPARATOR"]=2]="SEPARATOR"})(p||(p={}));function s(e,t){if(t===void 0){t=Object.create(null)}var r=[];var i=false;var n;var o="";for(var s=0;s<e.length;s++){n=e[s];if(n==="$"||i&&n==="{"){if(o){r.push({value:o,type:p.TEXT})}o="";i=true}else if(n==="}"&&i){var a=t[o];if(typeof a==="string"){if(a.length){r.push({value:a,type:p.VARIABLE})}}else if(a){var u=r[r.length-1];if(!u||u.type!==p.SEPARATOR){r.push({value:a.label,type:p.SEPARATOR})}}o="";i=false}else{o+=n}}if(o&&!i){r.push({value:o,type:p.TEXT})}return r.filter(function(e,t){if(e.type===p.SEPARATOR){var i=r[t-1];var n=r[t+1];return[i,n].every(function(e){return e&&e.type===p.VARIABLE&&e.value.length>0})}return true}).map(function(e){return e.value}).join("")}t.template=s;function a(e,t){if(l.isMacintosh||t){return e.replace(/\(&&\w\)|&&/g,"")}return e.replace(/&&/g,"&")}t.mnemonicMenuLabel=a;function C(e){if(l.isMacintosh){return e.replace(/\(&&\w\)|&&/g,"")}return e.replace(/&&/g,l.isWindows?"&":"_")}t.mnemonicButtonLabel=C;function b(e){return e.replace(/&/g,"&&")}t.unmnemonicLabel=b});define(r[169],e([0,1,41,5]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e){return n.basename(e.fsPath)||e.authority}t.basenameOrAuthority=i;function o(e,t,i){if(e.scheme===t.scheme&&e.authority===t.authority){return n.isEqualOrParent(e.fsPath,t.fsPath,i)}return false}t.isEqualOrParent=o;function s(e,t,i){var n=e===t;if(n){return true}if(!e||!t){return false}if(i){return r.equalsIgnoreCase(e.toString(),t.toString())}return e.toString()===t.toString()}t.isEqual=s;function a(e){var t=n.dirname(e.path);if(e.authority&&t&&!n.isAbsolute(t)){return null}return e.with({path:t})}t.dirname=a;function u(e,r){var t=[];var i=function(i){var n=r(e[i]);if(e.some(function(e,t){if(t===i){return false}return o(n,r(e))})){return"continue"}t.push(e[i])};for(var n=0;n<e.length;n++){i(n)}return t}t.distinctParents=u});var n;(function(){var a=Object.create(null);a["WinJS/Core/_WinJS"]={};var e=function(e,t,i){var n={};var r=false;var o=t.map(function(e){if(e==="exports"){r=true;return n}return a[e]});var s=i.apply({},o);a[e]=r?n:s};e("WinJS/Core/_Global",[],function(){"use strict";var e=typeof window!=="undefined"?window:typeof self!=="undefined"?self:typeof global!=="undefined"?global:{};return e});e("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function e(t){"use strict";var i=!!t.Windows;function n(e){e.supportedForProcessing=true;return e}var r=null;return{hasWinRT:i,markSupportedForProcessing:n,_setImmediate:function(e){if(r===null){if(t.setImmediate){r=t.setImmediate.bind(t)}else if(typeof process!=="undefined"&&typeof process.nextTick==="function"){r=process.nextTick.bind(process)}else{r=t.setTimeout.bind(t)}}r(e)}}});e("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function e(t){"use strict";return t.msWriteProfilerMark||function(){}});e("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function e(a,u,s,l){"use strict";function c(e,t,i){var n=Object.keys(t);var r=Array.isArray(e);var o;var s,a;for(s=0,a=n.length;s<a;s++){var u=n[s];var l=u.charCodeAt(0)!==95;var c=t[u];if(c&&typeof c==="object"){if(c.value!==undefined||typeof c.get==="function"||typeof c.set==="function"){if(c.enumerable===undefined){c.enumerable=l}if(i&&c.setName&&typeof c.setName==="function"){c.setName(i+"."+u)}o=o||{};o[u]=c;continue}}if(!l){o=o||{};o[u]={value:c,enumerable:l,configurable:true,writable:true};continue}if(r){e.forEach(function(e){e[u]=c})}else{e[u]=c}}if(o){if(r){e.forEach(function(e){Object.defineProperties(e,o)})}else{Object.defineProperties(e,o)}}}(function(){var e=a;if(!e.Namespace){e.Namespace=Object.create(Object.prototype)}function o(e,t){var i=e||{};if(t){var n=t.split(".");if(i===u&&n[0]==="WinJS"){i=a;n.splice(0,1)}for(var r=0,o=n.length;r<o;r++){var s=n[r];if(!i[s]){Object.defineProperty(i,s,{value:{},writable:false,enumerable:true,configurable:true})}i=i[s]}}return i}function i(e,t,i){var n=o(e,t);if(i){c(n,i,t||"<ANONYMOUS>")}return n}function t(e,t){return i(u,e,t)}var r={uninitialized:1,working:2,initialized:3};function n(e){var t;var i=r.uninitialized;var n;return{setName:function(e){t=e},get:function(){switch(i){case r.initialized:return n;case r.uninitialized:i=r.working;try{l("WinJS.Namespace._lazy:"+t+",StartTM");n=e()}finally{l("WinJS.Namespace._lazy:"+t+",StopTM");i=r.uninitialized}e=null;i=r.initialized;return n;case r.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(i){case r.working:throw"Illegal: reentrancy on initialization";default:i=r.initialized;n=e;break}},enumerable:true,configurable:true}}function s(e,t,i){var n=[e];var r=null;if(t){r=o(u,t);n.push(r)}c(n,i,t||"<ANONYMOUS>");return r}Object.defineProperties(e.Namespace,{defineWithParent:{value:i,writable:true,enumerable:true,configurable:true},define:{value:t,writable:true,enumerable:true,configurable:true},_lazy:{value:n,writable:true,enumerable:true,configurable:true},_moduleDefine:{value:s,writable:true,enumerable:true,configurable:true}})})();(function(){function o(e,t,i){e=e||function(){};s.markSupportedForProcessing(e);if(t){c(e.prototype,t)}if(i){c(e,i)}return e}function e(e,t,i,n){if(e){t=t||function(){};var r=e.prototype;t.prototype=Object.create(r);s.markSupportedForProcessing(t);Object.defineProperty(t.prototype,"constructor",{value:t,writable:true,configurable:true,enumerable:true});if(i){c(t.prototype,i)}if(n){c(t,n)}return t}else{return o(t,i,n)}}function t(e){e=e||function(){};var t,i;for(t=1,i=arguments.length;t<i;t++){c(e.prototype,arguments[t])}return e}a.Namespace.define("WinJS.Class",{define:o,derive:e,mix:t})})();return{Namespace:a.Namespace,Class:a.Class}});e("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function e(t){"use strict";var i=t.Class.derive(Error,function(e,t){this.name=e;this.message=t||e},{},{supportedForProcessing:false});t.Namespace.define("WinJS",{ErrorFromName:i});return i});e("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function e(t,i){"use strict";function r(i){var n="_on"+i+"state";return{get:function(){var e=this[n];return e&&e.userHandler},set:function(e){var t=this[n];if(e){if(!t){t={wrapper:function(e){return t.userHandler(e)},userHandler:e};Object.defineProperty(this,n,{value:t,enumerable:false,writable:true,configurable:true});this.addEventListener(i,t.wrapper,false)}t.userHandler=e}else if(t){this.removeEventListener(i,t.wrapper,false);this[n]=null}},enumerable:true}}function n(){var e={};for(var t=0,i=arguments.length;t<i;t++){var n=arguments[t];e["on"+n]=r(n)}return e}var s=i.Class.define(function e(t,i,n){this.detail=i;this.target=n;this.timeStamp=Date.now();this.type=t},{bubbles:{value:false,writable:false},cancelable:{value:false,writable:false},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:false,writable:false},eventPhase:{value:0,writable:false},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=true},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=true},stopPropagation:function(){}},{supportedForProcessing:false});var o={_listeners:null,addEventListener:function(e,t,i){i=i||false;this._listeners=this._listeners||{};var n=this._listeners[e]=this._listeners[e]||[];for(var r=0,o=n.length;r<o;r++){var s=n[r];if(s.useCapture===i&&s.listener===t){return}}n.push({listener:t,useCapture:i})},dispatchEvent:function(e,t){var i=this._listeners&&this._listeners[e];if(i){var n=new s(e,t,this);i=i.slice(0,i.length);for(var r=0,o=i.length;r<o&&!n._stopImmediatePropagationCalled;r++){i[r].listener(n)}return n.defaultPrevented||false}return false},removeEventListener:function(e,t,i){i=i||false;var n=this._listeners&&this._listeners[e];if(n){for(var r=0,o=n.length;r<o;r++){var s=n[r];if(s.listener===t&&s.useCapture===i){n.splice(r,1);if(n.length===0){delete this._listeners[e]}break}}}}};i.Namespace._moduleDefine(t,"WinJS.Utilities",{_createEventProperty:r,createEventProperties:n,eventMixin:o})});e("WinJS/Core/_Trace",["WinJS/Core/_Global"],function e(t){"use strict";function i(e){return e}return{_traceAsyncOperationStarting:t.Debug&&t.Debug.msTraceAsyncOperationStarting&&t.Debug.msTraceAsyncOperationStarting.bind(t.Debug)||i,_traceAsyncOperationCompleted:t.Debug&&t.Debug.msTraceAsyncOperationCompleted&&t.Debug.msTraceAsyncOperationCompleted.bind(t.Debug)||i,_traceAsyncCallbackStarting:t.Debug&&t.Debug.msTraceAsyncCallbackStarting&&t.Debug.msTraceAsyncCallbackStarting.bind(t.Debug)||i,_traceAsyncCallbackCompleted:t.Debug&&t.Debug.msTraceAsyncCallbackCompleted&&t.Debug.msTraceAsyncCallbackCompleted.bind(t.Debug)||i}});e("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function e(d,n,t,i,r,h){"use strict";d.Debug&&(d.Debug.setNonUserCodeExceptions=true);var o=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:false}),r.eventMixin);var s=new o;s._listeners={};var a="error";var f="Canceled";var u=false;var l={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};l.all=l.promise|l.thenPromise|l.errorPromise|l.exceptionPromise|l.completePromise;var c=1;var p,g,v,m,_,y,C,b,S,w;function E(){}p={name:"created",enter:function(e){e._setState(g)},cancel:E,done:E,then:E,_completed:E,_error:E,_notify:E,_progress:E,_setCompleteValue:E,_setErrorValue:E};g={name:"working",enter:E,cancel:function(e){e._setState(_)},done:k,then:z,_completed:x,_error:O,_notify:E,_progress:F,_setCompleteValue:H,_setErrorValue:V};v={name:"waiting",enter:function(t){var i=t._value;if(i instanceof K&&i._state!==w&&i._state!==b){W(i,{promise:t})}else{var n=function(e){if(i._errorId){t._chainedError(e,i)}else{A(t,e,I,i,n);t._error(e)}};n.handlesOnError=true;i.then(t._completed.bind(t),n,t._progress.bind(t))}},cancel:function(e){e._setState(m)},done:k,then:z,_completed:x,_error:O,_notify:E,_progress:F,_setCompleteValue:H,_setErrorValue:V};m={name:"waiting_canceled",enter:function(e){e._setState(y);var t=e._value;if(t.cancel){t.cancel()}},cancel:E,done:k,then:z,_completed:x,_error:O,_notify:E,_progress:F,_setCompleteValue:H,_setErrorValue:V};_={name:"canceled",enter:function(e){e._setState(y);e._cancelAction()},cancel:E,done:k,then:z,_completed:x,_error:O,_notify:E,_progress:F,_setCompleteValue:H,_setErrorValue:V};y={name:"canceling",enter:function(e){var t=new Error(f);t.name=t.message;e._value=t;e._setState(S)},cancel:E,done:E,then:E,_completed:E,_error:E,_notify:E,_progress:E,_setCompleteValue:E,_setErrorValue:E};C={name:"complete_notify",enter:function(e){e.done=q.prototype.done;e.then=q.prototype.then;if(e._listeners){var t=[e];var i;while(t.length){i=t.shift();i._state._notify(i,t)}}e._setState(b)},cancel:E,done:null,then:null,_completed:E,_error:E,_notify:R,_progress:E,_setCompleteValue:E,_setErrorValue:E};b={name:"success",enter:function(e){e.done=q.prototype.done;e.then=q.prototype.then;e._cleanupAction()},cancel:E,done:null,then:null,_completed:E,_error:E,_notify:R,_progress:E,_setCompleteValue:E,_setErrorValue:E};S={name:"error_notify",enter:function(e){e.done=U.prototype.done;e.then=U.prototype.then;if(e._listeners){var t=[e];var i;while(t.length){i=t.shift();i._state._notify(i,t)}}e._setState(w)},cancel:E,done:null,then:null,_completed:E,_error:E,_notify:P,_progress:E,_setCompleteValue:E,_setErrorValue:E};w={name:"error",enter:function(e){e.done=U.prototype.done;e.then=U.prototype.then;e._cleanupAction()},cancel:E,done:null,then:null,_completed:E,_error:E,_notify:P,_progress:E,_setCompleteValue:E,_setErrorValue:E};var L=t.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this);this._run()},done:function e(t,i,n){this._state.done(this,t,i,n)},then:function e(t,i,n){return this._state.then(this,t,i,n)},_chainedError:function(e,t){var i=this._state._error(this,e,D,t);this._run();return i},_completed:function(e){var t=this._state._completed(this,e);this._run();return t},_error:function(e){var t=this._state._error(this,e,T);this._run();return t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e);this._run()},_setChainedErrorValue:function(e,t){var i=this._state._setErrorValue(this,e,D,t);this._run();return i},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,M);this._run();return t},_run:function(){while(this._nextState){this._state=this._nextState;this._nextState=null;this._state.enter(this)}}},{supportedForProcessing:false});function x(e,t){var i;if(t&&typeof t==="object"&&typeof t.then==="function"){i=v}else{i=C}e._value=t;e._setState(i)}function N(e,t,i,n,r,o){return{exception:e,error:t,promise:i,handler:o,id:n,parent:r}}function I(e,t,i,n){var r=i._isException;var o=i._errorId;return N(r?t:null,r?null:t,e,o,i,n)}function D(e,t,i){var n=i._isException;var r=i._errorId;B(e,r,n);return N(n?t:null,n?null:t,e,r,i)}function T(e,t){var i=++c;B(e,i);return N(null,t,e,i)}function M(e,t){var i=++c;B(e,i,true);return N(t,null,e,i)}function k(e,t,i,n){var r=h._traceAsyncOperationStarting("WinJS.Promise.done");W(e,{c:t,e:i,p:n,asyncOpID:r})}function O(e,t,i,n){e._value=t;A(e,t,i,n);e._setState(S)}function R(e,t){var i=e._value;var n=e._listeners;if(!n){return}e._listeners=null;var r,o;for(r=0,o=Array.isArray(n)?n.length:1;r<o;r++){var s=o===1?n:n[r];var a=s.c;var u=s.promise;h._traceAsyncOperationCompleted(s.asyncOpID,d.Debug&&d.Debug.MS_ASYNC_OP_STATUS_SUCCESS);if(u){h._traceAsyncCallbackStarting(s.asyncOpID);try{u._setCompleteValue(a?a(i):i)}catch(e){u._setExceptionValue(e)}finally{h._traceAsyncCallbackCompleted()}if(u._state!==v&&u._listeners){t.push(u)}}else{q.prototype.done.call(e,a)}}}function P(e,t){var i=e._value;var n=e._listeners;if(!n){return}e._listeners=null;var r,o;for(r=0,o=Array.isArray(n)?n.length:1;r<o;r++){var s=o===1?n:n[r];var a=s.e;var u=s.promise;var l=d.Debug&&(i&&i.name===f?d.Debug.MS_ASYNC_OP_STATUS_CANCELED:d.Debug.MS_ASYNC_OP_STATUS_ERROR);h._traceAsyncOperationCompleted(s.asyncOpID,l);if(u){var c=false;try{if(a){h._traceAsyncCallbackStarting(s.asyncOpID);c=true;if(!a.handlesOnError){A(u,i,I,e,a)}u._setCompleteValue(a(i))}else{u._setChainedErrorValue(i,e)}}catch(e){u._setExceptionValue(e)}finally{if(c){h._traceAsyncCallbackCompleted()}}if(u._state!==v&&u._listeners){t.push(u)}}else{U.prototype.done.call(e,null,a)}}}function A(e,t,i,n,r){if(s._listeners[a]){if(t instanceof Error&&t.message===f){return}s.dispatchEvent(a,i(e,t,n,r))}}function F(e,t){var i=e._listeners;if(i){var n,r;for(n=0,r=Array.isArray(i)?i.length:1;n<r;n++){var o=r===1?i:i[n];var s=o.p;if(s){try{s(t)}catch(e){}}if(!(o.c||o.e)&&o.promise){o.promise._progress(t)}}}}function W(e,t){var i=e._listeners;if(i){i=Array.isArray(i)?i:[i];i.push(t)}else{i=t}e._listeners=i}function B(e,t,i){e._isException=i||false;e._errorId=t}function V(e,t,i,n){e._value=t;A(e,t,i,n);e._setState(w)}function H(e,t){var i;if(t&&typeof t==="object"&&typeof t.then==="function"){i=v}else{i=b}e._value=t;e._setState(i)}function z(e,t,i,n){var r=new K(e);var o=h._traceAsyncOperationStarting("WinJS.Promise.then");W(e,{promise:r,c:t,e:i,p:n,asyncOpID:o});return r}var K=t.Class.derive(L,function(e){if(u&&(u===true||u&l.thenPromise)){this._stack=$._getStack()}this._creator=e;this._setState(p);this._run()},{_creator:null,_cancelAction:function(){if(this._creator){this._creator.cancel()}},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:false});var U=t.Class.define(function e(t){if(u&&(u===true||u&l.errorPromise)){this._stack=$._getStack()}this._value=t;A(this,t,T)},{cancel:function(){},done:function e(t,i){var n=this._value;if(i){try{if(!i.handlesOnError){A(null,n,I,this,i)}var r=i(n);if(r&&typeof r==="object"&&typeof r.done==="function"){r.done()}return}catch(e){n=e}}if(n instanceof Error&&n.message===f){return}$._doneHandler(n)},then:function e(t,i){if(!i){return this}var n;var r=this._value;try{if(!i.handlesOnError){A(null,r,I,this,i)}n=new q(i(r))}catch(e){if(e===r){n=this}else{n=new j(e)}}return n}},{supportedForProcessing:false});var j=t.Class.derive(U,function e(t){if(u&&(u===true||u&l.exceptionPromise)){this._stack=$._getStack()}this._value=t;A(this,t,M)},{},{supportedForProcessing:false});var q=t.Class.define(function e(t){if(u&&(u===true||u&l.completePromise)){this._stack=$._getStack()}if(t&&typeof t==="object"&&typeof t.then==="function"){var i=new K(null);i._setCompleteValue(t);return i}this._value=t},{cancel:function(){},done:function e(t){if(!t){return}try{var i=t(this._value);if(i&&typeof i==="object"&&typeof i.done==="function"){i.done()}}catch(e){$._doneHandler(e)}},then:function e(t){try{var i=t?t(this._value):this._value;return i===this._value?this:new q(i)}catch(e){return new j(e)}}},{supportedForProcessing:false});function G(t){var i;return new $(function(e){if(t){i=d.setTimeout(e,t)}else{n._setImmediate(e)}},function(){if(i){d.clearTimeout(i)}})}function Y(e,t){var i=function(){t.cancel()};var n=function(){e.cancel()};e.then(i);t.then(n,n);return t}var Z;var $=t.Class.derive(L,function e(t,i){if(u&&(u===true||u&l.promise)){this._stack=$._getStack()}this._oncancel=i;this._setState(p);this._run();try{var n=this._completed.bind(this);var r=this._error.bind(this);var o=this._progress.bind(this);t(n,r,o)}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){try{if(this._oncancel){this._oncancel()}else{throw new Error("Promise did not implement oncancel")}}catch(e){var t=e.message;var i=e.stack;s.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function e(t,i,n){s.addEventListener(t,i,n)},any:function e(s){return new $(function(i,n){var r=Object.keys(s);if(r.length===0){i()}var o=0;r.forEach(function(t){$.as(s[t]).then(function(){i({key:t,value:s[t]})},function(e){if(e instanceof Error&&e.name===f){if(++o===r.length){i($.cancel)}return}n({key:t,value:s[t]})})})},function(){var e=Object.keys(s);e.forEach(function(e){var t=$.as(s[e]);if(typeof t.cancel==="function"){t.cancel()}})})},as:function e(t){if(t&&typeof t==="object"&&typeof t.then==="function"){return t}return new q(t)},cancel:{get:function(){return Z=Z||new U(new i(f))}},dispatchEvent:function e(t,i){return s.dispatchEvent(t,i)},is:function e(t){return t&&typeof t==="object"&&typeof t.then==="function"},join:function e(d){return new $(function(n,r,o){var s=Object.keys(d);var a=Array.isArray(d)?[]:{};var u=Array.isArray(d)?[]:{};var i=0;var l=s.length;var c=function(e){if(--l===0){var t=Object.keys(a).length;if(t===0){n(u)}else{var i=0;s.forEach(function(e){var t=a[e];if(t instanceof Error&&t.name===f){i++}});if(i===t){n($.cancel)}else{r(a)}}}else{o({Key:e,Done:true})}};s.forEach(function(t){var e=d[t];if(e===undefined){i++}else{$.then(e,function(e){u[t]=e;c(t)},function(e){a[t]=e;c(t)})}});l-=i;if(l===0){n(u);return}},function(){Object.keys(d).forEach(function(e){var t=$.as(d[e]);if(typeof t.cancel==="function"){t.cancel()}})})},removeEventListener:function e(t,i,n){s.removeEventListener(t,i,n)},supportedForProcessing:false,then:function e(t,i,n,r){return $.as(t).then(i,n,r)},thenEach:function e(t,i,n,r){var o=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(e){o[e]=$.as(t[e]).then(i,n,r)});return $.join(o)},timeout:function e(t,i){var n=G(t);return i?Y(n,i):n},wrap:function e(t){return new q(t)},wrapError:function e(t){return new U(t)},_veryExpensiveTagWithStack:{get:function(){return u},set:function(e){u=e}},_veryExpensiveTagWithStack_tag:l,_getStack:function(){if(d.Debug&&d.Debug.debuggerEnabled){try{throw new Error}catch(e){return e.stack}}},_cancelBlocker:function e(t,i){if(!$.is(t)){return $.wrap(t)}var n;var r;var o=new $(function(e,t){n=e;r=t},function(){n=null;r=null;i&&i()});t.then(function(e){n&&n(e)},function(e){r&&r(e)});return o}});Object.defineProperties($,r.createEventProperties(a));$._doneHandler=function(t){n._setImmediate(function e(){throw t})};return{PromiseStateMachine:L,Promise:$,state_created:p}});e("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function e(t,i){"use strict";t.Namespace.define("WinJS",{Promise:i.Promise});return i.Promise});n=a["WinJS/Core/_WinJS"];n.TPromise=n.Promise;n.PPromise=n.Promise;if(typeof exports==="undefined"&&typeof define==="function"&&define.amd){define("vs/base/common/winjs.base",[],n)}else{module.exports=n}})();var T=this&&this.__awaiter||function(o,s,a,u){return new(a||(a=Promise))(function(e,t){function i(e){try{r(u.next(e))}catch(e){t(e)}}function n(e){try{r(u["throw"](e))}catch(e){t(e)}}function r(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(i,n)}r((u=u.apply(o,s||[])).next())})};var M=this&&this.__generator||function(e,i){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,t;return t={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(t[Symbol.iterator]=function(){return this}),t;function a(t){return function(e){return u([t,e])}}function u(t){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,o&&(s=o[t[0]&2?"return":t[0]?"throw":"next"])&&!(s=s.call(o,t[1])).done)return s;if(o=0,s)t=[0,s.value];switch(t[0]){case 0:case 1:s=t;break;case 4:n.label++;return{value:t[1],done:false};case 5:n.label++;o=t[1];t=[0];continue;case 7:t=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(t[0]===6||t[0]===2)){n=0;continue}if(t[0]===3&&(!s||t[1]>s[0]&&t[1]<s[3])){n.label=t[1];break}if(t[0]===6&&n.label<s[1]){n.label=s[1];s=t;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(t);break}if(s[2])n.ops.pop();n.trys.pop();continue}t=i.call(e,n)}catch(e){t=[6,e];o=0}finally{r=s=0}if(t[0]&5)throw t[1];return{value:t[0]?t[1]:void 0,done:true}}};define(r[23],e([0,1,7]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t){if(t===void 0){t=0}return e[e.length-(1+t)]}t.tail=i;function r(e,t,i){if(i===void 0){i=function(e,t){return e===t}}if(e.length!==t.length){return false}for(var n=0,r=e.length;n<r;n++){if(!i(e[n],t[n])){return false}}return true}t.equals=r;function o(e,t,i){var n=0,r=e.length-1;while(n<=r){var o=(n+r)/2|0;var s=i(e[o],t);if(s<0){n=o+1}else if(s>0){r=o-1}else{return o}}return-(n+1)}t.binarySearch=o;function a(e,t){var i=0,n=e.length;if(n===0){return 0}while(i<n){var r=Math.floor((i+n)/2);if(t(e[r])){n=r}else{i=r+1}}return i}t.findFirst=a;function u(e,t){l(e,t);return e}t.mergeSort=u;function l(e,t){if(e.length<=1){return}var i=e.length/2|0;var n=e.slice(0,i);var r=e.slice(i);l(n,t);l(r,t);var o=0;var s=0;var a=0;while(o<n.length&&s<r.length){var u=t(n[o],r[s]);if(u<=0){e[a++]=n[o++]}else{e[a++]=r[s++]}}while(o<n.length){e[a++]=n[o++]}while(s<r.length){e[a++]=r[s++]}}function s(e,t){var i=[];var n;for(var r=0,o=u(e.slice(0),t);r<o.length;r++){var s=o[r];if(!n||t(n[0],s)!==0){n=[s];i.push(n)}else{n.push(s)}}return i}t.groupBy=s;function c(e,t,i){var o=[];function n(e,t,i){if(t===0&&i.length===0){return}var n=o[o.length-1];if(n&&n.start+n.deleteCount===e){n.deleteCount+=t;(r=n.toInsert).push.apply(r,i)}else{o.push({start:e,deleteCount:t,toInsert:i})}var r}var r=0;var s=0;while(true){if(r===e.length){n(r,0,t.slice(s));break}if(s===t.length){n(r,e.length-r,[]);break}var a=e[r];var u=t[s];var l=i(a,u);if(l===0){r+=1;s+=1}else if(l<0){n(r,1,[]);r+=1}else if(l>0){n(r,0,[u]);s+=1}}return o}t.sortedDiff=c;function d(e,t,i){var n=c(e,t,i);var r=[];var o=[];for(var s=0,a=n;s<a.length;s++){var u=a[s];r.push.apply(r,e.slice(u.start,u.start+u.deleteCount));o.push.apply(o,u.toInsert)}return{removed:r,added:o}}t.delta=d;function h(e,t,i){if(i===0){return[]}var n=e.slice(0,i).sort(t);p(e,t,n,i,e.length);return n}t.top=h;function f(o,s,a,u){var i=this;if(a===0){return n.TPromise.as([])}var l=false;return new n.TPromise(function(e,t){(function(){return T(i,void 0,void 0,function(){var t,i,n,r;return M(this,function(e){switch(e.label){case 0:t=o.length;i=o.slice(0,a).sort(s);n=a,r=Math.min(a+u,t);e.label=1;case 1:if(!(n<t))return[3,5];if(!(n>a))return[3,3];return[4,new Promise(function(e){return setTimeout(e)})];case 2:e.sent();e.label=3;case 3:if(l){throw new Error("canceled")}p(o,s,i,n,r);e.label=4;case 4:n=r,r=Math.min(r+u,t);return[3,1];case 5:return[2,i]}})})})().then(e,t)},function(){l=true})}t.topAsync=f;function p(n,r,o,s,e){var t=function(e){var t=n[s];if(r(t,o[e-1])<0){o.pop();var i=a(o,function(e){return r(t,e)<0});o.splice(i,0,t)}};for(var i=o.length;s<e;s++){t(i)}}function g(e){if(!e){return e}return e.filter(function(e){return!!e})}t.coalesce=g;function v(e,t,i){e.splice(i,0,e.splice(t,1)[0])}t.move=v;function m(e){return!Array.isArray(e)||e.length===0}t.isFalsyOrEmpty=m;function _(i,n){if(!n){return i.filter(function(e,t){return i.indexOf(e)===t})}var r=Object.create(null);return i.filter(function(e){var t=n(e);if(r[t]){return false}r[t]=true;return true})}t.distinct=_;function y(i){var n=Object.create(null);return function(e){var t=i(e);if(n[t]){return false}n[t]=true;return true}}t.uniqueFilter=y;function C(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(t(n)){return i}}return-1}t.firstIndex=C;function b(e,t,i){if(i===void 0){i=null}var n=C(e,t);return n<0?i:e[n]}t.first=b;function S(e,t,i){if(i===void 0){i=function(e,t){return e===t}}var n=0;for(var r=0,o=Math.min(e.length,t.length);r<o&&i(e[r],t[r]);r++){n++}return n}t.commonPrefixLength=S;function w(e){return[].concat.apply([],e)}t.flatten=w;function E(e,t){var i=typeof t==="number"?e:0;if(typeof t==="number"){i=e}else{i=0;t=e}var n=[];if(i<=t){for(var r=i;r<t;r++){n.push(r)}}else{for(var r=i;r>t;r--){n.push(r)}}return n}t.range=E;function L(e,t,i){if(i===void 0){i=[]}for(var n=0;n<e;n++){i[n]=t()}return i}t.fill=L;function x(e,n,r){if(r===void 0){r=function(e){return e}}return e.reduce(function(e,t){var i=n(t);e[i]=r(t,e[i]);return e},Object.create(null))}t.index=x;function N(t,i){t.push(i);return function(){var e=t.indexOf(i);if(e>-1){t.splice(e,1)}}}t.insert=N;function I(e,t,i){var n=e.slice(0,t);var r=e.slice(t);return n.concat(i,r)}t.arrayInsert=I;function D(e){var t=0,i=0,n=null;for(t=e.length-1;t>0;t-=1){i=Math.floor(Math.random()*(t+1));n=e[t];e[t]=e[i];e[i]=n}}t.shuffle=D});define(r[13],e([0,1,7]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={};function r(e){var t=e.detail;var i=t.id;if(t.parent){if(t.handler&&n){delete n[i]}return}n[i]=t;if(Object.keys(n).length===1){setTimeout(function(){var i=n;n={};Object.keys(i).forEach(function(e){var t=i[e];if(t.exception){a(t.exception)}else if(t.error){a(t.error)}console.log("WARNING: Promise with no error callback:"+t.id);console.log(t);if(t.exception){console.log(t.exception.stack)}})},0)}}i.TPromise.addEventListener("error",r);var o=function(){function e(){this.listeners=[];this.unexpectedErrorHandler=function(e){setTimeout(function(){if(e.stack){throw new Error(e.message+"\n\n"+e.stack)}throw e},0)}}e.prototype.addListener=function(e){var t=this;this.listeners.push(e);return function(){t._removeListener(e)}};e.prototype.emit=function(t){this.listeners.forEach(function(e){e(t)})};e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)};e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e};e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler};e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e);this.emit(e)};e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)};return e}();t.ErrorHandler=o;t.errorHandler=new o;function s(e){t.errorHandler.setUnexpectedErrorHandler(e)}t.setUnexpectedErrorHandler=s;function a(e){if(!d(e)){t.errorHandler.onUnexpectedError(e)}return undefined}t.onUnexpectedError=a;function u(e){if(!d(e)){t.errorHandler.onUnexpectedExternalError(e)}return undefined}t.onUnexpectedExternalError=u;function l(e){if(e instanceof Error){var t=e.name,i=e.message;var n=e.stacktrace||e.stack;return{$isError:true,name:t,message:i,stack:n}}return e}t.transformErrorForSerialization=l;var c="Canceled";function d(e){return e instanceof Error&&e.name===c&&e.message===c}t.isPromiseCanceledError=d;function h(){var e=new Error(c);e.name=e.message;return e}t.canceled=h;function f(e){if(e){return new Error("Illegal argument: "+e)}else{return new Error("Illegal argument")}}t.illegalArgument=f;function p(e){if(e){return new Error("Illegal state: "+e)}else{return new Error("Illegal state")}}t.illegalState=p;function g(e){return e?new Error("readonly property '"+e+" cannot be changed'"):new Error("readonly property cannot be changed")}t.readonly=g;function v(e){var t=new Error(e+" has been disposed");t.name="DISPOSED";return t}t.disposed=v;function m(e){return e instanceof Error&&Array.isArray(e.actions)}t.isErrorWithActions=m;function _(e,t){if(t===void 0){t=Object.create(null)}var i=new Error(e);if(t.actions){i.actions=t.actions}return i}t.create=_;function y(e){if(!e){return"Error"}if(e.message){return e.message}if(e.stack){return e.stack.split("\n")[0]}return String(e)}t.getErrorMessage=y});define(r[4],e([0,1,2,7,210,13,167]),function(e,t,r,i,o,s,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){var t={dispose:function(){}};e.None=function(){return t}})(n||(n={}));t.default=n;var l=function(){function a(e){this._options=e}Object.defineProperty(a.prototype,"event",{get:function(){var s=this;if(!this._event){this._event=function(e,t,i){if(!s._listeners){s._listeners=new u.LinkedList}var n=s._listeners.isEmpty();if(n&&s._options&&s._options.onFirstListenerAdd){s._options.onFirstListenerAdd(s)}var r=s._listeners.push(!t?e:[e,t]);if(n&&s._options&&s._options.onFirstListenerDidAdd){s._options.onFirstListenerDidAdd(s)}if(s._options&&s._options.onListenerDidAdd){s._options.onListenerDidAdd(s,e,t)}var o;o={dispose:function(){o.dispose=a._noop;if(!s._disposed){r();if(s._options&&s._options.onLastListenerRemove&&s._listeners.isEmpty()){s._options.onLastListenerRemove(s)}}}};if(Array.isArray(i)){i.push(o)}return o}}return this._event},enumerable:true,configurable:true});a.prototype.fire=function(e){if(this._listeners){if(!this._deliveryQueue){this._deliveryQueue=[]}for(var t=this._listeners.iterator(),i=t.next();!i.done;i=t.next()){this._deliveryQueue.push([i.value,e])}while(this._deliveryQueue.length>0){var n=this._deliveryQueue.shift(),r=n[0],o=n[1];try{if(typeof r==="function"){r.call(undefined,o)}else{r[0].call(r[1],o)}}catch(i){s.onUnexpectedError(i)}}}};a.prototype.dispose=function(){if(this._listeners){this._listeners=undefined}if(this._deliveryQueue){this._deliveryQueue.length=0}this._disposed=true};a._noop=function(){};return a}();t.Emitter=l;var a=function(){function e(){var e=this;this.hasListeners=false;this.events=[];this.emitter=new l({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:true,configurable:true});e.prototype.add=function(e){var t=this;var i={event:e,listener:null};this.events.push(i);if(this.hasListeners){this.hook(i)}var n=function(){if(t.hasListeners){t.unhook(i)}var e=t.events.indexOf(i);t.events.splice(e,1)};return r.toDisposable(o.once(n))};e.prototype.onFirstListenerAdd=function(){var t=this;this.hasListeners=true;this.events.forEach(function(e){return t.hook(e)})};e.prototype.onLastListenerRemove=function(){var t=this;this.hasListeners=false;this.events.forEach(function(e){return t.unhook(e)})};e.prototype.hook=function(e){var t=this;e.listener=e.event(function(e){return t.emitter.fire(e)})};e.prototype.unhook=function(e){e.listener.dispose();e.listener=null};e.prototype.dispose=function(){this.emitter.dispose()};return e}();t.EventMultiplexer=a;function c(e){var t;var i=new l({onFirstListenerAdd:function(){return t=e(function(e){return i.fire(e)})},onLastListenerRemove:function(){return t.dispose()}});return i.event}t.fromCallback=c;function d(e){var t=new l;var i=false;e.then(null,function(){return null}).then(function(){if(!i){setTimeout(function(){return t.fire()},0)}else{t.fire()}});i=true;return t.event}t.fromPromise=d;function h(e){return new i.TPromise(function(t){var i=e(function(e){i.dispose();t(e)})})}t.toPromise=h;function f(r){return function(t,i,e){if(i===void 0){i=null}var n=r(function(e){n.dispose();return t.call(i,e)},null,e);return n}}t.once=f;function p(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return function(t,i,n){if(i===void 0){i=null}return r.combinedDisposable(e.map(function(e){return e(function(e){return t.call(i,e)},null,n)}))}}t.anyEvent=p;function g(e,t,i,n){if(i===void 0){i=100}if(n===void 0){n=false}var r;var o=undefined;var s=undefined;var a=0;var u=new l({onFirstListenerAdd:function(){r=e(function(e){a++;o=t(o,e);if(n&&!s){u.fire(o)}clearTimeout(s);s=setTimeout(function(){var e=o;o=undefined;s=undefined;if(!n||a>1){u.fire(e)}a=0},i)})},onLastListenerRemove:function(){r.dispose()}});return u.event}t.debounceEvent=g;var v=function(){function e(){this.buffers=[]}e.prototype.wrapEvent=function(t){var r=this;return function(i,n,e){return t(function(e){var t=r.buffers[r.buffers.length-1];if(t){t.push(function(){return i.call(n,e)})}else{i.call(n,e)}},void 0,e)}};e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t);e();this.buffers.pop();t.forEach(function(e){return e()})};return e}();t.EventBufferer=v;function m(n,r){return function(t,i,e){if(i===void 0){i=null}return n(function(e){return t.call(i,r(e))},null,e)}}t.mapEvent=m;function _(n,r){return function(t,i,e){if(i===void 0){i=null}return n(function(e){r(e);t.call(i,e)},null,e)}}t.forEach=_;function y(n,r){return function(t,i,e){if(i===void 0){i=null}return n(function(e){return r(e)&&t.call(i,e)},null,e)}}t.filterEvent=y;var C=function(){function t(e){this._event=e}Object.defineProperty(t.prototype,"event",{get:function(){return this._event},enumerable:true,configurable:true});t.prototype.map=function(e){return new t(m(this._event,e))};t.prototype.forEach=function(e){return new t(_(this._event,e))};t.prototype.filter=function(e){return new t(y(this._event,e))};t.prototype.on=function(e,t,i){return this._event(e,t,i)};return t}();function b(e){return new C(e)}t.chain=b;function S(e){var t=(new Date).getTime();return m(f(e),function(e){return(new Date).getTime()-t})}t.stopwatch=S;function w(e,t,i){if(t===void 0){t=false}if(i===void 0){i=[]}i=i.slice();var n=e(function(e){if(i){i.push(e)}else{o.fire(e)}});var r=function(){i.forEach(function(e){return o.fire(e)});i=null};var o=new l({onFirstListenerAdd:function(){if(!n){n=e(function(e){return o.fire(e)})}},onFirstListenerDidAdd:function(){if(i){if(t){setTimeout(r)}else{r()}}},onLastListenerRemove:function(){n.dispose();n=null}});return o.event}t.buffer=w;function E(e,n,r){if(n===void 0){n=false}if(r===void 0){r=[]}r=r.slice();e(function(e){r.push(e);t.fire(e)});var o=function(t,i){return r.forEach(function(e){return t.call(i,e)})};var t=new l({onListenerDidAdd:function(e,t,i){if(n){setTimeout(function(){return o(t,i)})}else{o(t,i)}}});return t.event}t.echo=E;var L=function(){function e(){this.emitter=new l;this.event=this.emitter.event;this.disposable=r.empty}Object.defineProperty(e.prototype,"input",{set:function(e){this.disposable.dispose();this.disposable=e(this.emitter.fire,this.emitter)},enumerable:true,configurable:true});e.prototype.dispose=function(){this.disposable.dispose();this.emitter.dispose()};return e}();t.Relay=L;function x(e,t,i){if(i===void 0){i=function(e){return e}}var n=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return s.fire(i.apply(void 0,e))};var r=function(){return e.on(t,n)};var o=function(){return e.removeListener(t,n)};var s=new l({onFirstListenerAdd:r,onLastListenerRemove:o});return s.event}t.fromNodeEventEmitter=x});define(r[31],e([0,1,15,4]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(){this._zoomLevel=0;this._lastZoomLevelChangeTime=0;this._onDidChangeZoomLevel=new n.Emitter;this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;this._zoomFactor=0;this._onDidChangeFullscreen=new n.Emitter;this.onDidChangeFullscreen=this._onDidChangeFullscreen.event;this._accessibilitySupport=0;this._onDidChangeAccessibilitySupport=new n.Emitter;this.onDidChangeAccessibilitySupport=this._onDidChangeAccessibilitySupport.event}e.prototype.getZoomLevel=function(){return this._zoomLevel};e.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime};e.prototype.setZoomLevel=function(e,t){if(this._zoomLevel===e){return}this._zoomLevel=e;this._lastZoomLevelChangeTime=t?0:Date.now();this._onDidChangeZoomLevel.fire(this._zoomLevel)};e.prototype.getZoomFactor=function(){return this._zoomFactor};e.prototype.setZoomFactor=function(e){this._zoomFactor=e};e.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d");var t=window.devicePixelRatio||1;var i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/i};e.prototype.setFullscreen=function(e){if(this._fullscreen===e){return}this._fullscreen=e;this._onDidChangeFullscreen.fire()};e.prototype.isFullscreen=function(){return this._fullscreen};e.prototype.setAccessibilitySupport=function(e){if(this._accessibilitySupport===e){return}this._accessibilitySupport=e;this._onDidChangeAccessibilitySupport.fire()};e.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport};e.INSTANCE=new e;return e}();function o(e,t){r.INSTANCE.setZoomLevel(e,t)}t.setZoomLevel=o;function s(){return r.INSTANCE.getZoomLevel()}t.getZoomLevel=s;function a(){return r.INSTANCE.getTimeSinceLastZoomLevelChanged()}t.getTimeSinceLastZoomLevelChanged=a;function u(e){return r.INSTANCE.onDidChangeZoomLevel(e)}t.onDidChangeZoomLevel=u;function l(){return r.INSTANCE.getZoomFactor()}t.getZoomFactor=l;function c(e){r.INSTANCE.setZoomFactor(e)}t.setZoomFactor=c;function d(){return r.INSTANCE.getPixelRatio()}t.getPixelRatio=d;function h(e){r.INSTANCE.setFullscreen(e)}t.setFullscreen=h;function f(){return r.INSTANCE.isFullscreen()}t.isFullscreen=f;function p(e){return r.INSTANCE.onDidChangeFullscreen(e)}t.onDidChangeFullscreen=p;function g(e){r.INSTANCE.setAccessibilitySupport(e)}t.setAccessibilitySupport=g;function v(){return r.INSTANCE.getAccessibilitySupport()}t.getAccessibilitySupport=v;function m(e){return r.INSTANCE.onDidChangeAccessibilitySupport(e)}t.onDidChangeAccessibilitySupport=m;var _=navigator.userAgent;t.isIE=_.indexOf("Trident")>=0;t.isEdge=_.indexOf("Edge/")>=0;t.isEdgeOrIE=t.isIE||t.isEdge;t.isOpera=_.indexOf("Opera")>=0;t.isFirefox=_.indexOf("Firefox")>=0;t.isWebKit=_.indexOf("AppleWebKit")>=0;t.isChrome=_.indexOf("Chrome")>=0;t.isSafari=_.indexOf("Chrome")===-1&&_.indexOf("Safari")>=0;t.isIPad=_.indexOf("iPad")>=0;t.isChromev56=_.indexOf("Chrome/56.")>=0&&_.indexOf("Edge/")===-1});define(r[87],e([0,1,4]),function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.domEvent=function(e,t,i){var n=function(e){return r.fire(e)};var r=new o.Emitter({onFirstListenerAdd:function(){e.addEventListener(t,n,i)},onLastListenerRemove:function(){e.removeEventListener(t,n,i)}});return r.event};function i(e){return o.mapEvent(e,function(e){e.preventDefault();e.stopPropagation();return e})}t.stop=i});define(r[54],e([0,1,37,15,31]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o={};(function(){o[3]=7;o[8]=1;o[9]=2;o[13]=3;o[16]=4;o[17]=5;o[18]=6;o[19]=7;o[20]=8;o[27]=9;o[32]=10;o[33]=11;o[34]=12;o[35]=13;o[36]=14;o[37]=15;o[38]=16;o[39]=17;o[40]=18;o[45]=19;o[46]=20;o[48]=21;o[49]=22;o[50]=23;o[51]=24;o[52]=25;o[53]=26;o[54]=27;o[55]=28;o[56]=29;o[57]=30;o[65]=31;o[66]=32;o[67]=33;o[68]=34;o[69]=35;o[70]=36;o[71]=37;o[72]=38;o[73]=39;o[74]=40;o[75]=41;o[76]=42;o[77]=43;o[78]=44;o[79]=45;o[80]=46;o[81]=47;o[82]=48;o[83]=49;o[84]=50;o[85]=51;o[86]=52;o[87]=53;o[88]=54;o[89]=55;o[90]=56;o[93]=58;o[96]=93;o[97]=94;o[98]=95;o[99]=96;o[100]=97;o[101]=98;o[102]=99;o[103]=100;o[104]=101;o[105]=102;o[106]=103;o[107]=104;o[108]=105;o[109]=106;o[110]=107;o[111]=108;o[112]=59;o[113]=60;o[114]=61;o[115]=62;o[116]=63;o[117]=64;o[118]=65;o[119]=66;o[120]=67;o[121]=68;o[122]=69;o[123]=70;o[124]=71;o[125]=72;o[126]=73;o[127]=74;o[128]=75;o[129]=76;o[130]=77;o[144]=78;o[145]=79;o[186]=80;o[187]=81;o[188]=82;o[189]=83;o[190]=84;o[191]=85;o[192]=86;o[193]=110;o[194]=111;o[219]=87;o[220]=88;o[221]=89;o[222]=90;o[223]=91;o[226]=92;o[229]=109;if(r.isIE){o[91]=57}else if(r.isFirefox){o[59]=80;o[107]=81;o[109]=83;if(n.isMacintosh){o[224]=57}}else if(r.isWebKit){o[91]=57;if(n.isMacintosh){o[93]=57}else{o[92]=57}}})();function s(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return i.KeyCodeUtils.fromString(t)}return o[e.keyCode]||0}var a=n.isMacintosh?256:2048;var u=512;var l=1024;var c=n.isMacintosh?2048:256;var d=function(){function e(e){var t=e;this.browserEvent=t;this.target=t.target;this.ctrlKey=t.ctrlKey;this.shiftKey=t.shiftKey;this.altKey=t.altKey;this.metaKey=t.metaKey;this.keyCode=s(t);this.code=t.code;this.ctrlKey=this.ctrlKey||this.keyCode===5;this.altKey=this.altKey||this.keyCode===6;this.shiftKey=this.shiftKey||this.keyCode===4;this.metaKey=this.metaKey||this.keyCode===57;this._asKeybinding=this._computeKeybinding();this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}e.prototype.preventDefault=function(){if(this.browserEvent&&this.browserEvent.preventDefault){this.browserEvent.preventDefault()}};e.prototype.stopPropagation=function(){if(this.browserEvent&&this.browserEvent.stopPropagation){this.browserEvent.stopPropagation()}};e.prototype.toKeybinding=function(){return this._asRuntimeKeybinding};e.prototype.equals=function(e){return this._asKeybinding===e};e.prototype._computeKeybinding=function(){var e=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57){e=this.keyCode}var t=0;if(this.ctrlKey){t|=a}if(this.altKey){t|=u}if(this.shiftKey){t|=l}if(this.metaKey){t|=c}t|=e;return t};e.prototype._computeRuntimeKeybinding=function(){var e=0;if(this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57){e=this.keyCode}return new i.SimpleKeybinding(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)};return e}();t.StandardKeyboardEvent=d});define(r[42],e([0,1,15,31,178]),function(e,t,o,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){this.timestamp=Date.now();this.browserEvent=e;this.leftButton=e.button===0;this.middleButton=e.button===1;this.rightButton=e.button===2;this.target=e.target;this.detail=e.detail||1;if(e.type==="dblclick"){this.detail=2}this.ctrlKey=e.ctrlKey;this.shiftKey=e.shiftKey;this.altKey=e.altKey;this.metaKey=e.metaKey;if(typeof e.pageX==="number"){this.posx=e.pageX;this.posy=e.pageY}else{this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop}var t=i.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left;this.posy-=t.top}e.prototype.preventDefault=function(){if(this.browserEvent.preventDefault){this.browserEvent.preventDefault()}};e.prototype.stopPropagation=function(){if(this.browserEvent.stopPropagation){this.browserEvent.stopPropagation()}};return e}();t.StandardMouseEvent=n;var r=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t.dataTransfer=e.dataTransfer;return t}return e}(n);t.DragMouseEvent=r;var a=function(){function e(e,t,i){if(t===void 0){t=0}if(i===void 0){i=0}this.browserEvent=e||null;this.target=e?e.target||e.targetNode||e.srcElement:null;this.deltaY=i;this.deltaX=t;if(e){var n=e;var r=e;if(typeof n.wheelDeltaY!=="undefined"){this.deltaY=n.wheelDeltaY/120}else if(typeof r.VERTICAL_AXIS!=="undefined"&&r.axis===r.VERTICAL_AXIS){this.deltaY=-r.detail/3}if(typeof n.wheelDeltaX!=="undefined"){if(s.isSafari&&o.isWindows){this.deltaX=-(n.wheelDeltaX/120)}else{this.deltaX=n.wheelDeltaX/120}}else if(typeof r.HORIZONTAL_AXIS!=="undefined"&&r.axis===r.HORIZONTAL_AXIS){this.deltaX=-e.detail/3}if(this.deltaY===0&&this.deltaX===0&&e.wheelDelta){this.deltaY=e.wheelDelta/120}}}e.prototype.preventDefault=function(){if(this.browserEvent){if(this.browserEvent.preventDefault){this.browserEvent.preventDefault()}}};e.prototype.stopPropagation=function(){if(this.browserEvent){if(this.browserEvent.stopPropagation){this.browserEvent.stopPropagation()}}};return e}();t.StandardMouseWheelEvent=a});define(r[68],e([0,1,7,4]),function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n,r){if(t===void 0){t=""}if(i===void 0){i=""}if(n===void 0){n=true}this._onDidChange=new o.Emitter;this._id=e;this._label=t;this._cssClass=i;this._enabled=n;this._actionCallback=r}e.prototype.dispose=function(){this._onDidChange.dispose()};Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:true,configurable:true});e.prototype._setLabel=function(e){if(this._label!==e){this._label=e;this._onDidChange.fire({label:e})}};Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._tooltip},set:function(e){this._setTooltip(e)},enumerable:true,configurable:true});e.prototype._setTooltip=function(e){if(this._tooltip!==e){this._tooltip=e;this._onDidChange.fire({tooltip:e})}};Object.defineProperty(e.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:true,configurable:true});e.prototype._setClass=function(e){if(this._cssClass!==e){this._cssClass=e;this._onDidChange.fire({class:e})}};Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:true,configurable:true});e.prototype._setEnabled=function(e){if(this._enabled!==e){this._enabled=e;this._onDidChange.fire({enabled:e})}};Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"radio",{get:function(){return this._radio},set:function(e){this._setRadio(e)},enumerable:true,configurable:true});e.prototype._setChecked=function(e){if(this._checked!==e){this._checked=e;this._onDidChange.fire({checked:e})}};e.prototype._setRadio=function(e){if(this._radio!==e){this._radio=e;this._onDidChange.fire({radio:e})}};Object.defineProperty(e.prototype,"order",{get:function(){return this._order},set:function(e){this._order=e},enumerable:true,configurable:true});e.prototype.run=function(e,t){if(this._actionCallback!==void 0){return this._actionCallback(e)}return n.TPromise.as(true)};return e}();t.Action=i;var r=function(){function e(){this._onDidBeforeRun=new o.Emitter;this._onDidRun=new o.Emitter}Object.defineProperty(e.prototype,"onDidRun",{get:function(){return this._onDidRun.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidBeforeRun",{get:function(){return this._onDidBeforeRun.event},enumerable:true,configurable:true});e.prototype.run=function(t,e){var i=this;if(!t.enabled){return n.TPromise.as(null)}this._onDidBeforeRun.fire({action:t});return this.runAction(t,e).then(function(e){i._onDidRun.fire({action:t,result:e})},function(e){i._onDidRun.fire({action:t,error:e})})};e.prototype.runAction=function(e,t){var i=t?e.run(t):e.run();if(n.TPromise.is(i)){return i}return n.TPromise.wrap(i)};e.prototype.dispose=function(){this._onDidBeforeRun.dispose();this._onDidRun.dispose()};return e}();t.ActionRunner=r});define(r[120],e([0,1,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.freeze(function(e,t){var i=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(i)}}});var r;(function(e){e.None=Object.freeze({isCancellationRequested:false,onCancellationRequested:i.default.None});e.Cancelled=Object.freeze({isCancellationRequested:true,onCancellationRequested:n})})(r=t.CancellationToken||(t.CancellationToken={}));var o=function(){function e(){this._isCancelled=false}e.prototype.cancel=function(){if(!this._isCancelled){this._isCancelled=true;if(this._emitter){this._emitter.fire(undefined);this._emitter=undefined}}};Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){if(this._isCancelled){return n}if(!this._emitter){this._emitter=new i.Emitter}return this._emitter.event},enumerable:true,configurable:true});return e}();var s=function(){function e(){}Object.defineProperty(e.prototype,"token",{get:function(){if(!this._token){this._token=new o}return this._token},enumerable:true,configurable:true});e.prototype.cancel=function(){if(!this._token){this._token=r.Cancelled}else if(this._token instanceof o){this._token.cancel()}};e.prototype.dispose=function(){this.cancel()};return e}();t.CancellationTokenSource=s});define(r[18],e([0,1,13,7,120,2,4]),function(e,t,s,a,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function u(e){return e&&typeof e.then==="function"}t.isThenable=u;function o(e){if(u(e)){return e}else{return a.TPromise.as(e)}}t.toThenable=o;function l(r){var o=new i.CancellationTokenSource;return new a.TPromise(function(e,t,i){var n=r(o.token);if(n instanceof a.TPromise){n.then(e,t,i)}else if(u(n)){n.then(e,t)}else{e(n)}},function(){o.cancel()})}t.asWinJsPromise=l;function c(e,t,i){var n=e.onCancellationRequested(function(){return t.cancel()});if(i){t=t.then(undefined,function(e){if(!s.isPromiseCanceledError(e)){return a.TPromise.wrapError(e)}return undefined})}return _(t,function(){return n.dispose()})}t.wireCancellationToken=c;var d=function(){function e(){this.activePromise=null;this.queuedPromise=null;this.queuedPromiseFactory=null}e.prototype.queue=function(e){var n=this;if(this.activePromise){this.queuedPromiseFactory=e;if(!this.queuedPromise){var r=function(){n.queuedPromise=null;var e=n.queue(n.queuedPromiseFactory);n.queuedPromiseFactory=null;return e};this.queuedPromise=new a.TPromise(function(e,t,i){n.activePromise.then(r,r,i).done(e)},function(){n.activePromise.cancel()})}return new a.TPromise(function(e,t,i){n.queuedPromise.then(e,t,i)},function(){})}this.activePromise=e();return new a.TPromise(function(t,i,e){n.activePromise.done(function(e){n.activePromise=null;t(e)},function(e){n.activePromise=null;i(e)},e)},function(){n.activePromise.cancel()})};return e}();t.Throttler=d;var h=function(){function e(){this.current=a.TPromise.wrap(null)}e.prototype.queue=function(e){return this.current=this.current.then(function(){return e()})};return e}();t.SimpleThrottler=h;var f=function(){function e(e){this.defaultDelay=e;this.timeout=null;this.completionPromise=null;this.onSuccess=null;this.task=null}e.prototype.trigger=function(e,t){var i=this;if(t===void 0){t=this.defaultDelay}this.task=e;this.cancelTimeout();if(!this.completionPromise){this.completionPromise=new a.TPromise(function(e){i.onSuccess=e},function(){}).then(function(){i.completionPromise=null;i.onSuccess=null;var e=i.task;i.task=null;return e()})}this.timeout=setTimeout(function(){i.timeout=null;i.onSuccess(null)},t);return this.completionPromise};e.prototype.isTriggered=function(){return this.timeout!==null};e.prototype.cancel=function(){this.cancelTimeout();if(this.completionPromise){this.completionPromise.cancel();this.completionPromise=null}};e.prototype.cancelTimeout=function(){if(this.timeout!==null){clearTimeout(this.timeout);this.timeout=null}};return e}();t.Delayer=f;var p=function(n){pe(e,n);function e(e){var t=n.call(this,e)||this;t.throttler=new d;return t}e.prototype.trigger=function(e,t){var i=this;return n.prototype.trigger.call(this,function(){return i.throttler.queue(e)},t)};return e}(f);t.ThrottledDelayer=p;var g=function(){function e(){var n=this;this._isOpen=false;this._promise=new a.TPromise(function(e,t,i){n._completePromise=e},function(){console.warn("You should really not try to cancel this ready promise!")})}e.prototype.isOpen=function(){return this._isOpen};e.prototype.open=function(){this._isOpen=true;this._completePromise(true)};e.prototype.wait=function(){return this._promise};return e}();t.Barrier=g;var v=function(i){pe(e,i);function e(e){var t=this;var n,r,o;t=i.call(this,function(e,t,i){n=e;r=t;o=i},function(){r(s.canceled())})||this;e.then(n,r,o);return t}return e}(a.TPromise);t.ShallowCancelThenPromise=v;function m(t){return new a.Promise(function(e){return setTimeout(e,t)})}t.timeout=m;function _(e,r){return new a.TPromise(function(t,i,n){e.done(function(e){try{r(e)}catch(e){s.onUnexpectedError(e)}t(e)},function(e){try{r(e)}catch(e){s.onUnexpectedError(e)}i(e)},function(e){n(e)})},function(){e.cancel()})}t.always=_;function y(e){var i=[];e=e.reverse();function n(){if(e.length){return e.pop()()}return null}function r(e){if(e!==undefined&&e!==null){i.push(e)}var t=n();if(t){return t.then(r)}return a.TPromise.as(i)}return a.TPromise.as(null).then(r)}t.sequence=y;function C(i,n){if(n===void 0){n=function(e){return!!e}}i=i.reverse().slice();var r=function(){if(i.length===0){return a.TPromise.as(null)}var e=i.pop();var t=e();return t.then(function(e){if(n(e)){return a.TPromise.as(e)}return r()})};return r()}t.first=C;var b=function(){function e(e){this.maxDegreeOfParalellism=e;this.outstandingPromises=[];this.runningPromises=0;this._onFinished=new r.Emitter}Object.defineProperty(e.prototype,"onFinished",{get:function(){return this._onFinished.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){return this.runningPromises+this.outstandingPromises.length},enumerable:true,configurable:true});e.prototype.queue=function(n){var r=this;return new a.TPromise(function(e,t,i){r.outstandingPromises.push({factory:n,c:e,e:t,p:i});r.consume()})};e.prototype.consume=function(){var e=this;while(this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism){var t=this.outstandingPromises.shift();this.runningPromises++;var i=t.factory();i.done(t.c,t.e,t.p);i.done(function(){return e.consumed()},function(){return e.consumed()})}};e.prototype.consumed=function(){this.runningPromises--;if(this.outstandingPromises.length>0){this.consume()}else{this._onFinished.fire()}};e.prototype.dispose=function(){this._onFinished.dispose()};return e}();t.Limiter=b;var S=function(e){pe(t,e);function t(){return e.call(this,1)||this}return t}(b);t.Queue=S;var w=function(){function e(){this.queues=Object.create(null)}e.prototype.queueFor=function(e){var t=this;var i=e.toString();if(!this.queues[i]){var n=new S;n.onFinished(function(){n.dispose();delete t.queues[i]});this.queues[i]=n}return this.queues[i]};return e}();t.ResourceQueue=w;function E(e,t){var i=[];for(var n=2;n<arguments.length;n++){i[n-2]=arguments[n]}var r=setTimeout.apply(void 0,[e,t].concat(i));return{dispose:function(){clearTimeout(r)}}}t.setDisposableTimeout=E;var L=function(t){pe(e,t);function e(){var e=t.call(this)||this;e._token=-1;return e}e.prototype.dispose=function(){this.cancel();t.prototype.dispose.call(this)};e.prototype.cancel=function(){if(this._token!==-1){clearTimeout(this._token);this._token=-1}};e.prototype.cancelAndSet=function(e,t){var i=this;this.cancel();this._token=setTimeout(function(){i._token=-1;e()},t)};e.prototype.setIfNotSet=function(e,t){var i=this;if(this._token!==-1){return}this._token=setTimeout(function(){i._token=-1;e()},t)};return e}(n.Disposable);t.TimeoutTimer=L;var x=function(t){pe(e,t);function e(){var e=t.call(this)||this;e._token=-1;return e}e.prototype.dispose=function(){this.cancel();t.prototype.dispose.call(this)};e.prototype.cancel=function(){if(this._token!==-1){clearInterval(this._token);this._token=-1}};e.prototype.cancelAndSet=function(e,t){this.cancel();this._token=setInterval(function(){e()},t)};return e}(n.Disposable);t.IntervalTimer=x;var N=function(){function e(e,t){this.timeoutToken=-1;this.runner=e;this.timeout=t;this.timeoutHandler=this.onTimeout.bind(this)}e.prototype.dispose=function(){this.cancel();this.runner=null};e.prototype.cancel=function(){if(this.isScheduled()){clearTimeout(this.timeoutToken);this.timeoutToken=-1}};e.prototype.schedule=function(e){if(e===void 0){e=this.timeout}this.cancel();this.timeoutToken=setTimeout(this.timeoutHandler,e)};e.prototype.isScheduled=function(){return this.timeoutToken!==-1};e.prototype.onTimeout=function(){this.timeoutToken=-1;if(this.runner){this.runner()}};return e}();t.RunOnceScheduler=N;function I(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}return new a.TPromise(function(i,n){return e.apply(void 0,t.concat([function(e,t){return e?n(e):i(t)}]))},function(){return null})}t.nfcall=I;function D(e,t){var r=[];for(var i=2;i<arguments.length;i++){r[i-2]=arguments[i]}return new a.TPromise(function(i,n){return t.call.apply(t,[e].concat(r,[function(e,t){return e?n(e):i(t)}]))},function(){return null})}t.ninvoke=D;var T=function(t){pe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.throttle=function(e){var t=this;this.suspended=true;return _(e,function(){return t.resume()})};e.prototype.fire=function(e){if(this.suspended){this.lastEvent=e;this.hasLastEvent=true;return}return t.prototype.fire.call(this,e)};e.prototype.resume=function(){this.suspended=false;if(this.hasLastEvent){this.fire(this.lastEvent)}this.hasLastEvent=false;this.lastEvent=void 0};return e}(r.Emitter);t.ThrottledEmitter=T});define(r[10],e([0,1,15,7,18,13,2,31,54,42,4,87]),function(e,u,i,t,d,n,r,o,s,a,l,c){"use strict";Object.defineProperty(u,"__esModule",{value:true});function h(e){while(e.firstChild){e.removeChild(e.firstChild)}}u.clearNode=h;function f(e){while(e){if(e===document.body){return true}e=e.parentNode}return false}u.isInDOM=f;var p=new(function(){function e(){}e.prototype._findClassName=function(e,t){var i=e.className;if(!i){this._lastStart=-1;return}t=t.trim();var n=i.length,r=t.length;if(r===0){this._lastStart=-1;return}if(n<r){this._lastStart=-1;return}if(i===t){this._lastStart=0;this._lastEnd=n;return}var o=-1,s;while((o=i.indexOf(t,o+1))>=0){s=o+r;if((o===0||i.charCodeAt(o-1)===32)&&i.charCodeAt(s)===32){this._lastStart=o;this._lastEnd=s+1;return}if(o>0&&i.charCodeAt(o-1)===32&&s===n){this._lastStart=o-1;this._lastEnd=s;return}if(o===0&&s===n){this._lastStart=0;this._lastEnd=s;return}}this._lastStart=-1};e.prototype.hasClass=function(e,t){this._findClassName(e,t);return this._lastStart!==-1};e.prototype.addClass=function(e,t){if(!e.className){e.className=t}else{this._findClassName(e,t);if(this._lastStart===-1){e.className=e.className+" "+t}}};e.prototype.removeClass=function(e,t){this._findClassName(e,t);if(this._lastStart===-1){return}else{e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd)}};e.prototype.toggleClass=function(e,t,i){this._findClassName(e,t);if(this._lastStart!==-1&&(i===void 0||!i)){this.removeClass(e,t)}if(this._lastStart===-1&&(i===void 0||i)){this.addClass(e,t)}};return e}());var g=new(function(){function e(){}e.prototype.hasClass=function(e,t){return t&&e.classList&&e.classList.contains(t)};e.prototype.addClass=function(e,t){if(t&&e.classList){e.classList.add(t)}};e.prototype.removeClass=function(e,t){if(t&&e.classList){e.classList.remove(t)}};e.prototype.toggleClass=function(e,t,i){if(e.classList){e.classList.toggle(t,i)}};return e}());var v=o.isIE?p:g;u.hasClass=v.hasClass.bind(v);u.addClass=v.addClass.bind(v);u.removeClass=v.removeClass.bind(v);u.toggleClass=v.toggleClass.bind(v);var m=function(){function e(e,t,i,n){this._node=e;this._type=t;this._handler=i;this._useCapture=n||false;this._node.addEventListener(this._type,this._handler,this._useCapture)}e.prototype.dispose=function(){if(!this._handler){return}this._node.removeEventListener(this._type,this._handler,this._useCapture);this._node=null;this._handler=null};return e}();function _(e,t,i,n){return new m(e,t,i,n)}u.addDisposableListener=_;function y(t){return function(e){return t(new a.StandardMouseEvent(e))}}function C(t){return function(e){return t(new s.StandardKeyboardEvent(e))}}u.addStandardDisposableListener=function e(t,i,n,r){var o=n;if(i==="click"||i==="mousedown"){o=y(n)}else if(i==="keydown"||i==="keypress"||i==="keyup"){o=C(n)}return _(t,i,o,r)};function b(i,n){return _(i,"mouseout",function(e){var t=e.relatedTarget||e.toElement;while(t&&t!==i){t=t.parentNode}if(t===i){return}n(e)})}u.addDisposableNonBubblingMouseOutListener=b;var S=null;function w(e){if(!S){var t=function(e){return setTimeout(function(){return e((new Date).getTime())},0)};S=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||t}return S(e)}var E=function(){function e(e,t){this._runner=e;this.priority=t;this._canceled=false}e.prototype.dispose=function(){this._canceled=true};e.prototype.execute=function(){if(this._canceled){return}try{this._runner()}catch(e){n.onUnexpectedError(e)}};e.sort=function(e,t){return t.priority-e.priority};return e}();(function(){var n=[];var r=null;var o=false;var s=false;var a=function(){o=false;r=n;n=[];s=true;while(r.length>0){r.sort(E.sort);var e=r.shift();e.execute()}s=false};u.scheduleAtNextAnimationFrame=function(e,t){if(t===void 0){t=0}var i=new E(e,t);n.push(i);if(!o){o=true;w(a)}return i};u.runAtThisOrScheduleAtNextAnimationFrame=function(e,t){if(s){var i=new E(e,t);r.push(i);return i}else{return u.scheduleAtNextAnimationFrame(e,t)}}})();var L=16;var x=function(e,t){return t};var N=function(c){pe(e,c);function e(e,t,i,n,r){if(n===void 0){n=x}if(r===void 0){r=L}var o=c.call(this)||this;var s=null;var a=0;var u=o._register(new d.TimeoutTimer);var l=function(){a=(new Date).getTime();i(s);s=null};o._register(_(e,t,function(e){s=n(s,e);var t=(new Date).getTime()-a;if(t>=r){u.cancel();l()}else{u.setIfNotSet(l,r-t)}}));return o}return e}(r.Disposable);function I(e,t,i,n,r){return new N(e,t,i,n,r)}u.addDisposableThrottledListener=I;function D(e){return document.defaultView.getComputedStyle(e,null)}u.getComputedStyle=D;var T=function(){return function(e,t){return parseFloat(t)||0}}();function M(e,t,i){var n=D(e);var r="0";if(n){if(n.getPropertyValue){r=n.getPropertyValue(t)}else{r=n.getAttribute(i)}}return T(e,r)}var k={getBorderLeftWidth:function(e){return M(e,"border-left-width","borderLeftWidth")},getBorderTopWidth:function(e){return M(e,"border-top-width","borderTopWidth")},getBorderBottomWidth:function(e){return M(e,"border-bottom-width","borderBottomWidth")},getPaddingTop:function(e){return M(e,"padding-top","paddingTop")},getPaddingBottom:function(e){return M(e,"padding-bottom","paddingBottom")},getMarginLeft:function(e){return M(e,"margin-left","marginLeft")},getMarginTop:function(e){return M(e,"margin-top","marginTop")},getMarginRight:function(e){return M(e,"margin-right","marginRight")},getMarginBottom:function(e){return M(e,"margin-bottom","marginBottom")},__commaSentinel:false};function O(e){var t=e.offsetParent,i=e.offsetTop,n=e.offsetLeft;while((e=e.parentNode)!==null&&e!==document.body&&e!==document.documentElement){i-=e.scrollTop;var r=D(e);if(r){n-=r.direction!=="rtl"?e.scrollLeft:-e.scrollLeft}if(e===t){n+=k.getBorderLeftWidth(e);i+=k.getBorderTopWidth(e);i+=e.offsetTop;n+=e.offsetLeft;t=e.offsetParent}}return{left:n,top:i}}u.getTopLeftOffset=O;function R(e){var t=e.getBoundingClientRect();return{left:t.left+u.StandardWindow.scrollX,top:t.top+u.StandardWindow.scrollY,width:t.width,height:t.height}}u.getDomNodePagePosition=R;u.StandardWindow=new(function(){function e(){}Object.defineProperty(e.prototype,"scrollX",{get:function(){if(typeof window.scrollX==="number"){return window.scrollX}else{return document.body.scrollLeft+document.documentElement.scrollLeft}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"scrollY",{get:function(){if(typeof window.scrollY==="number"){return window.scrollY}else{return document.body.scrollTop+document.documentElement.scrollTop}},enumerable:true,configurable:true});return e}());function P(e){var t=k.getMarginLeft(e)+k.getMarginRight(e);return e.offsetWidth+t}u.getTotalWidth=P;function A(e){var t=k.getMarginLeft(e)+k.getMarginRight(e);return e.scrollWidth+t}u.getTotalScrollWidth=A;function F(e){var t=k.getBorderTopWidth(e)+k.getBorderBottomWidth(e);var i=k.getPaddingTop(e)+k.getPaddingBottom(e);return e.offsetHeight-t-i}u.getContentHeight=F;function W(e){var t=k.getMarginTop(e)+k.getMarginBottom(e);return e.offsetHeight+t}u.getTotalHeight=W;function B(e,t){if(e===null){return 0}var i=O(e);var n=O(t);return i.left-n.left}function V(t,e){var i=e.map(function(e){return Math.max(A(e),P(e))+B(e,t)||0});var n=Math.max.apply(Math,i);return n}u.getLargestChildWidth=V;function H(e,t){while(e){if(e===t){return true}e=e.parentNode}return false}u.isAncestor=H;function z(e,t,i){while(e){if(u.hasClass(e,t)){return e}if(i&&u.hasClass(e,i)){return null}e=e.parentNode}return null}u.findParentWithClass=z;function K(e){if(e===void 0){e=document.getElementsByTagName("head")[0]}var t=document.createElement("style");t.type="text/css";t.media="screen";e.appendChild(t);return t}u.createStyleSheet=K;var U=null;function j(){if(!U){U=K()}return U}function q(e){if(e&&e.sheet&&e.sheet.rules){return e.sheet.rules}if(e&&e.sheet&&e.sheet.cssRules){return e.sheet.cssRules}return[]}function G(e,t,i){if(i===void 0){i=j()}if(!i||!t){return}i.sheet.insertRule(e+"{"+t+"}",0)}u.createCSSRule=G;function Y(e,t){if(t===void 0){t=j()}if(!t){return}var i=q(t);var n=[];for(var r=0;r<i.length;r++){var o=i[r];if(o.selectorText.indexOf(e)!==-1){n.push(r)}}for(var r=n.length-1;r>=0;r--){t.sheet.deleteRule(n[r])}}u.removeCSSRulesContainingSelector=Y;function Z(e){if(typeof HTMLElement==="object"){return e instanceof HTMLElement}return e&&typeof e==="object"&&e.nodeType===1&&typeof e.nodeName==="string"}u.isHTMLElement=Z;u.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:o.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:o.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:o.isWebKit?"webkitAnimationIteration":"animationiteration"};u.EventHelper={stop:function(e,t){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}if(t){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}}};function $(e){var t=[];for(var i=0;e&&e.nodeType===e.ELEMENT_NODE;i++){t[i]=e.scrollTop;e=e.parentNode}return t}u.saveParentsScrollTop=$;function X(e,t){for(var i=0;e&&e.nodeType===e.ELEMENT_NODE;i++){if(e.scrollTop!==t[i]){e.scrollTop=t[i]}e=e.parentNode}}u.restoreParentsScrollTop=X;var J=function(){function e(e){var t=this;this._onDidFocus=new l.Emitter;this.onDidFocus=this._onDidFocus.event;this._onDidBlur=new l.Emitter;this.onDidBlur=this._onDidBlur.event;this.disposables=[];var i=false;var n=false;var r=function(){n=false;if(!i){i=true;t._onDidFocus.fire()}};var o=function(){if(i){n=true;window.setTimeout(function(){if(n){n=false;i=false;t._onDidBlur.fire()}},0)}};c.domEvent(e,u.EventType.FOCUS,true)(r,null,this.disposables);c.domEvent(e,u.EventType.BLUR,true)(o,null,this.disposables)}e.prototype.dispose=function(){this.disposables=r.dispose(this.disposables);this._onDidFocus.dispose();this._onDidBlur.dispose()};return e}();function Q(e){return new J(e)}u.trackFocus=Q;function ee(t){var e=[];for(var i=1;i<arguments.length;i++){e[i-1]=arguments[i]}e.forEach(function(e){return t.appendChild(e)});return e[e.length-1]}u.append=ee;function te(e,t){e.insertBefore(t,e.firstChild);return t}u.prepend=te;var ie=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;function ne(e,i){var t=[];for(var n=2;n<arguments.length;n++){t[n-2]=arguments[n]}var r=ie.exec(e);if(!r){throw new Error("Bad use of emmet")}var o=document.createElement(r[1]||"div");if(r[3]){o.id=r[3]}if(r[4]){o.className=r[4].replace(/\./g," ").trim()}Object.keys(i||{}).forEach(function(e){if(/^on\w+$/.test(e)){o[e]=i[e]}else if(e==="selected"){var t=i[e];if(t){o.setAttribute(e,"true")}}else{o.setAttribute(e,i[e])}});t.filter(function(e){return!!e}).forEach(function(e){if(e instanceof Node){o.appendChild(e)}else{o.appendChild(document.createTextNode(e))}});return o}u.$=ne;function re(e,i){var n=[];e.forEach(function(e,t){if(t>0){if(i instanceof Node){n.push(i.cloneNode())}else{n.push(document.createTextNode(i))}}n.push(e)});return n}u.join=re;function oe(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var i=0,n=e;i<n.length;i++){var r=n[i];r.style.display=""}}u.show=oe;function se(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var i=0,n=e;i<n.length;i++){var r=n[i];r.style.display="none"}}u.hide=se;function ae(e,t){while(e){if(e instanceof HTMLElement&&e.hasAttribute(t)){return e}e=e.parentNode}return null}function ue(e){if(!e||!e.hasAttribute("tabIndex")){return}if(document.activeElement===e){var t=ae(e.parentElement,"tabIndex");if(t){t.focus()}}e.removeAttribute("tabindex")}u.removeTabIndexAndUpdateFocus=ue;function le(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}u.getElementsByTagName=le;function ce(t){return function(e){e.preventDefault();e.stopPropagation();t(e)}}u.finalHandler=ce;function de(){return new t.TPromise(function(e,t){var i=document.readyState;if(i==="complete"||document&&document.body!==null){window.setImmediate(e)}else{window.addEventListener("DOMContentLoaded",e,false)}})}u.domContentLoaded=de;function he(e){var t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}u.computeScreenAwareSize=he;function fe(e){if(i.isNative){window.open(e)}else{var t=window.open();if(t){t.opener=null;t.location.href=e}}}u.windowOpenNoOpener=fe});define(r[28],e([0,1,10]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){this.domNode=e;this._maxWidth=-1;this._width=-1;this._height=-1;this._top=-1;this._left=-1;this._bottom=-1;this._right=-1;this._fontFamily="";this._fontWeight="";this._fontSize=-1;this._lineHeight=-1;this._letterSpacing=-100;this._className="";this._display="";this._position="";this._visibility="";this._layerHint=false}e.prototype.setMaxWidth=function(e){if(this._maxWidth===e){return}this._maxWidth=e;this.domNode.style.maxWidth=this._maxWidth+"px"};e.prototype.setWidth=function(e){if(this._width===e){return}this._width=e;this.domNode.style.width=this._width+"px"};e.prototype.setHeight=function(e){if(this._height===e){return}this._height=e;this.domNode.style.height=this._height+"px"};e.prototype.setTop=function(e){if(this._top===e){return}this._top=e;this.domNode.style.top=this._top+"px"};e.prototype.unsetTop=function(){if(this._top===-1){return}this._top=-1;this.domNode.style.top=""};e.prototype.setLeft=function(e){if(this._left===e){return}this._left=e;this.domNode.style.left=this._left+"px"};e.prototype.setBottom=function(e){if(this._bottom===e){return}this._bottom=e;this.domNode.style.bottom=this._bottom+"px"};e.prototype.setRight=function(e){if(this._right===e){return}this._right=e;this.domNode.style.right=this._right+"px"};e.prototype.setFontFamily=function(e){if(this._fontFamily===e){return}this._fontFamily=e;this.domNode.style.fontFamily=this._fontFamily};e.prototype.setFontWeight=function(e){if(this._fontWeight===e){return}this._fontWeight=e;this.domNode.style.fontWeight=this._fontWeight};e.prototype.setFontSize=function(e){if(this._fontSize===e){return}this._fontSize=e;this.domNode.style.fontSize=this._fontSize+"px"};e.prototype.setLineHeight=function(e){if(this._lineHeight===e){return}this._lineHeight=e;this.domNode.style.lineHeight=this._lineHeight+"px"};e.prototype.setLetterSpacing=function(e){if(this._letterSpacing===e){return}this._letterSpacing=e;this.domNode.style.letterSpacing=this._letterSpacing+"px"};e.prototype.setClassName=function(e){if(this._className===e){return}this._className=e;this.domNode.className=this._className};e.prototype.toggleClassName=function(e,t){i.toggleClass(this.domNode,e,t);this._className=this.domNode.className};e.prototype.setDisplay=function(e){if(this._display===e){return}this._display=e;this.domNode.style.display=this._display};e.prototype.setPosition=function(e){if(this._position===e){return}this._position=e;this.domNode.style.position=this._position};e.prototype.setVisibility=function(e){if(this._visibility===e){return}this._visibility=e;this.domNode.style.visibility=this._visibility};e.prototype.setLayerHinting=function(e){if(this._layerHint===e){return}this._layerHint=e;this.domNode.style.willChange=this._layerHint?"transform":"auto"};e.prototype.setAttribute=function(e,t){this.domNode.setAttribute(e,t)};e.prototype.removeAttribute=function(e){this.domNode.removeAttribute(e)};e.prototype.appendChild=function(e){this.domNode.appendChild(e.domNode)};e.prototype.removeChild=function(e){this.domNode.removeChild(e.domNode)};return e}();t.FastDomNode=n;function r(e){return new n(e)}t.createFastDomNode=r});define(r[78],e([0,1,2,10,178,42]),function(e,t,i,a,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){var i=new l.StandardMouseEvent(t);i.preventDefault();return{leftButton:i.leftButton,posx:i.posx,posy:i.posy}}t.standardMouseMoveMerger=n;var r=function(t){pe(e,t);function e(){var e=t.call(this)||this;e.hooks=[];e.mouseMoveEventMerger=null;e.mouseMoveCallback=null;e.onStopCallback=null;return e}e.prototype.dispose=function(){this.stopMonitoring(false);t.prototype.dispose.call(this)};e.prototype.stopMonitoring=function(e){if(!this.isMonitoring()){return}this.hooks=i.dispose(this.hooks);this.mouseMoveEventMerger=null;this.mouseMoveCallback=null;var t=this.onStopCallback;this.onStopCallback=null;if(e){t()}};e.prototype.isMonitoring=function(){return this.hooks.length>0};e.prototype.startMonitoring=function(e,t,i){var n=this;if(this.isMonitoring()){return}this.mouseMoveEventMerger=e;this.mouseMoveCallback=t;this.onStopCallback=i;var r=u.IframeUtils.getSameOriginWindowChain();for(var o=0;o<r.length;o++){this.hooks.push(a.addDisposableThrottledListener(r[o].window.document,"mousemove",function(e){return n.mouseMoveCallback(e)},function(e,t){return n.mouseMoveEventMerger(e,t)}));this.hooks.push(a.addDisposableListener(r[o].window.document,"mouseup",function(e){return n.stopMonitoring(true)}))}if(u.IframeUtils.hasDifferentOriginAncestor()){var s=r[r.length-1];this.hooks.push(a.addDisposableListener(s.window.document,"mouseout",function(e){var t=new l.StandardMouseEvent(e);if(t.target.tagName.toLowerCase()==="html"){n.stopMonitoring(true)}}));this.hooks.push(a.addDisposableListener(s.window.document,"mouseover",function(e){var t=new l.StandardMouseEvent(e);if(t.target.tagName.toLowerCase()==="html"){n.stopMonitoring(true)}}));this.hooks.push(a.addDisposableListener(s.window.document.body,"mouseleave",function(e){n.stopMonitoring(true)}))}};return e}(i.Disposable);t.GlobalMouseMoveMonitor=r});var q=this&&this.__decorate||function(e,t,i,n){var r=arguments.length,o=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,s;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)if(s=e[a])o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o;return r>3&&o&&Object.defineProperty(t,i,o),o};define(r[71],e([0,1,23,2,10,116]),function(e,t,m,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var _;(function(e){e.Tap="-monaco-gesturetap";e.Change="-monaco-gesturechange";e.Start="-monaco-gesturestart";e.End="-monaco-gesturesend";e.Contextmenu="-monaco-gesturecontextmenu"})(_=t.EventType||(t.EventType={}));var o=function(){function v(){var t=this;this.toDispose=[];this.activeTouches={};this.handle=null;this.targets=[];this.toDispose.push(n.addDisposableListener(document,"touchstart",function(e){return t.onTouchStart(e)}));this.toDispose.push(n.addDisposableListener(document,"touchend",function(e){return t.onTouchEnd(e)}));this.toDispose.push(n.addDisposableListener(document,"touchmove",function(e){return t.onTouchMove(e)}))}v.addTarget=function(e){if(!v.isTouchDevice()){return}if(!v.INSTANCE){v.INSTANCE=new v}v.INSTANCE.targets.push(e)};v.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0};v.prototype.dispose=function(){if(this.handle){this.handle.dispose();i.dispose(this.toDispose);this.handle=null}};v.prototype.onTouchStart=function(e){var t=Date.now();if(this.handle){this.handle.dispose();this.handle=null}for(var i=0,n=e.targetTouches.length;i<n;i++){var r=e.targetTouches.item(i);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};var o=this.newGestureEvent(_.Start,r.target);o.pageX=r.pageX;o.pageY=r.pageY;this.dispatchEvent(o)}if(this.dispatched){e.preventDefault();e.stopPropagation();this.dispatched=false}};v.prototype.onTouchEnd=function(h){var f=Date.now();var p=Object.keys(this.activeTouches).length;var e=function(e,t){var i=h.changedTouches.item(e);if(!g.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("move of an UNKNOWN touch",i);return"continue"}var n=g.activeTouches[i.identifier],r=Date.now()-n.initialTimeStamp;if(r<v.HOLD_DELAY&&Math.abs(n.initialPageX-m.tail(n.rollingPageX))<30&&Math.abs(n.initialPageY-m.tail(n.rollingPageY))<30){var o=g.newGestureEvent(_.Tap,n.initialTarget);o.pageX=m.tail(n.rollingPageX);o.pageY=m.tail(n.rollingPageY);g.dispatchEvent(o)}else if(r>=v.HOLD_DELAY&&Math.abs(n.initialPageX-m.tail(n.rollingPageX))<30&&Math.abs(n.initialPageY-m.tail(n.rollingPageY))<30){var o=g.newGestureEvent(_.Contextmenu,n.initialTarget);o.pageX=m.tail(n.rollingPageX);o.pageY=m.tail(n.rollingPageY);g.dispatchEvent(o)}else if(p===1){var s=m.tail(n.rollingPageX);var a=m.tail(n.rollingPageY);var u=m.tail(n.rollingTimestamps)-n.rollingTimestamps[0];var l=s-n.rollingPageX[0];var c=a-n.rollingPageY[0];var d=g.targets.filter(function(e){return n.initialTarget instanceof Node&&e.contains(n.initialTarget)});g.inertia(d,f,Math.abs(l)/u,l>0?1:-1,s,Math.abs(c)/u,c>0?1:-1,a)}g.dispatchEvent(g.newGestureEvent(_.End,n.initialTarget));delete g.activeTouches[i.identifier]};var g=this;for(var t=0,i=h.changedTouches.length;t<i;t++){e(t,i)}if(this.dispatched){h.preventDefault();h.stopPropagation();this.dispatched=false}};v.prototype.newGestureEvent=function(e,t){var i=document.createEvent("CustomEvent");i.initEvent(e,false,true);i.initialTarget=t;return i};v.prototype.dispatchEvent=function(t){var i=this;this.targets.forEach(function(e){if(t.initialTarget instanceof Node&&e.contains(t.initialTarget)){e.dispatchEvent(t);i.dispatched=true}})};v.prototype.inertia=function(s,a,u,l,c,d,h,f){var p=this;this.handle=n.scheduleAtNextAnimationFrame(function(){var e=Date.now();var t=e-a,i=0,n=0,r=true;u+=v.SCROLL_FRICTION*t;d+=v.SCROLL_FRICTION*t;if(u>0){r=false;i=l*u*t}if(d>0){r=false;n=h*d*t}var o=p.newGestureEvent(_.Change);o.translationX=i;o.translationY=n;s.forEach(function(e){return e.dispatchEvent(o)});if(!r){p.inertia(s,e,u,l,c+i,d,h,f+n)}})};v.prototype.onTouchMove=function(e){var t=Date.now();for(var i=0,n=e.changedTouches.length;i<n;i++){var r=e.changedTouches.item(i);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}var o=this.activeTouches[r.identifier];var s=this.newGestureEvent(_.Change,o.initialTarget);s.translationX=r.pageX-m.tail(o.rollingPageX);s.translationY=r.pageY-m.tail(o.rollingPageY);s.pageX=r.pageX;s.pageY=r.pageY;this.dispatchEvent(s);if(o.rollingPageX.length>3){o.rollingPageX.shift();o.rollingPageY.shift();o.rollingTimestamps.shift()}o.rollingPageX.push(r.pageX);o.rollingPageY.push(r.pageY);o.rollingTimestamps.push(t)}if(this.dispatched){e.preventDefault();e.stopPropagation();this.dispatched=false}};v.SCROLL_FRICTION=-.005;v.HOLD_DELAY=700;q([r.memoize],v,"isTouchDevice",null);return v}();t.Gesture=o});define(r[126],e([0,1,10,27,229]),function(e,t,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){this.domNode=document.createElement("span");this.domNode.className="monaco-highlighted-label";this.didEverRender=false;e.appendChild(this.domNode)}Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:true,configurable:true});e.prototype.set=function(e,t){if(t===void 0){t=[]}if(!e){e=""}if(this.didEverRender&&this.text===e&&i.equals(this.highlights,t)){return}if(!Array.isArray(t)){t=[]}this.text=e;this.highlights=t;this.render()};e.prototype.render=function(){r.clearNode(this.domNode);var e=[],t,i=0;for(var n=0;n<this.highlights.length;n++){t=this.highlights[n];if(t.end===t.start){continue}if(i<t.start){e.push("<span>");e.push(o.render(this.text.substring(i,t.start)));e.push("</span>");i=t.end}e.push('<span class="highlight">');e.push(o.render(this.text.substring(t.start,t.end)));e.push("</span>");i=t.end}if(i<this.text.length){e.push("<span>");e.push(o.render(this.text.substring(i)));e.push("</span>")}this.domNode.innerHTML=e.join("");this.didEverRender=true};e.prototype.dispose=function(){this.text=null;this.highlights=null};return e}();t.HighlightedLabel=n});define(r[513],e([0,1,10]),function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e){try{e.parentElement.removeChild(e)}catch(e){}}var i=function(){function e(e){this.renderers=e;this.cache=new Map}e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var i=o.$(".monaco-list-row");var n=this.renderers.get(e);var r=n.renderTemplate(i);t={domNode:i,templateId:e,templateData:r}}return t};e.prototype.release=function(e){if(!e){return}this.releaseRow(e)};e.prototype.releaseRow=function(e){var t=e.domNode,i=e.templateId;o.removeClass(t,"scrolling");r(t);var n=this.getTemplateCache(i);n.push(e)};e.prototype.getTemplateCache=function(e){var t=this.cache.get(e);if(!t){t=[];this.cache.set(e,t)}return t};e.prototype.garbageCollect=function(){var s=this;if(!this.renderers){return}this.cache.forEach(function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];var o=s.renderers.get(t);o.disposeTemplate(r.templateData);r.domNode=null;r.templateData=null}});this.cache.clear()};e.prototype.dispose=function(){this.garbageCollect();this.cache.clear();this.renderers=null};return e}();t.RowCache=i});define(r[213],e([0,1,2,4,10,23,15]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t,i){this.toDispose=[];this.selectElement=document.createElement("select");this.selectElement.className="select-box";this._onDidSelect=new n.Emitter;this.styles=i;this.registerListeners();this.setOptions(e,t)}e.prototype.registerListeners=function(){var t=this;this.toDispose.push(r.addStandardDisposableListener(this.selectElement,"change",function(e){t.selectElement.title=e.target.value;t._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})}));this.toDispose.push(r.addStandardDisposableListener(this.selectElement,"keydown",function(e){var t=false;if(s.isMacintosh){if(e.keyCode===18||e.keyCode===16||e.keyCode===10){t=true}}else{if(e.keyCode===18&&e.altKey||e.keyCode===10||e.keyCode===3){t=true}}if(t){e.stopPropagation()}}))};Object.defineProperty(e.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:true,configurable:true});e.prototype.setOptions=function(e,t,i){var n=this;if(!this.options||!o.equals(this.options,e)){this.options=e;this.selectElement.options.length=0;var r=0;this.options.forEach(function(e){n.selectElement.add(n.createOption(e,r,i===r++))})}if(t!==undefined){this.select(t)}};e.prototype.select=function(e){if(e>=0&&e<this.options.length){this.selected=e}else if(this.selected<0){this.selected=0}this.selectElement.selectedIndex=this.selected;this.selectElement.title=this.options[this.selected]};e.prototype.focus=function(){if(this.selectElement){this.selectElement.focus()}};e.prototype.blur=function(){if(this.selectElement){this.selectElement.blur()}};e.prototype.render=function(e){r.addClass(e,"select-container");e.appendChild(this.selectElement);this.setOptions(this.options,this.selected);this.applyStyles()};e.prototype.style=function(e){this.styles=e;this.applyStyles()};e.prototype.applyStyles=function(){if(this.selectElement){var e=this.styles.selectBackground?this.styles.selectBackground.toString():null;var t=this.styles.selectForeground?this.styles.selectForeground.toString():null;var i=this.styles.selectBorder?this.styles.selectBorder.toString():null;this.selectElement.style.backgroundColor=e;this.selectElement.style.color=t;this.selectElement.style.borderColor=i}};e.prototype.createOption=function(e,t,i){var n=document.createElement("option");n.value=e;n.text=e;n.disabled=i;return n};e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)};return e}();t.SelectBoxNative=a});define(r[47],e([0,1,2,42,54,10]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.onclick=function(e,t){this._register(o.addDisposableListener(e,o.EventType.CLICK,function(e){return t(new n.StandardMouseEvent(e))}))};t.prototype.onmousedown=function(e,t){this._register(o.addDisposableListener(e,o.EventType.MOUSE_DOWN,function(e){return t(new n.StandardMouseEvent(e))}))};t.prototype.onmouseover=function(e,t){this._register(o.addDisposableListener(e,o.EventType.MOUSE_OVER,function(e){return t(new n.StandardMouseEvent(e))}))};t.prototype.onnonbubblingmouseout=function(e,t){this._register(o.addDisposableNonBubblingMouseOutListener(e,function(e){return t(new n.StandardMouseEvent(e))}))};t.prototype.onkeydown=function(e,t){this._register(o.addDisposableListener(e,o.EventType.KEY_DOWN,function(e){return t(new r.StandardKeyboardEvent(e))}))};t.prototype.onkeyup=function(e,t){this._register(o.addDisposableListener(e,o.EventType.KEY_UP,function(e){return t(new r.StandardKeyboardEvent(e))}))};t.prototype.oninput=function(e,t){this._register(o.addDisposableListener(e,o.EventType.INPUT,t))};t.prototype.onblur=function(e,t){this._register(o.addDisposableListener(e,o.EventType.BLUR,t))};t.prototype.onfocus=function(e,t){this._register(o.addDisposableListener(e,o.EventType.FOCUS,t))};t.prototype.onchange=function(e,t){this._register(o.addDisposableListener(e,o.EventType.CHANGE,t))};return t}(i.Disposable);t.Widget=s});define(r[128],e([0,1,78,47,18]),function(e,n,r,t,o){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.ARROW_IMG_SIZE=11;var i=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._onActivate=e.onActivate;t.bgDomNode=document.createElement("div");t.bgDomNode.className="arrow-background";t.bgDomNode.style.position="absolute";t.bgDomNode.style.width=e.bgWidth+"px";t.bgDomNode.style.height=e.bgHeight+"px";if(typeof e.top!=="undefined"){t.bgDomNode.style.top="0px"}if(typeof e.left!=="undefined"){t.bgDomNode.style.left="0px"}if(typeof e.bottom!=="undefined"){t.bgDomNode.style.bottom="0px"}if(typeof e.right!=="undefined"){t.bgDomNode.style.right="0px"}t.domNode=document.createElement("div");t.domNode.className=e.className;t.domNode.style.position="absolute";t.domNode.style.width=n.ARROW_IMG_SIZE+"px";t.domNode.style.height=n.ARROW_IMG_SIZE+"px";if(typeof e.top!=="undefined"){t.domNode.style.top=e.top+"px"}if(typeof e.left!=="undefined"){t.domNode.style.left=e.left+"px"}if(typeof e.bottom!=="undefined"){t.domNode.style.bottom=e.bottom+"px"}if(typeof e.right!=="undefined"){t.domNode.style.right=e.right+"px"}t._mouseMoveMonitor=t._register(new r.GlobalMouseMoveMonitor);t.onmousedown(t.bgDomNode,function(e){return t._arrowMouseDown(e)});t.onmousedown(t.domNode,function(e){return t._arrowMouseDown(e)});t._mousedownRepeatTimer=t._register(new o.IntervalTimer);t._mousedownScheduleRepeatTimer=t._register(new o.TimeoutTimer);return t}e.prototype._arrowMouseDown=function(e){var t=this;var i=function(){t._mousedownRepeatTimer.cancelAndSet(function(){return t._onActivate()},1e3/24)};this._onActivate();this._mousedownRepeatTimer.cancel();this._mousedownScheduleRepeatTimer.cancelAndSet(i,200);this._mouseMoveMonitor.startMonitoring(r.standardMouseMoveMerger,function(e){},function(){t._mousedownRepeatTimer.cancel();t._mousedownScheduleRepeatTimer.cancel()});e.preventDefault()};return e}(t.Widget);n.ScrollbarArrow=i});define(r[177],e([0,1,23,5,41,75,7]),function(e,t,l,p,d,i,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(){return Object.create(null)}t.getEmptyExpression=n;var g="**";var v="/";var m="[/\\\\]";var _="[^/\\\\]";var s=/\//g;function y(e){switch(e){case 0:return"";case 1:return _+"*?";default:return"(?:"+m+"|"+_+"+"+m+"|"+m+_+"+)*?"}}function C(e,t){if(!e){return[]}var i=[];var n=false;var r=false;var o;var s="";for(var a=0;a<e.length;a++){o=e[a];switch(o){case t:if(!n&&!r){i.push(s);s="";continue}break;case"{":n=true;break;case"}":n=false;break;case"[":r=true;break;case"]":r=false;break}s+=o}if(s){i.push(s)}return i}t.splitGlobAware=C;function b(e){if(!e){return""}var d="";var h=C(e,v);if(h.every(function(e){return e===g})){d=".*"}else{var f=false;h.forEach(function(e,t){if(e===g){if(!f){d+=y(2);f=true}return}var i=false;var n="";var r=false;var o="";var s;for(var a=0;a<e.length;a++){s=e[a];if(s!=="}"&&i){n+=s;continue}if(r&&(s!=="]"||!o)){var u=void 0;if(s==="-"){u=s}else if((s==="^"||s==="!")&&!o){u="^"}else if(s===v){u=""}else{u=p.escapeRegExpCharacters(s)}o+=u;continue}switch(s){case"{":i=true;continue;case"[":r=true;continue;case"}":var l=C(n,",");var c="(?:"+l.map(function(e){return b(e)}).join("|")+")";d+=c;i=false;n="";break;case"]":d+="["+o+"]";r=false;o="";break;case"?":d+=_;continue;case"*":d+=y(1);continue;default:d+=p.escapeRegExpCharacters(s)}}if(t<h.length-1&&(h[t+1]!==g||t+2<h.length)){d+=m}f=false})}return d}var a=/^\*\*\/\*\.[\w\.-]+$/;var u=/^\*\*\/([\w\.-]+)\/?$/;var c=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/;var f=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/;var S=/^\*\*((\/[\w\.-]+)+)\/?$/;var w=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/;var E=new i.LRUCache(1e4);var r=function(){return false};var L=function(){return null};function x(e,t){if(!e){return L}var i;if(typeof e!=="string"){i=e.pattern}else{i=e}i=i.trim();var n=i+"_"+!!t.trimForExclusions;var r=E.get(n);if(r){return N(r,e)}var o;if(a.test(i)){var s=i.substr(4);r=function(e,t){return e&&p.endsWith(e,s)?i:null}}else if(o=u.exec(I(i,t))){r=D(o[1],i)}else if((t.trimForExclusions?f:c).test(i)){r=T(i,t)}else if(o=S.exec(I(i,t))){r=M(o[1].substr(1),i,true)}else if(o=w.exec(I(i,t))){r=M(o[1],i,false)}else{r=k(i)}E.set(n,r);return N(r,e)}function N(i,n){if(typeof n==="string"){return i}return function(e,t){if(!d.isEqualOrParent(e,n.base)){return null}return i(d.normalize(n.pathToRelative(n.base,e)),t)}}function I(e,t){return t.trimForExclusions&&p.endsWith(e,"/**")?e.substr(0,e.length-2):e}function D(i,n){var r="/"+i;var o="\\"+i;var e=function(e,t){if(!e){return null}if(t){return t===i?n:null}return e===i||p.endsWith(e,r)||p.endsWith(e,o)?n:null};var t=[i];e.basenames=t;e.patterns=[n];e.allBasenames=t;return e}function T(r,t){var o=V(r.slice(1,-1).split(",").map(function(e){return x(e,t)}).filter(function(e){return e!==L}),r);var e=o.length;if(!e){return L}if(e===1){return o[0]}var i=function(e,t){for(var i=0,n=o.length;i<n;i++){if(o[i](e,t)){return r}}return null};var n=l.first(o,function(e){return!!e.allBasenames});if(n){i.allBasenames=n.allBasenames}var s=o.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);if(s.length){i.allPaths=s}return i}function M(e,i,t){var n=d.nativeSep!==d.sep?e.replace(s,d.nativeSep):e;var r=d.nativeSep+n;var o=t?function(e,t){return e&&(e===n||p.endsWith(e,r))?i:null}:function(e,t){return e&&e===n?i:null};o.allPaths=[(t?"*/":"./")+e];return o}function k(i){try{var n=new RegExp("^"+b(i)+"$");return function(e,t){n.lastIndex=0;return e&&n.test(e)?i:null}}catch(e){return L}}function o(e,t,i){if(!e||!t){return false}return O(e)(t,undefined,i)}t.match=o;function O(e,t){if(t===void 0){t={}}if(!e){return r}if(typeof e==="string"||R(e)){var i=x(e,t);if(i===L){return r}var n=function(e,t){return!!i(e,t)};if(i.allBasenames){n.allBasenames=i.allBasenames}if(i.allPaths){n.allPaths=i.allPaths}return n}return W(e,t)}t.parse=O;function R(e){var t=e;return t&&typeof t.base==="string"&&typeof t.pattern==="string"&&typeof t.pathToRelative==="function"}t.isRelativePattern=R;function P(e,t){var r=O(e,t);return function(e,t,i){var n=r(e,t,i);return n instanceof h.TPromise?n:h.TPromise.as(n)}}t.parseToAsync=P;function A(e){return e.allBasenames||[]}t.getBasenameTerms=A;function F(e){return e.allPaths||[]}t.getPathTerms=F;function W(t,i){var c=V(Object.getOwnPropertyNames(t).map(function(e){return B(e,t[e],i)}).filter(function(e){return e!==L}));var e=c.length;if(!e){return L}if(!c.some(function(e){return e.requiresSiblings})){if(e===1){return c[0]}var n=function(e,t,i){for(var n=0,r=c.length;n<r;n++){var o=c[n](e,t);if(o){return o}}return null};var r=l.first(c,function(e){return!!e.allBasenames});if(r){n.allBasenames=r.allBasenames}var o=c.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);if(o.length){n.allPaths=o}return n}var s=function(i,n,t){var r;var o=!t;function s(e){if(e&&e.length){if(!n){n=d.basename(i)}var t=n.substr(0,n.length-d.extname(i).length);return{siblings:e,name:t}}return undefined}function e(){if(!o){o=true;var e=t();r=h.TPromise.is(e)?e.then(s):s(e)}return r}for(var a=0,u=c.length;a<u;a++){var l=c[a](i,n,e);if(l){return l}}return null};var a=l.first(c,function(e){return!!e.allBasenames});if(a){s.allBasenames=a.allBasenames}var u=c.reduce(function(e,t){return t.allPaths?e.concat(t.allPaths):e},[]);if(u.length){s.allPaths=u}return s}function B(i,e,t){if(e===false){return L}var r=x(i,t);if(r===L){return L}if(typeof e==="boolean"){return r}if(e){var n=e.when;if(typeof n==="string"){var o=function(e){var t=n.replace("$(basename)",e.name);if(e.siblings.indexOf(t)!==-1){return i}else{return null}};var s=function(e,t,i){if(!r(e,t)){return null}var n=i();if(!n){return null}return h.TPromise.is(n)?n.then(o):o(n)};s.requiresSiblings=true;return s}}return r}function V(e,t){var i=e.filter(function(e){return!!e.basenames});if(i.length<2){return e}var o=i.reduce(function(e,t){return e.concat(t.basenames)},[]);var s;if(t){s=[];for(var n=0,r=o.length;n<r;n++){s.push(t)}}else{s=i.reduce(function(e,t){return e.concat(t.patterns)},[])}var a=function(e,t){if(!e){return null}if(!t){var i=void 0;for(i=e.length;i>0;i--){var n=e.charCodeAt(i-1);if(n===47||n===92){break}}t=e.substr(i)}var r=o.indexOf(t);return r!==-1?s[r]:null};a.basenames=o;a.patterns=s;a.allBasenames=o;var u=e.filter(function(e){return!e.basenames});u.push(a);return u}});define(r[74],e([0,1,23]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){if(e===void 0){e=""}this.value=e}e.prototype.appendText=function(e){this.value+=e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&");return this};e.prototype.appendMarkdown=function(e){this.value+=e;return this};e.prototype.appendCodeblock=function(e,t){this.value+="\n```";this.value+=e;this.value+="\n";this.value+=t;this.value+="\n```\n";return this};return e}();t.MarkdownString=n;function r(e){if(o(e)){return!e.value}else if(Array.isArray(e)){return e.every(r)}else{return true}}t.isEmptyMarkdownString=r;function o(e){if(e instanceof n){return true}else if(e&&typeof e==="object"){return typeof e.value==="string"&&(typeof e.isTrusted==="boolean"||e.isTrusted===void 0)}return false}t.isMarkdownString=o;function s(e,t){if(!e&&!t){return true}else if(!e||!t){return false}else if(Array.isArray(e)&&Array.isArray(t)){return i.equals(e,t,a)}else if(o(e)&&o(t)){return a(e,t)}else{return false}}t.markedStringsEquals=s;function a(e,t){if(e===t){return true}else if(!e||!t){return false}else{return e.value===t.value&&e.isTrusted===t.isTrusted}}function u(e){if(!e){return e}return e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}t.removeMarkdownEscapes=u});define(r[136],e([0,1,10,135,5,74,565]),function(e,t,u,l,c,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});function h(e){var t=e.inline?"span":"div";var i=document.createElement(t);if(e.className){i.className=e.className}return i}function i(e,t){if(t===void 0){t={}}var i=h(t);i.textContent=e;return i}t.renderText=i;function n(e,t){if(t===void 0){t={}}var i=h(t);a(i,p(e),t.actionHandler);return i}t.renderFormattedText=n;function o(n,o){if(o===void 0){o={}}var s=h(o);var t;var a=new Promise(function(e){return t=e});var e=new d.marked.Renderer;e.image=function(e,t,i){var n=[];if(e){var r=e.split("|").map(function(e){return e.trim()});e=r[0];var o=r[1];if(o){var s=/height=(\d+)/.exec(o);var a=/width=(\d+)/.exec(o);var u=s&&s[1];var l=a&&a[1];var c=isFinite(parseInt(l));var d=isFinite(parseInt(u));if(c){n.push('width="'+l+'"')}if(d){n.push('height="'+u+'"')}}}var h=[];if(e){h.push('src="'+e+'"')}if(i){h.push('alt="'+i+'"')}if(t){h.push('title="'+t+'"')}if(n.length){h=h.concat(n)}return"<img "+h.join(" ")+">"};e.link=function(e,t,i){if(e===i){i=r.removeMarkdownEscapes(i)}t=r.removeMarkdownEscapes(t);e=r.removeMarkdownEscapes(e);if(!e||e.match(/^data:|javascript:/i)||e.match(/^command:/i)&&!n.isTrusted){return i}else{return'<a href="#" data-href="'+e+'" title="'+(t||e)+'">'+i+"</a>"}};e.paragraph=function(e){return"<p>"+e+"</p>"};if(o.codeBlockRenderer){e.code=function(e,t){var i=o.codeBlockRenderer(t,e);var n=l.defaultGenerator.nextId();var r=Promise.all([i,a]).then(function(e){var t=e[0];var i=s.querySelector('div[data-code="'+n+'"]');if(i){i.innerHTML=t}}).catch(function(e){});if(o.codeBlockRenderCallback){r.then(o.codeBlockRenderCallback)}return'<div class="code" data-code="'+n+'">'+c.escape(e)+"</div>"}}if(o.actionHandler){o.actionHandler.disposeables.push(u.addStandardDisposableListener(s,"click",function(e){var t=e.target;if(t.tagName!=="A"){t=t.parentElement;if(!t||t.tagName!=="A"){return}}var i=t.dataset["href"];if(i){o.actionHandler.callback(i,e)}}))}var i={sanitize:true,renderer:e};s.innerHTML=d.marked(n.value,i);t();return s}t.renderMarkdown=o;var f=function(){function e(e){this.source=e;this.index=0}e.prototype.eos=function(){return this.index>=this.source.length};e.prototype.next=function(){var e=this.peek();this.advance();return e};e.prototype.peek=function(){return this.source[this.index]};e.prototype.advance=function(){this.index++};return e}();var s;(function(e){e[e["Invalid"]=0]="Invalid";e[e["Root"]=1]="Root";e[e["Text"]=2]="Text";e[e["Bold"]=3]="Bold";e[e["Italics"]=4]="Italics";e[e["Action"]=5]="Action";e[e["ActionClose"]=6]="ActionClose";e[e["NewLine"]=7]="NewLine"})(s||(s={}));function a(e,t,i){var n;if(t.type===2){n=document.createTextNode(t.content)}else if(t.type===3){n=document.createElement("b")}else if(t.type===4){n=document.createElement("i")}else if(t.type===5&&i){var r=document.createElement("a");r.href="#";i.disposeables.push(u.addStandardDisposableListener(r,"click",function(e){i.callback(String(t.index),e)}));n=r}else if(t.type===7){n=document.createElement("br")}else if(t.type===1){n=e}if(e!==n){e.appendChild(n)}if(Array.isArray(t.children)){t.children.forEach(function(e){a(n,e,i)})}}function p(e){var t={type:1,children:[]};var i=0;var n=t;var r=[];var o=new f(e);while(!o.eos()){var s=o.next();var a=s==="\\"&&v(o.peek())!==0;if(a){s=o.next()}if(!a&&g(s)&&s===o.peek()){o.advance();if(n.type===2){n=r.pop()}var u=v(s);if(n.type===u||n.type===5&&u===6){n=r.pop()}else{var l={type:u,children:[]};if(u===5){l.index=i;i++}n.children.push(l);r.push(n);n=l}}else if(s==="\n"){if(n.type===2){n=r.pop()}n.children.push({type:7})}else{if(n.type!==2){var c={type:2,content:s};n.children.push(c);r.push(n);n=c}else{n.content+=s}}}if(n.type===2){n=r.pop()}if(r.length){}return t}function g(e){return v(e)!==0}function v(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}});define(r[203],e([0,1,41,5,177]),function(e,s,a,l,c){"use strict";Object.defineProperty(s,"__esModule",{value:true});s.MIME_TEXT="text/plain";s.MIME_BINARY="application/octet-stream";s.MIME_UNKNOWN="application/unknown";var r=[];var u=[];var d=[];function t(e,t){if(t===void 0){t=false}var i=n(e);r.push(i);if(!i.userConfigured){u.push(i)}else{d.push(i)}if(t&&!i.userConfigured){r.forEach(function(e){if(e.mime===i.mime||e.userConfigured){return}if(i.extension&&e.extension===i.extension){console.warn("Overwriting extension <<"+i.extension+">> to now point to mime <<"+i.mime+">>")}if(i.filename&&e.filename===i.filename){console.warn("Overwriting filename <<"+i.filename+">> to now point to mime <<"+i.mime+">>")}if(i.filepattern&&e.filepattern===i.filepattern){console.warn("Overwriting filepattern <<"+i.filepattern+">> to now point to mime <<"+i.mime+">>")}if(i.firstline&&e.firstline===i.firstline){console.warn("Overwriting firstline <<"+i.firstline+">> to now point to mime <<"+i.mime+">>")}})}}s.registerTextMime=t;function n(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:e.filepattern?e.filepattern.indexOf(a.sep)>=0:false}}function i(e){if(!e){r=[];u=[];d=[]}else{r=r.filter(function(e){return!e.userConfigured});d=[]}}s.clearTextMimes=i;function o(e,t){if(!e){return[s.MIME_UNKNOWN]}e=e.toLowerCase();var i=a.basename(e);var n=h(e,i,d);if(n){return[n,s.MIME_TEXT]}var r=h(e,i,u);if(r){return[r,s.MIME_TEXT]}if(t){var o=f(t);if(o){return[o,s.MIME_TEXT]}}return[s.MIME_UNKNOWN]}s.guessMimeTypes=o;function h(e,t,i){var n;var r;var o;for(var s=i.length-1;s>=0;s--){var a=i[s];if(t===a.filenameLowercase){n=a;break}if(a.filepattern){if(!r||a.filepattern.length>r.filepattern.length){var u=a.filepatternOnPath?e:t;if(c.match(a.filepatternLowercase,u)){r=a}}}if(a.extension){if(!o||a.extension.length>o.extension.length){if(l.endsWith(t,a.extensionLowercase)){o=a}}}}if(n){return n.mime}if(r){return r.mime}if(o){return o.mime}return null}function f(e){if(l.startsWithUTF8BOM(e)){e=e.substr(1)}if(e.length>0){for(var t=0;t<r.length;++t){var i=r[t];if(!i.firstline){continue}var n=e.match(i.firstline);if(n&&n.length>0){return i.mime}}}return null}function p(e){if(!e){return true}if(typeof e==="string"){return e===s.MIME_BINARY||e===s.MIME_TEXT||e===s.MIME_UNKNOWN}return e.length===1&&p(e[0])}s.isUnspecific=p;function g(e,t){for(var i=0;i<r.length;i++){var n=r[i];if(n.userConfigured){continue}if(n.id===e&&n.extension){return t+n.extension}}return t}s.suggestFilename=g});define(r[43],e([0,1,2,4]),function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["Auto"]=1]="Auto";e[e["Hidden"]=2]="Hidden";e[e["Visible"]=3]="Visible"})(n=t.ScrollbarVisibility||(t.ScrollbarVisibility={}));var o=function(){function t(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;if(e<0){e=0}if(i+e>t){i=t-e}if(i<0){i=0}if(n<0){n=0}if(o+n>r){o=r-n}if(o<0){o=0}this.width=e;this.scrollWidth=t;this.scrollLeft=i;this.height=n;this.scrollHeight=r;this.scrollTop=o}t.prototype.equals=function(e){return this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop};t.prototype.withScrollDimensions=function(e){return new t(typeof e.width!=="undefined"?e.width:this.width,typeof e.scrollWidth!=="undefined"?e.scrollWidth:this.scrollWidth,this.scrollLeft,typeof e.height!=="undefined"?e.height:this.height,typeof e.scrollHeight!=="undefined"?e.scrollHeight:this.scrollHeight,this.scrollTop)};t.prototype.withScrollPosition=function(e){return new t(this.width,this.scrollWidth,typeof e.scrollLeft!=="undefined"?e.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,typeof e.scrollTop!=="undefined"?e.scrollTop:this.scrollTop)};t.prototype.createScrollEvent=function(e){var t=this.width!==e.width;var i=this.scrollWidth!==e.scrollWidth;var n=this.scrollLeft!==e.scrollLeft;var r=this.height!==e.height;var o=this.scrollHeight!==e.scrollHeight;var s=this.scrollTop!==e.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:i,scrollLeftChanged:n,heightChanged:r,scrollHeightChanged:o,scrollTopChanged:s}};return t}();t.ScrollState=o;var s=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i._onScroll=i._register(new r.Emitter);i.onScroll=i._onScroll.event;i._smoothScrollDuration=e;i._scheduleAtNextAnimationFrame=t;i._state=new o(0,0,0,0,0,0);i._smoothScrolling=null;return i}e.prototype.dispose=function(){if(this._smoothScrolling){this._smoothScrolling.dispose();this._smoothScrolling=null}n.prototype.dispose.call(this)};e.prototype.setSmoothScrollDuration=function(e){this._smoothScrollDuration=e};e.prototype.validateScrollPosition=function(e){return this._state.withScrollPosition(e)};e.prototype.getScrollDimensions=function(){return this._state};e.prototype.setScrollDimensions=function(e){var t=this._state.withScrollDimensions(e);this._setState(t);if(this._smoothScrolling){this._smoothScrolling.acceptScrollDimensions(this._state)}};e.prototype.getFutureScrollPosition=function(){if(this._smoothScrolling){return this._smoothScrolling.to}return this._state};e.prototype.getCurrentScrollPosition=function(){return this._state};e.prototype.setScrollPositionNow=function(e){var t=this._state.withScrollPosition(e);if(this._smoothScrolling){this._smoothScrolling.dispose();this._smoothScrolling=null}this._setState(t)};e.prototype.setScrollPositionSmooth=function(e){var t=this;if(this._smoothScrollDuration===0){return this.setScrollPositionNow(e)}if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft==="undefined"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop==="undefined"?this._smoothScrolling.to.scrollTop:e.scrollTop};var i=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop){return}var n=this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration);this._smoothScrolling.dispose();this._smoothScrolling=n}else{var i=this._state.withScrollPosition(e);this._smoothScrolling=c.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){if(!t._smoothScrolling){return}t._smoothScrolling.animationFrameDisposable=null;t._performSmoothScrolling()})};e.prototype._performSmoothScrolling=function(){var e=this;var t=this._smoothScrolling.tick();var i=this._state.withScrollPosition(t);this._setState(i);if(t.isDone){this._smoothScrolling.dispose();this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(function(){if(!e._smoothScrolling){return}e._smoothScrolling.animationFrameDisposable=null;e._performSmoothScrolling()})};e.prototype._setState=function(e){var t=this._state;if(t.equals(e)){return}this._state=e;this._onScroll.fire(this._state.createScrollEvent(t))};return e}(i.Disposable);t.Scrollable=s;var a=function(){function e(e,t,i){this.scrollLeft=e;this.scrollTop=t;this.isDone=i}return e}();t.SmoothScrollingUpdate=a;function u(t,e){var i=e-t;return function(e){return t+i*h(e)}}function l(t,i,n){return function(e){if(e<n){return t(e/n)}return i((e-n)/(1-n))}}var c=function(){function r(e,t,i,n){this.from=e;this.to=t;this.duration=n;this._startTime=i;this.animationFrameDisposable=null;this._initAnimations()}r.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width);this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)};r.prototype._initAnimation=function(e,t,i){var n=Math.abs(e-t);if(n>2.5*i){var r=void 0,o=void 0;if(e<t){r=e+.75*i;o=t-.75*i}else{r=e-.75*i;o=t+.75*i}return l(u(e,r),u(o,t),.33)}return u(e,t)};r.prototype.dispose=function(){if(this.animationFrameDisposable!==null){this.animationFrameDisposable.dispose();this.animationFrameDisposable=null}};r.prototype.acceptScrollDimensions=function(e){this.to=e.withScrollPosition(this.to);this._initAnimations()};r.prototype.tick=function(){return this._tick(Date.now())};r.prototype._tick=function(e){var t=(e-this._startTime)/this.duration;if(t<1){var i=this.scrollLeft(t);var n=this.scrollTop(t);return new a(i,n,false)}return new a(this.to.scrollLeft,this.to.scrollTop,true)};r.prototype.combine=function(e,t,i){return r.start(e,t,i)};r.start=function(e,t,i){i=i+10;var n=Date.now()-10;return new r(e,t,n,i)};return r}();t.SmoothScrollingOperation=c;function d(e){return Math.pow(e,3)}function h(e){return 1-d(1-e)}});define(r[424],e([0,1,2,18,43]),function(e,t,i,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n._visibility=e;n._visibleClassName=t;n._invisibleClassName=i;n._domNode=null;n._isVisible=false;n._isNeeded=false;n._shouldBeVisible=false;n._revealTimer=n._register(new o.TimeoutTimer);return n}e.prototype.applyVisibilitySetting=function(e){if(this._visibility===n.ScrollbarVisibility.Hidden){return false}if(this._visibility===n.ScrollbarVisibility.Visible){return true}return e};e.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);if(this._shouldBeVisible!==t){this._shouldBeVisible=t;this.ensureVisibility()}};e.prototype.setIsNeeded=function(e){if(this._isNeeded!==e){this._isNeeded=e;this.ensureVisibility()}};e.prototype.setDomNode=function(e){this._domNode=e;this._domNode.setClassName(this._invisibleClassName);this.setShouldBeVisible(false)};e.prototype.ensureVisibility=function(){if(!this._isNeeded){this._hide(false);return}if(this._shouldBeVisible){this._reveal()}else{this._hide(true)}};e.prototype._reveal=function(){var e=this;if(this._isVisible){return}this._isVisible=true;this._revealTimer.setIfNotSet(function(){e._domNode.setClassName(e._visibleClassName)},0)};e.prototype._hide=function(e){this._revealTimer.cancel();if(!this._isVisible){return}this._isVisible=false;this._domNode.setClassName(this._invisibleClassName+(e?" fade":""))};return e}(i.Disposable);t.ScrollbarVisibilityController=r});define(r[146],e([0,1,15,10,78,47,28,128,424]),function(e,t,l,r,n,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=140;var u=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._lazyRender=e.lazyRender;t._host=e.host;t._scrollable=e.scrollable;t._scrollbarState=e.scrollbarState;t._visibilityController=t._register(new a.ScrollbarVisibilityController(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName));t._mouseMoveMonitor=t._register(new n.GlobalMouseMoveMonitor);t._shouldRender=true;t.domNode=o.createFastDomNode(document.createElement("div"));t.domNode.setAttribute("role","presentation");t.domNode.setAttribute("aria-hidden","true");t._visibilityController.setDomNode(t.domNode);t.domNode.setPosition("absolute");t.onmousedown(t.domNode.domNode,function(e){return t._domNodeMouseDown(e)});return t}e.prototype._createArrow=function(e){var t=this._register(new s.ScrollbarArrow(e));this.domNode.domNode.appendChild(t.bgDomNode);this.domNode.domNode.appendChild(t.domNode)};e.prototype._createSlider=function(e,t,i,n){var r=this;this.slider=o.createFastDomNode(document.createElement("div"));this.slider.setClassName("slider");this.slider.setPosition("absolute");this.slider.setTop(e);this.slider.setLeft(t);this.slider.setWidth(i);this.slider.setHeight(n);this.slider.setLayerHinting(true);this.domNode.domNode.appendChild(this.slider.domNode);this.onmousedown(this.slider.domNode,function(e){if(e.leftButton){e.preventDefault();r._sliderMouseDown(e,function(){})}})};e.prototype._onElementSize=function(e){if(this._scrollbarState.setVisibleSize(e)){this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());this._shouldRender=true;if(!this._lazyRender){this.render()}}return this._shouldRender};e.prototype._onElementScrollSize=function(e){if(this._scrollbarState.setScrollSize(e)){this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());this._shouldRender=true;if(!this._lazyRender){this.render()}}return this._shouldRender};e.prototype._onElementScrollPosition=function(e){if(this._scrollbarState.setScrollPosition(e)){this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded());this._shouldRender=true;if(!this._lazyRender){this.render()}}return this._shouldRender};e.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(true)};e.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(false)};e.prototype.render=function(){if(!this._shouldRender){return}this._shouldRender=false;this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize());this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition())};e.prototype._domNodeMouseDown=function(e){if(e.target!==this.domNode.domNode){return}this._onMouseDown(e)};e.prototype.delegateMouseDown=function(e){var t=this.domNode.domNode.getClientRects()[0].top;var i=t+this._scrollbarState.getSliderPosition();var n=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize();var r=this._sliderMousePosition(e);if(i<=r&&r<=n){if(e.leftButton){e.preventDefault();this._sliderMouseDown(e,function(){})}}else{this._onMouseDown(e)}};e.prototype._onMouseDown=function(e){var t;var i;if(e.target===this.domNode.domNode&&typeof e.browserEvent.offsetX==="number"&&typeof e.browserEvent.offsetY==="number"){t=e.browserEvent.offsetX;i=e.browserEvent.offsetY}else{var n=r.getDomNodePagePosition(this.domNode.domNode);t=e.posx-n.left;i=e.posy-n.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(t,i)));if(e.leftButton){e.preventDefault();this._sliderMouseDown(e,function(){})}};e.prototype._sliderMouseDown=function(e,t){var o=this;var s=this._sliderMousePosition(e);var a=this._sliderOrthogonalMousePosition(e);var u=this._scrollbarState.clone();this.slider.toggleClassName("active",true);this._mouseMoveMonitor.startMonitoring(n.standardMouseMoveMerger,function(e){var t=o._sliderOrthogonalMousePosition(e);var i=Math.abs(t-a);if(l.isWindows&&i>c){o._setDesiredScrollPositionNow(u.getScrollPosition());return}var n=o._sliderMousePosition(e);var r=n-s;o._setDesiredScrollPositionNow(u.getDesiredScrollPositionFromDelta(r))},function(){o.slider.toggleClassName("active",false);o._host.onDragEnd();t()});this._host.onDragStart()};e.prototype._setDesiredScrollPositionNow=function(e){var t={};this.writeScrollPosition(t,e);this._scrollable.setScrollPositionNow(t)};return e}(i.Widget);t.AbstractScrollbar=u});define(r[428],e([0,1,146,42,43,182,128]),function(e,t,i,a,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(s){pe(e,s);function e(e,t,i){var n=s.call(this,{lazyRender:t.lazyRender,host:i,scrollbarState:new l.ScrollbarState(t.horizontalHasArrows?t.arrowSize:0,t.horizontal===u.ScrollbarVisibility.Hidden?0:t.horizontalScrollbarSize,t.vertical===u.ScrollbarVisibility.Hidden?0:t.verticalScrollbarSize),visibility:t.horizontal,extraScrollbarClassName:"horizontal",scrollable:e})||this;if(t.horizontalHasArrows){var r=(t.arrowSize-c.ARROW_IMG_SIZE)/2;var o=(t.horizontalScrollbarSize-c.ARROW_IMG_SIZE)/2;n._createArrow({className:"left-arrow",top:o,left:r,bottom:void 0,right:void 0,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:function(){return n._host.onMouseWheel(new a.StandardMouseWheelEvent(null,1,0))}});n._createArrow({className:"right-arrow",top:o,left:void 0,bottom:void 0,right:r,bgWidth:t.arrowSize,bgHeight:t.horizontalScrollbarSize,onActivate:function(){return n._host.onMouseWheel(new a.StandardMouseWheelEvent(null,-1,0))}})}n._createSlider(Math.floor((t.horizontalScrollbarSize-t.horizontalSliderSize)/2),0,null,t.horizontalSliderSize);return n}e.prototype._updateSlider=function(e,t){this.slider.setWidth(e);this.slider.setLeft(t)};e.prototype._renderDomNode=function(e,t){this.domNode.setWidth(e);this.domNode.setHeight(t);this.domNode.setLeft(0);this.domNode.setBottom(0)};e.prototype.onDidScroll=function(e){this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender;this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender;this._shouldRender=this._onElementSize(e.width)||this._shouldRender;return this._shouldRender};e.prototype._mouseDownRelativePosition=function(e,t){return e};e.prototype._sliderMousePosition=function(e){return e.posx};e.prototype._sliderOrthogonalMousePosition=function(e){return e.posy};e.prototype.writeScrollPosition=function(e,t){e.scrollLeft=t};return e}(i.AbstractScrollbar);t.HorizontalScrollbar=n});define(r[430],e([0,1,146,42,43,182,128]),function(e,t,i,a,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(s){pe(e,s);function e(e,t,i){var n=s.call(this,{lazyRender:t.lazyRender,host:i,scrollbarState:new l.ScrollbarState(t.verticalHasArrows?t.arrowSize:0,t.vertical===u.ScrollbarVisibility.Hidden?0:t.verticalScrollbarSize,0),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e})||this;if(t.verticalHasArrows){var r=(t.arrowSize-c.ARROW_IMG_SIZE)/2;var o=(t.verticalScrollbarSize-c.ARROW_IMG_SIZE)/2;n._createArrow({className:"up-arrow",top:r,left:o,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:function(){return n._host.onMouseWheel(new a.StandardMouseWheelEvent(null,0,1))}});n._createArrow({className:"down-arrow",top:void 0,left:o,bottom:r,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:function(){return n._host.onMouseWheel(new a.StandardMouseWheelEvent(null,0,-1))}})}n._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,null);return n}e.prototype._updateSlider=function(e,t){this.slider.setHeight(e);this.slider.setTop(t)};e.prototype._renderDomNode=function(e,t){this.domNode.setWidth(t);this.domNode.setHeight(e);this.domNode.setRight(0);this.domNode.setTop(0)};e.prototype.onDidScroll=function(e){this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender;this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender;this._shouldRender=this._onElementSize(e.height)||this._shouldRender;return this._shouldRender};e.prototype._mouseDownRelativePosition=function(e,t){return t};e.prototype._sliderMousePosition=function(e){return e.posy};e.prototype._sliderOrthogonalMousePosition=function(e){return e.posx};e.prototype.writeScrollPosition=function(e,t){e.scrollTop=t};return e}(i.AbstractScrollbar);t.VerticalScrollbar=n});define(r[431],e([0,1,7]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function r(e){if(i.Promise.is(e)){this._winjsPromise=e}else{this._winjsPromise=new i.Promise(function(t,i){var n=true;e(function(e){if(!n){t(e)}else{setImmediate(t,e)}},function(e){if(!n){i(e)}else{setImmediate(i,e)}});n=false})}}r.all=function(e){return new r(i.Promise.join(e).then(null,function(e){for(var t in e){if(e.hasOwnProperty(t)){return e[t]}}}))};r.race=function(e){return new r(i.Promise.any(e).then(function(e){return e.value},function(e){return e.value}))};r.resolve=function(e){return new r(i.Promise.wrap(e))};r.reject=function(e){return new r(i.Promise.wrapError(e))};r.prototype.then=function(t,e){var i=true;var n=new r(this._winjsPromise.then(t&&function(e){if(!i){t(e)}else{setImmediate(t,e)}},e&&function(e){if(!i){t(e)}else{setImmediate(t,e)}}));i=false;return n};r.prototype.catch=function(e){return this.then(null,e)};return r}();t.PolyfillPromise=n});define(r[147],e([0,1,13,2,7,18,15]),function(e,t,u,i,l,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c="$initialize";var o=false;function s(e){if(!r.isWeb){return}if(!o){o=true;console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")}console.warn(e.message)}t.logOnceWebWorkerWarning=s;var d=function(){function e(e){this._workerId=-1;this._handler=e;this._lastSentReq=0;this._pendingReplies=Object.create(null)}e.prototype.setWorkerId=function(e){this._workerId=e};e.prototype.sendMessage=function(e,t){var i=String(++this._lastSentReq);var n={c:null,e:null};var r=new l.TPromise(function(e,t,i){n.c=e;n.e=t},function(){});this._pendingReplies[i]=n;this._send({vsWorker:this._workerId,req:i,method:e,args:t});return r};e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){}if(!t.vsWorker){return}if(this._workerId!==-1&&t.vsWorker!==this._workerId){return}this._handleMessage(t)};e.prototype._handleMessage=function(e){var t=this;if(e.seq){var i=e;if(!this._pendingReplies[i.seq]){console.warn("Got reply to unknown seq");return}var n=this._pendingReplies[i.seq];delete this._pendingReplies[i.seq];if(i.err){var r=i.err;if(i.err.$isError){r=new Error;r.name=i.err.name;r.message=i.err.message;r.stack=i.err.stack}n.e(r);return}n.c(i.res);return}var o=e;var s=o.req;var a=this._handler.handleMessage(o.method,o.args);a.then(function(e){t._send({vsWorker:t._workerId,seq:s,res:e,err:undefined})},function(e){if(e.detail instanceof Error){e.detail=u.transformErrorForSerialization(e.detail)}t._send({vsWorker:t._workerId,seq:s,res:undefined,err:u.transformErrorForSerialization(e)})})};e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)};return e}();var a=function(u){pe(e,u);function e(e,t){var i=u.call(this)||this;var n=null;var r=null;i._worker=i._register(e.create("vs/base/common/worker/simpleWorker",function(e){i._protocol.handleMessage(e)},function(e){r(e)}));i._protocol=new d({sendMessage:function(e){i._worker.postMessage(e)},handleMessage:function(e,t){return l.TPromise.as(null)}});i._protocol.setWorkerId(i._worker.getId());var o=null;if(typeof self.require!=="undefined"&&typeof self.require.getConfig==="function"){o=self.require.getConfig()}else if(typeof self.requirejs!=="undefined"){o=self.requirejs.s.contexts._.config}i._lazyProxy=new l.TPromise(function(e,t,i){n=e;r=t},function(){});i._onModuleLoaded=i._protocol.sendMessage(c,[i._worker.getId(),t,o]);i._onModuleLoaded.then(function(e){var t={};for(var i=0;i<e.length;i++){t[e[i]]=a(e[i],s)}n(t)},function(e){r(e);i._onError("Worker failed to load "+t,e)});var s=function(e,t){return i._request(e,t)};var a=function(t,i){return function(){var e=Array.prototype.slice.call(arguments,0);return i(t,e)}};return i}e.prototype.getProxyObject=function(){return new n.ShallowCancelThenPromise(this._lazyProxy)};e.prototype._request=function(n,r){var o=this;return new l.TPromise(function(e,t,i){o._onModuleLoaded.then(function(){o._protocol.sendMessage(n,r).then(e,t)},t)},function(){})};e.prototype._onError=function(e,t){console.error(e);console.info(t)};return e}(i.Disposable);t.SimpleWorkerClient=a;var h=function(){function e(t,e){var i=this;this._requestHandler=e;this._protocol=new d({sendMessage:function(e){t(e)},handleMessage:function(e,t){return i._handleMessage(e,t)}})}e.prototype.onmessage=function(e){this._protocol.handleMessage(e)};e.prototype._handleMessage=function(e,t){if(e===c){return this.initialize(t[0],t[1],t[2])}if(!this._requestHandler||typeof this._requestHandler[e]!=="function"){return l.TPromise.wrapError(new Error("Missing requestHandler or method: "+e))}try{return l.TPromise.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return l.TPromise.wrapError(e)}};e.prototype.initialize=function(e,t,i){var o=this;this._protocol.setWorkerId(e);if(this._requestHandler){var n=[];for(var r in this._requestHandler){if(typeof this._requestHandler[r]==="function"){n.push(r)}}return l.TPromise.as(n)}if(i){if(typeof i.baseUrl!=="undefined"){delete i["baseUrl"]}if(typeof i.paths!=="undefined"){if(typeof i.paths.vs!=="undefined"){delete i.paths["vs"]}}i.catchError=true;self.require.config(i)}var s;var a;var u=new l.TPromise(function(e,t,i){s=e;a=t});self.require([t],function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=e[0];o._requestHandler=i.create();var n=[];for(var r in o._requestHandler){if(typeof o._requestHandler[r]==="function"){n.push(r)}}s(n)},a);return u};return e}();t.SimpleWorkerServer=h;function f(e){return new h(e,null)}t.create=f});define(r[435],e([0,1,7,29]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e){this.modelProvider=i.isFunction(e.getModel)?e:{getModel:function(){return e}}}e.prototype.getId=function(e,t){if(!t){return null}var i=this.modelProvider.getModel();return i===t?"__root__":i.dataSource.getId(t)};e.prototype.hasChildren=function(e,t){var i=this.modelProvider.getModel();return i&&i===t&&i.entries.length>0};e.prototype.getChildren=function(e,t){var i=this.modelProvider.getModel();return n.TPromise.as(i===t?i.entries:[])};e.prototype.getParent=function(e,t){return n.TPromise.as(null)};return e}();t.DataSource=r;var o=function(){function e(e){this.modelProvider=e}e.prototype.getAriaLabel=function(e,t){var i=this.modelProvider.getModel();return i.accessibilityProvider&&i.accessibilityProvider.getAriaLabel(t)};e.prototype.getPosInSet=function(e,t){var i=this.modelProvider.getModel();return String(i.entries.indexOf(t)+1)};e.prototype.getSetSize=function(){var e=this.modelProvider.getModel();return String(e.entries.length)};return e}();t.AccessibilityProvider=o;var s=function(){function e(e){this.modelProvider=e}e.prototype.isVisible=function(e,t){var i=this.modelProvider.getModel();if(!i.filter){return true}return i.filter.isVisible(t)};return e}();t.Filter=s;var a=function(){function e(e,t){this.modelProvider=e;this.styles=t}e.prototype.updateStyles=function(e){this.styles=e};e.prototype.getHeight=function(e,t){var i=this.modelProvider.getModel();return i.renderer.getHeight(t)};e.prototype.getTemplateId=function(e,t){var i=this.modelProvider.getModel();return i.renderer.getTemplateId(t)};e.prototype.renderTemplate=function(e,t,i){var n=this.modelProvider.getModel();return n.renderer.renderTemplate(t,i,this.styles)};e.prototype.renderElement=function(e,t,i,n){var r=this.modelProvider.getModel();r.renderer.renderElement(t,i,n,this.styles)};e.prototype.disposeTemplate=function(e,t,i){var n=this.modelProvider.getModel();n.renderer.disposeTemplate(t,i)};return e}();t.Renderer=a});define(r[106],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["PREVIEW"]=0]="PREVIEW";e[e["OPEN"]=1]="OPEN";e[e["OPEN_IN_BACKGROUND"]=2]="OPEN_IN_BACKGROUND"})(i=t.Mode||(t.Mode={}))});define(r[439],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this._posx=e;this._posy=t;this._target=i}e.prototype.preventDefault=function(){};e.prototype.stopPropagation=function(){};Object.defineProperty(e.prototype,"posx",{get:function(){return this._posx},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"posy",{get:function(){return this._posy},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:true,configurable:true});return e}();t.ContextMenuEvent=i;var n=function(i){pe(e,i);function e(e){var t=i.call(this,e.posx,e.posy,e.target)||this;t.originalEvent=e;return t}e.prototype.preventDefault=function(){this.originalEvent.preventDefault()};e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()};return e}(i);t.MouseContextMenuEvent=n;var r=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,t,i.target)||this;n.originalEvent=i;return n}e.prototype.preventDefault=function(){this.originalEvent.preventDefault()};e.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()};return e}(i);t.KeyboardContextMenuEvent=r;var o;(function(e){e[e["COPY"]=0]="COPY";e[e["MOVE"]=1]="MOVE"})(o=t.DragOverEffect||(t.DragOverEffect={}));var s;(function(e){e[e["BUBBLE_DOWN"]=0]="BUBBLE_DOWN";e[e["BUBBLE_UP"]=1]="BUBBLE_UP"})(s=t.DragOverBubble||(t.DragOverBubble={}));t.DRAG_OVER_REJECT={accept:false};t.DRAG_OVER_ACCEPT={accept:true};t.DRAG_OVER_ACCEPT_BUBBLE_UP={accept:true,bubble:s.BUBBLE_UP};t.DRAG_OVER_ACCEPT_BUBBLE_DOWN=function(e){if(e===void 0){e=false}return{accept:true,bubble:s.BUBBLE_DOWN,autoExpand:e}};t.DRAG_OVER_ACCEPT_BUBBLE_UP_COPY={accept:true,bubble:s.BUBBLE_UP,effect:o.COPY};t.DRAG_OVER_ACCEPT_BUBBLE_DOWN_COPY=function(e){if(e===void 0){e=false}return{accept:true,bubble:s.BUBBLE_DOWN,effect:o.COPY,autoExpand:e}}});define(r[440],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e){this.elements=e}e.prototype.update=function(e){};e.prototype.getData=function(){return this.elements};return e}();t.ElementsDragAndDropData=i;var n=function(){function e(e){this.elements=e}e.prototype.update=function(e){};e.prototype.getData=function(){return this.elements};return e}();t.ExternalElementsDragAndDropData=n;var r=function(){function e(){this.types=[];this.files=[]}e.prototype.update=function(e){if(e.dataTransfer.types){this.types=[];Array.prototype.push.apply(this.types,e.dataTransfer.types)}if(e.dataTransfer.files){this.files=[];Array.prototype.push.apply(this.files,e.dataTransfer.files);this.files=this.files.filter(function(e){return e.size||e.type})}};e.prototype.getData=function(){return{types:this.types,files:this.files}};return e}();t.DesktopDragAndDropData=r});define(r[443],e([0,1,77,13,2,23,7,4]),function(e,t,i,r,n,f,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function e(e){this._onDispose=new u.Emitter;this.onDispose=this._onDispose.event;this._item=e}Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this._onDispose){this._onDispose.fire();this._onDispose.dispose();this._onDispose=null}};return e}();t.LockData=l;var o=function(){function e(){this.locks=Object.create({})}e.prototype.isLocked=function(e){return!!this.locks[e.id]};e.prototype.run=function(n,r){var o=this;var i=this.getLock(n);if(i){var s;return new d.TPromise(function(e,t){s=u.once(i.onDispose)(function(){return o.run(n,r).then(e,t)})},function(){s.dispose()})}var a;return new d.TPromise(function(e,t){if(n.isDisposed()){return t(new Error("Item is disposed."))}var i=o.locks[n.id]=new l(n);a=r().then(function(e){delete o.locks[n.id];i.dispose();return e}).then(e,t);return a},function(){return a.cancel()})};e.prototype.getLock=function(e){var t;for(t in this.locks){var i=this.locks[t];if(e.intersects(i.item)){return i}}return null};return e}();t.Lock=o;var s=function(){function e(){this._isDisposed=false;this._onDidRevealItem=new u.EventMultiplexer;this.onDidRevealItem=this._onDidRevealItem.event;this._onExpandItem=new u.EventMultiplexer;this.onExpandItem=this._onExpandItem.event;this._onDidExpandItem=new u.EventMultiplexer;this.onDidExpandItem=this._onDidExpandItem.event;this._onCollapseItem=new u.EventMultiplexer;this.onCollapseItem=this._onCollapseItem.event;this._onDidCollapseItem=new u.EventMultiplexer;this.onDidCollapseItem=this._onDidCollapseItem.event;this._onDidAddTraitItem=new u.EventMultiplexer;this.onDidAddTraitItem=this._onDidAddTraitItem.event;this._onDidRemoveTraitItem=new u.EventMultiplexer;this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event;this._onDidRefreshItem=new u.EventMultiplexer;this.onDidRefreshItem=this._onDidRefreshItem.event;this._onRefreshItemChildren=new u.EventMultiplexer;this.onRefreshItemChildren=this._onRefreshItemChildren.event;this._onDidRefreshItemChildren=new u.EventMultiplexer;this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event;this._onDidDisposeItem=new u.EventMultiplexer;this.onDidDisposeItem=this._onDidDisposeItem.event;this.items={}}e.prototype.register=function(e){i.ok(!this.isRegistered(e.id),"item already registered: "+e.id);var t=n.combinedDisposable([this._onDidRevealItem.add(e.onDidReveal),this._onExpandItem.add(e.onExpand),this._onDidExpandItem.add(e.onDidExpand),this._onCollapseItem.add(e.onCollapse),this._onDidCollapseItem.add(e.onDidCollapse),this._onDidAddTraitItem.add(e.onDidAddTrait),this._onDidRemoveTraitItem.add(e.onDidRemoveTrait),this._onDidRefreshItem.add(e.onDidRefresh),this._onRefreshItemChildren.add(e.onRefreshChildren),this._onDidRefreshItemChildren.add(e.onDidRefreshChildren),this._onDidDisposeItem.add(e.onDidDispose)]);this.items[e.id]={item:e,disposable:t}};e.prototype.deregister=function(e){i.ok(this.isRegistered(e.id),"item not registered: "+e.id);this.items[e.id].disposable.dispose();delete this.items[e.id]};e.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)};e.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null};e.prototype.dispose=function(){this.items=null;this._onDidRevealItem.dispose();this._onExpandItem.dispose();this._onDidExpandItem.dispose();this._onCollapseItem.dispose();this._onDidCollapseItem.dispose();this._onDidAddTraitItem.dispose();this._onDidRemoveTraitItem.dispose();this._onDidRefreshItem.dispose();this._onRefreshItemChildren.dispose();this._onDidRefreshItemChildren.dispose();this._isDisposed=true};e.prototype.isDisposed=function(){return this._isDisposed};return e}();t.ItemRegistry=s;var a=function(){function c(e,t,i,n,r){this._onDidCreate=new u.Emitter;this.onDidCreate=this._onDidCreate.event;this._onDidReveal=new u.Emitter;this.onDidReveal=this._onDidReveal.event;this._onExpand=new u.Emitter;this.onExpand=this._onExpand.event;this._onDidExpand=new u.Emitter;this.onDidExpand=this._onDidExpand.event;this._onCollapse=new u.Emitter;this.onCollapse=this._onCollapse.event;this._onDidCollapse=new u.Emitter;this.onDidCollapse=this._onDidCollapse.event;this._onDidAddTrait=new u.Emitter;this.onDidAddTrait=this._onDidAddTrait.event;this._onDidRemoveTrait=new u.Emitter;this.onDidRemoveTrait=this._onDidRemoveTrait.event;this._onDidRefresh=new u.Emitter;this.onDidRefresh=this._onDidRefresh.event;this._onRefreshChildren=new u.Emitter;this.onRefreshChildren=this._onRefreshChildren.event;this._onDidRefreshChildren=new u.Emitter;this.onDidRefreshChildren=this._onDidRefreshChildren.event;this._onDidDispose=new u.Emitter;this.onDidDispose=this._onDidDispose.event;this.registry=t;this.context=i;this.lock=n;this.element=r;this.id=e;this.registry.register(this);this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element);this.needsChildrenRefresh=true;this.parent=null;this.previous=null;this.next=null;this.firstChild=null;this.lastChild=null;this.traits={};this.depth=0;this.expanded=this.context.dataSource.shouldAutoexpand&&this.context.dataSource.shouldAutoexpand(this.context.tree,r);this._onDidCreate.fire(this);this.visible=this._isVisible();this.height=this._getHeight();this._isDisposed=false}c.prototype.getElement=function(){return this.element};c.prototype.hasChildren=function(){return this.doesHaveChildren};c.prototype.getDepth=function(){return this.depth};c.prototype.isVisible=function(){return this.visible};c.prototype.setVisible=function(e){this.visible=e};c.prototype.isExpanded=function(){return this.expanded};c.prototype._setExpanded=function(e){this.expanded=e};c.prototype.reveal=function(e){if(e===void 0){e=null}var t={item:this,relativeTop:e};this._onDidReveal.fire(t)};c.prototype.expand=function(){var i=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this)){return d.TPromise.as(false)}var e=this.lock.run(this,function(){var e={item:i};var t;i._onExpand.fire(e);if(i.needsChildrenRefresh){t=i.refreshChildren(false,true,true)}else{t=d.TPromise.as(null)}return t.then(function(){i._setExpanded(true);i._onDidExpand.fire(e);return true})});return e.then(function(e){if(i.isDisposed()){return false}if(i.context.options.autoExpandSingleChildren&&e&&i.firstChild!==null&&i.firstChild===i.lastChild&&i.firstChild.isVisible()){return i.firstChild.expand().then(function(){return true})}return e})};c.prototype.collapse=function(e){var t=this;if(e===void 0){e=false}if(e){var i=d.TPromise.as(null);this.forEachChild(function(e){i=i.then(function(){return e.collapse(true)})});return i.then(function(){return t.collapse(false)})}else{if(!this.isExpanded()||this.lock.isLocked(this)){return d.TPromise.as(false)}return this.lock.run(this,function(){var e={item:t};t._onCollapse.fire(e);t._setExpanded(false);t._onDidCollapse.fire(e);return d.TPromise.as(true)})}};c.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=true;this._onDidAddTrait.fire(t)};c.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e];this._onDidRemoveTrait.fire(t)};c.prototype.hasTrait=function(e){return this.traits[e]||false};c.prototype.getAllTraits=function(){var e=[];var t;for(t in this.traits){if(this.traits.hasOwnProperty(t)&&this.traits[t]){e.push(t)}}return e};c.prototype.getHeight=function(){return this.height};c.prototype.refreshChildren=function(u,n,e){var l=this;if(n===void 0){n=false}if(e===void 0){e=false}if(!e&&!this.isExpanded()){this.needsChildrenRefresh=true;return d.TPromise.as(this)}this.needsChildrenRefresh=false;var t=function(){var e={item:l,isNested:n};l._onRefreshChildren.fire(e);var t;if(l.doesHaveChildren){t=l.context.dataSource.getChildren(l.context.tree,l.element)}else{t=d.TPromise.as([])}var i=t.then(function(e){if(l.isDisposed()||l.registry.isDisposed()){return d.TPromise.as(null)}if(!Array.isArray(e)){return d.TPromise.wrapError(new Error("Please return an array of children."))}e=!e?[]:e.slice(0);e=l.sort(e);var t={};while(l.firstChild!==null){t[l.firstChild.id]=l.firstChild;l.removeChild(l.firstChild)}for(var i=0,n=e.length;i<n;i++){var r=e[i];var o=l.context.dataSource.getId(l.context.tree,r);var s=t[o]||new c(o,l.registry,l.context,l.lock,r);s.element=r;if(u){s.needsChildrenRefresh=u}delete t[o];l.addChild(s)}for(var a in t){if(t.hasOwnProperty(a)){t[a].dispose()}}if(u){return d.Promise.join(l.mapEachChild(function(e){return e.doRefresh(u,true)}))}else{return d.TPromise.as(null)}});return i.then(null,r.onUnexpectedError).then(function(){return l._onDidRefreshChildren.fire(e)})};return n?t():this.lock.run(this,t)};c.prototype.doRefresh=function(e,t){if(t===void 0){t=false}this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element);this.height=this._getHeight();this.setVisible(this._isVisible());this._onDidRefresh.fire(this);return this.refreshChildren(e,t)};c.prototype.refresh=function(e){return this.doRefresh(e)};c.prototype.getNavigator=function(){return new h(this)};c.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)};c.prototype.getHierarchy=function(){var e=[];var t=this;do{e.push(t);t=t.parent}while(t);e.reverse();return e};c.prototype.getChildren=function(){var e=this.firstChild;var t=[];while(e){t.push(e);e=e.next}return t};c.prototype.isAncestorOf=function(e){while(e){if(e.id===this.id){return true}e=e.parent}return false};c.prototype.addChild=function(e,t){if(t===void 0){t=this.lastChild}var i=this.firstChild===null;var n=t===null;var r=t===this.lastChild;if(i){this.firstChild=this.lastChild=e;e.next=e.previous=null}else if(n){this.firstChild.previous=e;e.next=this.firstChild;e.previous=null;this.firstChild=e}else if(r){this.lastChild.next=e;e.next=null;e.previous=this.lastChild;this.lastChild=e}else{e.previous=t;e.next=t.next;t.next.previous=e;t.next=e}e.parent=this;e.depth=this.depth+1};c.prototype.removeChild=function(e){var t=this.firstChild===e;var i=this.lastChild===e;if(t&&i){this.firstChild=this.lastChild=null}else if(t){e.next.previous=null;this.firstChild=e.next}else if(i){e.previous.next=null;this.lastChild=e.previous}else{e.next.previous=e.previous;e.previous.next=e.next}e.parent=null;e.depth=null};c.prototype.forEachChild=function(e){var t=this.firstChild,i;while(t){i=t.next;e(t);t=i}};c.prototype.mapEachChild=function(t){var i=[];this.forEachChild(function(e){i.push(t(e))});return i};c.prototype.sort=function(e){var i=this;if(this.context.sorter){return e.sort(function(e,t){return i.context.sorter.compare(i.context.tree,e,t)})}return e};c.prototype._getHeight=function(){return this.context.renderer.getHeight(this.context.tree,this.element)};c.prototype._isVisible=function(){return this.context.filter.isVisible(this.context.tree,this.element)};c.prototype.isDisposed=function(){return this._isDisposed};c.prototype.dispose=function(){this.forEachChild(function(e){return e.dispose()});this.parent=null;this.previous=null;this.next=null;this.firstChild=null;this.lastChild=null;this._onDidDispose.fire(this);this.registry.deregister(this);this._onDidCreate.dispose();this._onDidReveal.dispose();this._onExpand.dispose();this._onDidExpand.dispose();this._onCollapse.dispose();this._onDidCollapse.dispose();this._onDidAddTrait.dispose();this._onDidRemoveTrait.dispose();this._onDidRefresh.dispose();this._onRefreshChildren.dispose();this._onDidRefreshChildren.dispose();this._onDidDispose.dispose();this._isDisposed=true};return c}();t.Item=a;var c=function(o){pe(e,o);function e(e,t,i,n,r){return o.call(this,e,t,i,n,r)||this}e.prototype.isVisible=function(){return false};e.prototype.setVisible=function(e){};e.prototype.isExpanded=function(){return true};e.prototype._setExpanded=function(e){};e.prototype.render=function(){};e.prototype._getHeight=function(){return 0};e.prototype._isVisible=function(){return false};return e}(a);var h=function(){function t(e,t){if(t===void 0){t=true}this.item=e;this.start=t?e:null}t.lastDescendantOf=function(e){if(!e){return null}if(e instanceof c){return t.lastDescendantOf(e.lastChild)}if(!e.isVisible()){return t.lastDescendantOf(e.previous)}if(!e.isExpanded()||e.lastChild===null){return e}return t.lastDescendantOf(e.lastChild)};t.prototype.current=function(){return this.item||null};t.prototype.next=function(){if(this.item){do{if((this.item instanceof c||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild){this.item=this.item.firstChild}else if(this.item===this.start){this.item=null}else{while(this.item&&this.item!==this.start&&!this.item.next){this.item=this.item.parent}if(this.item===this.start){this.item=null}this.item=!this.item?null:this.item.next}}while(this.item&&!this.item.isVisible())}return this.item||null};t.prototype.previous=function(){if(this.item){do{var e=t.lastDescendantOf(this.item.previous);if(e){this.item=e}else if(this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()){this.item=this.item.parent}else{this.item=null}}while(this.item&&!this.item.isVisible())}return this.item||null};t.prototype.parent=function(){if(this.item){var e=this.item.parent;if(e&&e!==this.start&&e.isVisible()){this.item=e}else{this.item=null}}return this.item||null};t.prototype.first=function(){this.item=this.start;this.next();return this.item||null};t.prototype.last=function(){return t.lastDescendantOf(this.start)};return t}();t.TreeNavigator=h;function p(e,t){var i=e.getHierarchy();var n=t.getHierarchy();var r=f.commonPrefixLength(i,n);var o=i[r-1];var s=o.getNavigator();var a=null;var u=null;var l=0;var c=[];while(o&&(a===null||u===null)){c.push(o);if(o===e){a=l}if(o===t){u=l}l++;o=s.next()}if(a===null||u===null){return[]}var d=Math.min(a,u);var h=Math.max(a,u);return c.slice(d,h+1)}var g=function(){function e(e){this._onSetInput=new u.Emitter;this.onSetInput=this._onSetInput.event;this._onDidSetInput=new u.Emitter;this.onDidSetInput=this._onDidSetInput.event;this._onRefresh=new u.Emitter;this.onRefresh=this._onRefresh.event;this._onDidRefresh=new u.Emitter;this.onDidRefresh=this._onDidRefresh.event;this._onDidHighlight=new u.Emitter;this.onDidHighlight=this._onDidHighlight.event;this._onDidSelect=new u.Emitter;this.onDidSelect=this._onDidSelect.event;this._onDidFocus=new u.Emitter;this.onDidFocus=this._onDidFocus.event;this._onDidRevealItem=new u.Relay;this.onDidRevealItem=this._onDidRevealItem.event;this._onExpandItem=new u.Relay;this.onExpandItem=this._onExpandItem.event;this._onDidExpandItem=new u.Relay;this.onDidExpandItem=this._onDidExpandItem.event;this._onCollapseItem=new u.Relay;this.onCollapseItem=this._onCollapseItem.event;this._onDidCollapseItem=new u.Relay;this.onDidCollapseItem=this._onDidCollapseItem.event;this._onDidAddTraitItem=new u.Relay;this.onDidAddTraitItem=this._onDidAddTraitItem.event;this._onDidRemoveTraitItem=new u.Relay;this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event;this._onDidRefreshItem=new u.Relay;this.onDidRefreshItem=this._onDidRefreshItem.event;this._onRefreshItemChildren=new u.Relay;this.onRefreshItemChildren=this._onRefreshItemChildren.event;this._onDidRefreshItemChildren=new u.Relay;this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event;this._onDidDisposeItem=new u.Relay;this.onDidDisposeItem=this._onDidDisposeItem.event;this.context=e;this.input=null;this.traitsToItems={}}e.prototype.setInput=function(e){var i=this;var t={item:this.input};this._onSetInput.fire(t);this.setSelection([]);this.setFocus();this.setHighlight();this.lock=new o;if(this.input){this.input.dispose()}if(this.registry){this.registry.dispose();this.registryDisposable.dispose()}this.registry=new s;this._onDidRevealItem.input=this.registry.onDidRevealItem;this._onExpandItem.input=this.registry.onExpandItem;this._onDidExpandItem.input=this.registry.onDidExpandItem;this._onCollapseItem.input=this.registry.onCollapseItem;this._onDidCollapseItem.input=this.registry.onDidCollapseItem;this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem;this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem;this._onDidRefreshItem.input=this.registry.onDidRefreshItem;this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren;this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren;this._onDidDisposeItem.input=this.registry.onDidDisposeItem;this.registryDisposable=this.registry.onDidDisposeItem(function(t){return t.getAllTraits().forEach(function(e){return delete i.traitsToItems[e][t.id]})});var n=this.context.dataSource.getId(this.context.tree,e);this.input=new c(n,this.registry,this.context,this.lock,e);t={item:this.input};this._onDidSetInput.fire(t);return this.refresh(this.input)};e.prototype.getInput=function(){return this.input?this.input.getElement():null};e.prototype.refresh=function(e,t){var i=this;if(e===void 0){e=null}if(t===void 0){t=true}var n=this.getItem(e);if(!n){return d.TPromise.as(null)}var r={item:n,recursive:t};this._onRefresh.fire(r);return n.refresh(t).then(function(){i._onDidRefresh.fire(r)})};e.prototype.expand=function(e){var t=this.getItem(e);if(!t){return d.TPromise.as(false)}return t.expand()};e.prototype.expandAll=function(e){if(!e){e=[];var t;var i=this.getNavigator();while(t=i.next()){e.push(t)}}var n=[];for(var r=0,o=e.length;r<o;r++){n.push(this.expand(e[r]))}return d.Promise.join(n)};e.prototype.collapse=function(e,t){if(t===void 0){t=false}var i=this.getItem(e);if(!i){return d.TPromise.as(false)}return i.collapse(t)};e.prototype.collapseAll=function(e,t){if(e===void 0){e=null}if(t===void 0){t=false}if(!e){e=[this.input];t=true}var i=[];for(var n=0,r=e.length;n<r;n++){i.push(this.collapse(e[n],t))}return d.Promise.join(i)};e.prototype.collapseDeepestExpandedLevel=function(){var t=this;var e=this.findDeepestExpandedLevel(this.input,0);var i=[this.input];for(var n=0;n<e;n++){i=f.flatten(i.map(function(e){return e.getChildren()}))}var r=i.map(function(e){return t.collapse(e,false)});return d.Promise.join(r)};e.prototype.findDeepestExpandedLevel=function(e,t){var i=this;var n=e.getChildren().filter(function(e){return e.isExpanded()});if(!n.length){return t}return Math.max.apply(Math,n.map(function(e){return i.findDeepestExpandedLevel(e,t+1)}))};e.prototype.toggleExpansion=function(e,t){if(t===void 0){t=false}return this.isExpanded(e)?this.collapse(e,t):this.expand(e)};e.prototype.toggleExpansionAll=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){t.push(this.toggleExpansion(e[i]))}return d.Promise.join(t)};e.prototype.isExpanded=function(e){var t=this.getItem(e);if(!t){return false}return t.isExpanded()};e.prototype.getExpandedElements=function(){var e=[];var t;var i=this.getNavigator();while(t=i.next()){if(t.isExpanded()){e.push(t.getElement())}}return e};e.prototype.reveal=function(t,i){var n=this;if(i===void 0){i=null}return this.resolveUnknownParentChain(t).then(function(e){var t=d.TPromise.as(null);e.forEach(function(e){t=t.then(function(){return n.expand(e)})});return t}).then(function(){var e=n.getItem(t);if(e){return e.reveal(i)}})};e.prototype.resolveUnknownParentChain=function(e){var i=this;return this.context.dataSource.getParent(this.context.tree,e).then(function(t){if(!t){return d.TPromise.as([])}return i.resolveUnknownParentChain(t).then(function(e){e.push(t);return e})})};e.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var i={highlight:this.getHighlight(),payload:t};this._onDidHighlight.fire(i)};e.prototype.getHighlight=function(e){var t=this.getElementsWithTrait("highlighted",e);return t.length===0?null:t[0]};e.prototype.isHighlighted=function(e){var t=this.getItem(e);if(!t){return false}return t.hasTrait("highlighted")};e.prototype.select=function(e,t){this.selectAll([e],t)};e.prototype.selectRange=function(e,t,i){var n=this.getItem(e);var r=this.getItem(t);if(!n||!r){return}this.selectAll(p(n,r),i)};e.prototype.deselectRange=function(e,t,i){var n=this.getItem(e);var r=this.getItem(t);if(!n||!r){return}this.deselectAll(p(n,r),i)};e.prototype.selectAll=function(e,t){this.addTraits("selected",e);var i={selection:this.getSelection(),payload:t};this._onDidSelect.fire(i)};e.prototype.deselect=function(e,t){this.deselectAll([e],t)};e.prototype.deselectAll=function(e,t){this.removeTraits("selected",e);var i={selection:this.getSelection(),payload:t};this._onDidSelect.fire(i)};e.prototype.setSelection=function(e,t){this.setTraits("selected",e);var i={selection:this.getSelection(),payload:t};this._onDidSelect.fire(i)};e.prototype.toggleSelection=function(e,t){this.toggleTrait("selected",e);var i={selection:this.getSelection(),payload:t};this._onDidSelect.fire(i)};e.prototype.isSelected=function(e){var t=this.getItem(e);if(!t){return false}return t.hasTrait("selected")};e.prototype.getSelection=function(e){return this.getElementsWithTrait("selected",e)};e.prototype.selectNext=function(e,t,i){if(e===void 0){e=1}if(t===void 0){t=true}var n=this.getSelection();var r=n.length>0?n[0]:this.input;var o;var s=this.getNavigator(r,false);for(var a=0;a<e;a++){o=s.next();if(!o){break}r=o}if(t){this.setSelection([r],i)}else{this.select(r,i)}};e.prototype.selectPrevious=function(e,t,i){if(e===void 0){e=1}if(t===void 0){t=true}var n=this.getSelection(),r=null,o=null;if(n.length===0){var s=this.getNavigator(this.input);while(r=s.next()){o=r}r=o}else{r=n[0];var s=this.getNavigator(r,false);for(var a=0;a<e;a++){o=s.previous();if(!o){break}r=o}}if(t){this.setSelection([r],i)}else{this.select(r,i)}};e.prototype.selectParent=function(e,t){if(t===void 0){t=true}var i=this.getSelection();var n=i.length>0?i[0]:this.input;var r=this.getNavigator(n,false);var o=r.parent();if(o){if(t){this.setSelection([o],e)}else{this.select(o,e)}}};e.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var i={focus:this.getFocus(),payload:t};this._onDidFocus.fire(i)};e.prototype.isFocused=function(e){var t=this.getItem(e);if(!t){return false}return t.hasTrait("focused")};e.prototype.getFocus=function(e){var t=this.getElementsWithTrait("focused",e);return t.length===0?null:t[0]};e.prototype.focusNext=function(e,t){if(e===void 0){e=1}var i=this.getFocus()||this.input;var n;var r=this.getNavigator(i,false);for(var o=0;o<e;o++){n=r.next();if(!n){break}i=n}this.setFocus(i,t)};e.prototype.focusPrevious=function(e,t){if(e===void 0){e=1}var i=this.getFocus()||this.input;var n;var r=this.getNavigator(i,false);for(var o=0;o<e;o++){n=r.previous();if(!n){break}i=n}this.setFocus(i,t)};e.prototype.focusParent=function(e){var t=this.getFocus()||this.input;var i=this.getNavigator(t,false);var n=i.parent();if(n){this.setFocus(n,e)}};e.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input);var i=this.getNavigator(t,false);var n=i.next();var r=i.parent();if(r===t){this.setFocus(n,e)}};e.prototype.focusFirst=function(e,t){this.focusNth(0,e,t)};e.prototype.focusNth=function(e,t,i){var n=this.getParent(i);var r=this.getNavigator(n);var o=r.first();for(var s=0;s<e;s++){o=r.next()}if(o){this.setFocus(o,t)}};e.prototype.focusLast=function(e,t){var i=this.getParent(t);var n;if(t){n=i.lastChild}else{var r=this.getNavigator(i);n=r.last()}if(n){this.setFocus(n,e)}};e.prototype.getParent=function(e){if(e){var t=this.getItem(e);if(t&&t.parent){return t.parent}}return this.getItem(this.input)};e.prototype.getNavigator=function(e,t){if(e===void 0){e=null}if(t===void 0){t=true}return new h(this.getItem(e),t)};e.prototype.getItem=function(e){if(e===void 0){e=null}if(e===null){return this.input}else if(e instanceof a){return e}else if(typeof e==="string"){return this.registry.getItem(e)}else{return this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))}};e.prototype.addTraits=function(e,t){var i=this.traitsToItems[e]||{};var n;for(var r=0,o=t.length;r<o;r++){n=this.getItem(t[r]);if(n){n.addTrait(e);i[n.id]=n}}this.traitsToItems[e]=i};e.prototype.removeTraits=function(e,t){var i=this.traitsToItems[e]||{};var n;var r;if(t.length===0){for(r in i){if(i.hasOwnProperty(r)){n=i[r];n.removeTrait(e)}}delete this.traitsToItems[e]}else{for(var o=0,s=t.length;o<s;o++){n=this.getItem(t[o]);if(n){n.removeTrait(e);delete i[n.id]}}}};e.prototype.hasTrait=function(e,t){var i=this.getItem(t);return i&&i.hasTrait(e)};e.prototype.toggleTrait=function(e,t){var i=this.getItem(t);if(!i){return}if(i.hasTrait(e)){this.removeTraits(e,[t])}else{this.addTraits(e,[t])}};e.prototype.setTraits=function(e,t){if(t.length===0){this.removeTraits(e,t)}else{var i={};var n;for(var r=0,o=t.length;r<o;r++){n=this.getItem(t[r]);if(n){i[n.id]=n}}var s=this.traitsToItems[e]||{};var a=[];var u;for(u in s){if(s.hasOwnProperty(u)){if(i.hasOwnProperty(u)){delete i[u]}else{a.push(s[u])}}}for(var r=0,o=a.length;r<o;r++){n=a[r];n.removeTrait(e);delete s[n.id]}for(u in i){if(i.hasOwnProperty(u)){n=i[u];n.addTrait(e);s[u]=n}}this.traitsToItems[e]=s}};e.prototype.getElementsWithTrait=function(e,t){var i=[];var n=this.traitsToItems[e]||{};var r;for(r in n){if(n.hasOwnProperty(r)&&(n[r].isVisible()||t)){i.push(n[r].getElement())}}return i};e.prototype.dispose=function(){if(this.registry){this.registry.dispose();this.registry=null}this._onSetInput.dispose();this._onDidSetInput.dispose();this._onRefresh.dispose();this._onDidRefresh.dispose();this._onDidHighlight.dispose();this._onDidSelect.dispose();this._onDidFocus.dispose();this._onDidRevealItem.dispose();this._onExpandItem.dispose();this._onDidExpandItem.dispose();this._onCollapseItem.dispose();this._onDidCollapseItem.dispose();this._onDidAddTraitItem.dispose();this._onDidRemoveTraitItem.dispose();this._onDidRefreshItem.dispose();this._onRefreshItemChildren.dispose();this._onDidRefreshItemChildren.dispose();this._onDidDisposeItem.dispose()};return e}();t.TreeModel=g});define(r[446],e([0,1,111]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){this.heightMap=[];this.indexes={}}e.prototype.getTotalHeight=function(){var e=this.heightMap[this.heightMap.length-1];return!e?0:e.top+e.height};e.prototype.onInsertItems=function(e,t){if(t===void 0){t=null}var i;var n;var r,o;var s;var a=0;if(t===null){r=0;s=0}else{r=this.indexes[t]+1;n=this.heightMap[r-1];if(!n){console.error("view item doesnt exist");return undefined}s=n.top+n.height}var u=this.heightMap.splice.bind(this.heightMap,r,0);var l=[];while(i=e.next()){n=this.createViewItem(i);n.top=s+a;this.indexes[i.id]=r++;l.push(n);a+=n.height}u.apply(this.heightMap,l);for(o=r;o<this.heightMap.length;o++){n=this.heightMap[o];n.top+=a;this.indexes[n.model.id]=o}for(o=l.length-1;o>=0;o--){this.onInsertItem(l[o])}for(o=this.heightMap.length-1;o>=r;o--){this.onRefreshItem(this.heightMap[o])}return a};e.prototype.onInsertItem=function(e){};e.prototype.onRemoveItems=function(e){var t;var i;var n=null;var r;var o=0;while(t=e.next()){r=this.indexes[t];i=this.heightMap[r];if(!i){console.error("view item doesnt exist");return}o-=i.height;delete this.indexes[t];this.onRemoveItem(i);if(n===null){n=r}}if(o===0){return}this.heightMap.splice(n,r-n+1);for(r=n;r<this.heightMap.length;r++){i=this.heightMap[r];i.top+=o;this.indexes[i.model.id]=r;this.onRefreshItem(i)}};e.prototype.onRemoveItem=function(e){};e.prototype.onRefreshItemSet=function(e){var i=this;var t=e.sort(function(e,t){return i.indexes[e.id]-i.indexes[t.id]});this.onRefreshItems(new n.ArrayIterator(t))};e.prototype.onRefreshItems=function(e){var t;var i;var n;var r,o=null;var s=0;while(t=e.next()){r=this.indexes[t.id];for(;s!==0&&o!==null&&o<r;o++){i=this.heightMap[o];i.top+=s;this.onRefreshItem(i)}i=this.heightMap[r];n=t.getHeight();i.top+=s;s+=n-i.height;i.height=n;this.onRefreshItem(i,true);o=r+1}if(s!==0&&o!==null){for(;o<this.heightMap.length;o++){i=this.heightMap[o];i.top+=s;this.onRefreshItem(i)}}};e.prototype.onRefreshItem=function(e,t){if(t===void 0){t=false}};e.prototype.itemsCount=function(){return this.heightMap.length};e.prototype.itemAt=function(e){return this.heightMap[this.indexAt(e)].model.id};e.prototype.withItemsInRange=function(e,t,i){e=this.indexAt(e);t=this.indexAt(t);for(var n=e;n<=t;n++){i(this.heightMap[n].model.id)}};e.prototype.indexAt=function(e){var t=0;var i=this.heightMap.length;var n;var r;while(t<i){n=Math.floor((t+i)/2);r=this.heightMap[n];if(e<r.top){i=n}else if(e>=r.top+r.height){if(t===n){break}t=n}else{return n}}return this.heightMap.length};e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)};e.prototype.itemAtIndex=function(e){return this.heightMap[e]};e.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null};e.prototype.createViewItem=function(e){throw new Error("not implemented")};e.prototype.dispose=function(){this.heightMap=null;this.indexes=null};return e}();t.HeightMap=i});define(r[447],e([0,1,15,147]),function(i,e,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:true});function o(e,t){if(n.globals.MonacoEnvironment&&typeof n.globals.MonacoEnvironment.getWorkerUrl==="function"){return n.globals.MonacoEnvironment.getWorkerUrl(e,t)}if(typeof i==="function"){return i.toUrl("./"+e)+"#"+t}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl")}var a=function(){function e(e,t,i,n,r){this.id=t;this.worker=new Worker(o("workerMain.js",i));this.postMessage(e);this.worker.onmessage=function(e){n(e.data)};if(typeof this.worker.addEventListener==="function"){this.worker.addEventListener("error",r)}}e.prototype.getId=function(){return this.id};e.prototype.postMessage=function(e){if(this.worker){this.worker.postMessage(e)}};e.prototype.dispose=function(){this.worker.terminate();this.worker=null};return e}();var t=function(){function o(e){this._label=e;this._webWorkerFailedBeforeError=false}o.prototype.create=function(e,t,i){var n=this;var r=++o.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError){throw this._webWorkerFailedBeforeError}return new a(e,r,this._label||"anonymous"+r,t,function(e){s.logOnceWebWorkerWarning(e);n._webWorkerFailedBeforeError=e;i(e)})};o.LAST_WORKER_ID=0;return o}();e.DefaultWorkerFactory=t});define(r[452],e([6]),{});define(r[48],e([0,1,7,29,2,5,77,10,452]),function(e,t,n,c,r,d,l,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t){l.ok(c.isString(e),"Expected String as parameter");var i=document.getElementById(e);if(i){return new v(i,t)}return null}t.withElementById=i;t.Build={withElementById:i};var o="_msDataKey";var s="__$binding";var u="__$listeners";var a="__$visibility";var f=function(){function e(e,t){this.width=e;this.height=t}return e}();t.Dimension=f;function p(e){if(!e[o]){e[o]={}}return e[o]}function g(e){return!!e[o]}var v=function(){function s(e,t){this.offdom=t;this.container=e;this.currentElement=e;this.createdElements=[];this.toUnbind={};this.captureToUnbind={}}s.prototype.asContainer=function(){return _(this,this.offdom)};s.prototype.clone=function(){var e=new s(this.container,this.offdom);e.currentElement=this.currentElement;e.createdElements=this.createdElements;e.captureToUnbind=this.captureToUnbind;e.toUnbind=this.toUnbind;return e};s.prototype.build=function(e,t){l.ok(this.offdom,"This builder was not created off-dom, so build() can not be called.");if(!e){e=this.container}else if(e instanceof s){e=e.getHTMLElement()}l.ok(e,"Builder can only be build() with a container provided.");l.ok(h.isHTMLElement(e),"The container must either be a HTMLElement or a Builder.");var i=e;var n,r;var o=i.childNodes;if(c.isNumber(t)&&t<o.length){for(n=0,r=this.createdElements.length;n<r;n++){i.insertBefore(this.createdElements[n],o[t++])}}else{for(n=0,r=this.createdElements.length;n<r;n++){i.appendChild(this.createdElements[n])}}return this};s.prototype.appendTo=function(e,t){if(!e){e=this.container}else if(e instanceof s){e=e.getHTMLElement()}l.ok(e,"Builder can only be build() with a container provided.");l.ok(h.isHTMLElement(e),"The container must either be a HTMLElement or a Builder.");var i=e;if(this.currentElement.parentNode){this.currentElement.parentNode.removeChild(this.currentElement)}var n=i.childNodes;if(c.isNumber(t)&&t<n.length){i.insertBefore(this.currentElement,n[t])}else{i.appendChild(this.currentElement)}return this};s.prototype.append=function(e,t){l.ok(e,"Need a child to append");if(h.isHTMLElement(e)){e=y(e)}l.ok(e instanceof s||e instanceof m,"Need a child to append");e.appendTo(this,t);return this};s.prototype.offDOM=function(){if(this.currentElement.parentNode){this.currentElement.parentNode.removeChild(this.currentElement)}return this};s.prototype.getHTMLElement=function(){return this.currentElement};s.prototype.getContainer=function(){return this.container};s.prototype.div=function(e,t){return this.doElement("div",e,t)};s.prototype.p=function(e,t){return this.doElement("p",e,t)};s.prototype.ul=function(e,t){return this.doElement("ul",e,t)};s.prototype.li=function(e,t){return this.doElement("li",e,t)};s.prototype.span=function(e,t){return this.doElement("span",e,t)};s.prototype.img=function(e,t){return this.doElement("img",e,t)};s.prototype.a=function(e,t){return this.doElement("a",e,t)};s.prototype.element=function(e,t,i){return this.doElement(e,t,i)};s.prototype.doElement=function(e,t,i){var n=document.createElement(e);this.currentElement=n;if(this.offdom){this.createdElements.push(n)}if(c.isObject(t)){this.attr(t)}if(c.isFunction(t)){i=t}if(c.isFunction(i)){var r=new s(n);i.call(r,r)}if(!this.offdom){this.container.appendChild(n)}return this};s.prototype.domFocus=function(){this.currentElement.focus();return this};s.prototype.domBlur=function(){this.currentElement.blur();return this};s.prototype.on=function(e,t,i,n){var r=this;if(c.isArray(e)){e.forEach(function(e){r.on(e,t,i,n)})}else{var o=e;var s=h.addDisposableListener(this.currentElement,o,function(e){t(e,r,s)},n||false);if(n){if(!this.captureToUnbind[o]){this.captureToUnbind[o]=[]}this.captureToUnbind[o].push(s)}else{if(!this.toUnbind[o]){this.toUnbind[o]=[]}this.toUnbind[o].push(s)}var a=this.getProperty(u,[]);a.push(s);this.setProperty(u,a);if(i&&c.isArray(i)){i.push(s)}}return this};s.prototype.off=function(e,t){var i=this;if(c.isArray(e)){e.forEach(function(e){i.off(e)})}else{var n=e;if(t){if(this.captureToUnbind[n]){this.captureToUnbind[n]=r.dispose(this.captureToUnbind[n])}}else{if(this.toUnbind[n]){this.toUnbind[n]=r.dispose(this.toUnbind[n])}}}return this};s.prototype.once=function(e,t,i,n){var r=this;if(c.isArray(e)){e.forEach(function(e){r.once(e,t)})}else{var o=e;var s=h.addDisposableListener(this.currentElement,o,function(e){t(e,r,s);s.dispose()},n||false);if(i&&c.isArray(i)){i.push(s)}}return this};s.prototype.attr=function(e,t){if(c.isObject(e)){for(var i in e){if(e.hasOwnProperty(i)){var n=e[i];this.doSetAttr(i,n)}}return this}if(c.isString(e)&&!c.isString(t)){return this.currentElement.getAttribute(e)}if(c.isString(e)){if(!c.isString(t)){t=String(t)}this.doSetAttr(e,t)}return this};s.prototype.doSetAttr=function(e,t){if(e==="class"){e="addClass"}if(this[e]){if(c.isArray(t)){this[e].apply(this,t)}else{this[e].call(this,t)}}else{this.currentElement.setAttribute(e,t)}};s.prototype.removeAttribute=function(e){this.currentElement.removeAttribute(e)};s.prototype.id=function(e){this.currentElement.setAttribute("id",e);return this};s.prototype.title=function(e){this.currentElement.setAttribute("title",e);return this};s.prototype.type=function(e){this.currentElement.setAttribute("type",e);return this};s.prototype.value=function(e){this.currentElement.setAttribute("value",e);return this};s.prototype.tabindex=function(e){this.currentElement.setAttribute("tabindex",e.toString());return this};s.prototype.style=function(e,t){if(c.isObject(e)){for(var i in e){if(e.hasOwnProperty(i)){var n=e[i];this.doSetStyle(i,n)}}return this}var r=c.isString(e);if(r&&c.isUndefined(t)){return this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]}else if(r){this.doSetStyle(e,t)}return this};s.prototype.doSetStyle=function(e,t){if(e.indexOf("-")>=0){var i=e.split("-");e=i[0];for(var n=1;n<i.length;n++){var r=i[n];e=e+r.charAt(0).toUpperCase()+r.substr(1)}}this.currentElement.style[this.cssKeyToJavaScriptProperty(e)]=t};s.prototype.cssKeyToJavaScriptProperty=function(e){if(e.indexOf("-")>=0){var t=e.split("-");e=t[0];for(var i=1;i<t.length;i++){var n=t[i];e=e+n.charAt(0).toUpperCase()+n.substr(1)}}else if(e==="float"){e="cssFloat"}return e};s.prototype.getComputedStyle=function(){return h.getComputedStyle(this.currentElement)};s.prototype.addClass=function(){var i=this;var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}e.forEach(function(e){var t=e.split(" ");t.forEach(function(e){h.addClass(i.currentElement,e)})});return this};s.prototype.setClass=function(e,t){if(t===void 0){t=null}if(t===null){this.currentElement.className=e}else if(t){this.addClass(e)}else{this.removeClass(e)}return this};s.prototype.hasClass=function(e){return h.hasClass(this.currentElement,e)};s.prototype.removeClass=function(){var i=this;var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}e.forEach(function(e){var t=e.split(" ");t.forEach(function(e){h.removeClass(i.currentElement,e)})});return this};s.prototype.toggleClass=function(e){if(this.hasClass(e)){this.removeClass(e)}else{this.addClass(e)}return this};s.prototype.color=function(e){this.currentElement.style.color=e;return this};s.prototype.padding=function(e,t,i,n){if(c.isString(e)&&e.indexOf(" ")>=0){return this.padding.apply(this,e.split(" "))}if(!c.isUndefinedOrNull(e)){this.currentElement.style.paddingTop=this.toPixel(e)}if(!c.isUndefinedOrNull(t)){this.currentElement.style.paddingRight=this.toPixel(t)}if(!c.isUndefinedOrNull(i)){this.currentElement.style.paddingBottom=this.toPixel(i)}if(!c.isUndefinedOrNull(n)){this.currentElement.style.paddingLeft=this.toPixel(n)}return this};s.prototype.margin=function(e,t,i,n){if(c.isString(e)&&e.indexOf(" ")>=0){return this.margin.apply(this,e.split(" "))}if(!c.isUndefinedOrNull(e)){this.currentElement.style.marginTop=this.toPixel(e)}if(!c.isUndefinedOrNull(t)){this.currentElement.style.marginRight=this.toPixel(t)}if(!c.isUndefinedOrNull(i)){this.currentElement.style.marginBottom=this.toPixel(i)}if(!c.isUndefinedOrNull(n)){this.currentElement.style.marginLeft=this.toPixel(n)}return this};s.prototype.position=function(e,t,i,n,r){if(c.isString(e)&&e.indexOf(" ")>=0){return this.position.apply(this,e.split(" "))}if(!c.isUndefinedOrNull(e)){this.currentElement.style.top=this.toPixel(e)}if(!c.isUndefinedOrNull(t)){this.currentElement.style.right=this.toPixel(t)}if(!c.isUndefinedOrNull(i)){this.currentElement.style.bottom=this.toPixel(i)}if(!c.isUndefinedOrNull(n)){this.currentElement.style.left=this.toPixel(n)}if(!r){r="absolute"}this.currentElement.style.position=r;return this};s.prototype.size=function(e,t){if(c.isString(e)&&e.indexOf(" ")>=0){return this.size.apply(this,e.split(" "))}if(!c.isUndefinedOrNull(e)){this.currentElement.style.width=this.toPixel(e)}if(!c.isUndefinedOrNull(t)){this.currentElement.style.height=this.toPixel(t)}return this};s.prototype.minSize=function(e,t){if(c.isString(e)&&e.indexOf(" ")>=0){return this.minSize.apply(this,e.split(" "))}if(!c.isUndefinedOrNull(e)){this.currentElement.style.minWidth=this.toPixel(e)}if(!c.isUndefinedOrNull(t)){this.currentElement.style.minHeight=this.toPixel(t)}return this};s.prototype.maxSize=function(e,t){if(c.isString(e)&&e.indexOf(" ")>=0){return this.maxSize.apply(this,e.split(" "))}if(!c.isUndefinedOrNull(e)){this.currentElement.style.maxWidth=this.toPixel(e)}if(!c.isUndefinedOrNull(t)){this.currentElement.style.maxHeight=this.toPixel(t)}return this};s.prototype.display=function(e){this.currentElement.style.display=e;return this};s.prototype.show=function(){if(this.hasClass("builder-hidden")){this.removeClass("builder-hidden")}this.attr("aria-hidden","false");this.cancelVisibilityPromise();return this};s.prototype.showDelayed=function(e){var t=this;this.cancelVisibilityPromise();var i=n.TPromise.timeout(e);this.setProperty(a,i);i.done(function(){t.removeProperty(a);t.show()});return this};s.prototype.hide=function(){if(!this.hasClass("builder-hidden")){this.addClass("builder-hidden")}this.attr("aria-hidden","true");this.cancelVisibilityPromise();return this};s.prototype.isHidden=function(){return this.hasClass("builder-hidden")||this.currentElement.style.display==="none"};s.prototype.cancelVisibilityPromise=function(){var e=this.getProperty(a);if(e){e.cancel();this.removeProperty(a)}};s.prototype.border=function(e,t,i){if(c.isString(e)&&e.indexOf(" ")>=0){return this.border.apply(this,e.split(" "))}this.currentElement.style.borderWidth=this.toPixel(e);if(i){this.currentElement.style.borderColor=i}if(t){this.currentElement.style.borderStyle=t}return this};s.prototype.borderTop=function(e,t,i){if(c.isString(e)&&e.indexOf(" ")>=0){return this.borderTop.apply(this,e.split(" "))}this.currentElement.style.borderTopWidth=this.toPixel(e);if(i){this.currentElement.style.borderTopColor=i}if(t){this.currentElement.style.borderTopStyle=t}return this};s.prototype.borderBottom=function(e,t,i){if(c.isString(e)&&e.indexOf(" ")>=0){return this.borderBottom.apply(this,e.split(" "))}this.currentElement.style.borderBottomWidth=this.toPixel(e);if(i){this.currentElement.style.borderBottomColor=i}if(t){this.currentElement.style.borderBottomStyle=t}return this};s.prototype.borderLeft=function(e,t,i){if(c.isString(e)&&e.indexOf(" ")>=0){return this.borderLeft.apply(this,e.split(" "))}this.currentElement.style.borderLeftWidth=this.toPixel(e);if(i){this.currentElement.style.borderLeftColor=i}if(t){this.currentElement.style.borderLeftStyle=t}return this};s.prototype.borderRight=function(e,t,i){if(c.isString(e)&&e.indexOf(" ")>=0){return this.borderRight.apply(this,e.split(" "))}this.currentElement.style.borderRightWidth=this.toPixel(e);if(i){this.currentElement.style.borderRightColor=i}if(t){this.currentElement.style.borderRightStyle=t}return this};s.prototype.toPixel=function(e){if(e.toString().indexOf("px")===-1){return e.toString()+"px"}return e};s.prototype.innerHtml=function(e,t){if(t){this.currentElement.innerHTML+=e}else{this.currentElement.innerHTML=e}return this};s.prototype.text=function(e,t){if(t){if(this.currentElement.children.length===0){this.currentElement.textContent+=e}else{this.currentElement.appendChild(document.createTextNode(e))}}else{this.currentElement.textContent=e}return this};s.prototype.safeInnerHtml=function(e,t){return this.innerHtml(d.escape(e),t)};s.prototype.setProperty=function(e,t){b(this.currentElement,e,t);return this};s.prototype.getProperty=function(e,t){return S(this.currentElement,e,t)};s.prototype.removeProperty=function(e){if(g(this.currentElement)){delete p(this.currentElement)[e]}return this};s.prototype.child=function(e){if(e===void 0){e=0}var t=this.currentElement.children;return y(t.item(e))};s.prototype.unbindDescendants=function(e){if(e&&e.children){for(var t=0,i=e.children.length;t<i;t++){var n=e.children.item(t);if(g(n)){var r=p(n)[u];if(c.isArray(r)){while(r.length){r.pop().dispose()}}delete n[o]}this.unbindDescendants(n)}}};s.prototype.empty=function(){this.unbindDescendants(this.currentElement);this.clearChildren();if(this.offdom){this.createdElements=[]}return this};s.prototype.clearChildren=function(){if(this.currentElement){h.clearNode(this.currentElement)}return this};s.prototype.destroy=function(){if(this.currentElement){if(this.currentElement.parentNode){this.currentElement.parentNode.removeChild(this.currentElement)}this.empty();if(g(this.currentElement)){var e=p(this.currentElement)[u];if(c.isArray(e)){while(e.length){e.pop().dispose()}}delete this.currentElement[o]}}var t;for(t in this.toUnbind){if(this.toUnbind.hasOwnProperty(t)&&c.isArray(this.toUnbind[t])){this.toUnbind[t]=r.dispose(this.toUnbind[t])}}for(t in this.captureToUnbind){if(this.captureToUnbind.hasOwnProperty(t)&&c.isArray(this.captureToUnbind[t])){this.captureToUnbind[t]=r.dispose(this.captureToUnbind[t])}}this.currentElement=null;this.container=null;this.offdom=null;this.createdElements=null;this.captureToUnbind=null;this.toUnbind=null};s.prototype.dispose=function(){this.destroy()};s.prototype.getTotalSize=function(){var e=h.getTotalWidth(this.currentElement);var t=h.getTotalHeight(this.currentElement);return new f(e,t)};s.prototype.getClientArea=function(){if(this.currentElement!==document.body){return new f(this.currentElement.clientWidth,this.currentElement.clientHeight)}if(window.innerWidth&&window.innerHeight){return new f(window.innerWidth,window.innerHeight)}if(document.body&&document.body.clientWidth&&document.body.clientWidth){return new f(document.body.clientWidth,document.body.clientHeight)}if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight){return new f(document.documentElement.clientWidth,document.documentElement.clientHeight)}throw new Error("Unable to figure out browser width and height")};return s}();t.Builder=v;var m=function(o){pe(u,o);function u(e){var t=this;l.ok(c.isArray(e)||e instanceof u,"Expected Array or MultiBuilder as parameter");t=o.call(this)||this;t.length=0;t.builders=[];if(c.isArray(e)){for(var i=0;i<e.length;i++){if(e[i]instanceof HTMLElement){t.push(y(e[i]))}else{t.push(e[i])}}}else{for(var i=0;i<e.length;i++){t.push(e.item(i))}}var a=t;var n=function(s){a[s]=function(){var e=Array.prototype.slice.call(arguments);var t;var i=false;for(var n=0;n<a.length;n++){var r=a.item(n)[s].apply(a.item(n),e);if(r instanceof u){if(!t){t=[]}i=true;for(var o=0;o<r.length;o++){t.push(r.item(o))}}else if(!c.isUndefined(r)&&!(r instanceof v)){if(!t){t=[]}t.push(r)}}if(t&&i){return new u(t)}return t||a}};for(var r in v.prototype){if(r!=="clone"&&r!=="and"){if(v.prototype.hasOwnProperty(r)&&c.isFunction(v.prototype[r])){n(r)}}}return t}u.prototype.item=function(e){return this.builders[e]};u.prototype.push=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}for(var i=0;i<e.length;i++){this.builders.push(e[i])}this.length=this.builders.length};u.prototype.clone=function(){return new u(this)};return u}(v);t.MultiBuilder=m;function _(e,t){if(e instanceof m){return new m(e)}return new v(e.getHTMLElement(),t)}function y(e,t){return new v(e,t)}t.withElement=y;function C(){return new v(null,true)}function b(e,t,i){p(e)[t]=i}t.setPropertyOnElement=b;function S(e,t,i){if(g(e)){var n=p(e)[t];if(!c.isUndefined(n)){return n}}return i}t.getPropertyFromElement=S;function w(e,t){b(e,s,t)}t.bindElement=w;var E=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;t.$=function(e){if(c.isUndefined(e)){return C()}if(!e){throw new Error("Bad use of $")}if(h.isHTMLElement(e)||e===window){return y(e)}if(c.isArray(e)){return new m(e)}if(e instanceof v){return _(e)}if(c.isString(e)){if(e[0]==="<"){var t=void 0;var i=document.createElement("div");i.innerHTML=d.format.apply(d,arguments);if(i.children.length===0){throw new Error("Bad use of $")}if(i.children.length===1){t=i.firstChild;i.removeChild(t);return y(t)}var n=[];while(i.firstChild){t=i.firstChild;i.removeChild(t);n.push(y(t))}return new m(n)}else if(arguments.length===1){var r=E.exec(e);if(!r){throw new Error("Bad use of $")}var o=r[1]||"div";var s=r[3]||undefined;var a=(r[4]||"").replace(/\./g," ");var u={};if(s){u["id"]=s}if(a){u["class"]=a}return C().element(o,u)}else{var l=C();l.element.apply(l,arguments);return l}}else{throw new Error("Bad use of $")}};t.$.Dimension=f;t.$.Builder=v;t.$.Build=t.Build});define(r[460],e([0,1,48]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){var i=this;n.$(e).on("dragover",function(){if(!i.timeout){i.timeout=setTimeout(function(){t();i.timeout=null},800)}});n.$(e).on(["dragleave","drop","dragend"],function(){return i.clearDragTimeout()})}e.prototype.clearDragTimeout=function(){if(this.timeout){clearTimeout(this.timeout);this.timeout=null}};e.prototype.dispose=function(){this.clearDragTimeout()};return e}();t.DelayedDragHandler=i;t.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"}});define(r[468],e([6]),{});define(r[471],e([6]),{});define(r[477],e([6]),{});define(r[490],e([0,1,10,27,47,26,477]),function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s={inputActiveOptionBorder:o.Color.fromHex("#007ACC")};var a=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._opts=r.deepClone(e);r.mixin(t._opts,s,false);t._checked=t._opts.isChecked;t.domNode=document.createElement("div");t.domNode.title=t._opts.title;t.domNode.className="monaco-custom-checkbox "+t._opts.actionClassName+" "+(t._checked?"checked":"unchecked");t.domNode.tabIndex=0;t.domNode.setAttribute("role","checkbox");t.domNode.setAttribute("aria-checked",String(t._checked));t.domNode.setAttribute("aria-label",t._opts.title);t.applyStyles();t.onclick(t.domNode,function(e){t.checked=!t._checked;t._opts.onChange(false);e.preventDefault()});t.onkeydown(t.domNode,function(e){if(e.keyCode===10||e.keyCode===3){t.checked=!t._checked;t._opts.onChange(true);e.preventDefault();return}if(t._opts.onKeyDown){t._opts.onKeyDown(e)}});return t}Object.defineProperty(e.prototype,"enabled",{get:function(){return this.domNode.getAttribute("aria-disabled")!=="true"},enumerable:true,configurable:true});e.prototype.focus=function(){this.domNode.focus()};Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e;this.domNode.setAttribute("aria-checked",String(this._checked));if(this._checked){this.domNode.classList.add("checked")}else{this.domNode.classList.remove("checked")}this.applyStyles()},enumerable:true,configurable:true});e.prototype.width=function(){return 2+2+2+16};e.prototype.style=function(e){if(e.inputActiveOptionBorder){this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder}this.applyStyles()};e.prototype.applyStyles=function(){if(this.domNode){this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent"}};e.prototype.enable=function(){this.domNode.tabIndex=0;this.domNode.setAttribute("aria-disabled",String(false))};e.prototype.disable=function(){n.removeTabIndexAndUpdateFocus(this.domNode);this.domNode.setAttribute("aria-disabled",String(true))};return e}(i.Widget);t.Checkbox=a});define(r[502],e([6]),{});define(r[172],e([0,1,48,10,2,502]),function(e,t,n,d,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var h;(function(e){e[e["LEFT"]=0]="LEFT";e[e["RIGHT"]=1]="RIGHT"})(h=t.AnchorAlignment||(t.AnchorAlignment={}));var f;(function(e){e[e["BELOW"]=0]="BELOW";e[e["ABOVE"]=1]="ABOVE"})(f=t.AnchorPosition||(t.AnchorPosition={}));function p(r,o,s,a,u){var l=function(e,t,i,n){if(t){return e}if(n){return i}return e};var c=function(e,t,i,n,r){if(r){return l(e,t,i,n)}else{return l(i,n,e,t)}};var e=function(){var e=o.top-r.height;var t=o.top+o.height;var i=e>=s.top&&e+r.height<=s.top+s.height;var n=t>=s.top&&t+r.height<=s.top+s.height;return c(e,i,t,n,a===f.ABOVE)}();var t=function(){var e=o.left;var t=o.left+o.width-r.width;var i=e>=s.left&&e+r.width<=s.left+s.width;var n=t>=s.left&&t+r.width<=s.left+s.width;return c(e,i,t,n,u===h.LEFT)}();return{top:e,left:t}}var i=function(){function i(e){var t=this;this.$view=n.$(".context-view").hide();this.setContainer(e);this.toDispose=[{dispose:function(){t.setContainer(null)}}];this.toDisposeOnClean=null}i.prototype.setContainer=function(e){var t=this;if(this.$container){this.$container.getHTMLElement().removeChild(this.$view.getHTMLElement());this.$container.off(i.BUBBLE_UP_EVENTS);this.$container.off(i.BUBBLE_DOWN_EVENTS,true);this.$container=null}if(e){this.$container=n.$(e);this.$view.appendTo(this.$container);this.$container.on(i.BUBBLE_UP_EVENTS,function(e){t.onDOMEvent(e,document.activeElement,false)});this.$container.on(i.BUBBLE_DOWN_EVENTS,function(e){t.onDOMEvent(e,document.activeElement,true)},null,true)}};i.prototype.show=function(e){if(this.isVisible()){this.hide()}this.$view.setClass("context-view").empty().style({top:"0px",left:"0px"}).show();this.toDisposeOnClean=e.render(this.$view.getHTMLElement());this.delegate=e;this.doLayout()};i.prototype.layout=function(){if(!this.isVisible()){return}if(this.delegate.canRelayout===false){this.hide();return}if(this.delegate.layout){this.delegate.layout()}this.doLayout()};i.prototype.doLayout=function(){var e=this.delegate.getAnchor();var t;if(d.isHTMLElement(e)){var i=d.getDomNodePagePosition(e);t={top:i.top,left:i.left,width:i.width,height:i.height}}else{var n=e;t={top:n.y,left:n.x,width:n.width||0,height:n.height||0}}var r={top:d.StandardWindow.scrollY,left:d.StandardWindow.scrollX,height:window.innerHeight,width:window.innerWidth};var o=this.$view.getTotalSize();var s={width:o.width,height:o.height};var a=this.delegate.anchorPosition||f.BELOW;var u=this.delegate.anchorAlignment||h.LEFT;var l=p(s,t,r,a,u);var c=d.getDomNodePagePosition(this.$container.getHTMLElement());l.top-=c.top;l.left-=c.left;this.$view.removeClass("top","bottom","left","right");this.$view.addClass(a===f.BELOW?"bottom":"top");this.$view.addClass(u===h.LEFT?"left":"right");this.$view.style({top:l.top+"px",left:l.left+"px",width:"initial"})};i.prototype.hide=function(e){if(this.delegate&&this.delegate.onHide){this.delegate.onHide(e)}this.delegate=null;if(this.toDisposeOnClean){this.toDisposeOnClean.dispose();this.toDisposeOnClean=null}this.$view.hide()};i.prototype.isVisible=function(){return!!this.delegate};i.prototype.onDOMEvent=function(e,t,i){if(this.delegate){if(this.delegate.onDOMEvent){this.delegate.onDOMEvent(e,document.activeElement)}else if(i&&!d.isAncestor(e.target,this.$container.getHTMLElement())){this.hide()}}};i.prototype.dispose=function(){this.hide();this.toDispose=r.dispose(this.toDispose)};i.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];i.BUBBLE_DOWN_EVENTS=["click"];return i}();t.ContextView=i});define(r[515],e([6]),{});define(r[516],e([0,1,10,5,26,27,515]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s={badgeBackground:r.Color.fromHex("#4D4D4D"),badgeForeground:r.Color.fromHex("#FFFFFF")};var a=function(){function e(e,t){this.options=t||Object.create(null);o.mixin(this.options,s,false);this.badgeBackground=this.options.badgeBackground;this.badgeForeground=this.options.badgeForeground;this.badgeBorder=this.options.badgeBorder;this.element=i.append(e,i.$(".monaco-count-badge"));this.titleFormat=this.options.titleFormat||"";this.setCount(this.options.count||0)}e.prototype.setCount=function(e){this.count=e;this.render()};e.prototype.setTitleFormat=function(e){this.titleFormat=e;this.render()};e.prototype.render=function(){this.element.textContent=""+this.count;this.element.title=n.format(this.titleFormat,this.count);this.applyStyles()};e.prototype.style=function(e){this.badgeBackground=e.badgeBackground;this.badgeForeground=e.badgeForeground;this.badgeBorder=e.badgeBorder;this.applyStyles()};e.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():null;var t=this.badgeForeground?this.badgeForeground.toString():null;var i=this.badgeBorder?this.badgeBorder.toString():null;this.element.style.backgroundColor=e;this.element.style.color=t;this.element.style.borderWidth=i?"1px":null;this.element.style.borderStyle=i?"solid":null;this.element.style.borderColor=i}};return e}();t.CountBadge=a});define(r[526],e([6]),{});define(r[556],e([6]),{});define(r[212],e([6]),{});define(r[173],e([0,1,10,126,41,108,2,212]),function(e,t,n,r,s,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e){this._element=e}Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"textContent",{set:function(e){if(this.disposed||e===this._textContent){return}this._textContent=e;this._element.textContent=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"className",{set:function(e){if(this.disposed||e===this._className){return}this._className=e;this._element.className=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"title",{set:function(e){if(this.disposed||e===this._title){return}this._title=e;if(this._title){this._element.title=e}else{this._element.removeAttribute("title")}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"empty",{set:function(e){if(this.disposed||e===this._empty){return}this._empty=e;this._element.style.marginLeft=e?"0":null},enumerable:true,configurable:true});e.prototype.dispose=function(){this.disposed=true};return e}();var u=function(){function e(e,t){var i=this;this.domNode=new o(n.append(e,n.$(".monaco-icon-label")));this.labelDescriptionContainer=new o(n.append(this.domNode.element,n.$(".monaco-icon-label-description-container")));if(t&&t.supportHighlights){this.labelNode=new r.HighlightedLabel(n.append(this.labelDescriptionContainer.element,n.$("a.label-name")))}else{this.labelNode=new o(n.append(this.labelDescriptionContainer.element,n.$("a.label-name")))}if(t&&t.supportDescriptionHighlights){this.descriptionNodeFactory=function(){return new r.HighlightedLabel(n.append(i.labelDescriptionContainer.element,n.$("span.label-description")))}}else{this.descriptionNodeFactory=function(){return new o(n.append(i.labelDescriptionContainer.element,n.$("span.label-description")))}}}Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode.element},enumerable:true,configurable:true});e.prototype.onClick=function(t){return i.combinedDisposable([n.addDisposableListener(this.labelDescriptionContainer.element,n.EventType.CLICK,function(e){return t(e)})])};e.prototype.setValue=function(e,t,i){var n=["monaco-icon-label"];if(i){if(i.extraClasses){n.push.apply(n,i.extraClasses)}if(i.italic){n.push("italic")}}this.domNode.className=n.join(" ");this.domNode.title=i&&i.title?i.title:"";if(this.labelNode instanceof r.HighlightedLabel){this.labelNode.set(e||"",i?i.matches:void 0)}else{this.labelNode.textContent=e||""}if(t||this.descriptionNode){if(!this.descriptionNode){this.descriptionNode=this.descriptionNodeFactory()}if(this.descriptionNode instanceof r.HighlightedLabel){this.descriptionNode.set(t||"",i?i.descriptionMatches:void 0);if(i&&i.descriptionTitle){this.descriptionNode.element.title=i.descriptionTitle}else{this.descriptionNode.element.removeAttribute("title")}}else{this.descriptionNode.textContent=t||"";this.descriptionNode.title=i&&i.descriptionTitle?i.descriptionTitle:"";this.descriptionNode.empty=!t}}};e.prototype.dispose=function(){this.domNode.dispose();this.labelNode.dispose();if(this.descriptionNode){this.descriptionNode.dispose()}};return e}();t.IconLabel=u;var l=function(o){pe(e,o);function e(e,t,i,n){var r=o.call(this,e)||this;r.setFile(t,i,n);return r}e.prototype.setFile=function(e,t,i){var n=s.dirname(e.fsPath);this.setValue(a.getBaseLabel(e),n&&n!=="."?a.getPathLabel(n,t,i):"",{title:e.fsPath})};return e}(u);t.FileLabel=l});define(r[214],e([6]),{});define(r[216],e([6]),{});define(r[176],e([6]),{});define(r[219],e([6]),{});define(r[220],e([6]),{});define(r[221],e([0,1,7,77,48,10,2,26,27,220]),function(e,t,i,n,r,o,s,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l="done";var c="active";var d="infinite";var h="discrete";var f="progress-container";var p="progress-bit";var g={progressBarBackground:a.Color.fromHex("#0E70C0")};var v=function(){function e(e,t){this.options=t||Object.create(null);u.mixin(this.options,g,false);this.toUnbind=[];this.workedVal=0;this.progressBarBackground=this.options.progressBarBackground;this.create(e)}e.prototype.create=function(e){var t=this;r.$(e).div({class:f},function(e){t.element=e.clone();e.div({class:p}).on([o.EventType.ANIMATION_START,o.EventType.ANIMATION_END,o.EventType.ANIMATION_ITERATION],function(e){switch(e.type){case o.EventType.ANIMATION_ITERATION:if(t.animationStopToken){t.animationStopToken(null)}break}},t.toUnbind);t.bit=e.getHTMLElement()});this.applyStyles()};e.prototype.off=function(){this.bit.style.width="inherit";this.bit.style.opacity="1";this.element.removeClass(c);this.element.removeClass(d);this.element.removeClass(h);this.workedVal=0;this.totalWork=undefined};e.prototype.done=function(){return this.doDone(true)};e.prototype.stop=function(){return this.doDone(false)};e.prototype.doDone=function(e){var t=this;this.element.addClass(l);if(!this.element.hasClass(d)){this.bit.style.width="inherit";if(e){i.TPromise.timeout(200).then(function(){return t.off()})}else{this.off()}}else{this.bit.style.opacity="0";if(e){i.TPromise.timeout(200).then(function(){return t.off()})}else{this.off()}}return this};e.prototype.infinite=function(){this.bit.style.width="2%";this.bit.style.opacity="1";this.element.removeClass(h);this.element.removeClass(l);this.element.addClass(c);this.element.addClass(d);return this};e.prototype.total=function(e){this.workedVal=0;this.totalWork=e;return this};e.prototype.hasTotal=function(){return!isNaN(this.totalWork)};e.prototype.worked=function(e){n.ok(!isNaN(this.totalWork),"Total work not set");e=Number(e);n.ok(!isNaN(e),"Value is not a number");e=Math.max(1,e);this.workedVal+=e;this.workedVal=Math.min(this.totalWork,this.workedVal);if(this.element.hasClass(d)){this.element.removeClass(d)}if(this.element.hasClass(l)){this.element.removeClass(l)}if(!this.element.hasClass(c)){this.element.addClass(c)}if(!this.element.hasClass(h)){this.element.addClass(h)}this.bit.style.width=100*(this.workedVal/this.totalWork)+"%";return this};e.prototype.getContainer=function(){return r.$(this.element)};e.prototype.style=function(e){this.progressBarBackground=e.progressBarBackground;this.applyStyles()};e.prototype.applyStyles=function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():null;this.bit.style.backgroundColor=e}};e.prototype.dispose=function(){this.toUnbind=s.dispose(this.toUnbind)};return e}();t.ProgressBar=v});define(r[222],e([6]),{});define(r[105],e([0,1,2,48,31,15,29,10,71,42,4,222]),function(e,t,s,c,r,d,a,h,u,f,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l;(function(e){e[e["VERTICAL"]=0]="VERTICAL";e[e["HORIZONTAL"]=1]="HORIZONTAL"})(l=t.Orientation||(t.Orientation={}));var p=function(){function e(e,t,i){if(i===void 0){i={}}var n=this;this._onDidStart=new o.Emitter;this._onDidChange=new o.Emitter;this._onDidReset=new o.Emitter;this._onDidEnd=new o.Emitter;this.$e=c.$(".monaco-sash").appendTo(e);if(d.isMacintosh){this.$e.addClass("mac")}this.$e.on(h.EventType.MOUSE_DOWN,function(e){n.onMouseDown(e)});this.$e.on(h.EventType.DBLCLICK,function(e){return n._onDidReset.fire()});u.Gesture.addTarget(this.$e.getHTMLElement());this.$e.on(u.EventType.Start,function(e){n.onTouchStart(e)});this.size=i.baseSize||5;if(r.isIPad){this.size*=4;this.$e.addClass("touch")}this.setOrientation(i.orientation||l.VERTICAL);this.isDisabled=false;this.hidden=false;this.layoutProvider=t}Object.defineProperty(e.prototype,"onDidStart",{get:function(){return this._onDidStart.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidReset",{get:function(){return this._onDidReset.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidEnd",{get:function(){return this._onDidEnd.event},enumerable:true,configurable:true});e.prototype.setOrientation=function(e){this.orientation=e;this.$e.removeClass("horizontal","vertical");this.$e.addClass(this.getOrientation());if(this.orientation===l.HORIZONTAL){this.$e.size(null,this.size)}else{this.$e.size(this.size)}if(this.layoutProvider){this.layout()}};e.prototype.getOrientation=function(){return this.orientation===l.HORIZONTAL?"horizontal":"vertical"};e.prototype.onMouseDown=function(e){var n=this;h.EventHelper.stop(e,false);if(this.isDisabled){return}var t=c.$(h.getElementsByTagName("iframe"));if(t){t.style("pointer-events","none")}var i=new f.StandardMouseEvent(e);var r=i.posx;var o=i.posy;var s=i.altKey;var a={startX:r,currentX:r,startY:o,currentY:o,altKey:s};this.$e.addClass("active");this._onDidStart.fire(a);var u=c.$(window);var l=this.getOrientation()+"-cursor-container"+(d.isMacintosh?"-mac":"");u.on("mousemove",function(e){h.EventHelper.stop(e,false);var t=new f.StandardMouseEvent(e);var i={startX:r,currentX:t.posx,startY:o,currentY:t.posy,altKey:s};n._onDidChange.fire(i)}).once("mouseup",function(e){h.EventHelper.stop(e,false);n.$e.removeClass("active");n._onDidEnd.fire();u.off("mousemove");document.body.classList.remove(l);var t=c.$(h.getElementsByTagName("iframe"));if(t){t.style("pointer-events","auto")}});document.body.classList.add(l)};e.prototype.onTouchStart=function(e){var t=this;h.EventHelper.stop(e);var i=[];var n=e.pageX;var r=e.pageY;var o=e.altKey;this._onDidStart.fire({startX:n,currentX:n,startY:r,currentY:r,altKey:o});i.push(h.addDisposableListener(this.$e.getHTMLElement(),u.EventType.Change,function(e){if(a.isNumber(e.pageX)&&a.isNumber(e.pageY)){t._onDidChange.fire({startX:n,currentX:e.pageX,startY:r,currentY:e.pageY,altKey:o})}}));i.push(h.addDisposableListener(this.$e.getHTMLElement(),u.EventType.End,function(e){t._onDidEnd.fire();s.dispose(i)}))};e.prototype.layout=function(){var e;if(this.orientation===l.VERTICAL){var t=this.layoutProvider;e={left:t.getVerticalSashLeft(this)-this.size/2+"px"};if(t.getVerticalSashTop){e.top=t.getVerticalSashTop(this)+"px"}if(t.getVerticalSashHeight){e.height=t.getVerticalSashHeight(this)+"px"}}else{var i=this.layoutProvider;e={top:i.getHorizontalSashTop(this)-this.size/2+"px"};if(i.getHorizontalSashLeft){e.left=i.getHorizontalSashLeft(this)+"px"}if(i.getHorizontalSashWidth){e.width=i.getHorizontalSashWidth(this)+"px"}}this.$e.style(e)};e.prototype.show=function(){this.hidden=false;this.$e.show()};e.prototype.hide=function(){this.hidden=true;this.$e.hide()};e.prototype.isHidden=function(){return this.hidden};e.prototype.enable=function(){this.$e.removeClass("disabled");this.isDisabled=false};e.prototype.disable=function(){this.$e.addClass("disabled");this.isDisabled=true};Object.defineProperty(e.prototype,"enabled",{get:function(){return!this.isDisabled},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this.$e){this.$e.destroy();this.$e=null}};return e}();t.Sash=p;var i=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i.minWidth=t;i._onPositionChange=new o.Emitter;i.ratio=.5;i.sash=new p(e,i);i._register(i.sash.onDidStart(function(){return i.onSashDragStart()}));i._register(i.sash.onDidChange(function(e){return i.onSashDrag(e)}));i._register(i.sash.onDidEnd(function(){return i.onSashDragEnd()}));i._register(i.sash.onDidReset(function(){return i.onSashReset()}));return i}Object.defineProperty(e.prototype,"onPositionChange",{get:function(){return this._onPositionChange.event},enumerable:true,configurable:true});e.prototype.getVerticalSashTop=function(){return 0};e.prototype.getVerticalSashLeft=function(){return this.position};e.prototype.getVerticalSashHeight=function(){return this.dimension.height};e.prototype.setDimenesion=function(e){this.dimension=e;this.compute(this.ratio)};e.prototype.onSashDragStart=function(){this.startPosition=this.position};e.prototype.onSashDrag=function(e){this.compute((this.startPosition+(e.currentX-e.startX))/this.dimension.width)};e.prototype.compute=function(e){this.computeSashPosition(e);this.ratio=this.position/this.dimension.width;this._onPositionChange.fire(this.position)};e.prototype.onSashDragEnd=function(){this.sash.layout()};e.prototype.onSashReset=function(){this.compute(.5);this._onPositionChange.fire(this.position);this.sash.layout()};e.prototype.computeSashPosition=function(e){if(e===void 0){e=this.ratio}var t=this.dimension.width;var i=Math.floor((e||.5)*t);var n=Math.floor(.5*t);if(t>this.minWidth*2){if(i<this.minWidth){i=this.minWidth}if(i>t-this.minWidth){i=t-this.minWidth}}else{i=n}if(this.position!==i){this.position=i;this.sash.layout()}};return e}(s.Disposable);t.VSash=i});define(r[228],e([6]),{});define(r[55],e([0,1,10,15,42,428,430,2,43,47,18,28,4,228]),function(e,t,s,d,r,a,u,l,o,i,c,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=500;var p=50;var g=true;var v=function(){function e(e,t,i){this.timestamp=e;this.deltaX=t;this.deltaY=i;this.score=0}return e}();var m=function(){function e(){this._capacity=5;this._memory=[];this._front=-1;this._rear=-1}e.prototype.isPhysicalMouseWheel=function(){if(this._front===-1&&this._rear===-1){return false}var e=1;var t=0;var i=1;var n=this._rear;do{var r=n===this._front?e:Math.pow(2,-i);e-=r;t+=this._memory[n].score*r;if(n===this._front){break}n=(this._capacity+n-1)%this._capacity;i++}while(true);return t<=.5};e.prototype.accept=function(e,t,i){var n=new v(e,t,i);n.score=this._computeScore(n);if(this._front===-1&&this._rear===-1){this._memory[0]=n;this._front=0;this._rear=0}else{this._rear=(this._rear+1)%this._capacity;if(this._rear===this._front){this._front=(this._front+1)%this._capacity}this._memory[this._rear]=n}};e.prototype._computeScore=function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0){return 1}var t=.5;var i=this._front===-1&&this._rear===-1?null:this._memory[this._rear];if(i){}if(Math.abs(e.deltaX-Math.round(e.deltaX))>0||Math.abs(e.deltaY-Math.round(e.deltaY))>0){t+=.25}return Math.min(Math.max(t,0),1)};e.INSTANCE=new e;return e}();t.MouseWheelClassifier=m;var _=function(o){pe(e,o);function e(e,t,i){var n=o.call(this)||this;n._onScroll=n._register(new f.Emitter);n.onScroll=n._onScroll.event;e.style.overflow="hidden";n._options=S(t);n._scrollable=i;n._register(n._scrollable.onScroll(function(e){n._onDidScroll(e);n._onScroll.fire(e)}));var r={onMouseWheel:function(e){return n._onMouseWheel(e)},onDragStart:function(){return n._onDragStart()},onDragEnd:function(){return n._onDragEnd()}};n._verticalScrollbar=n._register(new u.VerticalScrollbar(n._scrollable,n._options,r));n._horizontalScrollbar=n._register(new a.HorizontalScrollbar(n._scrollable,n._options,r));n._domNode=document.createElement("div");n._domNode.className="monaco-scrollable-element "+n._options.className;n._domNode.setAttribute("role","presentation");n._domNode.style.position="relative";n._domNode.style.overflow="hidden";n._domNode.appendChild(e);n._domNode.appendChild(n._horizontalScrollbar.domNode.domNode);n._domNode.appendChild(n._verticalScrollbar.domNode.domNode);if(n._options.useShadows){n._leftShadowDomNode=h.createFastDomNode(document.createElement("div"));n._leftShadowDomNode.setClassName("shadow");n._domNode.appendChild(n._leftShadowDomNode.domNode);n._topShadowDomNode=h.createFastDomNode(document.createElement("div"));n._topShadowDomNode.setClassName("shadow");n._domNode.appendChild(n._topShadowDomNode.domNode);n._topLeftShadowDomNode=h.createFastDomNode(document.createElement("div"));n._topLeftShadowDomNode.setClassName("shadow top-left-corner");n._domNode.appendChild(n._topLeftShadowDomNode.domNode)}n._listenOnDomNode=n._options.listenOnDomNode||n._domNode;n._mouseWheelToDispose=[];n._setListeningToMouseWheel(n._options.handleMouseWheel);n.onmouseover(n._listenOnDomNode,function(e){return n._onMouseOver(e)});n.onnonbubblingmouseout(n._listenOnDomNode,function(e){return n._onMouseOut(e)});n._hideTimeout=n._register(new c.TimeoutTimer);n._isDragging=false;n._mouseIsOver=false;n._shouldRender=true;return n}e.prototype.dispose=function(){this._mouseWheelToDispose=l.dispose(this._mouseWheelToDispose);o.prototype.dispose.call(this)};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}};e.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)};e.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()};e.prototype.setScrollDimensions=function(e){this._scrollable.setScrollDimensions(e)};e.prototype.updateClassName=function(e){this._options.className=e;if(d.isMacintosh){this._options.className+=" mac"}this._domNode.className="monaco-scrollable-element "+this._options.className};e.prototype.updateOptions=function(e){var t=S(e);this._options.handleMouseWheel=t.handleMouseWheel;this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity;this._setListeningToMouseWheel(this._options.handleMouseWheel);if(!this._options.lazyRender){this._render()}};e.prototype._setListeningToMouseWheel=function(e){var i=this;var t=this._mouseWheelToDispose.length>0;if(t===e){return}this._mouseWheelToDispose=l.dispose(this._mouseWheelToDispose);if(e){var n=function(e){var t=new r.StandardMouseWheelEvent(e);i._onMouseWheel(t)};this._mouseWheelToDispose.push(s.addDisposableListener(this._listenOnDomNode,"mousewheel",n));this._mouseWheelToDispose.push(s.addDisposableListener(this._listenOnDomNode,"DOMMouseScroll",n))}};e.prototype._onMouseWheel=function(e){var t=m.INSTANCE;if(g){t.accept(Date.now(),e.deltaX,e.deltaY)}if(e.deltaY||e.deltaX){var i=e.deltaY*this._options.mouseWheelScrollSensitivity;var n=e.deltaX*this._options.mouseWheelScrollSensitivity;if(this._options.flipAxes){c=[n,i],i=c[0],n=c[1]}var r=!d.isMacintosh&&e.browserEvent&&e.browserEvent.shiftKey;if((this._options.scrollYToX||r)&&!n){n=i;i=0}if(d.isMacintosh){if(i&&Math.abs(n)<.2){n=0}if(Math.abs(i)>Math.abs(n)*.5){n=0}}var o=this._scrollable.getFutureScrollPosition();var s={};if(i){var a=o.scrollTop-p*i;this._verticalScrollbar.writeScrollPosition(s,a)}if(n){var u=o.scrollLeft-p*n;this._horizontalScrollbar.writeScrollPosition(s,u)}s=this._scrollable.validateScrollPosition(s);if(o.scrollLeft!==s.scrollLeft||o.scrollTop!==s.scrollTop){var l=g&&this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel();if(l){this._scrollable.setScrollPositionSmooth(s)}else{this._scrollable.setScrollPositionNow(s)}this._shouldRender=true}}if(this._options.alwaysConsumeMouseWheel||this._shouldRender){e.preventDefault();e.stopPropagation()}var c};e.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender;this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender;if(this._options.useShadows){this._shouldRender=true}this._reveal();if(!this._options.lazyRender){this._render()}};e.prototype.renderNow=function(){if(!this._options.lazyRender){throw new Error("Please use `lazyRender` together with `renderNow`!")}this._render()};e.prototype._render=function(){if(!this._shouldRender){return}this._shouldRender=false;this._horizontalScrollbar.render();this._verticalScrollbar.render();if(this._options.useShadows){var e=this._scrollable.getCurrentScrollPosition();var t=e.scrollTop>0;var i=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(i?" left":""));this._topShadowDomNode.setClassName("shadow"+(t?" top":""));this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(t?" top":"")+(i?" left":""))}};e.prototype._onDragStart=function(){this._isDragging=true;this._reveal()};e.prototype._onDragEnd=function(){this._isDragging=false;this._hide()};e.prototype._onMouseOut=function(e){this._mouseIsOver=false;this._hide()};e.prototype._onMouseOver=function(e){this._mouseIsOver=true;this._reveal()};e.prototype._reveal=function(){this._verticalScrollbar.beginReveal();this._horizontalScrollbar.beginReveal();this._scheduleHide()};e.prototype._hide=function(){if(!this._mouseIsOver&&!this._isDragging){this._verticalScrollbar.beginHide();this._horizontalScrollbar.beginHide()}};e.prototype._scheduleHide=function(){var e=this;if(!this._mouseIsOver&&!this._isDragging){this._hideTimeout.cancelAndSet(function(){return e._hide()},n)}};return e}(i.Widget);t.AbstractScrollableElement=_;var y=function(r){pe(e,r);function e(e,t){var i=this;t=t||{};t.mouseWheelSmoothScroll=false;var n=new o.Scrollable(0,function(e){return s.scheduleAtNextAnimationFrame(e)});i=r.call(this,e,t,n)||this;i._register(n);return i}e.prototype.setScrollPosition=function(e){this._scrollable.setScrollPositionNow(e)};e.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()};return e}(_);t.ScrollableElement=y;var C=function(n){pe(e,n);function e(e,t,i){return n.call(this,e,t,i)||this}return e}(_);t.SmoothScrollableElement=C;var b=function(n){pe(e,n);function e(e,t){var i=n.call(this,e,t)||this;i._element=e;i.onScroll(function(e){if(e.scrollTopChanged){i._element.scrollTop=e.scrollTop}if(e.scrollLeftChanged){i._element.scrollLeft=e.scrollLeft}});i.scanDomNode();return i}e.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight});this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})};return e}(y);t.DomScrollableElement=b;function S(e){var t={lazyRender:typeof e.lazyRender!=="undefined"?e.lazyRender:false,className:typeof e.className!=="undefined"?e.className:"",useShadows:typeof e.useShadows!=="undefined"?e.useShadows:true,handleMouseWheel:typeof e.handleMouseWheel!=="undefined"?e.handleMouseWheel:true,flipAxes:typeof e.flipAxes!=="undefined"?e.flipAxes:false,alwaysConsumeMouseWheel:typeof e.alwaysConsumeMouseWheel!=="undefined"?e.alwaysConsumeMouseWheel:false,scrollYToX:typeof e.scrollYToX!=="undefined"?e.scrollYToX:false,mouseWheelScrollSensitivity:typeof e.mouseWheelScrollSensitivity!=="undefined"?e.mouseWheelScrollSensitivity:1,mouseWheelSmoothScroll:typeof e.mouseWheelSmoothScroll!=="undefined"?e.mouseWheelSmoothScroll:true,arrowSize:typeof e.arrowSize!=="undefined"?e.arrowSize:11,listenOnDomNode:typeof e.listenOnDomNode!=="undefined"?e.listenOnDomNode:null,horizontal:typeof e.horizontal!=="undefined"?e.horizontal:o.ScrollbarVisibility.Auto,horizontalScrollbarSize:typeof e.horizontalScrollbarSize!=="undefined"?e.horizontalScrollbarSize:10,horizontalSliderSize:typeof e.horizontalSliderSize!=="undefined"?e.horizontalSliderSize:0,horizontalHasArrows:typeof e.horizontalHasArrows!=="undefined"?e.horizontalHasArrows:false,vertical:typeof e.vertical!=="undefined"?e.vertical:o.ScrollbarVisibility.Auto,verticalScrollbarSize:typeof e.verticalScrollbarSize!=="undefined"?e.verticalScrollbarSize:10,verticalHasArrows:typeof e.verticalHasArrows!=="undefined"?e.verticalHasArrows:false,verticalSliderSize:typeof e.verticalSliderSize!=="undefined"?e.verticalSliderSize:0};t.horizontalSliderSize=typeof e.horizontalSliderSize!=="undefined"?e.horizontalSliderSize:t.horizontalScrollbarSize;t.verticalSliderSize=typeof e.verticalSliderSize!=="undefined"?e.verticalSliderSize:t.verticalScrollbarSize;if(d.isMacintosh){t.className+=" mac"}return t}});define(r[230],e([0,1,27,2,71,10,4,87,55,43,453,513,15,31,116,42]),function(e,t,u,i,l,o,c,d,h,f,I,p,g,n,r,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});function m(){if(n.isFirefox){return false}if(n.getZoomLevel()!==0){return false}if(n.isChromev56){var e=n.getPixelRatio();if(Math.floor(e)!==e){return false}}return true}var _={useShadows:true,verticalScrollMode:f.ScrollbarVisibility.Auto};var s=function(){function e(e,t,i,n){if(n===void 0){n=_}this.delegate=t;this.renderers=new Map;this.splicing=false;this.items=[];this.itemId=0;this.rangeMap=new I.RangeMap;for(var r=0,o=i;r<o.length;r++){var s=o[r];this.renderers.set(s.templateId,s)}this.cache=new p.RowCache(this.renderers);this.lastRenderTop=0;this.lastRenderHeight=0;this._domNode=document.createElement("div");this._domNode.className="monaco-list";this.rowsContainer=document.createElement("div");this.rowsContainer.className="monaco-list-rows";l.Gesture.addTarget(this.rowsContainer);this.scrollableElement=new h.ScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:true,horizontal:f.ScrollbarVisibility.Hidden,vertical:u.getOrDefault(n,function(e){return e.verticalScrollMode},_.verticalScrollMode),useShadows:u.getOrDefault(n,function(e){return e.useShadows},_.useShadows)});this._domNode.appendChild(this.scrollableElement.getDomNode());e.appendChild(this._domNode);this.disposables=[this.rangeMap,this.gesture,this.scrollableElement,this.cache];this.scrollableElement.onScroll(this.onScroll,this,this.disposables);d.domEvent(this.rowsContainer,l.EventType.Change)(this.onTouchChange,this,this.disposables);d.domEvent(this.scrollableElement.getDomNode(),"scroll")(function(e){return e.target.scrollTop=0},null,this.disposables);var a=c.mapEvent(d.domEvent(this.rowsContainer,"dragover"),function(e){return new v.DragMouseEvent(e)});a(this.onDragOver,this,this.disposables);this.layout()}Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:true,configurable:true});e.prototype.splice=function(e,t,i){if(i===void 0){i=[]}if(this.splicing){throw new Error("Can't run recursive splices.")}this.splicing=true;try{return this._splice(e,t,i)}finally{this.splicing=false}};e.prototype._splice=function(e,t,i){var n=this;if(i===void 0){i=[]}var r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);var o={start:e,end:e+t};var s=I.intersect(r,o);for(var a=s.start;a<s.end;a++){this.removeItemFromDOM(a)}var u={start:e+t,end:this.items.length};var l=I.intersect(u,r);var c=I.relativeComplement(u,r);var d=i.map(function(e){return{id:String(n.itemId++),element:e,size:n.delegate.getHeight(e),templateId:n.delegate.getTemplateId(e),row:null}});(x=this.rangeMap).splice.apply(x,[e,t].concat(d));var h=(N=this.items).splice.apply(N,[e,t].concat(d));var f=i.length-t;var p=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);var g=I.shift(l,f);var v=I.intersect(p,g);for(var a=v.start;a<v.end;a++){this.updateItemInDOM(this.items[a],a)}var m=I.relativeComplement(g,p);for(var _=0;_<m.length;_++){var y=m[_];for(var a=y.start;a<y.end;a++){this.removeItemFromDOM(a)}}var C=c.map(function(e){return I.shift(e,f)});var b={start:e,end:e+i.length};var S=[b].concat(C).map(function(e){return I.intersect(p,e)});var w=this.getNextToLastElement(S);for(var _=0;_<S.length;_++){var E=S[_];for(var a=E.start;a<E.end;a++){this.insertItemInDOM(a,w)}}var L=this.getContentHeight();this.rowsContainer.style.height=L+"px";this.scrollableElement.setScrollDimensions({scrollHeight:L});return h.map(function(e){return e.element});var x,N};Object.defineProperty(e.prototype,"length",{get:function(){return this.items.length},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"renderHeight",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.height},enumerable:true,configurable:true});e.prototype.element=function(e){return this.items[e].element};e.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode};e.prototype.elementHeight=function(e){return this.items[e].size};e.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)};e.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)};e.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)};e.prototype.layout=function(e){this.scrollableElement.setScrollDimensions({height:e||o.getContentHeight(this._domNode)})};e.prototype.render=function(e,t){var i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);var n=this.getRenderRange(e,t);var r=I.relativeComplement(n,i);var o=I.relativeComplement(i,n);var s=this.getNextToLastElement(r);for(var a=0,u=r;a<u.length;a++){var l=u[a];for(var c=l.start;c<l.end;c++){this.insertItemInDOM(c,s)}}for(var d=0,h=o;d<h.length;d++){var l=h[d];for(var c=l.start;c<l.end;c++){this.removeItemFromDOM(c)}}if(m()&&!g.isWindows){var f="translate3d(0px, -"+e+"px, 0px)";this.rowsContainer.style.transform=f;this.rowsContainer.style.webkitTransform=f}else{this.rowsContainer.style.top="-"+e+"px"}this.lastRenderTop=e;this.lastRenderHeight=t};e.prototype.insertItemInDOM=function(e,t){var i=this.items[e];if(!i.row){i.row=this.cache.alloc(i.templateId)}if(!i.row.domNode.parentElement){if(t){this.rowsContainer.insertBefore(i.row.domNode,t)}else{this.rowsContainer.appendChild(i.row.domNode)}}i.row.domNode.style.height=i.size+"px";this.updateItemInDOM(i,e);var n=this.renderers.get(i.templateId);n.renderElement(i.element,e,i.row.templateData)};e.prototype.updateItemInDOM=function(e,t){e.row.domNode.style.top=this.elementTop(t)+"px";e.row.domNode.setAttribute("data-index",""+t);e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false");e.row.domNode.setAttribute("aria-setsize",""+this.length);e.row.domNode.setAttribute("aria-posinset",""+(t+1))};e.prototype.removeItemFromDOM=function(e){var t=this.items[e];this.cache.release(t.row);t.row=null};e.prototype.getContentHeight=function(){return this.rangeMap.size};e.prototype.getScrollTop=function(){var e=this.scrollableElement.getScrollPosition();return e.scrollTop};e.prototype.setScrollTop=function(e){this.scrollableElement.setScrollPosition({scrollTop:e})};Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseClick",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"click"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"dblclick"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseUp",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"mouseup"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseDown",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"mousedown"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseOver",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"mouseover"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseMove",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"mousemove"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMouseOut",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"mouseout"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"contextmenu"),function(e){return t.toMouseEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onTouchStart",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.domNode,"touchstart"),function(e){return t.toTouchEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onTap",{get:function(){var t=this;return c.filterEvent(c.mapEvent(d.domEvent(this.rowsContainer,l.EventType.Tap),function(e){return t.toGestureEvent(e)}),function(e){return e.index>=0})},enumerable:true,configurable:true});e.prototype.toMouseEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target);var i=t<0?undefined:this.items[t].element;return{browserEvent:e,index:t,element:i}};e.prototype.toTouchEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target);var i=t<0?undefined:this.items[t].element;return{browserEvent:e,index:t,element:i}};e.prototype.toGestureEvent=function(e){var t=this.getItemIndexFromEventTarget(e.initialTarget);var i=t<0?undefined:this.items[t].element;return{browserEvent:e,index:t,element:i}};e.prototype.onScroll=function(e){this.render(e.scrollTop,e.height)};e.prototype.onTouchChange=function(e){e.preventDefault();e.stopPropagation();this.scrollTop-=e.translationY};e.prototype.onDragOver=function(e){this.setupDragAndDropScrollInterval();this.dragAndDropMouseY=e.posy};e.prototype.setupDragAndDropScrollInterval=function(){var n=this;var r=o.getTopLeftOffset(this._domNode).top;if(!this.dragAndDropScrollInterval){this.dragAndDropScrollInterval=window.setInterval(function(){if(n.dragAndDropMouseY===undefined){return}var e=n.dragAndDropMouseY-r;var t=0;var i=n.renderHeight-35;if(e<35){t=Math.max(-14,.2*(e-35))}else if(e>i){t=Math.min(14,.2*(e-i))}n.scrollTop+=t},10);this.cancelDragAndDropScrollTimeout();this.dragAndDropScrollTimeout=window.setTimeout(function(){n.cancelDragAndDropScrollInterval();n.dragAndDropScrollTimeout=null},1e3)}};e.prototype.cancelDragAndDropScrollInterval=function(){if(this.dragAndDropScrollInterval){window.clearInterval(this.dragAndDropScrollInterval);this.dragAndDropScrollInterval=null}this.cancelDragAndDropScrollTimeout()};e.prototype.cancelDragAndDropScrollTimeout=function(){if(this.dragAndDropScrollTimeout){window.clearTimeout(this.dragAndDropScrollTimeout);this.dragAndDropScrollTimeout=null}};e.prototype.getItemIndexFromEventTarget=function(e){while(e instanceof HTMLElement&&e!==this.rowsContainer){var t=e;var i=t.getAttribute("data-index");if(i){var n=Number(i);if(!isNaN(n)){return n}}e=t.parentElement}return-1};e.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}};e.prototype.getNextToLastElement=function(e){var t=e[e.length-1];if(!t){return null}var i=this.items[t.end];if(!i){return null}if(!i.row){return null}return i.row.domNode};e.prototype.dispose=function(){this.items=null;if(this._domNode&&this._domNode.parentElement){this._domNode.parentNode.removeChild(this._domNode);this._domNode=null}this.disposables=i.dispose(this.disposables)};q([r.memoize],e.prototype,"onMouseClick",null);q([r.memoize],e.prototype,"onMouseDblClick",null);q([r.memoize],e.prototype,"onMouseUp",null);q([r.memoize],e.prototype,"onMouseDown",null);q([r.memoize],e.prototype,"onMouseOver",null);q([r.memoize],e.prototype,"onMouseMove",null);q([r.memoize],e.prototype,"onMouseOut",null);q([r.memoize],e.prototype,"onContextMenu",null);q([r.memoize],e.prototype,"onTouchStart",null);q([r.memoize],e.prototype,"onTap",null);return e}();t.ListView=s});define(r[104],e([0,1,2,29,23,116,10,15,71,54,4,87,230,26,27,234,176]),function(e,t,i,u,l,n,a,o,r,s,c,d,h,f,p,g){"use strict";Object.defineProperty(t,"__esModule",{value:true});var v=function(){function e(e){this.spliceables=e}e.prototype.splice=function(e,t,i){for(var n=0,r=this.spliceables;n<r.length;n++){var o=r[n];o.splice(e,t,i)}};return e}();var m=function(){function e(e){this.trait=e;this.renderedElements=[]}Object.defineProperty(e.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:true,configurable:true});e.prototype.renderTemplate=function(e){return e};e.prototype.renderElement=function(e,t,i){var n=l.firstIndex(this.renderedElements,function(e){return e.templateData===i});if(n>=0){var r=this.renderedElements[n];this.trait.unrender(i);r.index=t}else{var r={index:t,templateData:i};this.renderedElements.push(r)}this.trait.renderIndex(t,i)};e.prototype.splice=function(e,t,i){var n=[];for(var r=0;r<this.renderedElements.length;r++){var o=this.renderedElements[r];if(o.index<e){n.push(o)}else if(o.index>=e+t){n.push({index:o.index+i-t,templateData:o.templateData})}}this.renderedElements=n};e.prototype.renderIndexes=function(e){for(var t=0,i=this.renderedElements;t<i.length;t++){var n=i[t],r=n.index,o=n.templateData;if(e.indexOf(r)>-1){this.trait.renderIndex(r,o)}}};e.prototype.disposeTemplate=function(t){var e=l.firstIndex(this.renderedElements,function(e){return e.templateData===t});if(e<0){return}this.renderedElements.splice(e,1)};return e}();var _=function(){function e(e){this._trait=e;this._onChange=new c.Emitter;this.indexes=[]}Object.defineProperty(e.prototype,"onChange",{get:function(){return this._onChange.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"trait",{get:function(){return this._trait},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"renderer",{get:function(){return new m(this)},enumerable:true,configurable:true});e.prototype.splice=function(n,e,t){var i=t.length-e;var r=n+e;var o=this.indexes.filter(function(e){return e<n}).concat(t.reduce(function(e,t,i){return t?e.concat([i+n]):e},[]),this.indexes.filter(function(e){return e>=r}).map(function(e){return e+i}));this.renderer.splice(n,e,t.length);this.set(o)};e.prototype.renderIndex=function(e,t){a.toggleClass(t,this._trait,this.contains(e))};e.prototype.unrender=function(e){a.removeClass(e,this._trait)};e.prototype.set=function(e){var t=this.indexes;this.indexes=e;var i=O(t,e);this.renderer.renderIndexes(i);this._onChange.fire({indexes:e});return t};e.prototype.get=function(){return this.indexes};e.prototype.contains=function(t){return this.indexes.some(function(e){return e===t})};e.prototype.dispose=function(){this.indexes=null;this._onChange=i.dispose(this._onChange)};q([n.memoize],e.prototype,"renderer",null);return e}();var y=function(i){pe(e,i);function e(e){var t=i.call(this,"focused")||this;t.getDomId=e;return t}e.prototype.renderIndex=function(e,t){i.prototype.renderIndex.call(this,e,t);t.setAttribute("role","treeitem");t.setAttribute("id",this.getDomId(e))};return e}(_);var C=function(){function e(e,t,i){this.trait=e;this.view=t;this.getId=i}e.prototype.splice=function(e,t,i){var n=this;if(!this.getId){return this.trait.splice(e,t,i.map(function(e){return false}))}var r=this.trait.get().map(function(e){return n.getId(n.view.element(e))});var o=i.map(function(e){return r.indexOf(n.getId(e))>-1});this.trait.splice(e,t,o)};return e}();function b(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"}var S=function(){function e(e,t,i){this.list=e;this.view=t;var n=!(i.multipleSelectionSupport===false);this.disposables=[];this.openController=i.openController||I;var r=c.chain(d.domEvent(t.domNode,"keydown")).filter(function(e){return!b(e.target)}).map(function(e){return new s.StandardKeyboardEvent(e)});r.filter(function(e){return e.keyCode===3}).on(this.onEnter,this,this.disposables);r.filter(function(e){return e.keyCode===16}).on(this.onUpArrow,this,this.disposables);r.filter(function(e){return e.keyCode===18}).on(this.onDownArrow,this,this.disposables);r.filter(function(e){return e.keyCode===11}).on(this.onPageUpArrow,this,this.disposables);r.filter(function(e){return e.keyCode===12}).on(this.onPageDownArrow,this,this.disposables);r.filter(function(e){return e.keyCode===9}).on(this.onEscape,this,this.disposables);if(n){r.filter(function(e){return(o.isMacintosh?e.metaKey:e.ctrlKey)&&e.keyCode===31}).on(this.onCtrlA,this,this.disposables)}}e.prototype.onEnter=function(e){e.preventDefault();e.stopPropagation();this.list.setSelection(this.list.getFocus());if(this.openController.shouldOpen(e.browserEvent)){this.list.open(this.list.getFocus(),e.browserEvent)}};e.prototype.onUpArrow=function(e){e.preventDefault();e.stopPropagation();this.list.focusPrevious();this.list.reveal(this.list.getFocus()[0]);this.view.domNode.focus()};e.prototype.onDownArrow=function(e){e.preventDefault();e.stopPropagation();this.list.focusNext();this.list.reveal(this.list.getFocus()[0]);this.view.domNode.focus()};e.prototype.onPageUpArrow=function(e){e.preventDefault();e.stopPropagation();this.list.focusPreviousPage();this.list.reveal(this.list.getFocus()[0]);this.view.domNode.focus()};e.prototype.onPageDownArrow=function(e){e.preventDefault();e.stopPropagation();this.list.focusNextPage();this.list.reveal(this.list.getFocus()[0]);this.view.domNode.focus()};e.prototype.onCtrlA=function(e){e.preventDefault();e.stopPropagation();this.list.setSelection(l.range(this.list.length));this.view.domNode.focus()};e.prototype.onEscape=function(e){e.preventDefault();e.stopPropagation();this.list.setSelection([]);this.view.domNode.focus()};e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)};return e}();var w=function(){function e(e,t){this.list=e;this.view=t;this.disposables=[];this.disposables=[];var i=c.chain(d.domEvent(t.domNode,"keydown")).filter(function(e){return!b(e.target)}).map(function(e){return new s.StandardKeyboardEvent(e)});i.filter(function(e){return e.keyCode===2&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey}).on(this.onTab,this,this.disposables)}e.prototype.onTab=function(e){if(e.target!==this.view.domNode){return}var t=this.list.getFocus();if(t.length===0){return}var i=this.view.domElement(t[0]);var n=i.querySelector("[tabIndex]");if(!n||!(n instanceof HTMLElement)){return}e.preventDefault();e.stopPropagation();n.focus()};e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)};return e}();function E(e){return o.isMacintosh?e.browserEvent.metaKey:e.browserEvent.ctrlKey}t.isSelectionSingleChangeEvent=E;function L(e){return e.browserEvent.shiftKey}t.isSelectionRangeChangeEvent=L;function x(e){return e instanceof MouseEvent&&e.button===2}var N={isSelectionSingleChangeEvent:E,isSelectionRangeChangeEvent:L};var I={shouldOpen:function(e){if(e instanceof MouseEvent){return!x(e)}return true}};var D=function(){function e(e,t,i){if(i===void 0){i={}}this.list=e;this.view=t;this.options=i;this.didJustPressContextMenuKey=false;this.disposables=[];this.multipleSelectionSupport=!(i.multipleSelectionSupport===false);if(this.multipleSelectionSupport){this.multipleSelectionController=i.multipleSelectionController||N}this.openController=i.openController||I;t.onMouseDown(this.onMouseDown,this,this.disposables);t.onMouseClick(this.onPointer,this,this.disposables);t.onMouseDblClick(this.onDoubleClick,this,this.disposables);t.onTouchStart(this.onMouseDown,this,this.disposables);t.onTap(this.onPointer,this,this.disposables);r.Gesture.addTarget(t.domNode)}Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var n=this;var e=c.chain(d.domEvent(this.view.domNode,"keydown")).map(function(e){return new s.StandardKeyboardEvent(e)}).filter(function(e){return n.didJustPressContextMenuKey=e.keyCode===58||e.shiftKey&&e.keyCode===68}).filter(function(e){e.preventDefault();e.stopPropagation();return false}).event;var t=c.chain(d.domEvent(this.view.domNode,"keyup")).filter(function(){var e=n.didJustPressContextMenuKey;n.didJustPressContextMenuKey=false;return e}).filter(function(){return n.list.getFocus().length>0}).map(function(){var e=n.list.getFocus()[0];var t=n.view.element(e);var i=n.view.domElement(e);return{index:e,element:t,anchor:i}}).filter(function(e){var t=e.anchor;return!!t}).event;var i=c.chain(this.view.onContextMenu).filter(function(){return!n.didJustPressContextMenuKey}).map(function(e){var t=e.element,i=e.index,n=e.browserEvent;return{element:t,index:i,anchor:{x:n.clientX+1,y:n.clientY}}}).event;return c.anyEvent(e,t,i)},enumerable:true,configurable:true});e.prototype.isSelectionSingleChangeEvent=function(e){if(this.multipleSelectionController){return this.multipleSelectionController.isSelectionSingleChangeEvent(e)}return o.isMacintosh?e.browserEvent.metaKey:e.browserEvent.ctrlKey};e.prototype.isSelectionRangeChangeEvent=function(e){if(this.multipleSelectionController){return this.multipleSelectionController.isSelectionRangeChangeEvent(e)}return e.browserEvent.shiftKey};e.prototype.isSelectionChangeEvent=function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)};e.prototype.onMouseDown=function(e){if(this.options.focusOnMouseDown===false){e.browserEvent.preventDefault();e.browserEvent.stopPropagation()}else if(document.activeElement!==e.browserEvent.target){this.view.domNode.focus()}var t=this.list.getFocus()[0];var i=this.list.getSelection();t=t===undefined?i[0]:t;if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e)){return this.changeSelection(e,t)}var n=e.index;if(i.every(function(e){return e!==n})){this.list.setFocus([n])}if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)){return this.changeSelection(e,t)}if(this.options.selectOnMouseDown&&!x(e.browserEvent)){this.list.setSelection([n]);if(this.openController.shouldOpen(e.browserEvent)){this.list.open([n],e.browserEvent)}}};e.prototype.onPointer=function(e){if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)){return}if(!this.options.selectOnMouseDown){var t=this.list.getFocus();this.list.setSelection(t);if(this.openController.shouldOpen(e.browserEvent)){this.list.open(t,e.browserEvent)}}};e.prototype.onDoubleClick=function(e){if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e)){return}var t=this.list.getFocus();this.list.setSelection(t);this.list.pin(t)};e.prototype.changeSelection=function(e,t){var i=e.index;if(this.isSelectionRangeChangeEvent(e)&&t!==undefined){var n=Math.min(t,i);var r=Math.max(t,i);var o=l.range(n,r+1);var s=this.list.getSelection();var a=k(O(s,[t]),t);if(a.length===0){return}var u=O(o,R(s,a));this.list.setSelection(u)}else if(this.isSelectionSingleChangeEvent(e)){var s=this.list.getSelection();var u=s.filter(function(e){return e!==i});if(s.length===u.length){this.list.setSelection(u.concat([i]))}else{this.list.setSelection(u)}}};e.prototype.dispose=function(){this.disposables=i.dispose(this.disposables)};q([n.memoize],e.prototype,"onContextMenu",null);return e}();var T={listFocusBackground:f.Color.fromHex("#073655"),listActiveSelectionBackground:f.Color.fromHex("#0E639C"),listActiveSelectionForeground:f.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:f.Color.fromHex("#094771"),listFocusAndSelectionForeground:f.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:f.Color.fromHex("#3F3F46"),listHoverBackground:f.Color.fromHex("#2A2D2E"),listDropBackground:f.Color.fromHex("#383B3D")};var M={keyboardSupport:true,mouseSupport:true,multipleSelectionSupport:true};function k(e,t){var i=e.indexOf(t);if(i===-1){return[]}var n=[];var r=i-1;while(r>=0&&e[r]===t-(i-r)){n.push(e[r--])}n.reverse();r=i;while(r<e.length&&e[r]===t+(r-i)){n.push(e[r++])}return n}function O(e,t){var i=[];var n=0,r=0;while(n<e.length||r<t.length){if(n>=e.length){i.push(t[r++])}else if(r>=t.length){i.push(e[n++])}else if(e[n]===t[r]){i.push(e[n]);n++;r++;continue}else if(e[n]<t[r]){i.push(e[n++])}else{i.push(t[r++])}}return i}function R(e,t){var i=[];var n=0,r=0;while(n<e.length||r<t.length){if(n>=e.length){i.push(t[r++])}else if(r>=t.length){i.push(e[n++])}else if(e[n]===t[r]){n++;r++;continue}else if(e[n]<t[r]){i.push(e[n++])}else{r++}}return i}var P=function(e,t){return e-t};var A=function(){function e(e,t){this._templateId=e;this.renderers=t}Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId},enumerable:true,configurable:true});e.prototype.renderTemplate=function(t){return this.renderers.map(function(e){return e.renderTemplate(t)})};e.prototype.renderElement=function(e,t,i){var n=0;for(var r=0,o=this.renderers;r<o.length;r++){var s=o[r];s.renderElement(e,t,i[n++])}};e.prototype.disposeTemplate=function(e){var t=0;for(var i=0,n=this.renderers;i<n.length;i++){var r=n[i];r.disposeTemplate(e[i])}};return e}();var F=function(){function s(e,t,i,n){if(n===void 0){n=M}var r=this;this.idPrefix="list_id_"+ ++s.InstanceCount;this.eventBufferer=new c.EventBufferer;this.onContextMenu=c.default.None;this._onOpen=new c.Emitter;this._onPin=new c.Emitter;this._onDidDispose=new c.Emitter;this.focus=new y(function(e){return r.getElementDomId(e)});this.selection=new _("selected");p.mixin(n,T,false);i=i.map(function(e){return new A(e.templateId,[r.focus.renderer,r.selection.renderer,e])});this.view=new h.ListView(e,t,i,n);this.view.domNode.setAttribute("role","tree");a.addClass(this.view.domNode,this.idPrefix);this.view.domNode.tabIndex=0;this.styleElement=a.createStyleSheet(this.view.domNode);this.spliceable=new v([new C(this.focus,this.view,n.identityProvider),new C(this.selection,this.view,n.identityProvider),this.view]);this.disposables=[this.focus,this.selection,this.view,this._onDidDispose];this.onDidFocus=c.mapEvent(d.domEvent(this.view.domNode,"focus",true),function(){return null});this.onDidBlur=c.mapEvent(d.domEvent(this.view.domNode,"blur",true),function(){return null});this.disposables.push(new w(this,this.view));if(typeof n.keyboardSupport!=="boolean"||n.keyboardSupport){var o=new S(this,this.view,n);this.disposables.push(o)}if(typeof n.mouseSupport!=="boolean"||n.mouseSupport){this.mouseController=new D(this,this.view,n);this.disposables.push(this.mouseController);this.onContextMenu=this.mouseController.onContextMenu}this.onFocusChange(this._onFocusChange,this,this.disposables);this.onSelectionChange(this._onSelectionChange,this,this.disposables);if(n.ariaLabel){this.view.domNode.setAttribute("aria-label",n.ariaLabel)}this.style(n)}Object.defineProperty(s.prototype,"onFocusChange",{get:function(){var t=this;return c.mapEvent(this.eventBufferer.wrapEvent(this.focus.onChange),function(e){return t.toListEvent(e)})},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onSelectionChange",{get:function(){var t=this;return c.mapEvent(this.eventBufferer.wrapEvent(this.selection.onChange),function(e){return t.toListEvent(e)})},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onOpen",{get:function(){return this._onOpen.event},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onPin",{get:function(){var t=this;return c.mapEvent(this._onPin.event,function(e){return t.toListEvent({indexes:e})})},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseUp",{get:function(){return this.view.onMouseUp},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseOver",{get:function(){return this.view.onMouseOver},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseMove",{get:function(){return this.view.onMouseMove},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onMouseOut",{get:function(){return this.view.onMouseOut},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onKeyDown",{get:function(){return d.domEvent(this.view.domNode,"keydown")},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onKeyUp",{get:function(){return d.domEvent(this.view.domNode,"keyup")},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onKeyPress",{get:function(){return d.domEvent(this.view.domNode,"keypress")},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"onDidDispose",{get:function(){return this._onDidDispose.event},enumerable:true,configurable:true});s.prototype.splice=function(e,t,i){var n=this;if(i===void 0){i=[]}if(t===0&&i.length===0){return}this.eventBufferer.bufferEvents(function(){return n.spliceable.splice(e,t,i)})};Object.defineProperty(s.prototype,"length",{get:function(){return this.view.length},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"contentHeight",{get:function(){return this.view.getContentHeight()},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:true,configurable:true});s.prototype.domFocus=function(){this.view.domNode.focus()};s.prototype.layout=function(e){this.view.layout(e)};s.prototype.setSelection=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n<0||n>=this.length){throw new Error("Invalid index "+n)}}e=e.sort(P);this.selection.set(e)};s.prototype.selectNext=function(e,t){if(e===void 0){e=1}if(t===void 0){t=false}if(this.length===0){return}var i=this.selection.get();var n=i.length>0?i[0]+e:0;this.setSelection(t?[n%this.length]:[Math.min(n,this.length-1)])};s.prototype.selectPrevious=function(e,t){if(e===void 0){e=1}if(t===void 0){t=false}if(this.length===0){return}var i=this.selection.get();var n=i.length>0?i[0]-e:0;if(t&&n<0){n=this.length+n%this.length}this.setSelection([Math.max(n,0)])};s.prototype.getSelection=function(){return this.selection.get()};s.prototype.getSelectedElements=function(){var t=this;return this.getSelection().map(function(e){return t.view.element(e)})};s.prototype.setFocus=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n<0||n>=this.length){throw new Error("Invalid index "+n)}}e=e.sort(P);this.focus.set(e)};s.prototype.focusNext=function(e,t){if(e===void 0){e=1}if(t===void 0){t=false}if(this.length===0){return}var i=this.focus.get();var n=i.length>0?i[0]+e:0;this.setFocus(t?[n%this.length]:[Math.min(n,this.length-1)])};s.prototype.focusPrevious=function(e,t){if(e===void 0){e=1}if(t===void 0){t=false}if(this.length===0){return}var i=this.focus.get();var n=i.length>0?i[0]-e:0;if(t&&n<0){n=(this.length+n%this.length)%this.length}this.setFocus([Math.max(n,0)])};s.prototype.focusNextPage=function(){var e=this;var t=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);t=t===0?0:t-1;var i=this.view.element(t);var n=this.getFocusedElements()[0];if(n!==i){this.setFocus([t])}else{var r=this.view.getScrollTop();this.view.setScrollTop(r+this.view.renderHeight-this.view.elementHeight(t));if(this.view.getScrollTop()!==r){setTimeout(function(){return e.focusNextPage()},0)}}};s.prototype.focusPreviousPage=function(){var e=this;var t;var i=this.view.getScrollTop();if(i===0){t=this.view.indexAt(i)}else{t=this.view.indexAfter(i-1)}var n=this.view.element(t);var r=this.getFocusedElements()[0];if(r!==n){this.setFocus([t])}else{var o=i;this.view.setScrollTop(i-this.view.renderHeight);if(this.view.getScrollTop()!==o){setTimeout(function(){return e.focusPreviousPage()},0)}}};s.prototype.focusLast=function(){if(this.length===0){return}this.setFocus([this.length-1])};s.prototype.focusFirst=function(){if(this.length===0){return}this.setFocus([0])};s.prototype.getFocus=function(){return this.focus.get()};s.prototype.getFocusedElements=function(){var t=this;return this.getFocus().map(function(e){return t.view.element(e)})};s.prototype.reveal=function(e,t){if(e<0||e>=this.length){throw new Error("Invalid index "+e)}var i=this.view.getScrollTop();var n=this.view.elementTop(e);var r=this.view.elementHeight(e);if(u.isNumber(t)){var o=r-this.view.renderHeight;this.view.setScrollTop(o*g.clamp(t,0,1)+n)}else{var s=n+r;var a=i+this.view.renderHeight;if(n<i){this.view.setScrollTop(n)}else if(s>=a){this.view.setScrollTop(s-this.view.renderHeight)}}};s.prototype.getRelativeTop=function(e){if(e<0||e>=this.length){throw new Error("Invalid index "+e)}var t=this.view.getScrollTop();var i=this.view.elementTop(e);var n=this.view.elementHeight(e);if(i<t||i+n>t+this.view.renderHeight){return null}var r=n-this.view.renderHeight;return Math.abs((t-i)/r)};s.prototype.getElementDomId=function(e){return this.idPrefix+"_"+e};s.prototype.isDOMFocused=function(){return this.view.domNode===document.activeElement};s.prototype.getHTMLElement=function(){return this.view.domNode};s.prototype.open=function(e,t){var i=this;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(o<0||o>=this.length){throw new Error("Invalid index "+o)}}this._onOpen.fire({indexes:e,elements:e.map(function(e){return i.view.element(e)}),browserEvent:t})};s.prototype.pin=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n<0||n>=this.length){throw new Error("Invalid index "+n)}}this._onPin.fire(e)};s.prototype.style=function(e){var t=[];if(e.listFocusBackground){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }");t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused:hover { background-color: "+e.listFocusBackground+"; }")}if(e.listFocusForeground){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }")}if(e.listActiveSelectionBackground){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }");t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")}if(e.listActiveSelectionForeground){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }")}if(e.listFocusAndSelectionBackground){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+"; }")}if(e.listFocusAndSelectionForeground){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+"; }")}if(e.listInactiveFocusBackground){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }");t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")}if(e.listInactiveSelectionBackground){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }");t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")}if(e.listInactiveSelectionForeground){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }")}if(e.listHoverBackground){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { background-color:  "+e.listHoverBackground+"; }")}if(e.listHoverForeground){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { color:  "+e.listHoverForeground+"; }")}if(e.listSelectionOutline){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }")}if(e.listFocusOutline){t.push(".monaco-list."+this.idPrefix+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+"; outline-offset: -1px; }")}if(e.listInactiveFocusOutline){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }")}if(e.listHoverOutline){t.push(".monaco-list."+this.idPrefix+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }")}this.styleElement.innerHTML=t.join("\n")};s.prototype.toListEvent=function(e){var t=this;var i=e.indexes;return{indexes:i,elements:i.map(function(e){return t.view.element(e)})}};s.prototype._onFocusChange=function(){var e=this.focus.get();if(e.length>0){this.view.domNode.setAttribute("aria-activedescendant",this.getElementDomId(e[0]))}else{this.view.domNode.removeAttribute("aria-activedescendant")}this.view.domNode.setAttribute("role","tree");a.toggleClass(this.view.domNode,"element-focused",e.length>0)};s.prototype._onSelectionChange=function(){var e=this.selection.get();a.toggleClass(this.view.domNode,"selection-none",e.length===0);a.toggleClass(this.view.domNode,"selection-single",e.length===1);a.toggleClass(this.view.domNode,"selection-multiple",e.length>1)};s.prototype.dispose=function(){this._onDidDispose.fire();this.disposables=i.dispose(this.disposables)};s.InstanceCount=0;q([n.memoize],s.prototype,"onFocusChange",null);q([n.memoize],s.prototype,"onSelectionChange",null);q([n.memoize],s.prototype,"onOpen",null);q([n.memoize],s.prototype,"onPin",null);return s}();t.List=F});define(r[239],e([0,1,23,104,4,176]),function(e,t,i,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){this.renderer=e;this.modelProvider=t}Object.defineProperty(e.prototype,"templateId",{get:function(){return this.renderer.templateId},enumerable:true,configurable:true});e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{data:t,disposable:{dispose:function(){}}}};e.prototype.renderElement=function(t,e,i){var n=this;i.disposable.dispose();var r=this.modelProvider();if(r.isResolved(t)){return this.renderer.renderElement(r.get(t),t,i.data)}var o=r.resolve(t);i.disposable={dispose:function(){return o.cancel()}};this.renderer.renderPlaceholder(t,i.data);o.done(function(e){return n.renderer.renderElement(e,t,i.data)})};e.prototype.disposeTemplate=function(e){e.disposable.dispose();e.disposable=null;this.renderer.disposeTemplate(e.data);e.data=null};return e}();var n=function(){function e(e,t,i,n){if(n===void 0){n={}}var r=this;var o=i.map(function(e){return new a(e,function(){return r.model})});this.list=new s.List(e,t,o,n)}e.prototype.getHTMLElement=function(){return this.list.getHTMLElement()};e.prototype.isDOMFocused=function(){return this.list.getHTMLElement()===document.activeElement};Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.list.onDidFocus},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this.list.onDidBlur},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"widget",{get:function(){return this.list},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var n=this;return o.mapEvent(this.list.onFocusChange,function(e){var t=e.elements,i=e.indexes;return{elements:t.map(function(e){return n._model.get(e)}),indexes:i}})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onOpen",{get:function(){var r=this;return o.mapEvent(this.list.onOpen,function(e){var t=e.elements,i=e.indexes,n=e.browserEvent;return{elements:t.map(function(e){return r._model.get(e)}),indexes:i,browserEvent:n}})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var n=this;return o.mapEvent(this.list.onSelectionChange,function(e){var t=e.elements,i=e.indexes;return{elements:t.map(function(e){return n._model.get(e)}),indexes:i}})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onPin",{get:function(){var n=this;return o.mapEvent(this.list.onPin,function(e){var t=e.elements,i=e.indexes;return{elements:t.map(function(e){return n._model.get(e)}),indexes:i}})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e;this.list.splice(0,this.list.length,i.range(e.length))},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"length",{get:function(){return this.list.length},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.list.scrollTop},set:function(e){this.list.scrollTop=e},enumerable:true,configurable:true});e.prototype.open=function(e,t){this.list.open(e,t)};e.prototype.setFocus=function(e){this.list.setFocus(e)};e.prototype.focusNext=function(e,t){this.list.focusNext(e,t)};e.prototype.focusPrevious=function(e,t){this.list.focusPrevious(e,t)};e.prototype.selectNext=function(e,t){this.list.selectNext(e,t)};e.prototype.selectPrevious=function(e,t){this.list.selectPrevious(e,t)};e.prototype.focusNextPage=function(){this.list.focusNextPage()};e.prototype.focusPreviousPage=function(){this.list.focusPreviousPage()};e.prototype.getFocus=function(){return this.list.getFocus()};e.prototype.setSelection=function(e){this.list.setSelection(e)};e.prototype.getSelection=function(){return this.list.getSelection()};e.prototype.layout=function(e){this.list.layout(e)};e.prototype.reveal=function(e,t){this.list.reveal(e,t)};e.prototype.style=function(e){this.list.style(e)};return e}();t.PagedList=n});define(r[240],e([0,1,15,31,7,2,10,127,71,5,42,54,440,111,55,43,446,439,4,460]),function(e,t,n,o,h,i,f,v,s,a,p,l,g,m,u,c,r,_,y,C){"use strict";Object.defineProperty(t,"__esModule",{value:true});function d(e){try{e.parentElement.removeChild(e)}catch(e){}}var b=function(){function e(e){this.context=e;this._cache={"":[]}}e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var i=document.createElement("div");i.className="content";var n=document.createElement("div");n.appendChild(i);t={element:n,templateId:e,templateData:this.context.renderer.renderTemplate(this.context.tree,e,i)}}return t};e.prototype.release=function(e,t){d(t.element);this.cache(e).push(t)};e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])};e.prototype.garbageCollect=function(){var i=this;if(this._cache){Object.keys(this._cache).forEach(function(t){i._cache[t].forEach(function(e){i.context.renderer.disposeTemplate(i.context.tree,t,e.templateData);e.element=null;e.templateData=null});delete i._cache[t]})}};e.prototype.dispose=function(){this.garbageCollect();this._cache=null;this.context=null};return e}();t.RowCache=b;var S=function(){function e(e,t){var i=this;this.context=e;this.model=t;this.id=this.model.id;this.row=null;this.top=0;this.height=t.getHeight();this._styles={};t.getAllTraits().forEach(function(e){return i._styles[e]=true});if(t.isExpanded()){this.addClass("expanded")}}Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("loading"):this.removeClass("loading")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e;this.render(true)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:true,configurable:true});e.prototype.addClass=function(e){this._styles[e]=true;this.render(true)};e.prototype.removeClass=function(e){delete this._styles[e];this.render(true)};e.prototype.render=function(e){var t=this;if(e===void 0){e=false}if(!this.model||!this.element){return}var i=["monaco-tree-row"];i.push.apply(i,Object.keys(this._styles));if(this.model.hasChildren()){i.push("has-children")}this.element.className=i.join(" ");this.element.draggable=this.draggable;this.element.style.height=this.height+"px";this.element.setAttribute("role","treeitem");var n=this.context.accessibilityProvider;var r=n.getAriaLabel(this.context.tree,this.model.getElement());if(r){this.element.setAttribute("aria-label",r)}if(n.getPosInSet&&n.getSetSize){this.element.setAttribute("aria-setsize",n.getSetSize());this.element.setAttribute("aria-posinset",n.getPosInSet(this.context.tree,this.model.getElement()))}if(this.model.hasTrait("focused")){var o=a.safeBtoa(this.model.id);this.element.setAttribute("aria-selected","true");this.element.setAttribute("id",o)}else{this.element.setAttribute("aria-selected","false");this.element.removeAttribute("id")}if(this.model.hasChildren()){this.element.setAttribute("aria-expanded",String(!!this.model.isExpanded()))}else{this.element.removeAttribute("aria-expanded")}this.element.setAttribute("aria-level",String(this.model.getDepth()));if(this.context.options.paddingOnRow){this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px"}else{this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px";this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px"}var s=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(s!==this.uri){if(this.unbindDragStart){this.unbindDragStart.dispose();this.unbindDragStart=null}if(s){this.uri=s;this.draggable=true;this.unbindDragStart=f.addDisposableListener(this.element,"dragstart",function(e){t.onDragStart(e)})}else{this.uri=null}}if(!e){this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}};e.prototype.insertInDOM=function(t,e){if(!this.row){this.row=this.context.cache.alloc(this.templateId);this.element[L.BINDING]=this}if(this.element.parentElement){return}if(e===null){t.appendChild(this.element)}else{try{t.insertBefore(this.element,e)}catch(e){console.warn("Failed to locate previous tree element");t.appendChild(this.element)}}this.render()};e.prototype.removeFromDOM=function(){if(!this.row){return}if(this.unbindDragStart){this.unbindDragStart.dispose();this.unbindDragStart=null}this.uri=null;this.element[L.BINDING]=null;this.context.cache.release(this.templateId,this.row);this.row=null};e.prototype.dispose=function(){this.row=null;this.model=null};return e}();t.ViewItem=S;var w=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,t)||this;n.row={element:i,templateData:null,templateId:null};return n}e.prototype.render=function(){if(!this.model||!this.element){return}var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles));if(this.model.hasChildren()){e.push("has-children")}this.element.className=e.join(" ")};e.prototype.insertInDOM=function(e,t){};e.prototype.removeFromDOM=function(){};return e}(S);function E(e,t){if(!e&&!t){return true}else if(!e||!t){return false}else if(e.accept!==t.accept){return false}else if(e.bubble!==t.bubble){return false}else if(e.effect!==t.effect){return false}else{return true}}var L=function(r){pe(d,r);function d(e,t){var i=r.call(this)||this;i.lastClickTimeStamp=0;i.isRefreshing=false;i.refreshingPreviousChildrenIds={};i._onDOMFocus=new y.Emitter;i._onDOMBlur=new y.Emitter;d.counter++;i.instance=d.counter;i.context={dataSource:e.dataSource,renderer:e.renderer,controller:e.controller,dnd:e.dnd,filter:e.filter,sorter:e.sorter,tree:e.tree,accessibilityProvider:e.accessibilityProvider,options:e.options,cache:new b(e)};i.modelListeners=[];i.viewListeners=[];i.model=null;i.items={};i.domNode=document.createElement("div");i.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+i.instance;i.domNode.tabIndex=e.options.preventRootFocus?-1:0;i.styleElement=f.createStyleSheet(i.domNode);i.domNode.setAttribute("role","tree");if(i.context.options.ariaLabel){i.domNode.setAttribute("aria-label",i.context.options.ariaLabel)}if(i.context.options.alwaysFocused){f.addClass(i.domNode,"focused")}if(!i.context.options.paddingOnRow){f.addClass(i.domNode,"no-row-padding")}i.wrapper=document.createElement("div");i.wrapper.className="monaco-tree-wrapper";i.scrollableElement=new u.ScrollableElement(i.wrapper,{alwaysConsumeMouseWheel:true,horizontal:c.ScrollbarVisibility.Hidden,vertical:typeof e.options.verticalScrollMode!=="undefined"?e.options.verticalScrollMode:c.ScrollbarVisibility.Auto,useShadows:e.options.useShadows});i.scrollableElement.onScroll(function(e){i.render(e.scrollTop,e.height)});if(o.isIE){i.wrapper.style.msTouchAction="none";i.wrapper.style.msContentZooming="none"}else{s.Gesture.addTarget(i.wrapper)}i.rowsContainer=document.createElement("div");i.rowsContainer.className="monaco-tree-rows";if(e.options.showTwistie){i.rowsContainer.className+=" show-twisties"}var n=f.trackFocus(i.domNode);i.viewListeners.push(n.onDidFocus(function(){return i.onFocus()}));i.viewListeners.push(n.onDidBlur(function(){return i.onBlur()}));i.viewListeners.push(n);i.viewListeners.push(f.addDisposableListener(i.domNode,"keydown",function(e){return i.onKeyDown(e)}));i.viewListeners.push(f.addDisposableListener(i.domNode,"keyup",function(e){return i.onKeyUp(e)}));i.viewListeners.push(f.addDisposableListener(i.domNode,"mousedown",function(e){return i.onMouseDown(e)}));i.viewListeners.push(f.addDisposableListener(i.domNode,"mouseup",function(e){return i.onMouseUp(e)}));i.viewListeners.push(f.addDisposableListener(i.wrapper,"click",function(e){return i.onClick(e)}));i.viewListeners.push(f.addDisposableListener(i.wrapper,"auxclick",function(e){return i.onClick(e)}));i.viewListeners.push(f.addDisposableListener(i.domNode,"contextmenu",function(e){return i.onContextMenu(e)}));i.viewListeners.push(f.addDisposableListener(i.wrapper,s.EventType.Tap,function(e){return i.onTap(e)}));i.viewListeners.push(f.addDisposableListener(i.wrapper,s.EventType.Change,function(e){return i.onTouchChange(e)}));if(o.isIE){i.viewListeners.push(f.addDisposableListener(i.wrapper,"MSPointerDown",function(e){return i.onMsPointerDown(e)}));i.viewListeners.push(f.addDisposableListener(i.wrapper,"MSGestureTap",function(e){return i.onMsGestureTap(e)}));i.viewListeners.push(f.addDisposableThrottledListener(i.wrapper,"MSGestureChange",function(e){return i.onThrottledMsGestureChange(e)},function(e,t){t.stopPropagation();t.preventDefault();var i={translationY:t.translationY,translationX:t.translationX};if(e){i.translationY+=e.translationY;i.translationX+=e.translationX}return i}))}i.viewListeners.push(f.addDisposableListener(window,"dragover",function(e){return i.onDragOver(e)}));i.viewListeners.push(f.addDisposableListener(i.wrapper,"drop",function(e){return i.onDrop(e)}));i.viewListeners.push(f.addDisposableListener(window,"dragend",function(e){return i.onDragEnd(e)}));i.viewListeners.push(f.addDisposableListener(window,"dragleave",function(e){return i.onDragOver(e)}));i.wrapper.appendChild(i.rowsContainer);i.domNode.appendChild(i.scrollableElement.getDomNode());t.appendChild(i.domNode);i.lastRenderTop=0;i.lastRenderHeight=0;i.didJustPressContextMenuKey=false;i.currentDropTarget=null;i.currentDropTargets=[];i.shouldInvalidateDropReaction=false;i.dragAndDropScrollInterval=null;i.dragAndDropScrollTimeout=null;i.onHiddenScrollTop=null;i.onRowsChanged();i.layout();i.setupMSGesture();i.applyStyles(e.options);return i}Object.defineProperty(d.prototype,"onDOMFocus",{get:function(){return this._onDOMFocus.event},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"onDOMBlur",{get:function(){return this._onDOMBlur.event},enumerable:true,configurable:true});d.prototype.applyStyles=function(e){var t=[];if(e.listFocusBackground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+e.listFocusBackground+"; }")}if(e.listFocusForeground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+e.listFocusForeground+"; }")}if(e.listActiveSelectionBackground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listActiveSelectionBackground+"; }")}if(e.listActiveSelectionForeground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listActiveSelectionForeground+"; }")}if(e.listFocusAndSelectionBackground){t.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+e.listFocusAndSelectionBackground+"; }\n\t\t\t")}if(e.listFocusAndSelectionForeground){t.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+e.listFocusAndSelectionForeground+"; }\n\t\t\t")}if(e.listInactiveSelectionBackground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listInactiveSelectionBackground+"; }")}if(e.listInactiveSelectionForeground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listInactiveSelectionForeground+"; }")}if(e.listHoverBackground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+e.listHoverBackground+"; }")}if(e.listHoverForeground){t.push(".monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+e.listHoverForeground+"; }")}if(e.listDropBackground){t.push("\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+e.listDropBackground+" !important; color: inherit !important; }\n\t\t\t")}if(e.listFocusOutline){t.push("\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; background: #000; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree.monaco-tree-instance-"+this.instance+" .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t")}this.styleElement.innerHTML=t.join("\n")};d.prototype.createViewItem=function(e){return new S(this.context,e)};d.prototype.getHTMLElement=function(){return this.domNode};d.prototype.focus=function(){this.domNode.focus()};d.prototype.isFocused=function(){return document.activeElement===this.domNode};d.prototype.blur=function(){this.domNode.blur()};d.prototype.onVisible=function(){this.scrollTop=this.onHiddenScrollTop;this.onHiddenScrollTop=null;this.setupMSGesture()};d.prototype.setupMSGesture=function(){var e=this;if(window.MSGesture){this.msGesture=new MSGesture;setTimeout(function(){return e.msGesture.target=e.wrapper},100)}};d.prototype.onHidden=function(){this.onHiddenScrollTop=this.scrollTop};d.prototype.isTreeVisible=function(){return this.onHiddenScrollTop===null};d.prototype.layout=function(e){if(!this.isTreeVisible()){return}this.viewHeight=e||f.getContentHeight(this.wrapper)};d.prototype.render=function(e,t){var i;var n;var r=e;var o=e+t;var s=this.lastRenderTop+this.lastRenderHeight;for(i=this.indexAfter(o)-1,n=this.indexAt(Math.max(s,r));i>=n;i--){this.insertItemInDOM(this.itemAtIndex(i))}for(i=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(o))-1,n=this.indexAt(r);i>=n;i--){this.insertItemInDOM(this.itemAtIndex(i))}for(i=this.indexAt(this.lastRenderTop),n=Math.min(this.indexAt(r),this.indexAfter(s));i<n;i++){this.removeItemFromDOM(this.itemAtIndex(i))}for(i=Math.max(this.indexAfter(o),this.indexAt(this.lastRenderTop)),n=this.indexAfter(s);i<n;i++){this.removeItemFromDOM(this.itemAtIndex(i))}var a=this.itemAtIndex(this.indexAt(r));if(a){this.rowsContainer.style.top=a.top-r+"px"}this.lastRenderTop=r;this.lastRenderHeight=o-r};d.prototype.setModel=function(e){this.releaseModel();this.model=e;this.model.onRefresh(this.onRefreshing,this,this.modelListeners);this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners);this.model.onSetInput(this.onClearingInput,this,this.modelListeners);this.model.onDidSetInput(this.onSetInput,this,this.modelListeners);this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners);this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners);this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners);this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners);this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners);this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners);this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners);this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners);this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners);this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)};d.prototype.onRefreshing=function(){this.isRefreshing=true};d.prototype.onRefreshed=function(){this.isRefreshing=false;this.onRowsChanged()};d.prototype.onRowsChanged=function(e){if(e===void 0){e=this.scrollTop}if(this.isRefreshing){return}this.scrollTop=e};d.prototype.focusNextPage=function(e){var t=this;var i=this.indexAt(this.scrollTop+this.viewHeight);i=i===0?0:i-1;var n=this.itemAtIndex(i).model.getElement();var r=this.model.getFocus();if(r!==n){this.model.setFocus(n,e)}else{var o=this.scrollTop;this.scrollTop+=this.viewHeight;if(this.scrollTop!==o){setTimeout(function(){t.focusNextPage(e)},0)}}};d.prototype.focusPreviousPage=function(e){var t=this;var i;if(this.scrollTop===0){i=this.indexAt(this.scrollTop)}else{i=this.indexAfter(this.scrollTop-1)}var n=this.itemAtIndex(i).model.getElement();var r=this.model.getFocus();if(r!==n){this.model.setFocus(n,e)}else{var o=this.scrollTop;this.scrollTop-=this.viewHeight;if(this.scrollTop!==o){setTimeout(function(){t.focusPreviousPage(e)},0)}}};Object.defineProperty(d.prototype,"viewHeight",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.height},set:function(e){this.scrollableElement.setScrollDimensions({height:e,scrollHeight:this.getTotalHeight()})},enumerable:true,configurable:true});Object.defineProperty(d.prototype,"scrollTop",{get:function(){var e=this.scrollableElement.getScrollPosition();return e.scrollTop},set:function(e){this.scrollableElement.setScrollDimensions({scrollHeight:this.getTotalHeight()});this.scrollableElement.setScrollPosition({scrollTop:e})},enumerable:true,configurable:true});d.prototype.getScrollPosition=function(){var e=this.getTotalHeight()-this.viewHeight;return e<=0?1:this.scrollTop/e};d.prototype.setScrollPosition=function(e){var t=this.getTotalHeight()-this.viewHeight;this.scrollTop=t*e};d.prototype.onClearingInput=function(e){var t=e.item;if(t){this.onRemoveItems(new m.MappedIterator(t.getNavigator(),function(e){return e&&e.id}));this.onRowsChanged()}};d.prototype.onSetInput=function(e){this.context.cache.garbageCollect();this.inputItem=new w(this.context,e.item,this.wrapper)};d.prototype.onItemChildrenRefreshing=function(e){var t=e.item;var i=this.items[t.id];if(i){i.loadingTimer=setTimeout(function(){i.loadingTimer=0;i.loading=true},d.LOADING_DECORATION_DELAY)}if(!e.isNested){var n=[];var r=t.getNavigator();var o;while(o=r.next()){n.push(o.id)}this.refreshingPreviousChildrenIds[t.id]=n}};d.prototype.onItemChildrenRefreshed=function(e){var n=this;var t=e.item;var i=this.items[t.id];if(i){if(i.loadingTimer){clearTimeout(i.loadingTimer);i.loadingTimer=0}i.loading=false}if(!e.isNested){var r=this.refreshingPreviousChildrenIds[t.id];var o=[];var s=t.getNavigator();var a;while(a=s.next()){o.push(a)}var u=Math.abs(r.length-o.length)>1e3;var l=void 0;var c=void 0;if(!u){var d=new v.LcsDiff({getLength:function(){return r.length},getElementHash:function(e){return r[e]}},{getLength:function(){return o.length},getElementHash:function(e){return o[e].id}},null);l=d.ComputeDiff(false);c=l.some(function(e){if(e.modifiedLength>0){for(var t=e.modifiedStart,i=e.modifiedStart+e.modifiedLength;t<i;t++){if(n.items.hasOwnProperty(o[t].id)){return true}}}return false})}if(!u&&!c&&l.length<50){for(var h=0,f=l.length;h<f;h++){var p=l[h];if(p.originalLength>0){this.onRemoveItems(new m.ArrayIterator(r,p.originalStart,p.originalStart+p.originalLength))}if(p.modifiedLength>0){var g=o[p.modifiedStart-1]||t;g=g.getDepth()>0?g:null;this.onInsertItems(new m.ArrayIterator(o,p.modifiedStart,p.modifiedStart+p.modifiedLength),g?g.id:null)}}}else if(u||l.length){this.onRemoveItems(new m.ArrayIterator(r));this.onInsertItems(new m.ArrayIterator(o),t.getDepth()>0?t.id:null)}if(u||l.length){this.onRowsChanged()}}};d.prototype.onItemRefresh=function(e){this.onItemsRefresh([e])};d.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter(function(e){return t.items.hasOwnProperty(e.id)}));this.onRowsChanged()};d.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];if(t){t.expanded=true}};d.prototype.onItemExpanded=function(e){var t=e.item;var i=this.items[t.id];if(i){i.expanded=true;var n=this.onInsertItems(t.getNavigator(),t.id);var r=this.scrollTop;if(i.top+i.height<=this.scrollTop){r+=n}this.onRowsChanged(r)}};d.prototype.onItemCollapsing=function(e){var t=e.item;var i=this.items[t.id];if(i){i.expanded=false;this.onRemoveItems(new m.MappedIterator(t.getNavigator(),function(e){return e&&e.id}));this.onRowsChanged()}};d.prototype.getRelativeTop=function(e){if(e&&e.isVisible()){var t=this.items[e.id];if(t){return(t.top-this.scrollTop)/(this.viewHeight-t.height)}}return-1};d.prototype.onItemReveal=function(e){var t=e.item;var i=e.relativeTop;var n=this.items[t.id];if(n){if(i!==null){i=i<0?0:i;i=i>1?1:i;var r=n.height-this.viewHeight;this.scrollTop=r*i+n.top}else{var o=n.top+n.height;var s=this.scrollTop+this.viewHeight;if(n.top<this.scrollTop){this.scrollTop=n.top}else if(o>=s){this.scrollTop=o-this.viewHeight}}}};d.prototype.onItemAddTrait=function(e){var t=e.item;var i=e.trait;var n=this.items[t.id];if(n){n.addClass(i)}if(i==="highlighted"){f.addClass(this.domNode,i);if(n){this.highlightedItemWasDraggable=!!n.draggable;if(n.draggable){n.draggable=false}}}};d.prototype.onItemRemoveTrait=function(e){var t=e.item;var i=e.trait;var n=this.items[t.id];if(n){n.removeClass(i)}if(i==="highlighted"){f.removeClass(this.domNode,i);if(this.highlightedItemWasDraggable){n.draggable=true}this.highlightedItemWasDraggable=false}};d.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();f.toggleClass(this.domNode,"no-focused-item",!e);if(e){this.domNode.setAttribute("aria-activedescendant",a.safeBtoa(this.context.dataSource.getId(this.context.tree,e)))}else{this.domNode.removeAttribute("aria-activedescendant")}};d.prototype.onInsertItem=function(t){var i=this;t.onDragStart=function(e){i.onDragStart(t,e)};t.needsRender=true;this.refreshViewItem(t);this.items[t.id]=t};d.prototype.onRefreshItem=function(e,t){if(t===void 0){t=false}e.needsRender=e.needsRender||t;this.refreshViewItem(e)};d.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e);e.dispose();delete this.items[e.id]};d.prototype.refreshViewItem=function(e){e.render();if(this.shouldBeRendered(e)){this.insertItemInDOM(e)}else{this.removeItemFromDOM(e)}};d.prototype.onClick=function(e){if(this.lastPointerType&&this.lastPointerType!=="mouse"){return}var t=new p.StandardMouseEvent(e);var i=this.getItemAround(t.target);if(!i){return}if(o.isIE&&Date.now()-this.lastClickTimeStamp<300){t.detail=2}this.lastClickTimeStamp=Date.now();this.context.controller.onClick(this.context.tree,i.model.getElement(),t)};d.prototype.onMouseDown=function(e){this.didJustPressContextMenuKey=false;if(!this.context.controller.onMouseDown){return}if(this.lastPointerType&&this.lastPointerType!=="mouse"){return}var t=new p.StandardMouseEvent(e);if(t.ctrlKey&&n.isNative&&n.isMacintosh){return}var i=this.getItemAround(t.target);if(!i){return}this.context.controller.onMouseDown(this.context.tree,i.model.getElement(),t)};d.prototype.onMouseUp=function(e){if(!this.context.controller.onMouseUp){return}if(this.lastPointerType&&this.lastPointerType!=="mouse"){return}var t=new p.StandardMouseEvent(e);if(t.ctrlKey&&n.isNative&&n.isMacintosh){return}var i=this.getItemAround(t.target);if(!i){return}this.context.controller.onMouseUp(this.context.tree,i.model.getElement(),t)};d.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);if(!t){return}this.context.controller.onTap(this.context.tree,t.model.getElement(),e)};d.prototype.onTouchChange=function(e){e.preventDefault();e.stopPropagation();this.scrollTop-=e.translationY};d.prototype.onContextMenu=function(e){var t;var i;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=false;var n=new l.StandardKeyboardEvent(e);i=this.model.getFocus();var r;if(!i){i=this.model.getInput();r=f.getDomNodePagePosition(this.inputItem.element)}else{var o=this.context.dataSource.getId(this.context.tree,i);var s=this.items[o];r=f.getDomNodePagePosition(s.element)}t=new _.KeyboardContextMenuEvent(r.left+r.width,r.top,n)}else{var a=new p.StandardMouseEvent(e);var u=this.getItemAround(a.target);if(!u){return}i=u.model.getElement();t=new _.MouseContextMenuEvent(a)}this.context.controller.onContextMenu(this.context.tree,i,t)};d.prototype.onKeyDown=function(e){var t=new l.StandardKeyboardEvent(e);this.didJustPressContextMenuKey=t.keyCode===58||t.shiftKey&&t.keyCode===68;if(this.didJustPressContextMenuKey){t.preventDefault();t.stopPropagation()}if(t.target&&t.target.tagName&&t.target.tagName.toLowerCase()==="input"){return}this.context.controller.onKeyDown(this.context.tree,t)};d.prototype.onKeyUp=function(e){if(this.didJustPressContextMenuKey){this.onContextMenu(e)}this.didJustPressContextMenuKey=false;this.context.controller.onKeyUp(this.context.tree,new l.StandardKeyboardEvent(e))};d.prototype.onDragStart=function(e,t){if(this.model.getHighlight()){return}var i=e.model.getElement();var n=this.model.getSelection();var r;if(n.indexOf(i)>-1){r=n}else{r=[i]}t.dataTransfer.effectAllowed="copyMove";t.dataTransfer.setData(C.DataTransfers.RESOURCES,JSON.stringify([e.uri]));if(t.dataTransfer.setDragImage){var o=void 0;if(this.context.dnd.getDragLabel){o=this.context.dnd.getDragLabel(this.context.tree,r)}else{o=String(r.length)}var s=document.createElement("div");s.className="monaco-tree-drag-image";s.textContent=o;document.body.appendChild(s);t.dataTransfer.setDragImage(s,-10,-10);setTimeout(function(){return document.body.removeChild(s)},0)}this.currentDragAndDropData=new g.ElementsDragAndDropData(r);d.currentExternalDragAndDropData=new g.ExternalElementsDragAndDropData(r);this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new p.DragMouseEvent(t))};d.prototype.setupDragAndDropScrollInterval=function(){var n=this;var r=f.getTopLeftOffset(this.wrapper).top;if(!this.dragAndDropScrollInterval){this.dragAndDropScrollInterval=window.setInterval(function(){if(n.dragAndDropMouseY===undefined){return}var e=n.dragAndDropMouseY-r;var t=0;var i=n.viewHeight-35;if(e<35){t=Math.max(-14,.2*(e-35))}else if(e>i){t=Math.min(14,.2*(e-i))}n.scrollTop+=t},10);this.cancelDragAndDropScrollTimeout();this.dragAndDropScrollTimeout=window.setTimeout(function(){n.cancelDragAndDropScrollInterval();n.dragAndDropScrollTimeout=null},1e3)}};d.prototype.cancelDragAndDropScrollInterval=function(){if(this.dragAndDropScrollInterval){window.clearInterval(this.dragAndDropScrollInterval);this.dragAndDropScrollInterval=null}this.cancelDragAndDropScrollTimeout()};d.prototype.cancelDragAndDropScrollTimeout=function(){if(this.dragAndDropScrollTimeout){window.clearTimeout(this.dragAndDropScrollTimeout);this.dragAndDropScrollTimeout=null}};d.prototype.onDragOver=function(e){var t=this;var i=new p.DragMouseEvent(e);var n=this.getItemAround(i.target);if(!n||i.posx===0&&i.posy===0&&i.browserEvent.type===f.EventType.DRAG_LEAVE){if(this.currentDropTarget){this.currentDropTargets.forEach(function(e){return e.dropTarget=false});this.currentDropTargets=[];if(this.currentDropPromise){this.currentDropPromise.cancel();this.currentDropPromise=null}}this.cancelDragAndDropScrollInterval();this.currentDropTarget=null;this.currentDropElement=null;this.dragAndDropMouseY=null;return false}this.setupDragAndDropScrollInterval();this.dragAndDropMouseY=i.posy;if(!this.currentDragAndDropData){if(d.currentExternalDragAndDropData){this.currentDragAndDropData=d.currentExternalDragAndDropData}else{if(!i.dataTransfer.types){return false}this.currentDragAndDropData=new g.DesktopDragAndDropData}}this.currentDragAndDropData.update(i);var r;var o=n.model;var s;do{r=o?o.getElement():this.model.getInput();s=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,r,i);if(!s||s.bubble!==_.DragOverBubble.BUBBLE_UP){break}o=o&&o.parent}while(o);if(!o){this.currentDropElement=null;return false}var a=s&&s.accept;if(a){this.currentDropElement=o.getElement();i.preventDefault();i.dataTransfer.dropEffect=s.effect===_.DragOverEffect.COPY?"copy":"move"}else{this.currentDropElement=null}var u=o.id===this.inputItem.id?this.inputItem:this.items[o.id];if(this.shouldInvalidateDropReaction||this.currentDropTarget!==u||!E(this.currentDropElementReaction,s)){this.shouldInvalidateDropReaction=false;if(this.currentDropTarget){this.currentDropTargets.forEach(function(e){return e.dropTarget=false});this.currentDropTargets=[];if(this.currentDropPromise){this.currentDropPromise.cancel();this.currentDropPromise=null}}this.currentDropTarget=u;this.currentDropElementReaction=s;if(a){if(this.currentDropTarget){this.currentDropTarget.dropTarget=true;this.currentDropTargets.push(this.currentDropTarget)}if(s.bubble===_.DragOverBubble.BUBBLE_DOWN){var l=o.getNavigator();var c;while(c=l.next()){n=this.items[c.id];if(n){n.dropTarget=true;this.currentDropTargets.push(n)}}}if(s.autoExpand){this.currentDropPromise=h.TPromise.timeout(500).then(function(){return t.context.tree.expand(t.currentDropElement)}).then(function(){return t.shouldInvalidateDropReaction=true})}}}return true};d.prototype.onDrop=function(e){if(this.currentDropElement){var t=new p.DragMouseEvent(e);t.preventDefault();this.currentDragAndDropData.update(t);this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t);this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()};d.prototype.onDragEnd=function(e){if(this.currentDropTarget){this.currentDropTargets.forEach(function(e){return e.dropTarget=false});this.currentDropTargets=[]}if(this.currentDropPromise){this.currentDropPromise.cancel();this.currentDropPromise=null}this.cancelDragAndDropScrollInterval();this.currentDragAndDropData=null;d.currentExternalDragAndDropData=null;this.currentDropElement=null;this.currentDropTarget=null;this.dragAndDropMouseY=null};d.prototype.onFocus=function(){if(!this.context.options.alwaysFocused){f.addClass(this.domNode,"focused")}this._onDOMFocus.fire()};d.prototype.onBlur=function(){if(!this.context.options.alwaysFocused){f.removeClass(this.domNode,"focused")}this.domNode.removeAttribute("aria-activedescendant");this._onDOMBlur.fire()};d.prototype.onMsPointerDown=function(e){if(!this.msGesture){return}var t=e.pointerType;if(t===(e.MSPOINTER_TYPE_MOUSE||"mouse")){this.lastPointerType="mouse";return}else if(t===(e.MSPOINTER_TYPE_TOUCH||"touch")){this.lastPointerType="touch"}else{return}e.stopPropagation();e.preventDefault();this.msGesture.addPointer(e.pointerId)};d.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY};d.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY);this.onTap(e)};d.prototype.insertItemInDOM=function(e){var t=null;var i=this.itemAfter(e);if(i&&i.element){t=i.element}e.insertInDOM(this.rowsContainer,t)};d.prototype.removeItemFromDOM=function(e){if(!e){return}e.removeFromDOM()};d.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop};d.prototype.getItemAround=function(e){var t=this.inputItem;do{if(e[d.BINDING]){t=e[d.BINDING]}if(e===this.wrapper||e===this.domNode){return t}if(e===document.body){return null}}while(e=e.parentElement);return undefined};d.prototype.releaseModel=function(){if(this.model){this.modelListeners=i.dispose(this.modelListeners);this.model=null}};d.prototype.dispose=function(){this.scrollableElement.dispose();this.releaseModel();this.modelListeners=null;this.viewListeners=i.dispose(this.viewListeners);this._onDOMFocus.dispose();this._onDOMBlur.dispose();if(this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode)}this.domNode=null;if(this.context.cache){this.context.cache.dispose();this.context.cache=null}r.prototype.dispose.call(this)};d.BINDING="monaco-tree-row";d.LOADING_DECORATION_DELAY=800;d.counter=0;d.currentExternalDragAndDropData=null;return d}(r.HeightMap);t.TreeView=L});define(r[241],e([6]),{});define(r[244],e([6]),{});define(r[246],e([6]),{});define(r[251],e([6]),{});define(r[255],e([6]),{});define(r[257],e([6]),{});define(r[263],e([6]),{});define(r[268],e([6]),{});define(r[269],e([6]),{});define(r[270],e([6]),{});define(r[280],e([6]),{});define(r[283],e([6]),{});define(r[284],e([6]),{});define(r[288],e([6]),{});define(r[289],e([6]),{});define(r[291],e([6]),{});define(r[294],e([6]),{});define(r[299],e([6]),{});define(r[300],e([6]),{});define(r[304],e([6]),{});define(r[307],e([6]),{});define(r[309],e([6]),{});define(r[312],e([6]),{});define(r[313],e([6]),{});define(r[320],e([6]),{});define(r[321],e([6]),{});define(r[322],e([6]),{});define(r[323],e([6]),{});define(r[324],e([6]),{});define(r[326],e([6]),{});define(r[327],e([6]),{});define(r[194],e([6]),{});define(r[329],e([6]),{});define(r[330],e([6]),{});define(r[333],e([6]),{});define(r[340],e([6]),{});define(r[372],e([6]),{});define(r[395],e([6]),{});define(r[396],e([6]),{});define(r[397],e([6]),{});define(r[398],e([6]),{});define(r[399],e([6]),{});define(r[400],e([6]),{});define(r[401],e([6]),{});define(r[402],e([6]),{});define(r[403],e([6]),{});define(r[406],e([6]),{});define(r[407],e([6]),{});define(r[409],e([6]),{});define(r[411],e([6]),{});define(r[412],e([6]),{});define(r[413],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Regular"]=0]="Regular";e[e["Italic"]=1]="Italic";e[e["Bold"]=2]="Bold"})(i=t.CharWidthRequestType||(t.CharWidthRequestType={}));var n=function(){function e(e,t){this.chr=e;this.type=t;this.width=0}e.prototype.fulfill=function(e){this.width=e};return e}();t.CharWidthRequest=n;var r=function(){function c(e,t){this._bareFontInfo=e;this._requests=t;this._container=null;this._testElements=null}c.prototype.read=function(){this._createDomElements();document.body.appendChild(this._container);this._readFromDomElements();document.body.removeChild(this._container);this._container=null;this._testElements=null};c.prototype._createDomElements=function(){var e=document.createElement("div");e.style.position="absolute";e.style.top="-50000px";e.style.width="50000px";var t=document.createElement("div");t.style.fontFamily=this._bareFontInfo.fontFamily;t.style.fontWeight=this._bareFontInfo.fontWeight;t.style.fontSize=this._bareFontInfo.fontSize+"px";t.style.lineHeight=this._bareFontInfo.lineHeight+"px";t.style.letterSpacing=this._bareFontInfo.letterSpacing+"px";e.appendChild(t);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.fontFamily;i.style.fontWeight="bold";i.style.fontSize=this._bareFontInfo.fontSize+"px";i.style.lineHeight=this._bareFontInfo.lineHeight+"px";i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px";e.appendChild(i);var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.fontFamily;n.style.fontWeight=this._bareFontInfo.fontWeight;n.style.fontSize=this._bareFontInfo.fontSize+"px";n.style.lineHeight=this._bareFontInfo.lineHeight+"px";n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px";n.style.fontStyle="italic";e.appendChild(n);var r=[];for(var o=0,s=this._requests.length;o<s;o++){var a=this._requests[o];var u=void 0;if(a.type===0){u=t}if(a.type===2){u=i}if(a.type===1){u=n}u.appendChild(document.createElement("br"));var l=document.createElement("span");c._render(l,a);u.appendChild(l);r[o]=l}this._container=e;this._testElements=r};c._render=function(e,t){if(t.chr===" "){var i="&nbsp;";for(var n=0;n<8;n++){i+=i}e.innerHTML=i}else{var r=t.chr;for(var n=0;n<8;n++){r+=r}e.textContent=r}};c.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var i=this._requests[e];var n=this._testElements[e];i.fulfill(n.offsetWidth/256)}};return c}();function o(e,t){var i=new r(e,t);i.read()}t.readCharWidths=o});define(r[415],e([0,1,2]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i.referenceDomElement=e;i.changeCallback=t;i.measureReferenceDomElementToken=-1;i.width=-1;i.height=-1;i.measureReferenceDomElement(false);return i}e.prototype.dispose=function(){this.stopObserving();n.prototype.dispose.call(this)};e.prototype.getWidth=function(){return this.width};e.prototype.getHeight=function(){return this.height};e.prototype.startObserving=function(){var e=this;if(this.measureReferenceDomElementToken===-1){this.measureReferenceDomElementToken=setInterval(function(){return e.measureReferenceDomElement(true)},100)}};e.prototype.stopObserving=function(){if(this.measureReferenceDomElementToken!==-1){clearInterval(this.measureReferenceDomElementToken);this.measureReferenceDomElementToken=-1}};e.prototype.observe=function(e){this.measureReferenceDomElement(true,e)};e.prototype.measureReferenceDomElement=function(e,t){var i=0;var n=0;if(t){i=t.width;n=t.height}else if(this.referenceDomElement){i=this.referenceDomElement.clientWidth;n=this.referenceDomElement.clientHeight}i=Math.max(5,i);n=Math.max(5,n);if(this.width!==i||this.height!==n){this.width=i;this.height=n;if(e){this.changeCallback()}}};return e}(i.Disposable);t.ElementSizeObserver=n});define(r[103],e([0,1,5]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Value"]=1]="Value";e[e["Selection"]=2]="Selection";e[e["Position"]=4]="Position";e[e["Scroll"]=8]="Scroll"})(i=t.CodeEditorStateFlag||(t.CodeEditorStateFlag={}));var r=function(){function i(e,t){this.flags=t;if((this.flags&1)!==0){var i=e.getModel();this.modelVersionId=i?n.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}if((this.flags&4)!==0){this.position=e.getPosition()}if((this.flags&2)!==0){this.selection=e.getSelection()}if((this.flags&8)!==0){this.scrollLeft=e.getScrollLeft();this.scrollTop=e.getScrollTop()}}i.prototype._equals=function(e){if(!(e instanceof i)){return false}var t=e;if(this.modelVersionId!==t.modelVersionId){return false}if(this.scrollLeft!==t.scrollLeft||this.scrollTop!==t.scrollTop){return false}if(!this.position&&t.position||this.position&&!t.position||this.position&&t.position&&!this.position.equals(t.position)){return false}if(!this.selection&&t.selection||this.selection&&!t.selection||this.selection&&t.selection&&!this.selection.equalsRange(t.selection)){return false}return true};i.prototype.validate=function(e){return this._equals(new i(e,this.flags))};return i}();t.EditorState=r});define(r[137],e([0,1,2,42,10,78]),function(e,t,i,n,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e,t){this.x=e;this.y=t}e.prototype.toClientCoordinates=function(){return new a(this.x-s.StandardWindow.scrollX,this.y-s.StandardWindow.scrollY)};return e}();t.PageCoordinates=o;var a=function(){function e(e,t){this.clientX=e;this.clientY=t}e.prototype.toPageCoordinates=function(){return new o(this.clientX+s.StandardWindow.scrollX,this.clientY+s.StandardWindow.scrollY)};return e}();t.ClientCoordinates=a;var u=function(){function e(e,t,i,n){this.x=e;this.y=t;this.width=i;this.height=n}return e}();t.EditorPagePosition=u;function l(e){var t=s.getDomNodePagePosition(e);return new u(t.left,t.top,t.width,t.height)}t.createEditorPagePosition=l;var c=function(n){pe(e,n);function e(e,t){var i=n.call(this,e)||this;i.pos=new o(i.posx,i.posy);i.editorPos=l(t);return i}return e}(n.StandardMouseEvent);t.EditorMouseEvent=c;var d=function(){function e(e){this._editorViewDomNode=e}e.prototype._create=function(e){return new c(e,this._editorViewDomNode)};e.prototype.onContextMenu=function(e,t){var i=this;return s.addDisposableListener(e,"contextmenu",function(e){t(i._create(e))})};e.prototype.onMouseUp=function(e,t){var i=this;return s.addDisposableListener(e,"mouseup",function(e){t(i._create(e))})};e.prototype.onMouseDown=function(e,t){var i=this;return s.addDisposableListener(e,"mousedown",function(e){t(i._create(e))})};e.prototype.onMouseLeave=function(e,t){var i=this;return s.addDisposableNonBubblingMouseOutListener(e,function(e){t(i._create(e))})};e.prototype.onMouseMoveThrottled=function(e,t,i,n){var r=this;var o=function(e,t){return i(e,r._create(t))};return s.addDisposableThrottledListener(e,"mousemove",t,o,n)};return e}();t.EditorMouseEventFactory=d;var h=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._editorViewDomNode=e;t._globalMouseMoveMonitor=t._register(new r.GlobalMouseMoveMonitor);t._keydownListener=null;return t}e.prototype.startMonitoring=function(i,e,t){var n=this;this._keydownListener=s.addStandardDisposableListener(document,"keydown",function(e){var t=e.toKeybinding();if(t.isModifierKey()){return}n._globalMouseMoveMonitor.stopMonitoring(true)},true);var r=function(e,t){return i(e,new c(t,n._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(r,e,function(){n._keydownListener.dispose();t()})};return e}(i.Disposable);t.GlobalEditorMouseMoveMonitor=h});define(r[419],e([0,1,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){this._transientWatchers={};this._codeEditors=Object.create(null);this._diffEditors=Object.create(null);this._onCodeEditorAdd=new i.Emitter;this._onCodeEditorRemove=new i.Emitter;this._onDiffEditorAdd=new i.Emitter;this._onDiffEditorRemove=new i.Emitter}e.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e;this._onCodeEditorAdd.fire(e)};Object.defineProperty(e.prototype,"onCodeEditorAdd",{get:function(){return this._onCodeEditorAdd.event},enumerable:true,configurable:true});e.prototype.removeCodeEditor=function(e){if(delete this._codeEditors[e.getId()]){this._onCodeEditorRemove.fire(e)}};Object.defineProperty(e.prototype,"onCodeEditorRemove",{get:function(){return this._onCodeEditorRemove.event},enumerable:true,configurable:true});e.prototype.listCodeEditors=function(){var t=this;return Object.keys(this._codeEditors).map(function(e){return t._codeEditors[e]})};e.prototype.addDiffEditor=function(e){this._diffEditors[e.getId()]=e;this._onDiffEditorAdd.fire(e)};Object.defineProperty(e.prototype,"onDiffEditorAdd",{get:function(){return this._onDiffEditorAdd.event},enumerable:true,configurable:true});e.prototype.removeDiffEditor=function(e){if(delete this._diffEditors[e.getId()]){this._onDiffEditorRemove.fire(e)}};Object.defineProperty(e.prototype,"onDiffEditorRemove",{get:function(){return this._onDiffEditorRemove.event},enumerable:true,configurable:true});e.prototype.listDiffEditors=function(){var t=this;return Object.keys(this._diffEditors).map(function(e){return t._diffEditors[e]})};e.prototype.getFocusedCodeEditor=function(){var e=null;var t=this.listCodeEditors();for(var i=0;i<t.length;i++){var n=t[i];if(n.isFocused()){return n}if(n.hasWidgetFocus()){e=n}}return e};e.prototype.setTransientModelProperty=function(e,t,i){var n=e.uri.toString();var r;if(this._transientWatchers.hasOwnProperty(n)){r=this._transientWatchers[n]}else{r=new o(n,e,this);this._transientWatchers[n]=r}r.set(t,i)};e.prototype.getTransientModelProperty=function(e,t){var i=e.uri.toString();if(!this._transientWatchers.hasOwnProperty(i)){return undefined}return this._transientWatchers[i].get(t)};e.prototype._removeWatcher=function(e){delete this._transientWatchers[e.uri]};return e}();t.AbstractCodeEditorService=n;var o=function(){function e(e,t,i){var n=this;this.uri=e;this._values={};t.onWillDispose(function(){return i._removeWatcher(n)})}e.prototype.set=function(e,t){this._values[e]=t};e.prototype.get=function(e){return this._values[e]};return e}();t.ModelTransientSettingWatcher=o});define(r[144],e([0,1,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EditorZoom=new(function(){function e(){this._zoomLevel=0;this._onDidChangeZoomLevel=new i.Emitter;this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}e.prototype.getZoomLevel=function(){return this._zoomLevel};e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-9,e),9);if(this._zoomLevel===e){return}this._zoomLevel=e;this._onDidChangeZoomLevel.fire(this._zoomLevel)};return e}())});define(r[58],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["NotSet"]=0]="NotSet";e[e["ContentFlush"]=1]="ContentFlush";e[e["RecoverFromMarkers"]=2]="RecoverFromMarkers";e[e["Explicit"]=3]="Explicit";e[e["Paste"]=4]="Paste";e[e["Undo"]=5]="Undo";e[e["Redo"]=6]="Redo"})(i=t.CursorChangeReason||(t.CursorChangeReason={}))});define(r[12],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function t(e,t){this.lineNumber=e;this.column=t}t.prototype.equals=function(e){return t.equals(this,e)};t.equals=function(e,t){if(!e&&!t){return true}return!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column};t.prototype.isBefore=function(e){return t.isBefore(this,e)};t.isBefore=function(e,t){if(e.lineNumber<t.lineNumber){return true}if(t.lineNumber<e.lineNumber){return false}return e.column<t.column};t.prototype.isBeforeOrEqual=function(e){return t.isBeforeOrEqual(this,e)};t.isBeforeOrEqual=function(e,t){if(e.lineNumber<t.lineNumber){return true}if(t.lineNumber<e.lineNumber){return false}return e.column<=t.column};t.compare=function(e,t){var i=e.lineNumber|0;var n=t.lineNumber|0;if(i===n){var r=e.column|0;var o=t.column|0;return r-o}return i-n};t.prototype.clone=function(){return new t(this.lineNumber,this.column)};t.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"};t.lift=function(e){return new t(e.lineNumber,e.column)};t.isIPosition=function(e){return e&&typeof e.lineNumber==="number"&&typeof e.column==="number"};return t}();t.Position=i});define(r[3],e([0,1,12]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function c(e,t,i,n){if(e>i||e===i&&t>n){this.startLineNumber=i;this.startColumn=n;this.endLineNumber=e;this.endColumn=t}else{this.startLineNumber=e;this.startColumn=t;this.endLineNumber=i;this.endColumn=n}}c.prototype.isEmpty=function(){return c.isEmpty(this)};c.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn};c.prototype.containsPosition=function(e){return c.containsPosition(this,e)};c.containsPosition=function(e,t){if(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber){return false}if(t.lineNumber===e.startLineNumber&&t.column<e.startColumn){return false}if(t.lineNumber===e.endLineNumber&&t.column>e.endColumn){return false}return true};c.prototype.containsRange=function(e){return c.containsRange(this,e)};c.containsRange=function(e,t){if(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber){return false}if(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber){return false}if(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn){return false}if(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn){return false}return true};c.prototype.plusRange=function(e){return c.plusRange(this,e)};c.plusRange=function(e,t){var i;var n;var r;var o;if(t.startLineNumber<e.startLineNumber){i=t.startLineNumber;n=t.startColumn}else if(t.startLineNumber===e.startLineNumber){i=t.startLineNumber;n=Math.min(t.startColumn,e.startColumn)}else{i=e.startLineNumber;n=e.startColumn}if(t.endLineNumber>e.endLineNumber){r=t.endLineNumber;o=t.endColumn}else if(t.endLineNumber===e.endLineNumber){r=t.endLineNumber;o=Math.max(t.endColumn,e.endColumn)}else{r=e.endLineNumber;o=e.endColumn}return new c(i,n,r,o)};c.prototype.intersectRanges=function(e){return c.intersectRanges(this,e)};c.intersectRanges=function(e,t){var i=e.startLineNumber;var n=e.startColumn;var r=e.endLineNumber;var o=e.endColumn;var s=t.startLineNumber;var a=t.startColumn;var u=t.endLineNumber;var l=t.endColumn;if(i<s){i=s;n=a}else if(i===s){n=Math.max(n,a)}if(r>u){r=u;o=l}else if(r===u){o=Math.min(o,l)}if(i>r){return null}if(i===r&&n>o){return null}return new c(i,n,r,o)};c.prototype.equalsRange=function(e){return c.equalsRange(this,e)};c.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn};c.prototype.getEndPosition=function(){return new i.Position(this.endLineNumber,this.endColumn)};c.prototype.getStartPosition=function(){return new i.Position(this.startLineNumber,this.startColumn)};c.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"};c.prototype.setEndPosition=function(e,t){return new c(this.startLineNumber,this.startColumn,e,t)};c.prototype.setStartPosition=function(e,t){return new c(e,t,this.endLineNumber,this.endColumn)};c.prototype.collapseToStart=function(){return c.collapseToStart(this)};c.collapseToStart=function(e){return new c(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)};c.fromPositions=function(e,t){if(t===void 0){t=e}return new c(e.lineNumber,e.column,t.lineNumber,t.column)};c.lift=function(e){if(!e){return null}return new c(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)};c.isIRange=function(e){return e&&typeof e.startLineNumber==="number"&&typeof e.startColumn==="number"&&typeof e.endLineNumber==="number"&&typeof e.endColumn==="number"};c.areIntersectingOrTouching=function(e,t){if(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn){return false}if(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn){return false}return true};c.compareRangesUsingStarts=function(e,t){var i=e.startLineNumber|0;var n=t.startLineNumber|0;if(i===n){var r=e.startColumn|0;var o=t.startColumn|0;if(r===o){var s=e.endLineNumber|0;var a=t.endLineNumber|0;if(s===a){var u=e.endColumn|0;var l=t.endColumn|0;return u-l}return s-a}return r-o}return i-n};c.compareRangesUsingEnds=function(e,t){if(e.endLineNumber===t.endLineNumber){if(e.endColumn===t.endColumn){if(e.startLineNumber===t.startLineNumber){return e.startColumn-t.startColumn}return e.startLineNumber-t.startLineNumber}return e.endColumn-t.endColumn}return e.endLineNumber-t.endLineNumber};c.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber};return c}();t.Range=n});define(r[168],e([0,1,77,27,3,2,4]),function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a={followsCaret:true,ignoreCharChanges:true,alwaysRevealFirst:true};var u=function(){function e(e,t){if(t===void 0){t={}}var i=this;this._onDidUpdate=new s.Emitter;this.onDidUpdate=this._onDidUpdate.event;this._editor=e;this._options=r.mixin(t,a,false);this.disposed=false;this._disposables=[];this.nextIdx=-1;this.ranges=[];this.ignoreSelectionChange=false;this.revealFirst=this._options.alwaysRevealFirst;this._disposables.push(this._editor.onDidDispose(function(){return i.dispose()}));this._disposables.push(this._editor.onDidUpdateDiff(function(){return i._onDiffUpdated()}));if(this._options.followsCaret){this._disposables.push(this._editor.getModifiedEditor().onDidChangeCursorPosition(function(e){if(i.ignoreSelectionChange){return}i.nextIdx=-1}))}if(this._options.alwaysRevealFirst){this._disposables.push(this._editor.getModifiedEditor().onDidChangeModel(function(e){i.revealFirst=true}))}this._init()}e.prototype._init=function(){var e=this._editor.getLineChanges();if(!e){return}};e.prototype._onDiffUpdated=function(){this._init();this._compute(this._editor.getLineChanges());if(this.revealFirst){if(this._editor.getLineChanges()!==null){this.revealFirst=false;this.nextIdx=-1;this.next()}}};e.prototype._compute=function(e){var t=this;this.ranges=[];if(e){e.forEach(function(e){if(!t._options.ignoreCharChanges&&e.charChanges){e.charChanges.forEach(function(e){t.ranges.push({rhs:true,range:new i.Range(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})}else{t.ranges.push({rhs:true,range:new i.Range(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})}})}this.ranges.sort(function(e,t){if(e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())){return-1}else if(t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())){return 1}else{return 0}});this._onDidUpdate.fire(this)};e.prototype._initIdx=function(e){var t=false;var i=this._editor.getPosition();for(var n=0,r=this.ranges.length;n<r&&!t;n++){var o=this.ranges[n].range;if(i.isBeforeOrEqual(o.getStartPosition())){this.nextIdx=n+(e?0:-1);t=true}}if(!t){this.nextIdx=e?0:this.ranges.length-1}if(this.nextIdx<0){this.nextIdx=this.ranges.length-1}};e.prototype._move=function(e){n.ok(!this.disposed,"Illegal State - diff navigator has been disposed");if(!this.canNavigate()){return}if(this.nextIdx===-1){this._initIdx(e)}else if(e){this.nextIdx+=1;if(this.nextIdx>=this.ranges.length){this.nextIdx=0}}else{this.nextIdx-=1;if(this.nextIdx<0){this.nextIdx=this.ranges.length-1}}var t=this.ranges[this.nextIdx];this.ignoreSelectionChange=true;try{var i=t.range.getStartPosition();this._editor.setPosition(i);this._editor.revealPositionInCenter(i,0)}finally{this.ignoreSelectionChange=false}};e.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0};e.prototype.next=function(){this._move(true)};e.prototype.previous=function(){this._move(false)};e.prototype.dispose=function(){o.dispose(this._disposables);this._disposables.length=0;this._onDidUpdate.dispose();this.ranges=null;this.disposed=true};return e}();t.DiffNavigator=u});define(r[51],e([0,1,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){}e.insert=function(e,t){return{range:new i.Range(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:true}};e.delete=function(e){return{range:e,text:null}};e.replace=function(e,t){return{range:e,text:t}};e.replaceMove=function(e,t){return{range:e,text:t,forceMoveMarkers:true}};return e}();t.EditOperation=n});define(r[432],e([0,1,5,51,3]),function(e,t,p,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){this.selection=e;this.cursors=t}e.prototype.getEditOperations=function(e,t){var i=s(e,this.cursors);for(var n=0,r=i.length;n<r;n++){var o=i[n];t.addEditOperation(o.range,o.text)}this.selectionId=t.trackSelection(this.selection)};e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)};return e}();t.TrimTrailingWhitespaceCommand=i;function s(e,t){t.sort(function(e,t){if(e.lineNumber===t.lineNumber){return e.column-t.column}return e.lineNumber-t.lineNumber});for(var i=t.length-2;i>=0;i--){if(t[i].lineNumber===t[i+1].lineNumber){t.splice(i,1)}}var n=[];var r=0;var o=0;var s=t.length;for(var a=1,u=e.getLineCount();a<=u;a++){var l=e.getLineContent(a);var c=l.length+1;var d=0;if(o<s&&t[o].lineNumber===a){d=t[o].column;o++;if(d===c){continue}}if(l.length===0){continue}var h=p.lastNonWhitespaceIndex(l);var f=0;if(h===-1){f=1}else if(h!==l.length-1){f=h+2}else{continue}f=Math.max(d,f);n[r++]=g.EditOperation.delete(new v.Range(a,f,a,c))}return n}t.trimTrailingWhitespace=s});define(r[433],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function r(e,t,i,n){this.r=r._clamp(e);this.g=r._clamp(t);this.b=r._clamp(i);this.a=r._clamp(n)}r._clamp=function(e){if(e<0){return 0}if(e>255){return 255}return e|0};return r}();t.RGBA8=i});define(r[20],e([0,1,3,12]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a;(function(e){e[e["LTR"]=0]="LTR";e[e["RTL"]=1]="RTL"})(a=t.SelectionDirection||(t.SelectionDirection={}));var r=function(o){pe(s,o);function s(e,t,i,n){var r=o.call(this,e,t,i,n)||this;r.selectionStartLineNumber=e;r.selectionStartColumn=t;r.positionLineNumber=i;r.positionColumn=n;return r}s.prototype.clone=function(){return new s(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)};s.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"};s.prototype.equalsSelection=function(e){return s.selectionsEqual(this,e)};s.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn};s.prototype.getDirection=function(){if(this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn){return a.LTR}return a.RTL};s.prototype.setEndPosition=function(e,t){if(this.getDirection()===a.LTR){return new s(this.startLineNumber,this.startColumn,e,t)}return new s(e,t,this.startLineNumber,this.startColumn)};s.prototype.getPosition=function(){return new n.Position(this.positionLineNumber,this.positionColumn)};s.prototype.setStartPosition=function(e,t){if(this.getDirection()===a.LTR){return new s(e,t,this.endLineNumber,this.endColumn)}return new s(this.endLineNumber,this.endColumn,e,t)};s.fromPositions=function(e,t){if(t===void 0){t=e}return new s(e.lineNumber,e.column,t.lineNumber,t.column)};s.liftSelection=function(e){return new s(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)};s.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t){return false}if(!e&&!t){return true}if(e.length!==t.length){return false}for(var i=0,n=e.length;i<n;i++){if(!this.selectionsEqual(e[i],t[i])){return false}}return true};s.isISelection=function(e){return e&&typeof e.selectionStartLineNumber==="number"&&typeof e.selectionStartColumn==="number"&&typeof e.positionLineNumber==="number"&&typeof e.positionColumn==="number"};s.createWithDirection=function(e,t,i,n,r){if(r===a.LTR){return new s(e,t,i,n)}return new s(i,n,e,t)};return s}(i.Range);t.Selection=r});define(r[79],e([0,1,20]),function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){if(i===void 0){i=false}this._range=e;this._text=t;this.insertsAutoWhitespace=i}e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)};e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();var n=i[0].range;return new r.Selection(n.endLineNumber,n.endColumn,n.endLineNumber,n.endColumn)};return e}();t.ReplaceCommand=i;var n=function(){function e(e,t,i){if(i===void 0){i=false}this._range=e;this._text=t;this.insertsAutoWhitespace=i}e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)};e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();var n=i[0].range;return new r.Selection(n.startLineNumber,n.startColumn,n.startLineNumber,n.startColumn)};return e}();t.ReplaceCommandWithoutChangingPosition=n;var o=function(){function e(e,t,i,n,r){if(r===void 0){r=false}this._range=e;this._text=t;this._columnDeltaOffset=n;this._lineNumberDeltaOffset=i;this.insertsAutoWhitespace=r}e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)};e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();var n=i[0].range;return new r.Selection(n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset,n.endLineNumber+this._lineNumberDeltaOffset,n.endColumn+this._columnDeltaOffset)};return e}();t.ReplaceCommandWithOffsetCursorState=o;var s=function(){function e(e,t,i){this._range=e;this._text=t;this._initialSelection=i}e.prototype.getEditOperations=function(e,t){t.addEditOperation(this._range,this._text);this._selectionId=t.trackSelection(this._initialSelection)};e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)};return e}();t.ReplaceCommandThatPreservesSelection=s});define(r[436],e([0,1,3,20]),function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t,i){this._range=e;this._charBeforeSelection=t;this._charAfterSelection=i}e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(new i.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection);t.addTrackedEditOperation(new i.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)};e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();var n=i[0].range;var r=i[1].range;return new o.Selection(n.endLineNumber,n.endColumn,r.endLineNumber,r.endColumn-this._charAfterSelection.length)};return e}();t.SurroundSelectionCommand=n});define(r[130],e([0,1,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});if(typeof TextDecoder!=="undefined"){t.createStringBuilder=function(e){return new n(e)}}else{t.createStringBuilder=function(e){return new r}}var n=function(){function e(e){this._decoder=new TextDecoder("UTF-16LE");this._capacity=e|0;this._buffer=new Uint16Array(this._capacity);this._completedStrings=null;this._bufferLength=0}e.prototype.reset=function(){this._completedStrings=null;this._bufferLength=0};e.prototype.build=function(){if(this._completedStrings!==null){this._flushBuffer();return this._completedStrings.join("")}return this._buildBuffer()};e.prototype._buildBuffer=function(){if(this._bufferLength===0){return""}var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(e)};e.prototype._flushBuffer=function(){var e=this._buildBuffer();this._bufferLength=0;if(this._completedStrings===null){this._completedStrings=[e]}else{this._completedStrings[this._completedStrings.length]=e}};e.prototype.write1=function(e){var t=this._capacity-this._bufferLength;if(t<=1){if(t===0||i.isHighSurrogate(e)){this._flushBuffer()}}this._buffer[this._bufferLength++]=e};e.prototype.appendASCII=function(e){if(this._bufferLength===this._capacity){this._flushBuffer()}this._buffer[this._bufferLength++]=e};e.prototype.appendASCIIString=function(e){var t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer();this._completedStrings[this._completedStrings.length]=e;return}for(var i=0;i<t;i++){this._buffer[this._bufferLength++]=e.charCodeAt(i)}};return e}();var r=function(){function e(){this._pieces=[];this._piecesLen=0}e.prototype.reset=function(){this._pieces=[];this._piecesLen=0};e.prototype.build=function(){return this._pieces.join("")};e.prototype.write1=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)};e.prototype.appendASCII=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)};e.prototype.appendASCIIString=function(e){this._pieces[this._piecesLen++]=e};return e}()});define(r[134],e([0,1,28,130]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e){this._createLine=e;this._set(1,[])}e.prototype.flush=function(){this._set(1,[])};e.prototype._set=function(e,t){this._lines=t;this._rendLineNumberStart=e};e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}};e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart};e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1};e.prototype.getCount=function(){return this._lines.length};e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length){throw new Error("Illegal value for lineNumber")}return this._lines[t]};e.prototype.onLinesDeleted=function(e,t){if(this.getCount()===0){return null}var i=this.getStartLineNumber();var n=this.getEndLineNumber();if(t<i){var r=t-e+1;this._rendLineNumberStart-=r;return null}if(e>n){return null}var o=0;var s=0;for(var a=i;a<=n;a++){var u=a-this._rendLineNumberStart;if(e<=a&&a<=t){if(s===0){o=u;s=1}else{s++}}}if(e<i){var l=0;if(t<i){l=t-e+1}else{l=i-e}this._rendLineNumberStart-=l}var c=this._lines.splice(o,s);return c};e.prototype.onLinesChanged=function(e,t){if(this.getCount()===0){return false}var i=this.getStartLineNumber();var n=this.getEndLineNumber();var r=false;for(var o=e;o<=t;o++){if(o>=i&&o<=n){this._lines[o-this._rendLineNumberStart].onContentChanged();r=true}}return r};e.prototype.onLinesInserted=function(e,t){if(this.getCount()===0){return null}var i=t-e+1;var n=this.getStartLineNumber();var r=this.getEndLineNumber();if(e<=n){this._rendLineNumberStart+=i;return null}if(e>r){return null}if(i+e>r){var o=this._lines.splice(e-this._rendLineNumberStart,r-e+1);return o}var s=[];for(var a=0;a<i;a++){s[a]=this._createLine()}var u=e-this._rendLineNumberStart;var l=this._lines.slice(0,u);var c=this._lines.slice(u,this._lines.length-i);var d=this._lines.slice(this._lines.length-i,this._lines.length);this._lines=l.concat(s).concat(c);return d};e.prototype.onTokensChanged=function(e){if(this.getCount()===0){return false}var t=this.getStartLineNumber();var i=this.getEndLineNumber();var n=false;for(var r=0,o=e.length;r<o;r++){var s=e[r];if(s.toLineNumber<t||s.fromLineNumber>i){continue}var a=Math.max(t,s.fromLineNumber);var u=Math.min(i,s.toLineNumber);for(var l=a;l<=u;l++){var c=l-this._rendLineNumberStart;this._lines[c].onTokensChanged();n=true}}return n};return e}();t.RenderedLinesCollection=r;var o=function(){function e(e){var t=this;this._host=e;this.domNode=this._createDomNode();this._linesCollection=new r(function(){return t._host.createVisibleLine()})}e.prototype._createDomNode=function(){var e=i.createFastDomNode(document.createElement("div"));e.setClassName("view-layer");e.setPosition("absolute");e.domNode.setAttribute("role","presentation");e.domNode.setAttribute("aria-hidden","true");return e};e.prototype.onConfigurationChanged=function(e){return e.layoutInfo};e.prototype.onFlushed=function(e){this._linesCollection.flush();return true};e.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)};e.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t){for(var i=0,n=t.length;i<n;i++){var r=t[i].getDomNode();if(r){this.domNode.domNode.removeChild(r)}}}return true};e.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t){for(var i=0,n=t.length;i<n;i++){var r=t[i].getDomNode();if(r){this.domNode.domNode.removeChild(r)}}}return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged};e.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)};e.prototype.onZonesChanged=function(e){return true};e.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()};e.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()};e.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)};e.prototype.renderLines=function(e){var t=this._linesCollection._get();var i=new s(this.domNode.domNode,this._host,e);var n={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length};var r=i.render(n,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(r.rendLineNumberStart,r.lines)};return e}();t.VisibleLinesCollection=o;var s=function(){function g(e,t,i){this.domNode=e;this.host=t;this.viewportData=i}g.prototype.render=function(e,t,i,n){var r={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(r.rendLineNumberStart+r.linesLength-1<t||i<r.rendLineNumberStart){r.rendLineNumberStart=t;r.linesLength=i-t+1;r.lines=[];for(var o=t;o<=i;o++){r.lines[o-t]=this.host.createVisibleLine()}this._finishRendering(r,true,n);return r}this._renderUntouchedLines(r,Math.max(t-r.rendLineNumberStart,0),Math.min(i-r.rendLineNumberStart,r.linesLength-1),n,t);if(r.rendLineNumberStart>t){var s=t;var a=Math.min(i,r.rendLineNumberStart-1);if(s<=a){this._insertLinesBefore(r,s,a,n,t);r.linesLength+=a-s+1}}else if(r.rendLineNumberStart<t){var u=Math.min(r.linesLength,t-r.rendLineNumberStart);if(u>0){this._removeLinesBefore(r,u);r.linesLength-=u}}r.rendLineNumberStart=t;if(r.rendLineNumberStart+r.linesLength-1<i){var s=r.rendLineNumberStart+r.linesLength;var a=i;if(s<=a){this._insertLinesAfter(r,s,a,n,t);r.linesLength+=a-s+1}}else if(r.rendLineNumberStart+r.linesLength-1>i){var s=Math.max(0,i-r.rendLineNumberStart+1);var a=r.linesLength-1;var u=a-s+1;if(u>0){this._removeLinesAfter(r,u);r.linesLength-=u}}this._finishRendering(r,false,n);return r};g.prototype._renderUntouchedLines=function(e,t,i,n,r){var o=e.rendLineNumberStart;var s=e.lines;for(var a=t;a<=i;a++){var u=o+a;s[a].layoutLine(u,n[u-r])}};g.prototype._insertLinesBefore=function(e,t,i,n,r){var o=[];var s=0;for(var a=t;a<=i;a++){o[s++]=this.host.createVisibleLine()}e.lines=o.concat(e.lines)};g.prototype._removeLinesBefore=function(e,t){for(var i=0;i<t;i++){var n=e.lines[i].getDomNode();if(n){this.domNode.removeChild(n)}}e.lines.splice(0,t)};g.prototype._insertLinesAfter=function(e,t,i,n,r){var o=[];var s=0;for(var a=t;a<=i;a++){o[s++]=this.host.createVisibleLine()}e.lines=e.lines.concat(o)};g.prototype._removeLinesAfter=function(e,t){var i=e.linesLength-t;for(var n=0;n<t;n++){var r=e.lines[i+n].getDomNode();if(r){this.domNode.removeChild(r)}}e.lines.splice(i,t)};g.prototype._finishRenderingNewLines=function(e,t,i,n){var r=this.domNode.lastChild;if(t||!r){this.domNode.innerHTML=i}else{r.insertAdjacentHTML("afterend",i)}var o=this.domNode.lastChild;for(var s=e.linesLength-1;s>=0;s--){var a=e.lines[s];if(n[s]){a.setDomNode(o);o=o.previousSibling}}};g.prototype._finishRenderingInvalidLines=function(e,t,i){var n=document.createElement("div");n.innerHTML=t;for(var r=0;r<e.linesLength;r++){var o=e.lines[r];if(i[r]){var s=n.firstChild;var a=o.getDomNode();a.parentNode.replaceChild(s,a);o.setDomNode(s)}}};g.prototype._finishRendering=function(e,t,i){var n=g._sb;var r=e.linesLength;var o=e.lines;var s=e.rendLineNumberStart;var a=[];{n.reset();var u=false;for(var l=0;l<r;l++){var c=o[l];a[l]=false;var d=c.getDomNode();if(d){continue}var h=c.renderLine(l+s,i[l],this.viewportData,n);if(!h){continue}a[l]=true;u=true}if(u){this._finishRenderingNewLines(e,t,n.build(),a)}}{n.reset();var f=false;var p=[];for(var l=0;l<r;l++){var c=o[l];p[l]=false;if(a[l]){continue}var h=c.renderLine(l+s,i[l],this.viewportData,n);if(!h){continue}p[l]=true;f=true}if(f){this._finishRenderingInvalidLines(e,n.build(),p)}}};g._sb=n.createStringBuilder(1e5);return g}()});define(r[102],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this.offset=e|0;this.type=t;this.language=i}e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"};return e}();t.Token=i;var n=function(){function e(e,t){this.tokens=e;this.endState=t}return e}();t.TokenizationResult=n;var r=function(){function e(e,t){this.tokens=e;this.endState=t}return e}();t.TokenizationResult2=r});define(r[90],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){var n=new Uint8Array(e*t);for(var r=0,o=e*t;r<o;r++){n[r]=i}this._data=n;this.rows=e;this.cols=t}e.prototype.get=function(e,t){return this._data[e*this.cols+t]};e.prototype.set=function(e,t,i){this._data[e*this.cols+t]=i};return e}();t.Uint8Matrix=i;var n;(function(e){e[e["MAX_SAFE_SMALL_INTEGER"]=1073741824]="MAX_SAFE_SMALL_INTEGER";e[e["MIN_SAFE_SMALL_INTEGER"]=-1073741824]="MIN_SAFE_SMALL_INTEGER";e[e["MAX_UINT_8"]=255]="MAX_UINT_8";e[e["MAX_UINT_16"]=65535]="MAX_UINT_16";e[e["MAX_UINT_32"]=4294967295]="MAX_UINT_32"})(n=t.Constants||(t.Constants={}));function r(e){if(e<0){return 0}if(e>255){return 255}return e|0}t.toUint8=r;function o(e){if(e<0){return 0}if(e>4294967295){return 4294967295}return e|0}t.toUint32=o;function s(e){var t=e.length;var i=new Uint32Array(t);for(var n=0;n<t;n++){i[n]=o(e[n])}return i}t.toUint32Array=s});define(r[88],e([0,1,90]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e){var t=n.toUint8(e);this._defaultValue=t;this._asciiMap=i._createAsciiMap(t);this._map=new Map}i._createAsciiMap=function(e){var t=new Uint8Array(256);for(var i=0;i<256;i++){t[i]=e}return t};i.prototype.set=function(e,t){var i=n.toUint8(t);if(e>=0&&e<256){this._asciiMap[e]=i}else{this._map.set(e,i)}};i.prototype.get=function(e){if(e>=0&&e<256){return this._asciiMap[e]}else{return this._map.get(e)||this._defaultValue}};return i}();t.CharacterClassifier=i;var r;(function(e){e[e["False"]=0]="False";e[e["True"]=1]="True"})(r||(r={}));var o=function(){function e(){this._actual=new i(0)}e.prototype.add=function(e){this._actual.set(e,1)};e.prototype.has=function(e){return this._actual.get(e)===1};return e}();t.CharacterSet=o});define(r[100],e([0,1,88]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["Regular"]=0]="Regular";e[e["Whitespace"]=1]="Whitespace";e[e["WordSeparator"]=2]="WordSeparator"})(n=t.WordCharacterClass||(t.WordCharacterClass={}));var r=function(r){pe(e,r);function e(e){var t=r.call(this,0)||this;for(var i=0,n=e.length;i<n;i++){t.set(e.charCodeAt(i),2)}t.set(32,1);t.set(9,1);return t}return e}(i.CharacterClassifier);t.WordCharacterClassifier=r;function o(t){var i={};return function(e){if(!i.hasOwnProperty(e)){i[e]=t(e)}return i[e]}}t.getMapForWordSeparators=o(function(e){return new r(e)})});define(r[448],e([0,1,127,5]),function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=5e3;var l=3;function b(e,t,i,n){var r=new o.LcsDiff(e,t,i);return r.ComputeDiff(n)}var u=function(){function e(e,t,i){this.buffer=e;this.startMarkers=t;this.endMarkers=i}e.prototype.getLength=function(){return this.startMarkers.length};e.prototype.getElementHash=function(e){return this.buffer.substring(this.startMarkers[e].offset,this.endMarkers[e].offset)};e.prototype.getStartLineNumber=function(e){if(e===this.startMarkers.length){return this.startMarkers[e-1].lineNumber+1}return this.startMarkers[e].lineNumber};e.prototype.getStartColumn=function(e){return this.startMarkers[e].column};e.prototype.getEndLineNumber=function(e){return this.endMarkers[e].lineNumber};e.prototype.getEndColumn=function(e){return this.endMarkers[e].column};return e}();var S=function(c){pe(d,c);function d(e){var t=this;var i="";var n=[];var r=[];for(var o=0,s=0,a=e.length;s<a;s++){i+=e[s];var u=d._getFirstNonBlankColumn(e[s],1);var l=d._getLastNonBlankColumn(e[s],1);n.push({offset:o+u-1,lineNumber:s+1,column:u});r.push({offset:o+l-1,lineNumber:s+1,column:l});o+=e[s].length}t=c.call(this,i,n,r)||this;return t}d._getFirstNonBlankColumn=function(e,t){var i=n.firstNonWhitespaceIndex(e);if(i===-1){return t}return i+1};d._getLastNonBlankColumn=function(e,t){var i=n.lastNonWhitespaceIndex(e);if(i===-1){return t}return i+2};d.prototype.getCharSequence=function(e,t){var i=[];var n=[];for(var r=e;r<=t;r++){var o=this.startMarkers[r];var s=this.endMarkers[r];for(var a=o.offset;a<s.offset;a++){i.push({offset:a,lineNumber:o.lineNumber,column:o.column+(a-o.offset)});n.push({offset:a+1,lineNumber:o.lineNumber,column:o.column+(a-o.offset)+1})}}return new u(this.buffer,i,n)};return d}(u);var v=function(){function d(e,t,i,n,r,o,s,a){this.originalStartLineNumber=e;this.originalStartColumn=t;this.originalEndLineNumber=i;this.originalEndColumn=n;this.modifiedStartLineNumber=r;this.modifiedStartColumn=o;this.modifiedEndLineNumber=s;this.modifiedEndColumn=a}d.createFromDiffChange=function(e,t,i){var n;var r;var o;var s;var a;var u;var l;var c;if(e.originalLength===0){n=0;r=0;o=0;s=0}else{n=t.getStartLineNumber(e.originalStart);r=t.getStartColumn(e.originalStart);o=t.getEndLineNumber(e.originalStart+e.originalLength-1);s=t.getEndColumn(e.originalStart+e.originalLength-1)}if(e.modifiedLength===0){a=0;u=0;l=0;c=0}else{a=i.getStartLineNumber(e.modifiedStart);u=i.getStartColumn(e.modifiedStart);l=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1);c=i.getEndColumn(e.modifiedStart+e.modifiedLength-1)}return new d(n,r,o,s,a,u,l,c)};return d}();function m(e){if(e.length<=1){return e}var t=[e[0]];var i=t[0];for(var n=1,r=e.length;n<r;n++){var o=e[n];var s=o.originalStart-(i.originalStart+i.originalLength);var a=o.modifiedStart-(i.modifiedStart+i.modifiedLength);var u=Math.min(s,a);if(u<l){i.originalLength=o.originalStart+o.originalLength-i.originalStart;i.modifiedLength=o.modifiedStart+o.modifiedLength-i.modifiedStart}else{t.push(o);i=o}}return t}var w=function(){function g(e,t,i,n,r){this.originalStartLineNumber=e;this.originalEndLineNumber=t;this.modifiedStartLineNumber=i;this.modifiedEndLineNumber=n;this.charChanges=r}g.createFromDiffResult=function(e,t,i,n,r){var o;var s;var a;var u;var l;if(e.originalLength===0){o=t.getStartLineNumber(e.originalStart)-1;s=0}else{o=t.getStartLineNumber(e.originalStart);s=t.getEndLineNumber(e.originalStart+e.originalLength-1)}if(e.modifiedLength===0){a=i.getStartLineNumber(e.modifiedStart)-1;u=0}else{a=i.getStartLineNumber(e.modifiedStart);u=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)}if(e.originalLength!==0&&e.modifiedLength!==0&&n()){var c=t.getCharSequence(e.originalStart,e.originalStart+e.originalLength-1);var d=i.getCharSequence(e.modifiedStart,e.modifiedStart+e.modifiedLength-1);var h=b(c,d,n,false);if(r){h=m(h)}l=[];for(var f=0,p=h.length;f<p;f++){l.push(v.createFromDiffChange(h[f],c,d))}}return new g(o,s,a,u,l)};return g}();var i=function(){function e(e,t,i){this.shouldPostProcessCharChanges=i.shouldPostProcessCharChanges;this.shouldIgnoreTrimWhitespace=i.shouldIgnoreTrimWhitespace;this.shouldMakePrettyDiff=i.shouldMakePrettyDiff;this.maximumRunTimeMs=r;this.originalLines=e;this.modifiedLines=t;this.original=new S(e);this.modified=new S(t)}e.prototype.computeDiff=function(){if(this.original.getLength()===1&&this.original.getElementHash(0).length===0){return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]}if(this.modified.getLength()===1&&this.modified.getElementHash(0).length===0){return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]}this.computationStartTime=(new Date).getTime();var e=b(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){var t=[];for(var i=0,n=e.length;i<n;i++){t.push(w.createFromDiffResult(e[i],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges))}return t}var r=[];var o=0;var s=0;for(var i=-1,a=e.length;i<a;i++){var u=i+1<a?e[i+1]:null;var l=u?u.originalStart:this.originalLines.length;var c=u?u.modifiedStart:this.modifiedLines.length;while(o<l&&s<c){var d=this.originalLines[o];var h=this.modifiedLines[s];if(d!==h){{var f=S._getFirstNonBlankColumn(d,1);var p=S._getFirstNonBlankColumn(h,1);while(f>1&&p>1){var g=d.charCodeAt(f-2);var v=h.charCodeAt(p-2);if(g!==v){break}f--;p--}if(f>1||p>1){this._pushTrimWhitespaceCharChange(r,o+1,1,f,s+1,1,p)}}{var m=S._getLastNonBlankColumn(d,1);var _=S._getLastNonBlankColumn(h,1);var y=d.length+1;var C=h.length+1;while(m<y&&_<C){var g=d.charCodeAt(m-1);var v=d.charCodeAt(_-1);if(g!==v){break}m++;_++}if(m<y||_<C){this._pushTrimWhitespaceCharChange(r,o+1,m,y,s+1,_,C)}}}o++;s++}if(u){r.push(w.createFromDiffResult(u,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));o+=u.originalLength;s+=u.modifiedLength}}return r};e.prototype._pushTrimWhitespaceCharChange=function(e,t,i,n,r,o,s){if(this._mergeTrimWhitespaceCharChange(e,t,i,n,r,o,s)){return}e.push(new w(t,t,r,r,[new v(t,i,t,n,r,o,r,s)]))};e.prototype._mergeTrimWhitespaceCharChange=function(e,t,i,n,r,o,s){var a=e.length;if(a===0){return false}var u=e[a-1];if(u.originalEndLineNumber===0||u.modifiedEndLineNumber===0){return false}if(u.originalEndLineNumber+1===t&&u.modifiedEndLineNumber+1===r){u.originalEndLineNumber=t;u.modifiedEndLineNumber=r;u.charChanges.push(new v(t,i,t,n,r,o,r,s));return true}return false};e.prototype._continueProcessingPredicate=function(){if(this.maximumRunTimeMs===0){return true}var e=(new Date).getTime();return e-this.computationStartTime<this.maximumRunTimeMs};return e}();t.DiffComputer=i});define(r[206],e([0,1,7]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t,i,n,r,o){this.id=e;this.label=t;this.alias=i;this._precondition=n;this._run=r;this._contextKeyService=o}e.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)};e.prototype.run=function(){if(!this.isSupported()){return i.TPromise.as(void 0)}var e=this._run();return e?e:i.TPromise.as(void 0)};return e}();t.InternalEditorAction=n});define(r[33],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Smooth"]=0]="Smooth";e[e["Immediate"]=1]="Immediate"})(i=t.ScrollType||(t.ScrollType={}));function n(e){return e&&typeof e.id==="string"}t.isThemeColor=n;t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"}});define(r[24],e([0,1,33]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["EXACT"]=0]="EXACT";e[e["ABOVE"]=1]="ABOVE";e[e["BELOW"]=2]="BELOW"})(n=t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={}));var r;(function(e){e[e["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER";e[e["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER";e[e["TOP_CENTER"]=2]="TOP_CENTER"})(r=t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={}));var o;(function(e){e[e["UNKNOWN"]=0]="UNKNOWN";e[e["TEXTAREA"]=1]="TEXTAREA";e[e["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN";e[e["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS";e[e["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS";e[e["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE";e[e["CONTENT_TEXT"]=6]="CONTENT_TEXT";e[e["CONTENT_EMPTY"]=7]="CONTENT_EMPTY";e[e["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE";e[e["CONTENT_WIDGET"]=9]="CONTENT_WIDGET";e[e["OVERVIEW_RULER"]=10]="OVERVIEW_RULER";e[e["SCROLLBAR"]=11]="SCROLLBAR";e[e["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET";e[e["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR"})(o=t.MouseTargetType||(t.MouseTargetType={}));function s(e){if(e&&typeof e.getEditorType==="function"){return e.getEditorType()===i.EditorType.ICodeEditor}else{return false}}t.isCodeEditor=s;function a(e){if(e&&typeof e.getEditorType==="function"){return e.getEditorType()===i.EditorType.IDiffEditor}else{return false}}t.isDiffEditor=a});define(r[25],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=4]="Right";e[e["Full"]=7]="Full"})(i=t.OverviewRulerLane||(t.OverviewRulerLane={}));var n;(function(e){e[e["TextDefined"]=0]="TextDefined";e[e["LF"]=1]="LF";e[e["CRLF"]=2]="CRLF"})(n=t.EndOfLinePreference||(t.EndOfLinePreference={}));var r;(function(e){e[e["LF"]=1]="LF";e[e["CRLF"]=2]="CRLF"})(r=t.DefaultEndOfLine||(t.DefaultEndOfLine={}));var o;(function(e){e[e["LF"]=0]="LF";e[e["CRLF"]=1]="CRLF"})(o=t.EndOfLineSequence||(t.EndOfLineSequence={}));var s=function(){function e(e){this.tabSize=e.tabSize|0;this.insertSpaces=Boolean(e.insertSpaces);this.defaultEOL=e.defaultEOL|0;this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace};e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}};return e}();t.TextModelResolvedOptions=s;var a=function(){function e(e,t){this.range=e;this.matches=t}return e}();t.FindMatch=a;var u;(function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges";e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges";e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore";e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"})(u=t.TrackedRangeStickiness||(t.TrackedRangeStickiness={}));var l=function(){function e(e,t,i){this.reverseEdits=e;this.changes=t;this.trimAutoWhitespaceLineNumbers=i}return e}();t.ApplyEditsResult=l});define(r[148],e([0,1,3,12,25,5]),function(e,t,y,C,b,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});var S=function(){function t(e,t,i,n,r){this.value=e;this.selectionStart=t;this.selectionEnd=i;this.selectionStartPosition=n;this.selectionEndPosition=r}t.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"};t.prototype.readFromTextArea=function(e){return new t(e.getValue(),e.getSelectionStart(),e.getSelectionEnd(),null,null)};t.prototype.collapseSelection=function(){return new t(this.value,this.value.length,this.value.length,null,null)};t.prototype.writeToTextArea=function(e,t,i){t.setValue(e,this.value);if(i){t.setSelectionRange(e,this.selectionStart,this.selectionEnd)}};t.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){var t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var i=this.value.substring(this.selectionStart,e);if(i.indexOf(String.fromCharCode(8230))===-1){return this._finishDeduceEditorPosition(this.selectionStartPosition,i,1)}var n=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,n,-1)};t.prototype._finishDeduceEditorPosition=function(e,t,i){var n=0;var r=-1;while((r=t.indexOf("\n",r+1))!==-1){n++}return[e,i*t.length,n]};t.selectedText=function(e){return new t(e,0,e.length,null,null)};t.deduceInput=function(e,t,i){if(!e){return{text:"",replaceCharCnt:0}}var n=e.value;var r=e.selectionStart;var o=e.selectionEnd;var s=t.value;var a=t.selectionStart;var u=t.selectionEnd;var l=n.substring(o);var c=s.substring(u);var d=_.commonSuffixLength(l,c);s=s.substring(0,s.length-d);n=n.substring(0,n.length-d);var h=n.substring(0,r);var f=s.substring(0,a);var p=_.commonPrefixLength(h,f);s=s.substring(p);n=n.substring(p);a-=p;r-=p;u-=p;o-=p;if(i&&a===u&&n.length>0){var g=null;if(a===s.length){if(_.startsWith(s,n)){g=s.substring(n.length)}}else{if(_.endsWith(s,n)){g=s.substring(0,s.length-n.length)}}if(g!==null&&g.length>0){if(/\uFE0F/.test(g)||_.containsEmoji(g)){return{text:g,replaceCharCnt:0}}}}if(a===u){if(n===s&&r===0&&o===n.length&&a===s.length&&s.indexOf("\n")===-1){if(_.containsFullWidthCharacter(s)){return{text:"",replaceCharCnt:0}}}var v=h.length-p;return{text:s,replaceCharCnt:v}}var m=o-r;return{text:s,replaceCharCnt:m}};t.EMPTY=new t("",0,0,null,null);return t}();t.TextAreaState=S;var i=function(){function _(){}_._getPageOfLine=function(e){return Math.floor((e-1)/_._LINES_PER_PAGE)};_._getRangeForPage=function(e){var t=e*_._LINES_PER_PAGE;var i=t+1;var n=t+_._LINES_PER_PAGE;return new y.Range(i,1,n+1,1)};_.fromEditorSelection=function(e,t,i,n){var r=_._getPageOfLine(i.startLineNumber);var o=_._getRangeForPage(r);var s=_._getPageOfLine(i.endLineNumber);var a=_._getRangeForPage(s);var u=o.intersectRanges(new y.Range(1,1,i.startLineNumber,i.startColumn));var l=t.getValueInRange(u,b.EndOfLinePreference.LF);var c=t.getLineCount();var d=t.getLineMaxColumn(c);var h=a.intersectRanges(new y.Range(i.endLineNumber,i.endColumn,c,d));var f=t.getValueInRange(h,b.EndOfLinePreference.LF);var p=null;if(r===s||r+1===s){p=t.getValueInRange(i,b.EndOfLinePreference.LF)}else{var g=o.intersectRanges(i);var v=a.intersectRanges(i);p=t.getValueInRange(g,b.EndOfLinePreference.LF)+String.fromCharCode(8230)+t.getValueInRange(v,b.EndOfLinePreference.LF)}if(n){var m=500;if(l.length>m){l=l.substring(l.length-m,l.length)}if(f.length>m){f=f.substring(0,m)}if(p.length>2*m){p=p.substring(0,m)+String.fromCharCode(8230)+p.substring(p.length-m,p.length)}}return new S(l+p+f,l.length,l.length+p.length,new C.Position(i.startLineNumber,i.startColumn),new C.Position(i.endLineNumber,i.endColumn))};_._LINES_PER_PAGE=10;return _}();t.PagedScreenReaderStrategy=i});define(r[149],e([0,1,18,20,5,4,2,148,31,15,10]),function(e,n,r,p,c,o,t,s,g,v,d){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.CopyOptions={forceCopyWithSyntaxHighlighting:false};var i;(function(e){e[e["Type"]=0]="Type";e[e["Paste"]=1]="Paste"})(i||(i={}));var a=function(i){pe(e,i);function e(e,t){var h=i.call(this)||this;h._onFocus=h._register(new o.Emitter);h.onFocus=h._onFocus.event;h._onBlur=h._register(new o.Emitter);h.onBlur=h._onBlur.event;h._onKeyDown=h._register(new o.Emitter);h.onKeyDown=h._onKeyDown.event;h._onKeyUp=h._register(new o.Emitter);h.onKeyUp=h._onKeyUp.event;h._onCut=h._register(new o.Emitter);h.onCut=h._onCut.event;h._onPaste=h._register(new o.Emitter);h.onPaste=h._onPaste.event;h._onType=h._register(new o.Emitter);h.onType=h._onType.event;h._onCompositionStart=h._register(new o.Emitter);h.onCompositionStart=h._onCompositionStart.event;h._onCompositionUpdate=h._register(new o.Emitter);h.onCompositionUpdate=h._onCompositionUpdate.event;h._onCompositionEnd=h._register(new o.Emitter);h.onCompositionEnd=h._onCompositionEnd.event;h._onSelectionChangeRequest=h._register(new o.Emitter);h.onSelectionChangeRequest=h._onSelectionChangeRequest.event;h._host=e;h._textArea=h._register(new _(t));h._asyncTriggerCut=h._register(new r.RunOnceScheduler(function(){return h._onCut.fire()},0));h._textAreaState=s.TextAreaState.EMPTY;h.writeScreenReaderContent("ctor");h._hasFocus=false;h._isDoingComposition=false;h._nextCommand=0;h._register(d.addStandardDisposableListener(t.domNode,"keydown",function(e){if(h._isDoingComposition&&e.keyCode===109){e.stopPropagation()}if(e.equals(9)){e.preventDefault()}h._onKeyDown.fire(e)}));h._register(d.addStandardDisposableListener(t.domNode,"keyup",function(e){h._onKeyUp.fire(e)}));h._register(d.addDisposableListener(t.domNode,"compositionstart",function(e){if(h._isDoingComposition){return}h._isDoingComposition=true;if(!g.isEdgeOrIE){h._setAndWriteTextAreaState("compositionstart",s.TextAreaState.EMPTY)}h._onCompositionStart.fire()}));var a=function(e){var t=h._textAreaState;var i=h._textAreaState.readFromTextArea(h._textArea);return[i,s.TextAreaState.deduceInput(t,i,e)]};var u=function(e){var t=h._textAreaState;var i=s.TextAreaState.selectedText(e);var n={text:i.value,replaceCharCnt:t.selectionEnd-t.selectionStart};return[i,n]};var l=function(e){if(g.isEdgeOrIE&&e==="ja"){return true}if(g.isIE&&e.indexOf("zh-Han")===0){return true}return false};h._register(d.addDisposableListener(t.domNode,"compositionupdate",function(e){if(g.isChromev56){return}if(l(e.locale)){var t=a(false),i=t[0],n=t[1];h._textAreaState=i;h._onType.fire(n);h._onCompositionUpdate.fire(e);return}var r=u(e.data),o=r[0],s=r[1];h._textAreaState=o;h._onType.fire(s);h._onCompositionUpdate.fire(e)}));h._register(d.addDisposableListener(t.domNode,"compositionend",function(e){if(l(e.locale)){var t=a(false),i=t[0],n=t[1];h._textAreaState=i;h._onType.fire(n)}else{var r=u(e.data),i=r[0],n=r[1];h._textAreaState=i;h._onType.fire(n)}if(g.isEdgeOrIE||g.isChrome){h._textAreaState=h._textAreaState.readFromTextArea(h._textArea)}if(!h._isDoingComposition){return}h._isDoingComposition=false;h._onCompositionEnd.fire()}));h._register(d.addDisposableListener(t.domNode,"input",function(){h._textArea.setIgnoreSelectionChangeTime("received input event");if(h._isDoingComposition){if(g.isChromev56){var e=u(h._textArea.getValue()),t=e[0],i=e[1];h._textAreaState=t;h._onType.fire(i);var n={data:i.text};h._onCompositionUpdate.fire(n)}return}var r=a(v.isMacintosh),o=r[0],s=r[1];if(s.replaceCharCnt===0&&s.text.length===1&&c.isHighSurrogate(s.text.charCodeAt(0))){return}h._textAreaState=o;if(h._nextCommand===0){if(s.text!==""){h._onType.fire(s)}}else{if(s.text!==""){h._onPaste.fire({text:s.text})}h._nextCommand=0}}));h._register(d.addDisposableListener(t.domNode,"cut",function(e){h._textArea.setIgnoreSelectionChangeTime("received cut event");h._ensureClipboardGetsEditorSelection(e);h._asyncTriggerCut.schedule()}));h._register(d.addDisposableListener(t.domNode,"copy",function(e){h._ensureClipboardGetsEditorSelection(e)}));h._register(d.addDisposableListener(t.domNode,"paste",function(e){h._textArea.setIgnoreSelectionChangeTime("received paste event");if(m.canUseTextData(e)){var t=m.getTextData(e);if(t!==""){h._onPaste.fire({text:t})}}else{if(h._textArea.getSelectionStart()!==h._textArea.getSelectionEnd()){h._setAndWriteTextAreaState("paste",s.TextAreaState.EMPTY)}h._nextCommand=1}}));h._register(d.addDisposableListener(t.domNode,"focus",function(){return h._setHasFocus(true)}));h._register(d.addDisposableListener(t.domNode,"blur",function(){return h._setHasFocus(false)}));var f=0;h._register(d.addDisposableListener(document,"selectionchange",function(e){if(!h._hasFocus){return}if(h._isDoingComposition){return}if(!g.isChrome||!v.isWindows){return}var t=Date.now();var i=t-f;f=t;if(i<5){return}var n=t-h._textArea.getIgnoreSelectionChangeTime();h._textArea.resetSelectionChangeTime();if(n<100){return}if(!h._textAreaState.selectionStartPosition||!h._textAreaState.selectionEndPosition){return}var r=h._textArea.getValue();if(h._textAreaState.value!==r){return}var o=h._textArea.getSelectionStart();var s=h._textArea.getSelectionEnd();if(h._textAreaState.selectionStart===o&&h._textAreaState.selectionEnd===s){return}var a=h._textAreaState.deduceEditorPosition(o);var u=h._host.deduceModelPosition(a[0],a[1],a[2]);var l=h._textAreaState.deduceEditorPosition(s);var c=h._host.deduceModelPosition(l[0],l[1],l[2]);var d=new p.Selection(u.lineNumber,u.column,c.lineNumber,c.column);h._onSelectionChangeRequest.fire(d)}));return h}e.prototype.dispose=function(){i.prototype.dispose.call(this)};e.prototype.focusTextArea=function(){this._setHasFocus(true)};e.prototype.isFocused=function(){return this._hasFocus};e.prototype._setHasFocus=function(e){if(this._hasFocus===e){return}this._hasFocus=e;if(this._isDoingComposition){this._isDoingComposition=false}if(this._hasFocus){if(g.isEdge){this._setAndWriteTextAreaState("focusgain",s.TextAreaState.EMPTY)}else{this.writeScreenReaderContent("focusgain")}}if(this._hasFocus){this._onFocus.fire()}else{this._onBlur.fire()}};e.prototype._setAndWriteTextAreaState=function(e,t){if(!this._hasFocus){t=t.collapseSelection()}t.writeToTextArea(e,this._textArea,this._hasFocus);this._textAreaState=t};e.prototype.writeScreenReaderContent=function(e){if(this._isDoingComposition){return}this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))};e.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._host.getPlainTextToCopy();if(!m.canUseTextData(e)){this._setAndWriteTextAreaState("copy or cut",s.TextAreaState.selectedText(t));return}var i=null;if(!g.isEdgeOrIE&&(t.length<65536||n.CopyOptions.forceCopyWithSyntaxHighlighting)){i=this._host.getHTMLToCopy()}m.setTextData(e,t,i)};return e}(t.Disposable);n.TextAreaInput=a;var m=function(){function e(){}e.canUseTextData=function(e){if(e.clipboardData){return true}if(window.clipboardData){return true}return false};e.getTextData=function(e){if(e.clipboardData){e.preventDefault();return e.clipboardData.getData("text/plain")}if(window.clipboardData){e.preventDefault();return window.clipboardData.getData("Text")}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")};e.setTextData=function(e,t,i){if(e.clipboardData){e.clipboardData.setData("text/plain",t);if(i!==null){e.clipboardData.setData("text/html",i)}e.preventDefault();return}if(window.clipboardData){window.clipboardData.setData("Text",t);e.preventDefault();return}throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")};return e}();var _=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._actual=e;t._ignoreSelectionChangeTime=0;return t}e.prototype.setIgnoreSelectionChangeTime=function(e){this._ignoreSelectionChangeTime=Date.now()};e.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime};e.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0};e.prototype.getValue=function(){return this._actual.domNode.value};e.prototype.setValue=function(e,t){var i=this._actual.domNode;if(i.value===t){return}this.setIgnoreSelectionChangeTime("setValue");i.value=t};e.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart};e.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd};e.prototype.setSelectionRange=function(e,t,i){var n=this._actual.domNode;var r=document.activeElement===n;var o=n.selectionStart;var s=n.selectionEnd;if(r&&o===t&&s===i){if(g.isFirefox&&window.parent!==window){n.focus()}return}if(r){this.setIgnoreSelectionChangeTime("setSelectionRange");n.setSelectionRange(t,i);if(g.isFirefox&&window.parent!==window){n.focus()}return}try{var a=d.saveParentsScrollTop(n);this.setIgnoreSelectionChangeTime("setSelectionRange");n.focus();n.setSelectionRange(t,i);d.restoreParentsScrollTop(n,a)}catch(e){}};return e}(t.Disposable)});define(r[152],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this.start=e;this.length=t;this.text=i}return e}();t.LeafOffsetLenEdit=i;var n=function(){function E(e,t){if(t===void 0){t=null}this._str=e;if(t===null){this._lineStarts=r(e)}else{this._lineStarts=t}}Object.defineProperty(E.prototype,"text",{get:function(){return this._str},enumerable:true,configurable:true});E.prototype.length=function(){return this._str.length};E.prototype.newLineCount=function(){return this._lineStarts.length};E.prototype.lineStartFor=function(e){return this._lineStarts[e]};E.prototype.charCodeAt=function(e){return this._str.charCodeAt(e)};E.prototype.substr=function(e,t){return this._str.substr(e,t)};E.prototype.findLineStartBeforeOffset=function(e){if(this._lineStarts.length===0||e<this._lineStarts[0]){return-1}var t=0,i=this._lineStarts.length-1;while(t<i){var n=t+Math.ceil((i-t)/2);var r=this._lineStarts[n];if(e===r){return n}else if(e<r){i=n-1}else{t=n}}return t};E.prototype.findLineFirstNonWhitespaceIndex=function(e){for(var t=e,i=this._str.length;t<i;t++){var n=this._str.charCodeAt(t);if(n===13||n===10){return-2}if(n!==32&&n!==9){return t}}return-1};E.prototype.findLineLastNonWhitespaceIndex=function(e){for(var t=e-1;t>=0;t--){var i=this._str.charCodeAt(t);if(i===13||i===10){return-2}if(i!==32&&i!==9){return t}}return-1};E.normalizeEOL=function(e,t){return new E(e._str.replace(/\r\n|\r|\n/g,t))};E.deleteLastChar=function(e){var t=e.length();var i=e.newLineCount();var n=e._lineStarts;var r;if(i>0&&n[i-1]===t){r=i-1}else{r=i}var o=new Uint32Array(r);o.set(n);return new E(e._str.substr(0,t-1),o)};E.insertFirstChar=function(e,t){var i=e.newLineCount();var n=e._lineStarts;var r=t===13&&(i===0||n[0]!==1||e.charCodeAt(0)!==10)||t===10;var o=r?i+1:i;var s=new Uint32Array(o);if(r){s[0]=1;for(var a=0;a<i;a++){s[a+1]=n[a]+1}}else{for(var a=0;a<i;a++){s[a]=n[a]+1}}return new E(String.fromCharCode(t)+e._str,s)};E.join=function(e,t){var i=e._str.length;var n=e._lineStarts.length;var r=t._lineStarts.length;var o=e._lineStarts;var s=t._lineStarts;var a=n+r;var u=new Uint32Array(a);u.set(o,0);for(var l=0;l<r;l++){u[l+n]=s[l]+i}return new E(e._str+t._str,u)};E.replaceOffsetLen=function(e,t,i,n,r){var o=t.length;var s=e.length();if(o===1&&t[0].text.length===0&&t[0].start===0&&t[0].length===s){return}var a=new Array(2*o+1);var u=0;var l=0;for(var c=0;c<o;c++){var d=t[c];var h=e._str.substr(u,d.start-u);a[2*c]=h;l+=h.length;u=d.start+d.length;a[2*c+1]=d.text;l+=d.text.length}var f=e._str.substr(u,s-u);a[2*o]=f;l+=f.length;var p=l>n?i:l;var g=0;var v="";for(var m=0,_=a.length;m<_;m++){var y=a[m];var C=y.length;if(C===0){continue}var b=0;while(b<C){if(g>=p){r.push(new E(v));p=l>n?i:l;g=0;v=""}var S=L(C-b,p-g);v+=y.substr(b,S);b+=S;g+=S;l-=S;if(g===p&&l>0){var w=v.charCodeAt(p-1);if(w===13||55296<=w&&w<=56319){p-=1;b-=1;g-=1;l+=1;v=v.substr(0,v.length-1)}}}}r.push(new E(v))};return E}();t.BufferPiece=n;function L(e,t){return e<t?e:t}function d(e){var t=new Uint32Array(e.length);t.set(e,0);return t}t.createUint32Array=d;var h=function(){function e(e,t,i,n,r){this.lineStarts=e;this.cr=t;this.lf=i;this.crlf=n;this.isBasicASCII=r}return e}();t.LineStarts=h;function r(e){var t=[],i=0;for(var n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o===13){if(n+1<r&&e.charCodeAt(n+1)===10){t[i++]=n+2;n++}else{t[i++]=n+1}}else if(o===10){t[i++]=n+1}}return d(t)}t.createLineStartsFast=r;function o(e,t){e.length=0;var i=0;var n=0,r=0,o=0;var s=true;for(var a=0,u=t.length;a<u;a++){var l=t.charCodeAt(a);if(l===13){if(a+1<u&&t.charCodeAt(a+1)===10){o++;e[i++]=a+2;a++}else{n++;e[i++]=a+1}}else if(l===10){r++;e[i++]=a+1}else{if(s){if(l!==9&&(l<32||l>126)){s=false}}}}var c=new h(d(e),n,r,o,s);e.length=0;return c}t.createLineStarts=o});define(r[478],e([0,1,25,152,12,3,5]),function(e,t,E,L,o,g,x){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function w(e,t,i,n,r,o){this._BOM=i;var s=Math.floor(Math.min(65536,Math.max(128,t)));var a=Math.floor(s/3);var u=s-a;var l=2*u;this._actual=new c(e,u,l,n);this._mightContainRTL=r;this._mightContainNonBasicASCII=!o}w.prototype.equals=function(e){if(!(e instanceof w)){return false}return this._actual.equals(e._actual)};w.prototype.mightContainRTL=function(){return this._mightContainRTL};w.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII};w.prototype.getBOM=function(){return this._BOM};w.prototype.getEOL=function(){return this._actual.getEOL()};w.prototype.getOffsetAt=function(e,t){return this._actual.convertPositionToOffset(e,t)};w.prototype.getPositionAt=function(e){return this._actual.convertOffsetToPosition(e)};w.prototype.getRangeAt=function(e,t){return this._actual.convertOffsetLenToRange(e,t)};w.prototype.getValueInRange=function(e,t){if(e.isEmpty()){return""}var i=this._actual.getValueInRange(e);switch(t){case E.EndOfLinePreference.TextDefined:return i;case E.EndOfLinePreference.LF:if(this.getEOL()==="\n"){return i}else{return i.replace(/\r\n/g,"\n")}case E.EndOfLinePreference.CRLF:if(this.getEOL()==="\r\n"){return i}else{return i.replace(/\n/g,"\r\n")}}return null};w.prototype.createSnapshot=function(e){return this._actual.createSnapshot(e?this._BOM:"")};w.prototype.getValueLengthInRange=function(e,t){if(e.isEmpty()){return 0}var i=e.endLineNumber-e.startLineNumber;var n=this._actual.getValueLengthInRange(e);switch(t){case E.EndOfLinePreference.TextDefined:return n;case E.EndOfLinePreference.LF:if(this.getEOL()==="\n"){return n}else{return n-i}case E.EndOfLinePreference.CRLF:if(this.getEOL()==="\r\n"){return n}else{return n+i}}return 0};w.prototype.getLength=function(){return this._actual.getLength()};w.prototype.getLineCount=function(){return this._actual.getLineCount()};w.prototype.getLinesContent=function(){return this._actual.getLinesContent()};w.prototype.getLineContent=function(e){return this._actual.getLineContent(e)};w.prototype.getLineCharCode=function(e,t){return this._actual.getLineCharCode(e,t)};w.prototype.getLineLength=function(e){return this._actual.getLineLength(e)};w.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=this._actual.getLineFirstNonWhitespaceIndex(e);if(t===-1){return 0}return t+1};w.prototype.getLineLastNonWhitespaceColumn=function(e){var t=this._actual.getLineLastNonWhitespaceIndex(e);if(t===-1){return 0}return t+1};w.prototype.setEOL=function(e){if(this.getEOL()===e){return}this._actual.setEOL(e)};w._sortOpsAscending=function(e,t){var i=g.Range.compareRangesUsingEnds(e.range,t.range);if(i===0){return e.sortIndex-t.sortIndex}return i};w._sortOpsDescending=function(e,t){var i=g.Range.compareRangesUsingEnds(e.range,t.range);if(i===0){return t.sortIndex-e.sortIndex}return-i};w.prototype.applyEdits=function(e,t){if(e.length===0){return new E.ApplyEditsResult([],[],[])}var i=this._mightContainRTL;var n=this._mightContainNonBasicASCII;var r=true;var o=[];for(var s=0;s<e.length;s++){var a=e[s];if(r&&a._isTracked){r=false}var u=a.range;if(!i&&a.text){i=x.containsRTL(a.text)}if(!n&&a.text){n=!x.isBasicASCII(a.text)}o[s]={sortIndex:s,identifier:a.identifier||null,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u,E.EndOfLinePreference.TextDefined),lines:a.text?a.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:a.forceMoveMarkers||false,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||false}}o.sort(w._sortOpsAscending);for(var s=0,l=o.length-1;s<l;s++){var c=o[s].range.getEndPosition();var d=o[s+1].range.getStartPosition();if(d.isBefore(c)){throw new Error("Overlapping ranges are not allowed!")}}if(r){o=this._reduceOperations(o)}var h=w._getInverseEditRanges(o);var f=[];for(var s=0;s<o.length;s++){var a=o[s];var p=h[s];if(t&&a.isAutoWhitespaceEdit&&a.range.isEmpty()){for(var g=p.startLineNumber;g<=p.endLineNumber;g++){var v="";if(g===p.startLineNumber){v=this.getLineContent(a.range.startLineNumber);if(x.firstNonWhitespaceIndex(v)!==-1){continue}}f.push({lineNumber:g,oldContent:v})}}}var m=[];for(var s=0;s<o.length;s++){var a=o[s];var p=h[s];m[s]={identifier:a.identifier,range:p,text:this.getValueInRange(a.range,E.EndOfLinePreference.TextDefined),forceMoveMarkers:a.forceMoveMarkers}}this._mightContainRTL=i;this._mightContainNonBasicASCII=n;var _=this._doApplyEdits(o);var y=null;if(t&&f.length>0){f.sort(function(e,t){return t.lineNumber-e.lineNumber});y=[];for(var s=0,C=f.length;s<C;s++){var g=f[s].lineNumber;if(s>0&&f[s-1].lineNumber===g){continue}var b=f[s].oldContent;var S=this.getLineContent(g);if(S.length===0||S===b||x.firstNonWhitespaceIndex(S)!==-1){continue}y.push(g)}}return new E.ApplyEditsResult(m,_,y)};w.prototype._reduceOperations=function(e){if(e.length<1e3){return e}return[this._toSingleEditOperation(e)]};w.prototype._toSingleEditOperation=function(e){var t=false,i=e[0].range,n=e[e.length-1].range,r=new g.Range(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),o=i.startLineNumber,s=i.startColumn,a=[];for(var u=0,l=e.length;u<l;u++){var c=e[u],d=c.range;t=t||c.forceMoveMarkers;for(var h=o;h<d.startLineNumber;h++){if(h===o){a.push(this.getLineContent(h).substring(s-1))}else{a.push("\n");a.push(this.getLineContent(h))}}if(d.startLineNumber===o){a.push(this.getLineContent(d.startLineNumber).substring(s-1,d.startColumn-1))}else{a.push("\n");a.push(this.getLineContent(d.startLineNumber).substring(0,d.startColumn-1))}if(c.lines){for(var f=0,p=c.lines.length;f<p;f++){if(f!==0){a.push("\n")}a.push(c.lines[f])}}o=c.range.endLineNumber;s=c.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,E.EndOfLinePreference.TextDefined),lines:a.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:false}};w.prototype._doApplyEdits=function(e){e.sort(w._sortOpsDescending);var t=[];var i=[];for(var n=0,r=e.length;n<r;n++){var o=e[n];var s=o.lines?o.lines.join(this.getEOL()):"";i[n]=new d(o.sortIndex,o.rangeOffset,o.rangeLength,s);var a=o.range.startLineNumber;var u=o.range.startColumn;var l=o.range.endLineNumber;var c=o.range.endColumn;if(a===l&&u===c&&(!o.lines||o.lines.length===0)){continue}t.push({range:o.range,rangeLength:o.rangeLength,text:s,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}this._actual.replaceOffsetLen(i);return t};w._getInverseEditRanges=function(e){var t=[];var i;var n;var r=null;for(var o=0,s=e.length;o<s;o++){var a=e[o];var u=void 0;var l=void 0;if(r){if(r.range.endLineNumber===a.range.startLineNumber){u=i;l=n+(a.range.startColumn-r.range.endColumn)}else{u=i+(a.range.startLineNumber-r.range.endLineNumber);l=a.range.startColumn}}else{u=a.range.startLineNumber;l=a.range.startColumn}var c=void 0;if(a.lines&&a.lines.length>0){var d=a.lines.length;var h=a.lines[0];var f=a.lines[d-1];if(d===1){c=new g.Range(u,l,u,l+h.length)}else{c=new g.Range(u,l,u+d-1,f.length+1)}}else{c=new g.Range(u,l,u,l)}i=c.endLineNumber;n=c.endColumn;t.push(c);r=a}return t};return w}();t.ChunksTextBuffer=i;var n=function(){function e(e){this.length=new Uint32Array(e);this.newLineCount=new Uint32Array(e)}return e}();var v=function(){function e(e,t,i,n){this.offset=e;this.leafIndex=t;this.leafStartOffset=i;this.leafStartNewLineCount=n}e.prototype.set=function(e,t,i,n){this.offset=e;this.leafIndex=t;this.leafStartOffset=i;this.leafStartNewLineCount=n};return e}();var d=function(){function e(e,t,i,n){this.initialIndex=e;this.offset=t;this.length=i;this.text=n}return e}();var m=function(){function e(e,t,i,n,r){this.startLeafIndex=e;this.startInnerOffset=t;this.endLeafIndex=i;this.endInnerOffset=n;this.text=r}return e}();var r=function(){function e(e,t,i){this.startLeafIndex=e;this.endLeafIndex=t;this.replacements=i}return e}();var s=10;var h=new(function(){function e(){this._pool=[];for(var e=0;e<s;e++){this._pool[e]=new v(0,0,0,0)}this._len=this._pool.length}e.prototype.put=function(e){if(this._len>this._pool.length){return}this._pool[this._len++]=e};e.prototype.take=function(){if(this._len===0){console.log("insufficient BufferCursor pool");return new v(0,0,0,0)}var e=this._pool[this._len-1];this._pool[this._len--]=null;return e};return e}());var a=function(){function e(e,t){this._pieces=e;this._piecesLength=this._pieces.length;this._BOM=t;this._piecesIndex=0}e.prototype.read=function(){if(this._piecesIndex>=this._piecesLength){return null}var e=null;if(this._piecesIndex===0){e=this._BOM+this._pieces[this._piecesIndex].text}else{e=this._pieces[this._piecesIndex].text}this._piecesIndex++;return e};return e}();var c=function(){function w(e,t,i,n){if(!(2*t>=i)){throw new Error("assertion violation")}this._minLeafLength=t;this._maxLeafLength=i;this._idealLeafLength=t+i>>>1;this._eol=n;this._eolLength=this._eol.length;this._leafs=e;this._nodes=null;this._nodesCount=0;this._leafsStart=0;this._leafsEnd=0;this._rebuildNodes()}w.prototype.equals=function(e){return w.equals(this,e)};w.equals=function(e,t){var i=e.getLength();var n=t.getLength();if(i!==n){return false}if(e.getLineCount()!==t.getLineCount()){return false}var r=i;var o=-1,s=null,a=0,u=0;var l=-1,c=null,d=0,h=0;while(r>0){if(u===0){o++;s=e._leafs[o];a=s.length();u=a}if(h===0){l++;c=t._leafs[l];d=c.length();h=d}var f=Math.min(u,h);var p=s.substr(a-u,f);var g=c.substr(d-h,f);if(p!==g){return false}r-=f;u-=f;h-=f}return true};w.prototype.getEOL=function(){return this._eol};w.prototype._rebuildNodes=function(){var e=this._leafs.length;this._nodesCount=1<<u(e);this._leafsStart=this._nodesCount;this._leafsEnd=this._leafsStart+e;this._nodes=new n(this._nodesCount);for(var t=this._nodesCount-1;t>=1;t--){this._updateSingleNode(t)}};w.prototype._updateSingleNode=function(e){var t=f(e);var i=p(e);var n=0;var r=0;if(this.IS_NODE(t)){n+=this._nodes.length[t];r+=this._nodes.newLineCount[t]}else if(this.IS_LEAF(t)){var o=this._leafs[this.NODE_TO_LEAF_INDEX(t)];n+=o.length();r+=o.newLineCount()}if(this.IS_NODE(i)){n+=this._nodes.length[i];r+=this._nodes.newLineCount[i]}else if(this.IS_LEAF(i)){var o=this._leafs[this.NODE_TO_LEAF_INDEX(i)];n+=o.length();r+=o.newLineCount()}this._nodes.length[e]=n;this._nodes.newLineCount[e]=r};w.prototype._findOffset=function(e,t){if(e>this._nodes.length[1]){return false}var i=1;var n=e;var r=0;var o=0;while(!this.IS_LEAF(i)){var s=f(i);var a=p(i);var u=0;var l=0;if(this.IS_NODE(s)){u=this._nodes.newLineCount[s];l=this._nodes.length[s]}else if(this.IS_LEAF(s)){var c=this._leafs[this.NODE_TO_LEAF_INDEX(s)];u=c.newLineCount();l=c.length()}var d=0;if(this.IS_NODE(a)){d+=this._nodes.length[a]}else if(this.IS_LEAF(a)){d+=this._leafs[this.NODE_TO_LEAF_INDEX(a)].length()}if(n<l||d===0){i=s}else{n-=l;r+=l;o+=u;i=a}}i=this.NODE_TO_LEAF_INDEX(i);t.set(e,i,r,o);return true};w.prototype._findOffsetCloseAfter=function(e,t,i){if(e>this._nodes.length[1]){return false}var n=e-t.leafStartOffset;var r=this._leafs.length;var o=t.leafIndex;var s=t.leafStartOffset;var a=t.leafStartNewLineCount;while(true){var u=this._leafs[o];if(n<u.length()||n===u.length()&&o+1===r){i.set(e,o,s,a);return true}o++;if(o>=r){i.set(e,o,s,a);return true}s+=u.length();a+=u.newLineCount();n-=u.length()}};w.prototype._findLineStart=function(e,t){var i=e-1;if(i<0||i>this._nodes.newLineCount[1]){t.set(0,0,0,0);return false}var n=1;var r=0;var o=0;while(!this.IS_LEAF(n)){var s=f(n);var a=p(n);var u=0;var l=0;if(this.IS_NODE(s)){u=this._nodes.newLineCount[s];l=this._nodes.length[s]}else if(this.IS_LEAF(s)){var c=this._leafs[this.NODE_TO_LEAF_INDEX(s)];u=c.newLineCount();l=c.length()}if(i<=u){n=s;continue}i-=u;r+=l;o+=u;n=a}n=this.NODE_TO_LEAF_INDEX(n);var d=i===0?0:this._leafs[n].lineStartFor(i-1);t.set(r+d,n,r,o);return true};w.prototype._findLineEnd=function(e,t,i){var n=t-1-e.leafStartNewLineCount;var r=this._leafs.length;var o=e.leafIndex;var s=e.leafStartOffset;var a=e.leafStartNewLineCount;while(true){var u=this._leafs[o];if(n<u.newLineCount()){var l=this._leafs[o].lineStartFor(n);i.set(s+l,o,s,a);return}o++;if(o>=r){i.set(s+u.length(),o-1,s,a);return}s+=u.length();a+=u.newLineCount();n=0}};w.prototype._findLine=function(e,t,i){if(!this._findLineStart(e,t)){return false}this._findLineEnd(t,e,i);return true};w.prototype.getLength=function(){return this._nodes.length[1]};w.prototype.getLineCount=function(){return this._nodes.newLineCount[1]+1};w.prototype.getLineContent=function(e){var t=h.take();var i=h.take();if(!this._findLine(e,t,i)){h.put(t);h.put(i);throw new Error("Line not found")}var n;if(e===this.getLineCount()){n=this.extractString(t,i.offset-t.offset)}else{n=this.extractString(t,i.offset-t.offset-this._eolLength)}h.put(t);h.put(i);return n};w.prototype.getLineCharCode=function(e,t){var i=h.take();if(!this._findLineStart(e,i)){h.put(i);throw new Error("Line not found")}var n=h.take();this._findOffsetCloseAfter(i.offset+t,i,n);var r=this._leafs[n.leafIndex].charCodeAt(n.offset-n.leafStartNewLineCount);h.put(n);h.put(i);return r};w.prototype.getLineLength=function(e){var t=h.take();var i=h.take();if(!this._findLine(e,t,i)){h.put(t);h.put(i);throw new Error("Line not found")}var n;if(e===this.getLineCount()){n=i.offset-t.offset}else{n=i.offset-t.offset-this._eolLength}h.put(t);h.put(i);return n};w.prototype.getLineFirstNonWhitespaceIndex=function(e){var t=h.take();if(!this._findLineStart(e,t)){h.put(t);throw new Error("Line not found")}var i=t.leafIndex;var n=t.offset-t.leafStartOffset;h.put(t);var r=this._leafs.length;var o=0;while(true){var s=this._leafs[i];var a=s.findLineFirstNonWhitespaceIndex(n);if(a===-2){return-1}if(a!==-1){return a-n+o}i++;if(i>=r){return-1}o+=s.length()-n;n=0}};w.prototype.getLineLastNonWhitespaceIndex=function(e){var t=h.take();var i=h.take();if(!this._findLineStart(e,t)){h.put(t);h.put(i);throw new Error("Line not found")}this._findLineEnd(t,e,i);var n=t.offset;var r=i.offset;var o=i.leafIndex;var s=i.offset-i.leafStartOffset-this._eolLength;h.put(t);h.put(i);var a=0;while(true){var u=this._leafs[o];var l=u.findLineLastNonWhitespaceIndex(s);if(l===-2){return-1}if(l!==-1){var c=s-1-l;var d=r-this._eolLength-c-a;return d-n}o--;if(o<0){return-1}a+=s;s=u.length()}};w.prototype.getLinesContent=function(){var e=new Array(this.getLineCount());var t=0;var i="";for(var n=0,r=this._leafs.length;n<r;n++){var o=this._leafs[n];var s=o.newLineCount();if(s===0){i+=o.text;continue}var a=0;for(var u=0;u<s;u++){var l=o.lineStartFor(u);i+=o.substr(a,l-a-this._eolLength);e[t++]=i;i="";a=l}i+=o.substr(a,o.length())}e[t++]=i;return e};w.prototype.extractString=function(e,t){if(!(e.offset+t<=this._nodes.length[1])){throw new Error("assertion violation")}var i=e.offset-e.leafStartOffset;var n=e.leafIndex;var r="";while(t>0){var o=this._leafs[n];var s=Math.min(t,o.length()-i);r+=o.substr(i,s);t-=s;i=0;if(t===0){break}n++}return r};w.prototype._getOffsetAt=function(e,t,i){var n=h.take();if(!this._findLineStart(e,n)){h.put(n);return false}var r=n.offset+t-1;if(!this._findOffsetCloseAfter(r,n,i)){h.put(n);return false}h.put(n);return true};w.prototype.convertPositionToOffset=function(e,t){var i=h.take();if(!this._findLineStart(e,i)){h.put(i);throw new Error("Position not found")}var n=i.offset+t-1;h.put(i);return n};w.prototype._findLineStartBeforeOffsetInLeaf=function(e,t,i,n,r){var o=this._leafs[t];var s=o.findLineStartBeforeOffset(e-i);var a=i+o.lineStartFor(s);r.set(a,t,i,n);return n+s+2};w.prototype._findLineStartBeforeOffset=function(e,t,i){var n=t.leafIndex;var r=t.leafStartOffset;var o=t.leafStartNewLineCount;while(true){var s=this._leafs[n];if(s.newLineCount()>=1&&s.lineStartFor(0)+r<=e){return this._findLineStartBeforeOffsetInLeaf(e,n,r,o,i)}n--;if(n<0){i.set(0,0,0,0);return 1}r-=this._leafs[n].length();o-=this._leafs[n].newLineCount()}};w.prototype.convertOffsetToPosition=function(e){var t=h.take();var i=h.take();if(!this._findOffset(e,t)){h.put(t);h.put(i);throw new Error("Offset not found")}var n=this._findLineStartBeforeOffset(e,t,i);var r=e-i.offset+1;h.put(t);h.put(i);return new o.Position(n,r)};w.prototype.convertOffsetLenToRange=function(e,t){var i=h.take();var n=h.take();if(!this._findOffset(e,i)){h.put(i);h.put(n);throw new Error("Offset not found")}var r=this._findLineStartBeforeOffset(e,i,n);var o=e-n.offset+1;if(!this._findOffset(e+t,i)){h.put(i);h.put(n);throw new Error("Offset not found")}var s=this._findLineStartBeforeOffset(e+t,i,n);var a=e+t-n.offset+1;h.put(i);h.put(n);return new g.Range(r,o,s,a)};w.prototype.getValueInRange=function(e){var t=h.take();if(!this._getOffsetAt(e.startLineNumber,e.startColumn,t)){h.put(t);throw new Error("Line not found")}var i=this.convertPositionToOffset(e.endLineNumber,e.endColumn);var n=this.extractString(t,i-t.offset);h.put(t);return n};w.prototype.createSnapshot=function(e){return new a(this._leafs,e)};w.prototype.getValueLengthInRange=function(e){var t=this.convertPositionToOffset(e.startLineNumber,e.startColumn);var i=this.convertPositionToOffset(e.endLineNumber,e.endColumn);return i-t};w.prototype._mergeAdjacentEdits=function(e){var t=[],i=0;var n=e[0];for(var r=1,o=e.length;r<o;r++){var s=e[r];if(n.offset+n.length===s.offset){n.length=n.length+s.length;n.text=n.text+s.text}else{t[i++]=n;n=s}}t[i++]=n;return t};w.prototype._resolveEdits=function(e){e=this._mergeAdjacentEdits(e);var t=[];var i=new v(0,0,0,0);var n=new v(0,0,0,0);for(var r=0,o=e.length;r<o;r++){var s=e[r];var a=s.text;this._findOffset(s.offset,i);var u=i.leafIndex;var l=i.offset-i.leafStartOffset;if(l>0){var c=this._leafs[u];var d=c.charCodeAt(l-1);if(d===13){a="\r"+a;this._findOffsetCloseAfter(s.offset-1,i,n);u=n.leafIndex;l=n.offset-n.leafStartOffset}}this._findOffset(s.offset+s.length,i);var h=i.leafIndex;var f=i.offset-i.leafStartOffset;var p=this._leafs[h];if(f<p.length()){var g=p.charCodeAt(f);if(g===10){a=a+"\n";this._findOffsetCloseAfter(s.offset+s.length+1,i,n);h=n.leafIndex;f=n.offset-n.leafStartOffset}}t[r]=new m(u,l,h,f,a)}return t};w.prototype._pushLeafReplacement=function(e,t,i){var n=new r(e,t,[]);i.push(n);return n};w.prototype._flushLeafEdits=function(e,t,i){if(t.length>0){var n=this._pushLeafReplacement(e,e,i);L.BufferPiece.replaceOffsetLen(this._leafs[e],t,this._idealLeafLength,this._maxLeafLength,n.replacements)}t.length=0};w.prototype._pushLeafEdits=function(e,t,i,n){if(t!==0||i.length!==0){n.push(new L.LeafOffsetLenEdit(e,t,i))}};w.prototype._appendLeaf=function(e,t,i){if(i===null){t.push(e);i=e;return i}var n=i.length();var r=e.length();if((n<this._minLeafLength||r<this._minLeafLength)&&n+r<=this._maxLeafLength){var o=L.BufferPiece.join(i,e);t[t.length-1]=o;i=o;return i}var s=i.charCodeAt(n-1);var a=e.charCodeAt(0);if(s>=55296&&s<=56319||s===13&&a===10){var u=L.BufferPiece.deleteLastChar(i);t[t.length-1]=u;var l=L.BufferPiece.insertFirstChar(e,s);e=l}t.push(e);i=e;return i};w._compareEdits=function(e,t){if(e.offset===t.offset){if(e.length===t.length){return e.initialIndex-t.initialIndex}return e.length-t.length}return e.offset-t.offset};w.prototype.replaceOffsetLen=function(e){e.sort(w._compareEdits);var t=this._leafs.length;var i=this._resolveEdits(e);var n=0;var r=[];var o=[];for(var s=0,a=i.length;s<a;s++){var u=i[s];var l=u.startLeafIndex;var c=u.endLeafIndex;if(l!==n){this._flushLeafEdits(n,r,o);n=l}var d=u.startInnerOffset;var h=l===c?u.endInnerOffset:this._leafs[l].length();this._pushLeafEdits(d,h-d,u.text,r);if(l<c){this._flushLeafEdits(n,r,o);n=c;if(l+1<c){this._pushLeafReplacement(l+1,c-1,o)}var f=0;var p=u.endInnerOffset;this._pushLeafEdits(f,p-f,"",r)}}this._flushLeafEdits(n,r,o);var g=[];var v=0;var m=null;for(var s=0,a=o.length;s<a;s++){var _=o[s].startLeafIndex;var y=o[s].endLeafIndex;var C=o[s].replacements;while(v<_){m=this._appendLeaf(this._leafs[v],g,m);v++}while(v<=y){v++}for(var b=0,S=C.length;b<S;b++){m=this._appendLeaf(C[b],g,m)}}while(v<t){m=this._appendLeaf(this._leafs[v],g,m);v++}if(g.length===0){g.push(new L.BufferPiece(""))}this._leafs=g;this._rebuildNodes()};w.prototype.setEOL=function(e){var t=[];for(var i=0,n=this._leafs.length;i<n;i++){t[i]=L.BufferPiece.normalizeEOL(this._leafs[i],e)}this._leafs=t;this._rebuildNodes();this._eol=e;this._eolLength=this._eol.length};w.prototype.IS_NODE=function(e){return e<this._nodesCount};w.prototype.IS_LEAF=function(e){return e>=this._leafsStart&&e<this._leafsEnd};w.prototype.NODE_TO_LEAF_INDEX=function(e){return e-this._leafsStart};return w}();function u(e){var t=1;for(var i=1;;i++){t=t<<1;if(t>=e){return i}}}function f(e){return e<<1}function p(e){return(e<<1)+1}});define(r[480],e([0,1,5,25,152,478]),function(e,t,i,n,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t,i,n,r,o,s,a){this._pieces=e;this._averageChunkSize=t;this._BOM=i;this._cr=n;this._lf=r;this._crlf=o;this._containsRTL=s;this._isBasicASCII=a}e.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf;var i=this._cr+this._crlf;if(t===0){return e===n.DefaultEndOfLine.LF?"\n":"\r\n"}if(i>t/2){return"\r\n"}return"\n"};e.prototype.create=function(e){var t=this._getEOL(e);var i=this._pieces;if(t==="\r\n"&&(this._cr>0||this._lf>0)||t==="\n"&&(this._cr>0||this._crlf>0)){for(var n=0,r=i.length;n<r;n++){i[n]=o.BufferPiece.normalizeEOL(i[n],t)}}return new s.ChunksTextBuffer(i,this._averageChunkSize,this._BOM,t,this._containsRTL,this._isBasicASCII)};e.prototype.getFirstLineText=function(e){var t=this._pieces[0];if(t.newLineCount()===0){return t.substr(0,e)}var i=t.lineStartFor(0);return t.substr(0,Math.min(e,i))};return e}();t.TextBufferFactory=r;var a=function(){function e(){this._rawPieces=[];this._hasPreviousChar=false;this._previousChar=0;this._averageChunkSize=0;this._tmpLineStarts=[];this.BOM="";this.cr=0;this.lf=0;this.crlf=0;this.containsRTL=false;this.isBasicASCII=true}e.prototype.acceptChunk=function(e){if(e.length===0){return}if(this._rawPieces.length===0){if(i.startsWithUTF8BOM(e)){this.BOM=i.UTF8_BOM_CHARACTER;e=e.substr(1)}}this._averageChunkSize=(this._averageChunkSize*this._rawPieces.length+e.length)/(this._rawPieces.length+1);var t=e.charCodeAt(e.length-1);if(t===13||t>=55296&&t<=56319){this._acceptChunk1(e.substr(0,e.length-1),false);this._hasPreviousChar=true;this._previousChar=t}else{this._acceptChunk1(e,false);this._hasPreviousChar=false;this._previousChar=t}};e.prototype._acceptChunk1=function(e,t){if(!t&&e.length===0){return}if(this._hasPreviousChar){this._acceptChunk2(e+String.fromCharCode(this._previousChar))}else{this._acceptChunk2(e)}};e.prototype._acceptChunk2=function(e){var t=o.createLineStarts(this._tmpLineStarts,e);this._rawPieces.push(new o.BufferPiece(e,t.lineStarts));this.cr+=t.cr;this.lf+=t.lf;this.crlf+=t.crlf;if(this.isBasicASCII){this.isBasicASCII=t.isBasicASCII}if(!this.isBasicASCII&&!this.containsRTL){this.containsRTL=i.containsRTL(e)}};e.prototype.finish=function(){this._finish();return new r(this._rawPieces,this._averageChunkSize,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII)};e.prototype._finish=function(){if(this._rawPieces.length===0){this._acceptChunk1("",true);return}if(this._hasPreviousChar){this._hasPreviousChar=false;var e=this._rawPieces[this._rawPieces.length-1];var t=new o.BufferPiece(String.fromCharCode(this._previousChar));var i=o.BufferPiece.join(e,t);this._rawPieces[this._rawPieces.length-1]=i;if(this._previousChar===13){this.cr++}}};return e}();t.ChunksTextBufferBuilder=a});define(r[487],e([0,1,13]),function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e){this.model=e;this.currentOpenStackElement=null;this.past=[];this.future=[]}e.prototype.pushStackElement=function(){if(this.currentOpenStackElement!==null){this.past.push(this.currentOpenStackElement);this.currentOpenStackElement=null}};e.prototype.clear=function(){this.currentOpenStackElement=null;this.past=[];this.future=[]};e.prototype.pushEditOperation=function(e,t,i){this.future=[];if(!this.currentOpenStackElement){this.currentOpenStackElement={beforeVersionId:this.model.getAlternativeVersionId(),beforeCursorState:e,editOperations:[],afterCursorState:null,afterVersionId:-1}}var n={operations:this.model.applyEdits(t)};this.currentOpenStackElement.editOperations.push(n);try{this.currentOpenStackElement.afterCursorState=i?i(n.operations):null}catch(e){r.onUnexpectedError(e);this.currentOpenStackElement.afterCursorState=null}this.currentOpenStackElement.afterVersionId=this.model.getVersionId();return this.currentOpenStackElement.afterCursorState};e.prototype.undo=function(){this.pushStackElement();if(this.past.length>0){var e=this.past.pop();try{for(var t=e.editOperations.length-1;t>=0;t--){e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}}catch(e){this.clear();return null}this.future.push(e);return{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null};e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement){throw new Error("How is this possible?")}var e=this.future.pop();try{for(var t=0;t<e.editOperations.length;t++){e.editOperations[t]={operations:this.model.applyEdits(e.editOperations[t].operations)}}}catch(e){this.clear();return null}this.past.push(e);return{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null};return e}();t.EditStack=i});define(r[488],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function y(e,t,i,n){var r;for(r=0;r<t&&r<n;r++){var o=e.charCodeAt(r);var s=i.charCodeAt(r);if(o!==s){break}}var a=0,u=0;for(var l=r;l<t;l++){var o=e.charCodeAt(l);if(o===32){a++}else{u++}}var c=0,d=0;for(var l=r;l<n;l++){var s=i.charCodeAt(l);if(s===32){c++}else{d++}}if(a>0&&u>0){return 0}if(c>0&&d>0){return 0}var h=Math.abs(u-d);var f=Math.abs(a-c);if(h===0){return f}if(f%h===0){return f/h}return 0}function i(h,e,t){var i=Math.min(h.getLineCount(),1e4);var f=0;var p=0;var g="";var v=0;var n=[2,4,6,8];var m=8;var _=[0,0,0,0,0,0,0,0,0];var r=function(t){var e=h.getLineLength(t);var i=h.getLineContent(t);var n=void 0;if(e>65536){n=function(e){return h.getLineCharCode(t,e)}}else{n=function(e){return i.charCodeAt(e)}}var r=false;var o=0;var s=0;var a=0;for(var u=0,l=e;u<l;u++){var c=n(u);if(c===9){a++}else if(c===32){s++}else{r=true;o=u;break}}if(!r){return"continue"}if(a>0){f++}else if(s>1){p++}var d=y(g,v,i,o);if(d<=m){_[d]++}g=i;v=o};for(var o=1;o<=i;o++){r(o)}var s=y(g,v,"",0);if(s<=m){_[s]++}var a=t;if(f!==p){a=f<p}var u=e;var l=a?0:.1*i;n.forEach(function(e){var t=_[e];if(t>l){l=t;u=e}});return{insertSpaces:a,tabSize:u}}t.guessIndentation=i});define(r[122],e([0,1]),function(e,p){"use strict";Object.defineProperty(p,"__esModule",{value:true});p.ClassName={EditorInfoDecoration:"squiggly-a-info",EditorWarningDecoration:"squiggly-b-warning",EditorErrorDecoration:"squiggly-c-error"};var t;(function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges";e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges";e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore";e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"})(t||(t={}));var i;(function(e){e[e["Black"]=0]="Black";e[e["Red"]=1]="Red"})(i=p.NodeColor||(p.NodeColor={}));var n;(function(e){e[e["ColorMask"]=1]="ColorMask";e[e["ColorMaskInverse"]=254]="ColorMaskInverse";e[e["ColorOffset"]=0]="ColorOffset";e[e["IsVisitedMask"]=2]="IsVisitedMask";e[e["IsVisitedMaskInverse"]=253]="IsVisitedMaskInverse";e[e["IsVisitedOffset"]=1]="IsVisitedOffset";e[e["IsForValidationMask"]=4]="IsForValidationMask";e[e["IsForValidationMaskInverse"]=251]="IsForValidationMaskInverse";e[e["IsForValidationOffset"]=2]="IsForValidationOffset";e[e["IsInOverviewRulerMask"]=8]="IsInOverviewRulerMask";e[e["IsInOverviewRulerMaskInverse"]=247]="IsInOverviewRulerMaskInverse";e[e["IsInOverviewRulerOffset"]=3]="IsInOverviewRulerOffset";e[e["StickinessMask"]=48]="StickinessMask";e[e["StickinessMaskInverse"]=207]="StickinessMaskInverse";e[e["StickinessOffset"]=4]="StickinessOffset";e[e["MIN_SAFE_DELTA"]=-1073741824]="MIN_SAFE_DELTA";e[e["MAX_SAFE_DELTA"]=1073741824]="MAX_SAFE_DELTA"})(n||(n={}));function s(e){return(e.metadata&1)>>>0}p.getNodeColor=s;function a(e,t){e.metadata=e.metadata&254|t<<0}function g(e){return(e.metadata&2)>>>1===1}function v(e,t){e.metadata=e.metadata&253|(t?1:0)<<1}function m(e){return(e.metadata&4)>>>2===1}function r(e,t){e.metadata=e.metadata&251|(t?1:0)<<2}function o(e){return(e.metadata&8)>>>3===1}p.getNodeIsInOverviewRuler=o;function u(e,t){e.metadata=e.metadata&247|(t?1:0)<<3}function _(e){return(e.metadata&48)>>>4}function l(e,t){e.metadata=e.metadata&207|t<<4}var c=function(){function e(e,t,i){this.metadata=0;this.parent=null;this.left=null;this.right=null;a(this,1);this.start=t;this.end=i;this.delta=0;this.maxEnd=i;this.id=e;this.ownerId=0;this.options=null;r(this,false);l(this,1);u(this,false);this.cachedVersionId=0;this.cachedAbsoluteStart=t;this.cachedAbsoluteEnd=i;this.range=null;v(this,false)}e.prototype.reset=function(e,t,i,n){this.start=t;this.end=i;this.maxEnd=i;this.cachedVersionId=e;this.cachedAbsoluteStart=t;this.cachedAbsoluteEnd=i;this.range=n};e.prototype.setOptions=function(e){this.options=e;var t=this.options.className;r(this,t===p.ClassName.EditorErrorDecoration||t===p.ClassName.EditorWarningDecoration||t===p.ClassName.EditorInfoDecoration);l(this,this.options.stickiness);u(this,this.options.overviewRuler.color?true:false)};e.prototype.setCachedOffsets=function(e,t,i){if(this.cachedVersionId!==i){this.range=null}this.cachedVersionId=i;this.cachedAbsoluteStart=e;this.cachedAbsoluteEnd=t};e.prototype.detach=function(){this.parent=null;this.left=null;this.right=null};return e}();p.IntervalNode=c;p.SENTINEL=new c(null,0,0);p.SENTINEL.parent=p.SENTINEL;p.SENTINEL.left=p.SENTINEL;p.SENTINEL.right=p.SENTINEL;a(p.SENTINEL,0);var d=function(){function e(){this.root=p.SENTINEL;this.requestNormalizeDelta=false}e.prototype.intervalSearch=function(e,t,i,n,r){if(this.root===p.SENTINEL){return[]}return x(this,e,t,i,n,r)};e.prototype.search=function(e,t,i){if(this.root===p.SENTINEL){return[]}return L(this,e,t,i)};e.prototype.collectNodesFromOwner=function(e){return w(this,e)};e.prototype.collectNodesPostOrder=function(){return E(this)};e.prototype.insert=function(e){N(this,e);this._normalizeDeltaIfNecessary()};e.prototype.delete=function(e){D(this,e);this._normalizeDeltaIfNecessary()};e.prototype.resolveNode=function(e,t){var i=e;var n=0;while(e!==this.root){if(e===e.parent.right){n+=e.parent.delta}e=e.parent}var r=i.start+n;var o=i.end+n;i.setCachedOffsets(r,o,t)};e.prototype.acceptReplace=function(e,t,i,n){var r=b(this,e,e+t);for(var o=0,s=r.length;o<s;o++){var a=r[o];D(this,a)}this._normalizeDeltaIfNecessary();S(this,e,e+t,i);this._normalizeDeltaIfNecessary();for(var o=0,s=r.length;o<s;o++){var a=r[o];a.start=a.cachedAbsoluteStart;a.end=a.cachedAbsoluteEnd;C(a,e,e+t,i,n);a.maxEnd=a.end;N(this,a)}this._normalizeDeltaIfNecessary()};e.prototype.getAllInOrder=function(){return L(this,0,false,0)};e.prototype._normalizeDeltaIfNecessary=function(){if(!this.requestNormalizeDelta){return}this.requestNormalizeDelta=false;h(this)};return e}();p.IntervalTree=d;function h(e){var t=e.root;var i=0;while(t!==p.SENTINEL){if(t.left!==p.SENTINEL&&!g(t.left)){t=t.left;continue}if(t.right!==p.SENTINEL&&!g(t.right)){i+=t.delta;t=t.right;continue}t.start=i+t.start;t.end=i+t.end;t.delta=0;P(t);v(t,true);v(t.left,false);v(t.right,false);if(t===t.parent.right){i-=t.parent.delta}t=t.parent}v(e.root,false)}var f;(function(e){e[e["MarkerDefined"]=0]="MarkerDefined";e[e["ForceMove"]=1]="ForceMove";e[e["ForceStay"]=2]="ForceStay"})(f||(f={}));function y(e,t,i,n){if(e<i){return true}if(e>i){return false}if(n===1){return false}if(n===2){return true}return t}function C(e,t,i,n,r){var o=_(e);var s=o===0||o===2;var a=o===1||o===2;var u=i-t;var l=n;var c=Math.min(u,l);var d=e.start;var h=false;var f=e.end;var p=false;{var g=r?1:u>0?2:0;if(!h&&y(d,s,t,g)){h=true}if(!p&&y(f,a,t,g)){p=true}}if(c>0&&!r){var g=u>l?2:0;if(!h&&y(d,s,t+c,g)){h=true}if(!p&&y(f,a,t+c,g)){p=true}}{var g=r?1:0;if(!h&&y(d,s,i,g)){e.start=t+l;h=true}if(!p&&y(f,a,i,g)){e.end=t+l;p=true}}var v=l-u;if(!h){e.start=Math.max(0,d+v);h=true}if(!p){e.end=Math.max(0,f+v);p=true}if(e.start>e.end){e.end=e.start}}function b(e,t,i){var n=e.root;var r=0;var o=0;var s=0;var a=0;var u=[];var l=0;while(n!==p.SENTINEL){if(g(n)){v(n.left,false);v(n.right,false);if(n===n.parent.right){r-=n.parent.delta}n=n.parent;continue}if(!g(n.left)){o=r+n.maxEnd;if(o<t){v(n,true);continue}if(n.left!==p.SENTINEL){n=n.left;continue}}s=r+n.start;if(s>i){v(n,true);continue}a=r+n.end;if(a>=t){n.setCachedOffsets(s,a,0);u[l++]=n}v(n,true);if(n.right!==p.SENTINEL&&!g(n.right)){r+=n.delta;n=n.right;continue}}v(e.root,false);return u}function S(e,t,i,n){var r=e.root;var o=0;var s=0;var a=0;var u=n-(i-t);while(r!==p.SENTINEL){if(g(r)){v(r.left,false);v(r.right,false);if(r===r.parent.right){o-=r.parent.delta}P(r);r=r.parent;continue}if(!g(r.left)){s=o+r.maxEnd;if(s<t){v(r,true);continue}if(r.left!==p.SENTINEL){r=r.left;continue}}a=o+r.start;if(a>i){r.start+=u;r.end+=u;r.delta+=u;if(r.delta<-1073741824||r.delta>1073741824){e.requestNormalizeDelta=true}v(r,true);continue}v(r,true);if(r.right!==p.SENTINEL&&!g(r.right)){o+=r.delta;r=r.right;continue}}v(e.root,false)}function w(e,t){var i=e.root;var n=[];var r=0;while(i!==p.SENTINEL){if(g(i)){v(i.left,false);v(i.right,false);i=i.parent;continue}if(i.left!==p.SENTINEL&&!g(i.left)){i=i.left;continue}if(i.ownerId===t){n[r++]=i}v(i,true);if(i.right!==p.SENTINEL&&!g(i.right)){i=i.right;continue}}v(e.root,false);return n}function E(e){var t=e.root;var i=[];var n=0;while(t!==p.SENTINEL){if(g(t)){v(t.left,false);v(t.right,false);t=t.parent;continue}if(t.left!==p.SENTINEL&&!g(t.left)){t=t.left;continue}if(t.right!==p.SENTINEL&&!g(t.right)){t=t.right;continue}i[n++]=t;v(t,true)}v(e.root,false);return i}function L(e,t,i,n){var r=e.root;var o=0;var s=0;var a=0;var u=[];var l=0;while(r!==p.SENTINEL){if(g(r)){v(r.left,false);v(r.right,false);if(r===r.parent.right){o-=r.parent.delta}r=r.parent;continue}if(r.left!==p.SENTINEL&&!g(r.left)){r=r.left;continue}s=o+r.start;a=o+r.end;r.setCachedOffsets(s,a,n);var c=true;if(t&&r.ownerId&&r.ownerId!==t){c=false}if(i&&m(r)){c=false}if(c){u[l++]=r}v(r,true);if(r.right!==p.SENTINEL&&!g(r.right)){o+=r.delta;r=r.right;continue}}v(e.root,false);return u}function x(e,t,i,n,r,o){var s=e.root;var a=0;var u=0;var l=0;var c=0;var d=[];var h=0;while(s!==p.SENTINEL){if(g(s)){v(s.left,false);v(s.right,false);if(s===s.parent.right){a-=s.parent.delta}s=s.parent;continue}if(!g(s.left)){u=a+s.maxEnd;if(u<t){v(s,true);continue}if(s.left!==p.SENTINEL){s=s.left;continue}}l=a+s.start;if(l>i){v(s,true);continue}c=a+s.end;if(c>=t){s.setCachedOffsets(l,c,o);var f=true;if(n&&s.ownerId&&s.ownerId!==n){f=false}if(r&&m(s)){f=false}if(f){d[h++]=s}}v(s,true);if(s.right!==p.SENTINEL&&!g(s.right)){a+=s.delta;s=s.right;continue}}v(e.root,false);return d}function N(e,t){if(e.root===p.SENTINEL){t.parent=p.SENTINEL;t.left=p.SENTINEL;t.right=p.SENTINEL;a(t,0);e.root=t;return e.root}I(e,t);A(t.parent);var i=t;while(i!==e.root&&s(i.parent)===1){if(i.parent===i.parent.parent.left){var n=i.parent.parent.right;if(s(n)===1){a(i.parent,0);a(n,0);a(i.parent.parent,1);i=i.parent.parent}else{if(i===i.parent.right){i=i.parent;k(e,i)}a(i.parent,0);a(i.parent.parent,1);O(e,i.parent.parent)}}else{var n=i.parent.parent.left;if(s(n)===1){a(i.parent,0);a(n,0);a(i.parent.parent,1);i=i.parent.parent}else{if(i===i.parent.left){i=i.parent;O(e,i)}a(i.parent,0);a(i.parent.parent,1);k(e,i.parent.parent)}}}a(e.root,0);return t}function I(e,t){var i=0;var n=e.root;var r=t.start;var o=t.end;while(true){var s=F(r,o,n.start+i,n.end+i);if(s<0){if(n.left===p.SENTINEL){t.start-=i;t.end-=i;t.maxEnd-=i;n.left=t;break}else{n=n.left}}else{if(n.right===p.SENTINEL){t.start-=i+n.delta;t.end-=i+n.delta;t.maxEnd-=i+n.delta;n.right=t;break}else{i+=n.delta;n=n.right}}}t.parent=n;t.left=p.SENTINEL;t.right=p.SENTINEL;a(t,1)}function D(e,t){var i;var n;if(t.left===p.SENTINEL){i=t.right;n=t;i.delta+=t.delta;if(i.delta<-1073741824||i.delta>1073741824){e.requestNormalizeDelta=true}i.start+=t.delta;i.end+=t.delta}else if(t.right===p.SENTINEL){i=t.left;n=t}else{n=T(t.right);i=n.right;i.start+=n.delta;i.end+=n.delta;i.delta+=n.delta;if(i.delta<-1073741824||i.delta>1073741824){e.requestNormalizeDelta=true}n.start+=t.delta;n.end+=t.delta;n.delta=t.delta;if(n.delta<-1073741824||n.delta>1073741824){e.requestNormalizeDelta=true}}if(n===e.root){e.root=i;a(i,0);t.detach();M();P(i);e.root.parent=p.SENTINEL;return}var r=s(n)===1;if(n===n.parent.left){n.parent.left=i}else{n.parent.right=i}if(n===t){i.parent=n.parent}else{if(n.parent===t){i.parent=n}else{i.parent=n.parent}n.left=t.left;n.right=t.right;n.parent=t.parent;a(n,s(t));if(t===e.root){e.root=n}else{if(t===t.parent.left){t.parent.left=n}else{t.parent.right=n}}if(n.left!==p.SENTINEL){n.left.parent=n}if(n.right!==p.SENTINEL){n.right.parent=n}}t.detach();if(r){A(i.parent);if(n!==t){A(n);A(n.parent)}M();return}A(i);A(i.parent);if(n!==t){A(n);A(n.parent)}var o;while(i!==e.root&&s(i)===0){if(i===i.parent.left){o=i.parent.right;if(s(o)===1){a(o,0);a(i.parent,1);k(e,i.parent);o=i.parent.right}if(s(o.left)===0&&s(o.right)===0){a(o,1);i=i.parent}else{if(s(o.right)===0){a(o.left,0);a(o,1);O(e,o);o=i.parent.right}a(o,s(i.parent));a(i.parent,0);a(o.right,0);k(e,i.parent);i=e.root}}else{o=i.parent.left;if(s(o)===1){a(o,0);a(i.parent,1);O(e,i.parent);o=i.parent.left}if(s(o.left)===0&&s(o.right)===0){a(o,1);i=i.parent}else{if(s(o.left)===0){a(o.right,0);a(o,1);k(e,o);o=i.parent.left}a(o,s(i.parent));a(i.parent,0);a(o.left,0);O(e,i.parent);i=e.root}}}a(i,0);M()}function T(e){while(e.left!==p.SENTINEL){e=e.left}return e}function M(){p.SENTINEL.parent=p.SENTINEL;p.SENTINEL.delta=0;p.SENTINEL.start=0;p.SENTINEL.end=0}function k(e,t){var i=t.right;i.delta+=t.delta;if(i.delta<-1073741824||i.delta>1073741824){e.requestNormalizeDelta=true}i.start+=t.delta;i.end+=t.delta;t.right=i.left;if(i.left!==p.SENTINEL){i.left.parent=t}i.parent=t.parent;if(t.parent===p.SENTINEL){e.root=i}else if(t===t.parent.left){t.parent.left=i}else{t.parent.right=i}i.left=t;t.parent=i;P(t);P(i)}function O(e,t){var i=t.left;t.delta-=i.delta;if(t.delta<-1073741824||t.delta>1073741824){e.requestNormalizeDelta=true}t.start-=i.delta;t.end-=i.delta;t.left=i.right;if(i.right!==p.SENTINEL){i.right.parent=t}i.parent=t.parent;if(t.parent===p.SENTINEL){e.root=i}else if(t===t.parent.right){t.parent.right=i}else{t.parent.left=i}i.right=t;t.parent=i;P(t);P(i)}function R(e){var t=e.end;if(e.left!==p.SENTINEL){var i=e.left.maxEnd;if(i>t){t=i}}if(e.right!==p.SENTINEL){var n=e.right.maxEnd+e.delta;if(n>t){t=n}}return t}function P(e){e.maxEnd=R(e)}p.recomputeMaxEnd=P;function A(e){while(e!==p.SENTINEL){var t=R(e);if(e.maxEnd===t){return}e.maxEnd=t;e=e.parent}}function F(e,t,i,n){if(e===i){return t-n}return e-i}p.intervalCompare=F});define(r[493],e([0,1,25]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(){}i._getEOL=function(e,t){var i=e.lines.length-1;if(i===0){return t===n.DefaultEndOfLine.LF?"\n":"\r\n"}if(e.totalCRCount>i/2){return"\r\n"}return"\n"};i.fromRawTextSource=function(e,t){return{lines:e.lines,BOM:e.BOM,EOL:i._getEOL(e,t),containsRTL:e.containsRTL,isBasicASCII:e.isBasicASCII}};return i}();t.TextSource=i});define(r[494],e([0,1]),function(e,c){"use strict";Object.defineProperty(c,"__esModule",{value:true});var t=function(){function e(e,t){this.piece=e;this.color=t;this.size_left=0;this.lf_left=0;this.parent=null;this.left=null;this.right=null}e.prototype.next=function(){if(this.right!==c.SENTINEL){return d(this.right)}var e=this;while(e.parent!==c.SENTINEL){if(e.parent.left===e){break}e=e.parent}if(e.parent===c.SENTINEL){return c.SENTINEL}else{return e.parent}};e.prototype.prev=function(){if(this.left!==c.SENTINEL){return n(this.left)}var e=this;while(e.parent!==c.SENTINEL){if(e.parent.right===e){break}e=e.parent}if(e.parent===c.SENTINEL){return c.SENTINEL}else{return e.parent}};e.prototype.detach=function(){this.parent=null;this.left=null;this.right=null};return e}();c.TreeNode=t;c.SENTINEL=new t(null,0);c.SENTINEL.parent=c.SENTINEL;c.SENTINEL.left=c.SENTINEL;c.SENTINEL.right=c.SENTINEL;c.SENTINEL.color=0;var i;(function(e){e[e["Black"]=0]="Black";e[e["Red"]=1]="Red"})(i=c.NodeColor||(c.NodeColor={}));function d(e){while(e.left!==c.SENTINEL){e=e.left}return e}c.leftest=d;function n(e){while(e.right!==c.SENTINEL){e=e.right}return e}c.righttest=n;function h(e){if(e===c.SENTINEL){return 0}return e.size_left+e.piece.length+h(e.right)}c.calculateSize=h;function f(e){if(e===c.SENTINEL){return 0}return e.lf_left+e.piece.lineFeedCnt+f(e.right)}c.calculateLF=f;function p(){c.SENTINEL.parent=c.SENTINEL}c.resetSentinel=p;function g(e,t){var i=t.right;i.size_left+=t.size_left+(t.piece?t.piece.length:0);i.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0);t.right=i.left;if(i.left!==c.SENTINEL){i.left.parent=t}i.parent=t.parent;if(t.parent===c.SENTINEL){e.root=i}else if(t.parent.left===t){t.parent.left=i}else{t.parent.right=i}i.left=t;t.parent=i}c.leftRotate=g;function v(e,t){var i=t.left;t.left=i.right;if(i.right!==c.SENTINEL){i.right.parent=t}i.parent=t.parent;t.size_left-=i.size_left+(i.piece?i.piece.length:0);t.lf_left-=i.lf_left+(i.piece?i.piece.lineFeedCnt:0);if(t.parent===c.SENTINEL){e.root=i}else if(t===t.parent.right){t.parent.right=i}else{t.parent.left=i}i.right=t;t.parent=i}c.rightRotate=v;function r(e,t){var i;var n;if(t.left===c.SENTINEL){n=t;i=n.right}else if(t.right===c.SENTINEL){n=t;i=n.left}else{n=d(t.right);i=n.right}if(n===e.root){e.root=i;i.color=0;t.detach();p();e.root.parent=c.SENTINEL;return}var r=n.color===1;if(n===n.parent.left){n.parent.left=i}else{n.parent.right=i}if(n===t){i.parent=n.parent;_(e,i)}else{if(n.parent===t){i.parent=n}else{i.parent=n.parent}_(e,i);n.left=t.left;n.right=t.right;n.parent=t.parent;n.color=t.color;if(t===e.root){e.root=n}else{if(t===t.parent.left){t.parent.left=n}else{t.parent.right=n}}if(n.left!==c.SENTINEL){n.left.parent=n}if(n.right!==c.SENTINEL){n.right.parent=n}n.size_left=t.size_left;n.lf_left=t.lf_left;_(e,n)}t.detach();if(i.parent.left===i){var o=h(i);var s=f(i);if(o!==i.parent.size_left||s!==i.parent.lf_left){var a=o-i.parent.size_left;var u=s-i.parent.lf_left;i.parent.size_left=o;i.parent.lf_left=s;m(e,i.parent,a,u)}}_(e,i.parent);if(r){p();return}var l;while(i!==e.root&&i.color===0){if(i===i.parent.left){l=i.parent.right;if(l.color===1){l.color=0;i.parent.color=1;g(e,i.parent);l=i.parent.right}if(l.left.color===0&&l.right.color===0){l.color=1;i=i.parent}else{if(l.right.color===0){l.left.color=0;l.color=1;v(e,l);l=i.parent.right}l.color=i.parent.color;i.parent.color=0;l.right.color=0;g(e,i.parent);i=e.root}}else{l=i.parent.left;if(l.color===1){l.color=0;i.parent.color=1;v(e,i.parent);l=i.parent.left}if(l.left.color===0&&l.right.color===0){l.color=1;i=i.parent}else{if(l.left.color===0){l.right.color=0;l.color=1;g(e,l);l=i.parent.left}l.color=i.parent.color;i.parent.color=0;l.left.color=0;v(e,i.parent);i=e.root}}}i.color=0;p()}c.rbDelete=r;function o(e,t){_(e,t);while(t!==e.root&&t.parent.color===1){if(t.parent===t.parent.parent.left){var i=t.parent.parent.right;if(i.color===1){t.parent.color=0;i.color=0;t.parent.parent.color=1;t=t.parent.parent}else{if(t===t.parent.right){t=t.parent;g(e,t)}t.parent.color=0;t.parent.parent.color=1;v(e,t.parent.parent)}}else{var i=t.parent.parent.left;if(i.color===1){t.parent.color=0;i.color=0;t.parent.parent.color=1;t=t.parent.parent}else{if(t===t.parent.left){t=t.parent;v(e,t)}t.parent.color=0;t.parent.parent.color=1;g(e,t.parent.parent)}}}e.root.color=0}c.fixInsert=o;function m(e,t,i,n){while(t!==e.root&&t!==c.SENTINEL){if(t.parent.left===t){t.parent.size_left+=i;t.parent.lf_left+=n}t=t.parent}}c.updateTreeMetadata=m;function _(e,t){var i=0;var n=0;if(t===e.root){return}if(i===0){while(t!==e.root&&t===t.parent.right){t=t.parent}if(t===e.root){return}t=t.parent;i=h(t.left)-t.size_left;n=f(t.left)-t.lf_left;t.size_left+=i;t.lf_left+=n}while(t!==e.root&&(i!==0||n!==0)){if(t.parent.left===t){t.parent.size_left+=i;t.parent.lf_left+=n}t=t.parent}}c.recomputeTreeMetadata=_});define(r[158],e([0,1,12,494]),function(e,t,a,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});function d(e){var t;if(e[e.length-1]<65536){t=new Uint16Array(e.length)}else{t=new Uint32Array(e.length)}t.set(e,0);return t}t.createUintArray=d;var h=function(){function e(e,t,i,n,r){this.lineStarts=e;this.cr=t;this.lf=i;this.crlf=n;this.isBasicASCII=r}return e}();t.LineStarts=h;function f(e,t){if(t===void 0){t=true}var i=[0],n=1;for(var r=0,o=e.length;r<o;r++){var s=e.charCodeAt(r);if(s===13){if(r+1<o&&e.charCodeAt(r+1)===10){i[n++]=r+2;r++}else{i[n++]=r+1}}else if(s===10){i[n++]=r+1}}if(t){return d(i)}else{return i}}t.createLineStartsFast=f;function i(e,t){e.length=0;e[0]=0;var i=1;var n=0,r=0,o=0;var s=true;for(var a=0,u=t.length;a<u;a++){var l=t.charCodeAt(a);if(l===13){if(a+1<u&&t.charCodeAt(a+1)===10){o++;e[i++]=a+2;a++}else{n++;e[i++]=a+1}}else if(l===10){r++;e[i++]=a+1}else{if(s){if(l!==9&&(l<32||l>126)){s=false}}}}var c=new h(d(e),n,r,o,s);e.length=0;return c}t.createLineStarts=i;var _=function(){function e(e,t,i,n,r){this.bufferIndex=e;this.start=t;this.end=i;this.lineFeedCnt=n;this.length=r}return e}();t.Piece=_;var p=function(){function e(e,t){this.buffer=e;this.lineStarts=t}return e}();t.StringBuffer=p;var n=function(){function e(e,t){var i=this;this._nodes=[];this._tree=e;this._BOM=t;this._index=0;if(e.root!==m.SENTINEL){e.iterate(e.root,function(e){if(e!==m.SENTINEL){i._nodes.push(e)}return true})}}e.prototype.read=function(){if(this._nodes.length===0){if(this._index===0){this._index++;return this._BOM}else{return null}}if(this._index>this._nodes.length-1){return null}if(this._index===0){return this._BOM+this._tree.getNodeContent(this._nodes[this._index++])}return this._tree.getNodeContent(this._nodes[this._index++])};return e}();var u=function(){function e(e){this._limit=e;this._cache=[]}e.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e){return i}}return null};e.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e){return i}}return null};e.prototype.set=function(e){if(this._cache.length>=this._limit){this._cache.shift()}this._cache.push(e)};e.prototype.valdiate=function(e){var t=false;for(var i=0;i<this._cache.length;i++){var n=this._cache[i];if(n.node.parent===null||n.nodeStartOffset>=e){this._cache[i]=null;t=true;continue}}if(t){var r=[];for(var i=0;i<this._cache.length;i++){if(this._cache[i]!==null){r.push(this._cache[i])}}this._cache=r}};return e}();var r=function(){function e(e,t,i){this.create(e,t,i)}e.prototype.create=function(e,t,i){this._buffers=[new p("",[0])];this._lastChangeBufferPos={line:0,column:0};this.root=m.SENTINEL;this._lineCnt=1;this._length=0;this._EOL=t;this._EOLLength=t.length;this._EOLNormalized=i;var n=null;for(var r=0,o=e.length;r<o;r++){if(e[r].buffer.length>0){if(!e[r].lineStarts){e[r].lineStarts=f(e[r].buffer)}var s=new _(r+1,{line:0,column:0},{line:e[r].lineStarts.length-1,column:e[r].buffer.length-e[r].lineStarts[e[r].lineStarts.length-1]},e[r].lineStarts.length-1,e[r].buffer.length);this._buffers.push(e[r]);n=this.rbInsertRight(n,s)}}this._searchCache=new u(1);this._lastVisitedLine={lineNumber:0,value:null};this.computeBufferMetadata()};e.prototype.normalizeEOL=function(r){var o=this;var e=65536;var s=e-Math.floor(e/3);var a=s*2;var u="";var l=0;var c=[];this.iterate(this.root,function(e){var t=o.getNodeContent(e);var i=t.length;if(l<=s||l+i<a){u+=t;l+=i;return true}var n=u.replace(/\r\n|\r|\n/g,r);c.push(new p(n,f(n)));u=t;l=i;return true});if(l>0){var t=u.replace(/\r\n|\r|\n/g,r);c.push(new p(t,f(t)))}this.create(c,r,true)};e.prototype.getEOL=function(){return this._EOL};e.prototype.setEOL=function(e){this._EOL=e;this._EOLLength=this._EOL.length;this.normalizeEOL(e)};e.prototype.createSnapshot=function(e){return new n(this,e)};e.prototype.equal=function(s){var a=this;if(this.getLength()!==s.getLength()){return false}if(this.getLineCount()!==s.getLineCount()){return false}var u=0;var e=this.iterate(this.root,function(e){if(e===m.SENTINEL){return true}var t=a.getNodeContent(e);var i=t.length;var n=s.nodeAt(u);var r=s.nodeAt(u+i);var o=s.getValueInRange2(n,r);return t===o});return e};e.prototype.getOffsetAt=function(e,t){var i=0;var n=this.root;while(n!==m.SENTINEL){if(n.left!==m.SENTINEL&&n.lf_left+1>=e){n=n.left}else if(n.lf_left+n.piece.lineFeedCnt+1>=e){i+=n.size_left;var r=this.getAccumulatedValue(n,e-n.lf_left-2);return i+=r+t-1}else{e-=n.lf_left+n.piece.lineFeedCnt;i+=n.size_left+n.piece.length;n=n.right}}return i};e.prototype.getPositionAt=function(e){e=Math.floor(e);e=Math.max(0,e);var t=this.root;var i=0;var n=e;while(t!==m.SENTINEL){if(t.size_left!==0&&t.size_left>=e){t=t.left}else if(t.size_left+t.piece.length>=e){var r=this.getIndexOf(t,e-t.size_left);i+=t.lf_left+r.index;if(r.index===0){var o=this.getOffsetAt(i+1,1);var s=n-o;return new a.Position(i+1,s+1)}return new a.Position(i+1,r.remainder+1)}else{e-=t.size_left+t.piece.length;i+=t.lf_left+t.piece.lineFeedCnt;if(t.right===m.SENTINEL){var o=this.getOffsetAt(i+1,1);var s=n-e-o;return new a.Position(i+1,s+1)}else{t=t.right}}}return new a.Position(1,1)};e.prototype.getValueInRange=function(e){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn){return""}var t=this.nodeAt2(e.startLineNumber,e.startColumn);var i=this.nodeAt2(e.endLineNumber,e.endColumn);return this.getValueInRange2(t,i)};e.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var i=e.node;var n=this._buffers[i.piece.bufferIndex].buffer;var r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return n.substring(r+e.remainder,r+t.remainder)}var o=e.node;var s=this._buffers[o.piece.bufferIndex].buffer;var a=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);var u=s.substring(a+e.remainder,a+o.piece.length);o=o.next();while(o!==m.SENTINEL){var l=this._buffers[o.piece.bufferIndex].buffer;var c=this.offsetInBuffer(o.piece.bufferIndex,o.piece.start);if(o===t.node){u+=l.substring(c,c+t.remainder);break}else{u+=l.substr(c,o.piece.length)}o=o.next()}return u};e.prototype.getLinesContent=function(){return this.getContentOfSubTree(this.root).split(/\r\n|\r|\n/)};e.prototype.getLength=function(){return this._length};e.prototype.getLineCount=function(){return this._lineCnt};e.prototype.getLineContent=function(e){if(this._lastVisitedLine.lineNumber===e){return this._lastVisitedLine.value}this._lastVisitedLine.lineNumber=e;if(e===this._lineCnt){this._lastVisitedLine.value=this.getLineRawContent(e)}else if(this._EOLNormalized){this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength)}else{this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")}return this._lastVisitedLine.value};e.prototype.getLineCharCode=function(e,t){var i=this.nodeAt2(e,t+1);var n=this._buffers[i.node.piece.bufferIndex];var r=this.offsetInBuffer(i.node.piece.bufferIndex,i.node.piece.start);var o=r+t;return n.buffer.charCodeAt(o)};e.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength};e.prototype.insert=function(e,t,i){if(i===void 0){i=false}this._EOLNormalized=this._EOLNormalized&&i;this._lastVisitedLine.lineNumber=0;this._lastVisitedLine.value=null;if(this.root!==m.SENTINEL){var n=this.nodeAt(e),r=n.node,o=n.remainder,s=n.nodeStartOffset;var a=r.piece;var u=a.bufferIndex;var l=this.positionInBuffer(r,o);if(r.piece.bufferIndex===0&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e){this.appendToNode(r,t);this.computeBufferMetadata();return}if(s===e){this.insertContentToNodeLeft(t,r);this._searchCache.valdiate(e)}else if(s+r.piece.length>e){var c=[];var d=new _(a.bufferIndex,l,a.end,this.getLineFeedCnt(a.bufferIndex,l,a.end),this.offsetInBuffer(u,a.end)-this.offsetInBuffer(u,l));if(this.shouldCheckCRLF()&&this.endWithCR(t)){var h=this.nodeCharCodeAt(r,o);if(h===10){var f={line:d.start.line+1,column:0};d.start=f;d.length-=1;d.lineFeedCnt=this.getLineFeedCnt(d.bufferIndex,d.start,d.end);t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){var p=this.nodeCharCodeAt(r,o-1);if(p===13){var g=this.positionInBuffer(r,o-1);this.deleteNodeTail(r,g);t="\r"+t;if(r.piece.length===0){c.push(r)}}else{this.deleteNodeTail(r,l)}}else{this.deleteNodeTail(r,l)}var v=this.createNewPiece(t);if(d.length>0){this.rbInsertRight(r,d)}this.rbInsertRight(r,v);this.deleteNodes(c)}else{this.insertContentToNodeRight(t,r)}}else{var a=this.createNewPiece(t);this.rbInsertLeft(null,a)}this.computeBufferMetadata()};e.prototype.delete=function(e,t){this._lastVisitedLine.lineNumber=0;this._lastVisitedLine.value=null;if(t<=0||this.root===m.SENTINEL){return}var i=this.nodeAt(e);var n=this.nodeAt(e+t);var r=i.node;var o=n.node;if(r===o){var s=this.positionInBuffer(r,i.remainder);var a=this.positionInBuffer(r,n.remainder);if(i.nodeStartOffset===e){if(t===r.piece.length){var u=r.next();m.rbDelete(this,r);this.validateCRLFWithPrevNode(u);this.computeBufferMetadata();return}this.deleteNodeHead(r,a);this._searchCache.valdiate(e);this.validateCRLFWithPrevNode(r);this.computeBufferMetadata();return}if(i.nodeStartOffset+r.piece.length===e+t){this.deleteNodeTail(r,s);this.validateCRLFWithNextNode(r);this.computeBufferMetadata();return}this.shrinkNode(r,s,a);this.computeBufferMetadata();return}var l=[];var c=this.positionInBuffer(r,i.remainder);this.deleteNodeTail(r,c);this._searchCache.valdiate(e);if(r.piece.length===0){l.push(r)}var d=this.positionInBuffer(o,n.remainder);this.deleteNodeHead(o,d);if(o.piece.length===0){l.push(o)}var h=r.next();for(var f=h;f!==m.SENTINEL&&f!==o;f=f.next()){l.push(f)}var p=r.piece.length===0?r.prev():r;this.deleteNodes(l);this.validateCRLFWithNextNode(p);this.computeBufferMetadata()};e.prototype.insertContentToNodeLeft=function(e,t){var i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var n=t.piece;var r={line:n.start.line+1,column:0};n.start=r;n.lineFeedCnt=this.getLineFeedCnt(n.bufferIndex,n.start,n.end);n.length-=1;e+="\n";m.updateTreeMetadata(this,t,-1,-1);if(t.piece.length===0){i.push(t)}}var o=this.createNewPiece(e);var s=this.rbInsertLeft(t,o);this.validateCRLFWithPrevNode(s);this.deleteNodes(i)};e.prototype.insertContentToNodeRight=function(e,t){if(this.adjustCarriageReturnFromNext(e,t)){e+="\n"}var i=this.createNewPiece(e);var n=this.rbInsertRight(t,i);this.validateCRLFWithPrevNode(n)};e.prototype.positionInBuffer=function(e,t){var i=e.piece;var n=e.piece.bufferIndex;var r=this._buffers[n].lineStarts;var o=r[i.start.line]+i.start.column;var s=o+t;var a=i.start.line;var u=i.end.line;var l;var c;var d;while(a<=u){l=a+(u-a)/2|0;d=r[l];if(l===u){break}c=r[l+1];if(s<d){u=l-1}else if(s>=c){a=l+1}else{break}}return{line:l,column:s-d}};e.prototype.getLineFeedCnt=function(e,t,i){if(i.column===0){return i.line-t.line}var n=this._buffers[e].lineStarts;if(i.line===n.length-1){return i.line-t.line}var r=n[i.line+1];var o=n[i.line]+i.column;if(r>o+1){return i.line-t.line}var s=o-1;var a=this._buffers[e].buffer;if(a.charCodeAt(s)===13){return i.line-t.line+1}else{return i.line-t.line}};e.prototype.offsetInBuffer=function(e,t){var i=this._buffers[e].lineStarts;return i[t.line]+t.column};e.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++){m.rbDelete(this,e[t])}};e.prototype.createNewPiece=function(e){var t=this._buffers[0].buffer.length;var i=f(e,false);var n=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1};n=this._lastChangeBufferPos;for(var r=0;r<i.length;r++){i[r]+=t+1}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1));this._buffers[0].buffer+="_"+e;t+=1}else{if(t!==0){for(var r=0;r<i.length;r++){i[r]+=t}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1));this._buffers[0].buffer+=e}var o=this._buffers[0].buffer.length;var s=this._buffers[0].lineStarts.length-1;var a=o-this._buffers[0].lineStarts[s];var u={line:s,column:a};var l=new _(0,n,u,this.getLineFeedCnt(0,n,u),o-t);this._lastChangeBufferPos=u;return l};e.prototype.getLinesRawContent=function(){return this.getContentOfSubTree(this.root)};e.prototype.getLineRawContent=function(e,t){if(t===void 0){t=0}var i=this.root;var n="";var r=this._searchCache.get2(e);if(r){i=r.node;var o=this.getAccumulatedValue(i,e-r.nodeStartLineNumber-1);var s=this._buffers[i.piece.bufferIndex].buffer;var a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(r.nodeStartLineNumber+i.piece.lineFeedCnt===e){n=s.substring(a+o,a+i.piece.length)}else{var u=this.getAccumulatedValue(i,e-r.nodeStartLineNumber);return s.substring(a+o,a+u-t)}}else{var l=0;var c=e;while(i!==m.SENTINEL){if(i.left!==m.SENTINEL&&i.lf_left>=e-1){i=i.left}else if(i.lf_left+i.piece.lineFeedCnt>e-1){var o=this.getAccumulatedValue(i,e-i.lf_left-2);var u=this.getAccumulatedValue(i,e-i.lf_left-1);var s=this._buffers[i.piece.bufferIndex].buffer;var a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);l+=i.size_left;this._searchCache.set({node:i,nodeStartOffset:l,nodeStartLineNumber:c-(e-1-i.lf_left)});return s.substring(a+o,a+u-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){var o=this.getAccumulatedValue(i,e-i.lf_left-2);var s=this._buffers[i.piece.bufferIndex].buffer;var a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n=s.substring(a+o,a+i.piece.length);break}else{e-=i.lf_left+i.piece.lineFeedCnt;l+=i.size_left+i.piece.length;i=i.right}}}i=i.next();while(i!==m.SENTINEL){var s=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){var u=this.getAccumulatedValue(i,0);var a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=s.substring(a,a+u-t);return n}else{var a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);n+=s.substr(a,i.piece.length)}i=i.next()}return n};e.prototype.computeBufferMetadata=function(){var e=this.root;var t=1;var i=0;while(e!==m.SENTINEL){t+=e.lf_left+e.piece.lineFeedCnt;i+=e.size_left+e.piece.length;e=e.right}this._lineCnt=t;this._length=i;this._searchCache.valdiate(this._length)};e.prototype.getIndexOf=function(e,t){var i=e.piece;var n=this.positionInBuffer(e,t);var r=n.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){var o=this.getLineFeedCnt(e.piece.bufferIndex,i.start,n);if(o!==r){return{index:o,remainder:0}}}return{index:r,remainder:n.column}};e.prototype.getAccumulatedValue=function(e,t){if(t<0){return 0}var i=e.piece;var n=this._buffers[i.bufferIndex].lineStarts;var r=i.start.line+t+1;if(r>i.end.line){return n[i.end.line]+i.end.column-n[i.start.line]-i.start.column}else{return n[r]-n[i.start.line]-i.start.column}};e.prototype.deleteNodeTail=function(e,t){var i=e.piece;var n=i.lineFeedCnt;var r=this.offsetInBuffer(i.bufferIndex,i.end);i.end=t;var o=this.offsetInBuffer(i.bufferIndex,i.end);i.lineFeedCnt=this.getLineFeedCnt(i.bufferIndex,i.start,i.end);var s=i.lineFeedCnt-n;var a=o-r;i.length+=a;m.updateTreeMetadata(this,e,a,s)};e.prototype.deleteNodeHead=function(e,t){var i=e.piece;var n=i.lineFeedCnt;var r=this.offsetInBuffer(i.bufferIndex,i.start);i.start=t;i.lineFeedCnt=this.getLineFeedCnt(i.bufferIndex,i.start,i.end);var o=this.offsetInBuffer(i.bufferIndex,i.start);var s=i.lineFeedCnt-n;var a=r-o;i.length+=a;m.updateTreeMetadata(this,e,a,s)};e.prototype.shrinkNode=function(e,t,i){var n=e.piece;var r=n.start;var o=n.end;var s=n.length;var a=n.lineFeedCnt;n.end=t;n.lineFeedCnt=this.getLineFeedCnt(n.bufferIndex,n.start,n.end);var u=this.offsetInBuffer(n.bufferIndex,t)-this.offsetInBuffer(n.bufferIndex,r);var l=n.lineFeedCnt;n.length=u;m.updateTreeMetadata(this,e,u-s,l-a);var c=new _(n.bufferIndex,i,o,this.getLineFeedCnt(n.bufferIndex,i,o),this.offsetInBuffer(n.bufferIndex,o)-this.offsetInBuffer(n.bufferIndex,i));var d=this.rbInsertRight(e,c);this.validateCRLFWithPrevNode(d)};e.prototype.appendToNode=function(e,t){if(this.adjustCarriageReturnFromNext(t,e)){t+="\n"}var i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e);var n=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;var r=f(t,false);for(var o=0;o<r.length;o++){r[o]+=n}if(i){var s=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop();this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:n-s}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(r.slice(1));var a=this._buffers[0].lineStarts.length-1;var u=this._buffers[0].buffer.length-this._buffers[0].lineStarts[a];var l={line:a,column:u};e.piece.end=l;e.piece.length+=t.length;var c=e.piece.lineFeedCnt;var d=this.getLineFeedCnt(0,e.piece.start,l);e.piece.lineFeedCnt=d;var h=d-c;this._lastChangeBufferPos=l;m.updateTreeMetadata(this,e,t.length,h)};e.prototype.nodeAt=function(e){var t=this.root;var i=this._searchCache.get(e);if(i){return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset}}var n=0;while(t!==m.SENTINEL){if(t.size_left>e){t=t.left}else if(t.size_left+t.piece.length>=e){n+=t.size_left;var r={node:t,remainder:e-t.size_left,nodeStartOffset:n};this._searchCache.set(r);return r}else{e-=t.size_left+t.piece.length;n+=t.size_left+t.piece.length;t=t.right}}return null};e.prototype.nodeAt2=function(e,t){var i=this.root;var n=0;while(i!==m.SENTINEL){if(i.left!==m.SENTINEL&&i.lf_left>=e-1){i=i.left}else if(i.lf_left+i.piece.lineFeedCnt>e-1){var r=this.getAccumulatedValue(i,e-i.lf_left-2);var o=this.getAccumulatedValue(i,e-i.lf_left-1);n+=i.size_left;return{node:i,remainder:Math.min(r+t-1,o),nodeStartOffset:n}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){var r=this.getAccumulatedValue(i,e-i.lf_left-2);if(r+t-1<=i.piece.length){return{node:i,remainder:r+t-1,nodeStartOffset:n}}else{t-=i.piece.length-r;break}}else{e-=i.lf_left+i.piece.lineFeedCnt;n+=i.size_left+i.piece.length;i=i.right}}i=i.next();while(i!==m.SENTINEL){if(i.piece.lineFeedCnt>0){var o=this.getAccumulatedValue(i,0);var s=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,o),nodeStartOffset:s}}else{if(i.piece.length>=t-1){var a=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:a}}else{t-=i.piece.length}}i=i.next()}return null};e.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1){return-1}var i=this._buffers[e.piece.bufferIndex];var n=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(n)};e.prototype.offsetOfNode=function(e){if(!e){return 0}var t=e.size_left;while(e!==this.root){if(e.parent.right===e){t+=e.parent.size_left+e.parent.piece.length}e=e.parent}return t};e.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&this._EOL==="\n")};e.prototype.startWithLF=function(e){if(typeof e==="string"){return e.charCodeAt(0)===10}if(e===m.SENTINEL||e.piece.lineFeedCnt===0){return false}var t=e.piece;var i=this._buffers[t.bufferIndex].lineStarts;var n=t.start.line;var r=i[n]+t.start.column;if(n===i.length-1){return false}var o=i[n+1];if(o>r+1){return false}return this._buffers[t.bufferIndex].buffer.charCodeAt(r)===10};e.prototype.endWithCR=function(e){if(typeof e==="string"){return e.charCodeAt(e.length-1)===13}if(e===m.SENTINEL||e.piece.lineFeedCnt===0){return false}return this.nodeCharCodeAt(e,e.piece.length-1)===13};e.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();if(this.endWithCR(t)){this.fixCRLF(t,e)}}};e.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();if(this.startWithLF(t)){this.fixCRLF(e,t)}}};e.prototype.fixCRLF=function(e,t){var i=[];var n=this._buffers[e.piece.bufferIndex].lineStarts;if(e.piece.end.column===0){var r={line:e.piece.end.line-1,column:n[e.piece.end.line]-n[e.piece.end.line-1]-1};e.piece.end=r}else{var r={line:e.piece.end.line,column:e.piece.end.column-1};e.piece.end=r}e.piece.length-=1;e.piece.lineFeedCnt-=1;m.updateTreeMetadata(this,e,-1,-1);if(e.piece.length===0){i.push(e)}var o={line:t.piece.start.line+1,column:0};t.piece.start=o;t.piece.length-=1;t.piece.lineFeedCnt=this.getLineFeedCnt(t.piece.bufferIndex,t.piece.start,t.piece.end);m.updateTreeMetadata(this,t,-1,-1);if(t.piece.length===0){i.push(t)}var s=this.createNewPiece("\r\n");this.rbInsertRight(e,s);for(var a=0;a<i.length;a++){m.rbDelete(this,i[a])}};e.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var i=t.next();if(this.startWithLF(i)){e+="\n";if(i.piece.length===1){m.rbDelete(this,i)}else{var n=i.piece;var r={line:n.start.line+1,column:0};n.start=r;n.length-=1;n.lineFeedCnt=this.getLineFeedCnt(n.bufferIndex,n.start,n.end);m.updateTreeMetadata(this,i,-1,-1)}return true}}return false};e.prototype.iterate=function(e,t){if(e===m.SENTINEL){return t(m.SENTINEL)}var i=this.iterate(e.left,t);if(!i){return i}return t(e)&&this.iterate(e.right,t)};e.prototype.getNodeContent=function(e){if(e===m.SENTINEL){return""}var t=this._buffers[e.piece.bufferIndex];var i;var n=e.piece;var r=this.offsetInBuffer(n.bufferIndex,n.start);var o=this.offsetInBuffer(n.bufferIndex,n.end);i=t.buffer.substring(r,o);return i};e.prototype.rbInsertRight=function(e,t){var i=new m.TreeNode(t,1);i.left=m.SENTINEL;i.right=m.SENTINEL;i.parent=m.SENTINEL;i.size_left=0;i.lf_left=0;var n=this.root;if(n===m.SENTINEL){this.root=i;i.color=0}else if(e.right===m.SENTINEL){e.right=i;i.parent=e}else{var r=m.leftest(e.right);r.left=i;i.parent=r}m.fixInsert(this,i);return i};e.prototype.rbInsertLeft=function(e,t){var i=new m.TreeNode(t,1);i.left=m.SENTINEL;i.right=m.SENTINEL;i.parent=m.SENTINEL;i.size_left=0;i.lf_left=0;var n=this.root;if(n===m.SENTINEL){this.root=i;i.color=0}else if(e.left===m.SENTINEL){e.left=i;i.parent=e}else{var r=m.righttest(e.left);r.right=i;i.parent=r}m.fixInsert(this,i);return i};e.prototype.getContentOfSubTree=function(e){var t=this;var i="";this.iterate(e,function(e){i+=t.getNodeContent(e);return true});return i};return e}();t.PieceTreeBase=r});define(r[506],e([0,1,3,5,158,25]),function(e,t,g,E,s,L){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function w(e,t,i,n,r,o){this._BOM=t;this._mightContainNonBasicASCII=!r;this._mightContainRTL=n;this._pieceTree=new s.PieceTreeBase(e,i,o)}w.prototype.equals=function(e){if(!(e instanceof w)){return false}if(this._BOM!==e._BOM){return false}if(this.getEOL()!==e.getEOL()){return false}return this._pieceTree.equal(e._pieceTree)};w.prototype.mightContainRTL=function(){return this._mightContainRTL};w.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII};w.prototype.getBOM=function(){return this._BOM};w.prototype.getEOL=function(){return this._pieceTree.getEOL()};w.prototype.createSnapshot=function(e){return this._pieceTree.createSnapshot(e?this._BOM:"")};w.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)};w.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)};w.prototype.getRangeAt=function(e,t){var i=e+t;var n=this.getPositionAt(e);var r=this.getPositionAt(i);return new g.Range(n.lineNumber,n.column,r.lineNumber,r.column)};w.prototype.getValueInRange=function(e,t){if(t===void 0){t=L.EndOfLinePreference.TextDefined}if(e.isEmpty()){return""}var i=this._getEndOfLine(t);var n=this._pieceTree.getValueInRange(e);return n.replace(/\r\n|\r|\n/g,i)};w.prototype.getValueLengthInRange=function(e,t){if(t===void 0){t=L.EndOfLinePreference.TextDefined}if(e.isEmpty()){return 0}if(e.startLineNumber===e.endLineNumber){return e.endColumn-e.startColumn}var i=this.getOffsetAt(e.startLineNumber,e.startColumn);var n=this.getOffsetAt(e.endLineNumber,e.endColumn);return n-i};w.prototype.getLength=function(){return this._pieceTree.getLength()};w.prototype.getLineCount=function(){return this._pieceTree.getLineCount()};w.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()};w.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)};w.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)};w.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)};w.prototype.getLineMinColumn=function(e){return 1};w.prototype.getLineMaxColumn=function(e){return this.getLineLength(e)+1};w.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=E.firstNonWhitespaceIndex(this.getLineContent(e));if(t===-1){return 0}return t+1};w.prototype.getLineLastNonWhitespaceColumn=function(e){var t=E.lastNonWhitespaceIndex(this.getLineContent(e));if(t===-1){return 0}return t+2};w.prototype._getEndOfLine=function(e){switch(e){case L.EndOfLinePreference.LF:return"\n";case L.EndOfLinePreference.CRLF:return"\r\n";case L.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")};w.prototype.setEOL=function(e){this._pieceTree.setEOL(e)};w.prototype.applyEdits=function(e,t){var i=this._mightContainRTL;var n=this._mightContainNonBasicASCII;var r=true;var o=[];for(var s=0;s<e.length;s++){var a=e[s];if(r&&a._isTracked){r=false}var u=a.range;if(!i&&a.text){i=E.containsRTL(a.text)}if(!n&&a.text){n=!E.isBasicASCII(a.text)}o[s]={sortIndex:s,identifier:a.identifier,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u),lines:a.text?a.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:a.forceMoveMarkers,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||false}}o.sort(w._sortOpsAscending);for(var s=0,l=o.length-1;s<l;s++){var c=o[s].range.getEndPosition();var d=o[s+1].range.getStartPosition();if(d.isBefore(c)){throw new Error("Overlapping ranges are not allowed!")}}if(r){o=this._reduceOperations(o)}var h=w._getInverseEditRanges(o);var f=[];for(var s=0;s<o.length;s++){var a=o[s];var p=h[s];if(t&&a.isAutoWhitespaceEdit&&a.range.isEmpty()){for(var g=p.startLineNumber;g<=p.endLineNumber;g++){var v="";if(g===p.startLineNumber){v=this.getLineContent(a.range.startLineNumber);if(E.firstNonWhitespaceIndex(v)!==-1){continue}}f.push({lineNumber:g,oldContent:v})}}}var m=[];for(var s=0;s<o.length;s++){var a=o[s];var p=h[s];m[s]={identifier:a.identifier,range:p,text:this.getValueInRange(a.range),forceMoveMarkers:a.forceMoveMarkers}}this._mightContainRTL=i;this._mightContainNonBasicASCII=n;var _=this._doApplyEdits(o);var y=null;if(t&&f.length>0){f.sort(function(e,t){return t.lineNumber-e.lineNumber});y=[];for(var s=0,C=f.length;s<C;s++){var g=f[s].lineNumber;if(s>0&&f[s-1].lineNumber===g){continue}var b=f[s].oldContent;var S=this.getLineContent(g);if(S.length===0||S===b||E.firstNonWhitespaceIndex(S)!==-1){continue}y.push(g)}}return new L.ApplyEditsResult(m,_,y)};w.prototype._reduceOperations=function(e){if(e.length<1e3){return e}return[this._toSingleEditOperation(e)]};w.prototype._toSingleEditOperation=function(e){var t=false,i=e[0].range,n=e[e.length-1].range,r=new g.Range(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),o=i.startLineNumber,s=i.startColumn,a=[];for(var u=0,l=e.length;u<l;u++){var c=e[u],d=c.range;t=t||c.forceMoveMarkers;for(var h=o;h<d.startLineNumber;h++){if(h===o){a.push(this.getLineContent(h).substring(s-1))}else{a.push("\n");a.push(this.getLineContent(h))}}if(d.startLineNumber===o){a.push(this.getLineContent(d.startLineNumber).substring(s-1,d.startColumn-1))}else{a.push("\n");a.push(this.getLineContent(d.startLineNumber).substring(0,d.startColumn-1))}if(c.lines){for(var f=0,p=c.lines.length;f<p;f++){if(f!==0){a.push("\n")}a.push(c.lines[f])}}o=c.range.endLineNumber;s=c.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,L.EndOfLinePreference.TextDefined),lines:a.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:false}};w.prototype._doApplyEdits=function(e){e.sort(w._sortOpsDescending);var t=[];for(var i=0;i<e.length;i++){var n=e[i];var r=n.range.startLineNumber;var o=n.range.startColumn;var s=n.range.endLineNumber;var a=n.range.endColumn;if(r===s&&o===a&&(!n.lines||n.lines.length===0)){continue}var u=s-r;var l=n.lines?n.lines.length-1:0;var c=Math.min(u,l);var d=n.lines?n.lines.join(this.getEOL()):"";if(d){this._pieceTree.delete(n.rangeOffset,n.rangeLength);this._pieceTree.insert(n.rangeOffset,d,true)}else{this._pieceTree.delete(n.rangeOffset,n.rangeLength)}if(c<l){var h=[];for(var f=c+1;f<=l;f++){h.push(n.lines[f])}h[h.length-1]=this.getLineContent(r+l-1)}var p=new g.Range(r,o,s,a);t.push({range:p,rangeLength:n.rangeLength,text:d,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return t};w.prototype.getPieceTree=function(){return this._pieceTree};w._getInverseEditRanges=function(e){var t=[];var i;var n;var r=null;for(var o=0,s=e.length;o<s;o++){var a=e[o];var u=void 0;var l=void 0;if(r){if(r.range.endLineNumber===a.range.startLineNumber){u=i;l=n+(a.range.startColumn-r.range.endColumn)}else{u=i+(a.range.startLineNumber-r.range.endLineNumber);l=a.range.startColumn}}else{u=a.range.startLineNumber;l=a.range.startColumn}var c=void 0;if(a.lines&&a.lines.length>0){var d=a.lines.length;var h=a.lines[0];var f=a.lines[d-1];if(d===1){c=new g.Range(u,l,u,l+h.length)}else{c=new g.Range(u,l,u+d-1,f.length+1)}}else{c=new g.Range(u,l,u,l)}i=c.endLineNumber;n=c.endColumn;t.push(c);r=a}return t};w._sortOpsAscending=function(e,t){var i=g.Range.compareRangesUsingEnds(e.range,t.range);if(i===0){return e.sortIndex-t.sortIndex}return i};w._sortOpsDescending=function(e,t){var i=g.Range.compareRangesUsingEnds(e.range,t.range);if(i===0){return t.sortIndex-e.sortIndex}return-i};return w}();t.PieceTreeTextBuffer=i});define(r[512],e([0,1,5,25,506,158]),function(e,t,i,n,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t,i,n,r,o,s,a){this._chunks=e;this._bom=t;this._cr=i;this._lf=n;this._crlf=r;this._containsRTL=o;this._isBasicASCII=s;this._normalizeEOL=a}e.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf;var i=this._cr+this._crlf;if(t===0){return e===n.DefaultEndOfLine.LF?"\n":"\r\n"}if(i>t/2){return"\r\n"}return"\n"};e.prototype.create=function(e){var t=this._getEOL(e);var i=this._chunks;if(this._normalizeEOL&&(t==="\r\n"&&(this._cr>0||this._lf>0)||t==="\n"&&(this._cr>0||this._crlf>0))){for(var n=0,r=i.length;n<r;n++){var o=i[n].buffer.replace(/\r\n|\r|\n/g,t);var s=u.createLineStartsFast(o);i[n]=new u.StringBuffer(o,s)}}return new a.PieceTreeTextBuffer(i,this._bom,t,this._containsRTL,this._isBasicASCII,this._normalizeEOL)};e.prototype.getFirstLineText=function(e){return this._chunks[0].buffer.substr(0,100).split(/\r\n|\r|\n/)[0]};return e}();t.PieceTreeTextBufferFactory=r;var o=function(){function e(){this.chunks=[];this.BOM="";this._hasPreviousChar=false;this._previousChar=0;this._tmpLineStarts=[];this.cr=0;this.lf=0;this.crlf=0;this.containsRTL=false;this.isBasicASCII=true}e.prototype.acceptChunk=function(e){if(e.length===0){return}if(this.chunks.length===0){if(i.startsWithUTF8BOM(e)){this.BOM=i.UTF8_BOM_CHARACTER;e=e.substr(1)}}var t=e.charCodeAt(e.length-1);if(t===13||t>=55296&&t<=56319){this._acceptChunk1(e.substr(0,e.length-1),false);this._hasPreviousChar=true;this._previousChar=t}else{this._acceptChunk1(e,false);this._hasPreviousChar=false;this._previousChar=t}};e.prototype._acceptChunk1=function(e,t){if(!t&&e.length===0){return}if(this._hasPreviousChar){this._acceptChunk2(String.fromCharCode(this._previousChar)+e)}else{this._acceptChunk2(e)}};e.prototype._acceptChunk2=function(e){var t=u.createLineStarts(this._tmpLineStarts,e);this.chunks.push(new u.StringBuffer(e,t.lineStarts));this.cr+=t.cr;this.lf+=t.lf;this.crlf+=t.crlf;if(this.isBasicASCII){this.isBasicASCII=t.isBasicASCII}if(!this.isBasicASCII&&!this.containsRTL){this.containsRTL=i.containsRTL(e)}};e.prototype.finish=function(e){if(e===void 0){e=true}this._finish();return new r(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,e)};e.prototype._finish=function(){if(this.chunks.length===0){this._acceptChunk1("",true)}if(this._hasPreviousChar){this._hasPreviousChar=false;var e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);var t=u.createLineStartsFast(e.buffer);e.lineStarts=t;if(this._previousChar===13){this.cr++}}};return e}();t.PieceTreeTextBufferBuilder=o});define(r[163],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Flush"]=1]="Flush";e[e["LineChanged"]=2]="LineChanged";e[e["LinesDeleted"]=3]="LinesDeleted";e[e["LinesInserted"]=4]="LinesInserted";e[e["EOLChanged"]=5]="EOLChanged"})(i=t.RawContentChangedType||(t.RawContentChangedType={}));var n=function(){function e(){this.changeType=1}return e}();t.ModelRawFlush=n;var r=function(){function e(e,t){this.changeType=2;this.lineNumber=e;this.detail=t}return e}();t.ModelRawLineChanged=r;var o=function(){function e(e,t){this.changeType=3;this.fromLineNumber=e;this.toLineNumber=t}return e}();t.ModelRawLinesDeleted=o;var s=function(){function e(e,t,i){this.changeType=4;this.fromLineNumber=e;this.toLineNumber=t;this.detail=i}return e}();t.ModelRawLinesInserted=s;var a=function(){function e(){this.changeType=5}return e}();t.ModelRawEOLChanged=a;var u=function(){function s(e,t,i,n){this.changes=e;this.versionId=t;this.isUndoing=i;this.isRedoing=n}s.prototype.containsEvent=function(e){for(var t=0,i=this.changes.length;t<i;t++){var n=this.changes[t];if(n.changeType===e){return true}}return false};s.merge=function(e,t){var i=[].concat(e.changes).concat(t.changes);var n=t.versionId;var r=e.isUndoing||t.isUndoing;var o=e.isRedoing||t.isRedoing;return new s(i,n,r,o)};return s}();t.ModelRawContentChangedEvent=u;var l=function(){function n(e,t){this.rawContentChangedEvent=e;this.contentChangedEvent=t}n.prototype.merge=function(e){var t=u.merge(this.rawContentChangedEvent,e.rawContentChangedEvent);var i=n._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new n(t,i)};n._mergeChangeEvents=function(e,t){var i=[].concat(e.changes).concat(t.changes);var n=t.eol;var r=t.versionId;var o=e.isUndoing||t.isUndoing;var s=e.isRedoing||t.isRedoing;var a=e.isFlush||t.isFlush;return{changes:i,eol:n,versionId:r,isUndoing:o,isRedoing:s,isFlush:a}};return n}();t.InternalModelContentChangeEvent=l});define(r[165],e([0,1,5,12,3,25,100]),function(e,t,r,l,g,v,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=999;var i=function(){function n(e,t,i,n){this.searchString=e;this.isRegex=t;this.matchCase=i;this.wordSeparators=n}n._isMultilineRegexSource=function(e){if(!e||e.length===0){return false}for(var t=0,i=e.length;t<i;t++){var n=e.charCodeAt(t);if(n===92){t++;if(t>=i){break}var r=e.charCodeAt(t);if(r===110||r===114){return true}}}return false};n.prototype.parseSearchRequest=function(){if(this.searchString===""){return null}var e;if(this.isRegex){e=n._isMultilineRegexSource(this.searchString)}else{e=this.searchString.indexOf("\n")>=0}var t=null;try{t=r.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:false,multiline:e,global:true})}catch(e){return null}if(!t){return null}var i=!this.isRegex&&!e;if(i&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()){i=this.matchCase}return new a(t,this.wordSeparators?o.getMapForWordSeparators(this.wordSeparators):null,i?this.searchString:null)};return n}();t.SearchParams=i;var a=function(){function e(e,t,i){this.regex=e;this.wordSeparators=t;this.simpleSearch=i}return e}();t.SearchData=a;function m(e,t,i){if(!i){return new v.FindMatch(e,null)}var n=[];for(var r=0,o=t.length;r<o;r++){n[r]=t[r]}return new v.FindMatch(e,n)}var n=function(){function e(){}e.findMatches=function(e,t,i,n,r){var o=t.parseSearchRequest();if(!o){return[]}if(o.regex.multiline){if(o.regex.source==="\\n"){var s=[],a=0;for(var u=1,l=e.getLineCount();u<l;u++){var c=new g.Range(u,e.getLineMaxColumn(u),u+1,1);if(n){s[a++]=new v.FindMatch(c,null)}else{s[a++]=new v.FindMatch(c,["\n"])}if(a>=r){break}}return s}return this._doFindMatchesMultiline(e,i,new y(o.wordSeparators,o.regex),n,r)}return this._doFindMatchesLineByLine(e,i,o,n,r)};e._getMultilineMatchRange=function(e,t,i,n,r){var o;if(e.getEOL()==="\r\n"){var s=0;for(var a=0;a<n;a++){var u=i.charCodeAt(a);if(u===10){s++}}o=t+n+s}else{o=t+n}var l;if(e.getEOL()==="\r\n"){var c=0;for(var a=0,d=r.length;a<d;a++){var u=i.charCodeAt(a+n);if(u===10){c++}}l=o+r.length+c}else{l=o+r.length}var h=e.getPositionAt(o);var f=e.getPositionAt(l);return new g.Range(h.lineNumber,h.column,f.lineNumber,f.column)};e._doFindMatchesMultiline=function(e,t,i,n,r){var o=e.getOffsetAt(t.getStartPosition());var s=e.getValueInRange(t,v.EndOfLinePreference.LF);var a=[];var u=0;var l;i.reset(0);while(l=i.next(s)){a[u++]=m(this._getMultilineMatchRange(e,o,s,l.index,l[0]),l,n);if(u>=r){return a}}return a};e._doFindMatchesLineByLine=function(e,t,i,n,r){var o=[];var s=0;if(t.startLineNumber===t.endLineNumber){var a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);s=this._findMatchesInLine(i,a,t.startLineNumber,t.startColumn-1,s,o,n,r);return o}var u=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(i,u,t.startLineNumber,t.startColumn-1,s,o,n,r);for(var l=t.startLineNumber+1;l<t.endLineNumber&&s<r;l++){s=this._findMatchesInLine(i,e.getLineContent(l),l,0,s,o,n,r)}if(s<r){var c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(i,c,t.endLineNumber,0,s,o,n,r)}return o};e._findMatchesInLine=function(e,t,i,n,r,o,s,a){var u=e.wordSeparators;if(!s&&e.simpleSearch){var l=e.simpleSearch;var c=l.length;var d=t.length;var h=-c;while((h=t.indexOf(l,h+c))!==-1){if(!u||_(u,t,d,h,c)){o[r++]=new v.FindMatch(new g.Range(i,h+1+n,i,h+1+c+n),null);if(r>=a){return r}}}return r}var f=new y(e.wordSeparators,e.regex);var p;f.reset(0);do{p=f.next(t);if(p){o[r++]=m(new g.Range(i,p.index+1+n,i,p.index+1+p[0].length+n),p,s);if(r>=a){return r}}}while(p);return r};e.findNextMatch=function(e,t,i,n){var r=t.parseSearchRequest();if(!r){return null}var o=new y(r.wordSeparators,r.regex);if(r.regex.multiline){return this._doFindNextMatchMultiline(e,i,o,n)}return this._doFindNextMatchLineByLine(e,i,o,n)};e._doFindNextMatchMultiline=function(e,t,i,n){var r=new l.Position(t.lineNumber,1);var o=e.getOffsetAt(r);var s=e.getLineCount();var a=e.getValueInRange(new g.Range(r.lineNumber,r.column,s,e.getLineMaxColumn(s)),v.EndOfLinePreference.LF);i.reset(t.column-1);var u=i.next(a);if(u){return m(this._getMultilineMatchRange(e,o,a,u.index,u[0]),u,n)}if(t.lineNumber!==1||t.column!==1){return this._doFindNextMatchMultiline(e,new l.Position(1,1),i,n)}return null};e._doFindNextMatchLineByLine=function(e,t,i,n){var r=e.getLineCount();var o=t.lineNumber;var s=e.getLineContent(o);var a=this._findFirstMatchInLine(i,s,o,t.column,n);if(a){return a}for(var u=1;u<=r;u++){var l=(o+u-1)%r;var c=e.getLineContent(l+1);var d=this._findFirstMatchInLine(i,c,l+1,1,n);if(d){return d}}return null};e._findFirstMatchInLine=function(e,t,i,n,r){e.reset(n-1);var o=e.next(t);if(o){return m(new g.Range(i,o.index+1,i,o.index+1+o[0].length),o,r)}return null};e.findPreviousMatch=function(e,t,i,n){var r=t.parseSearchRequest();if(!r){return null}var o=new y(r.wordSeparators,r.regex);if(r.regex.multiline){return this._doFindPreviousMatchMultiline(e,i,o,n)}return this._doFindPreviousMatchLineByLine(e,i,o,n)};e._doFindPreviousMatchMultiline=function(e,t,i,n){var r=this._doFindMatchesMultiline(e,new g.Range(1,1,t.lineNumber,t.column),i,n,10*s);if(r.length>0){return r[r.length-1]}var o=e.getLineCount();if(t.lineNumber!==o||t.column!==e.getLineMaxColumn(o)){return this._doFindPreviousMatchMultiline(e,new l.Position(o,e.getLineMaxColumn(o)),i,n)}return null};e._doFindPreviousMatchLineByLine=function(e,t,i,n){var r=e.getLineCount();var o=t.lineNumber;var s=e.getLineContent(o).substring(0,t.column-1);var a=this._findLastMatchInLine(i,s,o,n);if(a){return a}for(var u=1;u<=r;u++){var l=(r+o-u-1)%r;var c=e.getLineContent(l+1);var d=this._findLastMatchInLine(i,c,l+1,n);if(d){return d}}return null};e._findLastMatchInLine=function(e,t,i,n){var r=null;var o;e.reset(0);while(o=e.next(t)){r=m(new g.Range(i,o.index+1,i,o.index+1+o[0].length),o,n)}return r};return e}();t.TextModelSearch=n;function u(e,t,i,n,r){if(n===0){return true}var o=t.charCodeAt(n-1);if(e.get(o)!==0){return true}if(r>0){var s=t.charCodeAt(n);if(e.get(s)!==0){return true}}return false}function c(e,t,i,n,r){if(n+r===i){return true}var o=t.charCodeAt(n+r);if(e.get(o)!==0){return true}if(r>0){var s=t.charCodeAt(n+r-1);if(e.get(s)!==0){return true}}return false}function _(e,t,i,n,r){return u(e,t,i,n,r)&&c(e,t,i,n,r)}var y=function(){function e(e,t){this._wordSeparators=e;this._searchRegex=t;this._prevMatchStartIndex=-1;this._prevMatchLength=0}e.prototype.reset=function(e){this._searchRegex.lastIndex=e;this._prevMatchStartIndex=-1;this._prevMatchLength=0};e.prototype.next=function(e){var t=e.length;var i;do{if(this._prevMatchStartIndex+this._prevMatchLength===t){return null}i=this._searchRegex.exec(e);if(!i){return null}var n=i.index;var r=i[0].length;if(n===this._prevMatchStartIndex&&r===this._prevMatchLength){return null}this._prevMatchStartIndex=n;this._prevMatchLength=r;if(!this._wordSeparators||_(this._wordSeparators,e,t,n,r)){return i}}while(i);return null};return e}()});define(r[99],e([0,1]),function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function t(e){if(e===void 0){e=""}var t="(-?\\d*\\.\\d\\w*)|([^";for(var i=0;i<n.USUAL_WORD_SEPARATORS.length;i++){if(e.indexOf(n.USUAL_WORD_SEPARATORS[i])>=0){continue}t+="\\"+n.USUAL_WORD_SEPARATORS[i]}t+="\\s]+)";return new RegExp(t,"g")}n.DEFAULT_WORD_REGEXP=t();function i(e){var t=n.DEFAULT_WORD_REGEXP;if(e&&e instanceof RegExp){if(!e.global){var i="g";if(e.ignoreCase){i+="i"}if(e.multiline){i+="m"}t=new RegExp(e.source,i)}else{t=e}}t.lastIndex=0;return t}n.ensureValidWordDefinition=i;function s(e,t,i,n){var r=e-1-n;var o=i.lastIndexOf(" ",r-1)+1;var s=i.indexOf(" ",r);if(s===-1){s=i.length}t.lastIndex=o;var a;while(a=t.exec(i)){if(a.index<=r&&t.lastIndex>=r){return{word:a[0],startColumn:n+1+a.index,endColumn:n+1+t.lastIndex}}}return null}function a(e,t,i,n){var r=e-1-n;t.lastIndex=0;var o;while(o=t.exec(i)){if(o.index>r){return null}else if(t.lastIndex>=r){return{word:o[0],startColumn:n+1+o.index,endColumn:n+1+t.lastIndex}}}return null}function r(e,t,i,n){t.lastIndex=0;var r=t.exec(i);if(!r){return null}var o=r[0].indexOf(" ")>=0?a(e,t,i,n):s(e,t,i,n);t.lastIndex=0;return o}n.getWordAtText=r});define(r[523],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e){this._languageIdentifier=e}e.prototype.getId=function(){return this._languageIdentifier.language};e.prototype.getLanguageIdentifier=function(){return this._languageIdentifier};return e}();t.FrankensteinMode=i});define(r[61],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["None"]=0]="None";e[e["Indent"]=1]="Indent";e[e["IndentOutdent"]=2]="IndentOutdent";e[e["Outdent"]=3]="Outdent"})(i=t.IndentAction||(t.IndentAction={}));var n=function(){function e(e){this.open=e.open;this.close=e.close;this._standardTokenMask=0;if(Array.isArray(e.notIn)){for(var t=0,i=e.notIn.length;t<i;t++){var n=e.notIn[t];switch(n){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}}e.prototype.isOK=function(e){return(this._standardTokenMask&e)===0};return e}();t.StandardAutoClosingPairConditional=n});define(r[532],e([0,1,177]),function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});function h(e,t,i){if(Array.isArray(e)){var n=0;for(var r=0,o=e;r<o.length;r++){var s=o[r];var a=h(s,t,i);if(a===10){return a}if(a>n){n=a}}return n}else if(typeof e==="string"){if(e==="*"){return 5}else if(e===i){return 10}else{return 0}}else if(e){var u=e.language,l=e.pattern,c=e.scheme;var n=0;if(c){if(c===t.scheme){n=10}else if(c==="*"){n=5}else{return 0}}if(u){if(u===i){n=10}else if(u==="*"){n=Math.max(n,5)}else{return 0}}if(l){if(l===t.fsPath||d.match(l,t.fsPath)){n=10}else{return 0}}return n}else{return 0}}t.score=h});define(r[536],e([0,1,4,532]),function(e,t,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function o(){this._clock=0;this._entries=[];this._onDidChange=new i.Emitter}Object.defineProperty(o.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});o.prototype.register=function(e,t){var i=this;var n={selector:e,provider:t,_score:-1,_time:this._clock++};this._entries.push(n);this._lastCandidate=undefined;this._onDidChange.fire(this._entries.length);return{dispose:function(){if(n){var e=i._entries.indexOf(n);if(e>=0){i._entries.splice(e,1);i._lastCandidate=undefined;i._onDidChange.fire(i._entries.length);n=undefined}}}}};o.prototype.has=function(e){return this.all(e).length>0};o.prototype.all=function(e){if(!e||e.isTooLargeForHavingARichMode()){return[]}this._updateScores(e);var t=[];for(var i=0,n=this._entries;i<n.length;i++){var r=n[i];if(r._score>0){t.push(r.provider)}}return t};o.prototype.ordered=function(e){var t=[];this._orderedForEach(e,function(e){return t.push(e.provider)});return t};o.prototype.orderedGroups=function(e){var t=[];var i;var n;this._orderedForEach(e,function(e){if(i&&n===e._score){i.push(e.provider)}else{n=e._score;i=[e.provider];t.push(i)}});return t};o.prototype._orderedForEach=function(e,t){if(!e||e.isTooLargeForHavingARichMode()){return}this._updateScores(e);for(var i=0;i<this._entries.length;i++){var n=this._entries[i];if(n._score>0){t(n)}}};o.prototype._updateScores=function(e){var t={uri:e.uri.toString(),language:e.getLanguageIdentifier().language};if(this._lastCandidate&&this._lastCandidate.language===t.language&&this._lastCandidate.uri===t.uri){return}this._lastCandidate=t;for(var i=0,n=this._entries;i<n.length;i++){var r=n[i];r._score=s.score(r.selector,e.uri,e.getLanguageIdentifier().language)}this._entries.sort(o._compareByScoreAndTime)};o._compareByScoreAndTime=function(e,t){if(e._score<t._score){return 1}else if(e._score>t._score){return-1}else if(e._time<t._time){return 1}else if(e._time>t._time){return-1}else{return 0}};return o}();t.default=n});define(r[544],e([0,1,88,90]),function(e,t,n,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Invalid"]=0]="Invalid";e[e["Start"]=1]="Start";e[e["H"]=2]="H";e[e["HT"]=3]="HT";e[e["HTT"]=4]="HTT";e[e["HTTP"]=5]="HTTP";e[e["F"]=6]="F";e[e["FI"]=7]="FI";e[e["FIL"]=8]="FIL";e[e["BeforeColon"]=9]="BeforeColon";e[e["AfterColon"]=10]="AfterColon";e[e["AlmostThere"]=11]="AlmostThere";e[e["End"]=12]="End";e[e["Accept"]=13]="Accept"})(i||(i={}));var r=function(){function e(e){var t=0;var i=0;for(var n=0,r=e.length;n<r;n++){var o=e[n],s=o[0],a=o[1],u=o[2];if(a>t){t=a}if(s>i){i=s}if(u>i){i=u}}t++;i++;var l=new d.Uint8Matrix(i,t,0);for(var n=0,r=e.length;n<r;n++){var c=e[n],s=c[0],a=c[1],u=c[2];l.set(s,a,u)}this._states=l;this._maxCharCode=t}e.prototype.nextState=function(e,t){if(t<0||t>=this._maxCharCode){return 0}return this._states.get(e,t)};return e}();var o=null;function y(){if(o===null){o=new r([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])}return o}var s;(function(e){e[e["None"]=0]="None";e[e["ForceTermination"]=1]="ForceTermination";e[e["CannotEndIn"]=2]="CannotEndIn"})(s||(s={}));var a=null;function C(){if(a===null){a=new n.CharacterClassifier(0);var e=" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…";for(var t=0;t<e.length;t++){a.set(e.charCodeAt(t),1)}var i=".,;";for(var t=0;t<i.length;t++){a.set(i.charCodeAt(t),2)}}return a}var u=function(){function _(){}_._createLink=function(e,t,i,n,r){var o=r-1;do{var s=t.charCodeAt(o);var a=e.get(s);if(a!==2){break}o--}while(o>n);if(n>0){var u=t.charCodeAt(n-1);var l=t.charCodeAt(o);if(u===40&&l===41||u===91&&l===93||u===123&&l===125){o--}}return{range:{startLineNumber:i,startColumn:n+1,endLineNumber:i,endColumn:o+2},url:t.substring(n,o+1)}};_.computeLinks=function(e){var t=y();var i=C();var n=[];for(var r=1,o=e.getLineCount();r<=o;r++){var s=e.getLineContent(r);var a=s.length;var u=0;var l=0;var c=0;var d=1;var h=false;var f=false;var p=false;while(u<a){var g=false;var v=s.charCodeAt(u);if(d===13){var m=void 0;switch(v){case 40:h=true;m=0;break;case 41:m=h?0:1;break;case 91:f=true;m=0;break;case 93:m=f?0:1;break;case 123:p=true;m=0;break;case 125:m=p?0:1;break;case 39:m=c===34||c===96?0:1;break;case 34:m=c===39||c===96?0:1;break;case 96:m=c===39||c===34?0:1;break;default:m=i.get(v)}if(m===1){n.push(_._createLink(i,s,r,l,u));g=true}}else if(d===12){var m=i.get(v);if(m===1){g=true}else{d=13}}else{d=t.nextState(d,v);if(d===0){g=true}}if(g){d=1;h=false;f=false;p=false;l=u+1;c=v}u++}if(d===13){n.push(_._createLink(i,s,r,l,a))}}return n};return _}();function l(e){if(!e||typeof e.getLineCount!=="function"||typeof e.getLineContent!=="function"){return[]}return u.computeLinks(e)}t.computeLinks=l});define(r[551],e([0,1,61]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){if(e.autoClosingPairs){this._autoClosingPairs=e.autoClosingPairs.map(function(e){return new i.StandardAutoClosingPairConditional(e)})}else if(e.brackets){this._autoClosingPairs=e.brackets.map(function(e){return new i.StandardAutoClosingPairConditional({open:e[0],close:e[1]})})}else{this._autoClosingPairs=[]}this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}e.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs};e.prototype.shouldAutoClosePair=function(e,t,i){if(t.getTokenCount()===0){return true}var n=t.findTokenIndexAtOffset(i-2);var r=t.getStandardTokenType(n);for(var o=0;o<this._autoClosingPairs.length;++o){var s=this._autoClosingPairs[o];if(s.open===e){return s.isOK(r)}}return false};e.prototype.getSurroundingPairs=function(){return this._surroundingPairs};return e}();t.CharacterPairSupport=n});define(r[553],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["INCREASE_MASK"]=1]="INCREASE_MASK";e[e["DECREASE_MASK"]=2]="DECREASE_MASK";e[e["INDENT_NEXTLINE_MASK"]=4]="INDENT_NEXTLINE_MASK";e[e["UNINDENT_MASK"]=8]="UNINDENT_MASK"})(i=t.IndentConsts||(t.IndentConsts={}));var n=function(){function e(e){this._indentationRules=e}e.prototype.shouldIncrease=function(e){if(this._indentationRules){if(this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e)){return true}}return false};e.prototype.shouldDecrease=function(e){if(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e)){return true}return false};e.prototype.shouldIndentNextLine=function(e){if(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e)){return true}return false};e.prototype.shouldIgnore=function(e){if(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e)){return true}return false};e.prototype.getIndentMetadata=function(e){var t=0;if(this.shouldIncrease(e)){t+=1}if(this.shouldDecrease(e)){t+=2}if(this.shouldIndentNextLine(e)){t+=4}if(this.shouldIgnore(e)){t+=8}return t};return e}();t.IndentRulesSupport=n});define(r[554],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}e.prototype.navigateValueSet=function(e,t,i,n,r){if(e&&t){var o=this.doNavigateValueSet(t,r);if(o){return{range:e,value:o}}}if(i&&n){var o=this.doNavigateValueSet(n,r);if(o){return{range:i,value:o}}}return null};e.prototype.doNavigateValueSet=function(e,t){var i=this.numberReplace(e,t);if(i!==null){return i}return this.textReplace(e,t)};e.prototype.numberReplace=function(e,t){var i=Math.pow(10,e.length-(e.lastIndexOf(".")+1));var n=Number(e);var r=parseFloat(e);if(!isNaN(n)&&!isNaN(r)&&n===r){if(n===0&&!t){return null}else{n=Math.floor(n*i);n+=t?i:-i;return String(n/i)}}return null};e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)};e.prototype.valueSetsReplace=function(e,t,i){var n=null;for(var r=0,o=e.length;n===null&&r<o;r++){n=this.valueSetReplace(e[r],t,i)}return n};e.prototype.valueSetReplace=function(e,t,i){var n=e.indexOf(t);if(n>=0){n+=i?+1:-1;if(n<0){n=e.length-1}else{n%=e.length}return e[n]}return null};e.INSTANCE=new e;return e}();t.BasicInplaceReplace=i});define(r[555],e([0,1,13,5,61]),function(e,t,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function i(e){e=e||{};e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]];this._brackets=e.brackets.map(function(e){return{open:e[0],openRegExp:i._createOpenBracketRegExp(e[0]),close:e[1],closeRegExp:i._createCloseBracketRegExp(e[1])}});this._regExpRules=e.regExpRules||[]}i.prototype.onEnter=function(e,t,i){for(var n=0,r=this._regExpRules.length;n<r;n++){var o=this._regExpRules[n];if(o.beforeText.test(t)){if(o.afterText){if(o.afterText.test(i)){return o.action}}else{return o.action}}}if(t.length>0&&i.length>0){for(var n=0,r=this._brackets.length;n<r;n++){var s=this._brackets[n];if(s.openRegExp.test(t)&&s.closeRegExp.test(i)){return{indentAction:a.IndentAction.IndentOutdent}}}}if(t.length>0){for(var n=0,r=this._brackets.length;n<r;n++){var s=this._brackets[n];if(s.openRegExp.test(t)){return{indentAction:a.IndentAction.Indent}}}}return null};i._createOpenBracketRegExp=function(e){var t=r.escapeRegExpCharacters(e);if(!/\B/.test(t.charAt(0))){t="\\b"+t}t+="\\s*$";return i._safeRegExp(t)};i._createCloseBracketRegExp=function(e){var t=r.escapeRegExpCharacters(e);if(!/\B/.test(t.charAt(t.length-1))){t=t+"\\b"}t="^\\s*"+t;return i._safeRegExp(t)};i._safeRegExp=function(e){try{return new RegExp(e)}catch(e){n.onUnexpectedError(e);return null}};return i}();t.OnEnterSupport=i});define(r[97],e([0,1,5,3]),function(e,t,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t,i,n,r){this.languageIdentifier=e;this.open=t;this.close=i;this.forwardRegex=n;this.reversedRegex=r}return e}();t.RichEditBracket=r;var n=function(){function e(t,e){var i=this;this.brackets=e.map(function(e){return new r(t,e[0],e[1],s({open:e[0],close:e[1]}),a({open:e[0],close:e[1]}))});this.forwardRegex=l(this.brackets);this.reversedRegex=c(this.brackets);this.textIsBracket={};this.textIsOpenBracket={};var n=0;this.brackets.forEach(function(e){i.textIsBracket[e.open.toLowerCase()]=e;i.textIsBracket[e.close.toLowerCase()]=e;i.textIsOpenBracket[e.open.toLowerCase()]=true;i.textIsOpenBracket[e.close.toLowerCase()]=false;n=Math.max(n,e.open.length);n=Math.max(n,e.close.length)});this.maxBracketLength=n}return e}();t.RichEditBrackets=n;function o(i,n){var r={};return function(e){var t=i(e);if(!r.hasOwnProperty(t)){r[t]=n(e)}return r[t]}}var s=o(function(e){return e.open+";"+e.close},function(e){return d([e.open,e.close])});var a=o(function(e){return e.open+";"+e.close},function(e){return d([h(e.open),h(e.close)])});var l=o(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];e.forEach(function(e){t.push(e.open);t.push(e.close)});return d(t)});var c=o(function(e){return e.map(function(e){return e.open+";"+e.close}).join(";")},function(e){var t=[];e.forEach(function(e){t.push(h(e.open));t.push(h(e.close))});return d(t)});function d(e){var t="("+e.map(i.escapeRegExpCharacters).join(")|(")+")";return i.createRegExp(t,true)}var h=function(){function i(e){var t="";for(var i=e.length-1;i>=0;i--){t+=e.charAt(i)}return t}var n=null;var r=null;return function e(t){if(n!==t){n=t;r=i(n)}return r}}();var f=function(){function e(){}e._findPrevBracketInText=function(e,t,i,n){var r=i.match(e);if(!r){return null}var o=i.length-r.index;var s=r[0].length;var a=n+o;return new u.Range(t,a-s+1,t,a+1)};e.findPrevBracketInToken=function(e,t,i,n,r){var o=h(i);var s=o.substring(i.length-r,i.length-n);return this._findPrevBracketInText(e,t,s,n)};e.findNextBracketInText=function(e,t,i,n){var r=i.match(e);if(!r){return null}var o=r.index;var s=r[0].length;var a=n+o;return new u.Range(t,a+1,t,a+1+s)};e.findNextBracketInToken=function(e,t,i,n,r){var o=i.substring(n,r);return this.findNextBracketInText(e,t,o,n)};return e}();t.BracketsUtils=f});define(r[560],e([0,1,26]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=function(){function e(e,t,i,n,r){this.token=e;this.index=t;this.fontStyle=i;this.foreground=n;this.background=r}return e}();t.ParsedTokenThemeRule=f;function n(e){if(!e||!Array.isArray(e)){return[]}var t=[],i=0;for(var n=0,r=e.length;n<r;n++){var o=e[n];var s=-1;if(typeof o.fontStyle==="string"){s=0;var a=o.fontStyle.split(" ");for(var u=0,l=a.length;u<l;u++){var c=a[u];switch(c){case"italic":s=s|1;break;case"bold":s=s|2;break;case"underline":s=s|4;break}}}var d=null;if(typeof o.foreground==="string"){d=o.foreground}var h=null;if(typeof o.background==="string"){h=o.background}t[i++]=new f(o.token||"",n,s,d,h)}return t}t.parseTokenTheme=n;function r(e){e.sort(function(e,t){var i=p(e.token,t.token);if(i!==0){return i}return e.index-t.index});var t=0;var i="000000";var n="ffffff";while(e.length>=1&&e[0].token===""){var r=e.shift();if(r.fontStyle!==-1){t=r.fontStyle}if(r.foreground!==null){i=r.foreground}if(r.background!==null){n=r.background}}var o=new d;var s=new g(t,o.getId(i),o.getId(n));var a=new v(s);for(var u=0,l=e.length;u<l;u++){var c=e[u];a.insert(c.token,c.fontStyle,o.getId(c.foreground),o.getId(c.background))}return new h(o,a)}var d=function(){function e(){this._lastColorId=0;this._id2color=[];this._color2id=new Map}e.prototype.getId=function(e){if(e===null){return 0}e=e.toUpperCase();if(!/^[0-9A-F]{6}$/.test(e)){throw new Error("Illegal color name: "+e)}var t=this._color2id.get(e);if(t){return t}t=++this._lastColorId;this._color2id.set(e,t);this._id2color[t]=i.Color.fromHex("#"+e);return t};e.prototype.getColorMap=function(){return this._id2color.slice(0)};return e}();t.ColorMap=d;var h=function(){function e(e,t){this._colorMap=e;this._root=t;this._cache=new Map}e.createFromRawTokenTheme=function(e){return this.createFromParsedTokenTheme(n(e))};e.createFromParsedTokenTheme=function(e){return r(e)};e.prototype.getColorMap=function(){return this._colorMap.getColorMap()};e.prototype.getThemeTrieElement=function(){return this._root.toExternalThemeTrieElement()};e.prototype._match=function(e){return this._root.match(e)};e.prototype.match=function(e,t){var i=this._cache.get(t);if(typeof i==="undefined"){var n=this._match(t);var r=s(t);i=(n.metadata|r<<8)>>>0;this._cache.set(t,i)}return(i|e<<0)>>>0};return e}();t.TokenTheme=h;var o=/\b(comment|string|regex)\b/;function s(e){var t=e.match(o);if(!t){return 0}switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4}throw new Error("Unexpected match for standard token type!")}t.toStandardTokenType=s;function p(e,t){if(e<t){return-1}if(e>t){return 1}return 0}t.strcmp=p;var g=function(){function e(e,t,i){this._fontStyle=e;this._foreground=t;this._background=i;this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}e.prototype.clone=function(){return new e(this._fontStyle,this._foreground,this._background)};e.prototype.acceptOverwrite=function(e,t,i){if(e!==-1){this._fontStyle=e}if(t!==0){this._foreground=t}if(i!==0){this._background=i}this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0};return e}();t.ThemeTrieElementRule=g;var a=function(){function e(e,t){this.mainRule=e;this.children=t||Object.create(null)}return e}();t.ExternalThemeTrieElement=a;var v=function(){function u(e){this._mainRule=e;this._children=new Map}u.prototype.toExternalThemeTrieElement=function(){var i=Object.create(null);this._children.forEach(function(e,t){i[t]=e.toExternalThemeTrieElement()});return new a(this._mainRule,i)};u.prototype.match=function(e){if(e===""){return this._mainRule}var t=e.indexOf(".");var i;var n;if(t===-1){i=e;n=""}else{i=e.substring(0,t);n=e.substring(t+1)}var r=this._children.get(i);if(typeof r!=="undefined"){return r.match(n)}return this._mainRule};u.prototype.insert=function(e,t,i,n){if(e===""){this._mainRule.acceptOverwrite(t,i,n);return}var r=e.indexOf(".");var o;var s;if(r===-1){o=e;s=""}else{o=e.substring(0,r);s=e.substring(r+1)}var a=this._children.get(o);if(typeof a==="undefined"){a=new u(this._mainRule.clone());this._children.set(o,a)}a.insert(s,t,i,n)};return u}();t.ThemeTrieElement=v;function u(e){var t=[];for(var i=1,n=e.length;i<n;i++){var r=e[i];t[i]=".mtk"+i+" { color: "+r+"; }"}t.push(".mtki { font-style: italic; }");t.push(".mtkb { font-weight: bold; }");t.push(".mtku { text-decoration: underline; }");return t.join("\n")}t.generateTokensCSSForColorMap=u});define(r[562],e([0,1,4]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){this._onDidChange=new i.Emitter;this.onDidChange=this._onDidChange.event;this._map=Object.create(null);this._colorMap=null}e.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:false})};e.prototype.register=function(e,t){var i=this;this._map[e]=t;this.fire([e]);return{dispose:function(){if(i._map[e]!==t){return}delete i._map[e];i.fire([e])}}};e.prototype.get=function(e){return this._map[e]||null};e.prototype.setColorMap=function(e){this._colorMap=e;this._onDidChange.fire({changedLanguages:Object.keys(this._map),changedColorMap:true})};e.prototype.getColorMap=function(){return this._colorMap};e.prototype.getDefaultBackground=function(){return this._colorMap[2]};return e}();t.TokenizationRegistryImpl=n});define(r[17],e([0,1,536,562,29]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o;(function(e){e[e["Null"]=0]="Null";e[e["PlainText"]=1]="PlainText"})(o=t.LanguageId||(t.LanguageId={}));var s=function(){function e(e,t){this.language=e;this.id=t}return e}();t.LanguageIdentifier=s;var a;(function(e){e[e["NotSet"]=-1]="NotSet";e[e["None"]=0]="None";e[e["Italic"]=1]="Italic";e[e["Bold"]=2]="Bold";e[e["Underline"]=4]="Underline"})(a=t.FontStyle||(t.FontStyle={}));var u;(function(e){e[e["None"]=0]="None";e[e["DefaultForeground"]=1]="DefaultForeground";e[e["DefaultBackground"]=2]="DefaultBackground"})(u=t.ColorId||(t.ColorId={}));var l;(function(e){e[e["Other"]=0]="Other";e[e["Comment"]=1]="Comment";e[e["String"]=2]="String";e[e["RegEx"]=4]="RegEx"})(l=t.StandardTokenType||(t.StandardTokenType={}));var c;(function(e){e[e["LANGUAGEID_MASK"]=255]="LANGUAGEID_MASK";e[e["TOKEN_TYPE_MASK"]=1792]="TOKEN_TYPE_MASK";e[e["FONT_STYLE_MASK"]=14336]="FONT_STYLE_MASK";e[e["FOREGROUND_MASK"]=8372224]="FOREGROUND_MASK";e[e["BACKGROUND_MASK"]=4286578688]="BACKGROUND_MASK";e[e["LANGUAGEID_OFFSET"]=0]="LANGUAGEID_OFFSET";e[e["TOKEN_TYPE_OFFSET"]=8]="TOKEN_TYPE_OFFSET";e[e["FONT_STYLE_OFFSET"]=11]="FONT_STYLE_OFFSET";e[e["FOREGROUND_OFFSET"]=14]="FOREGROUND_OFFSET";e[e["BACKGROUND_OFFSET"]=23]="BACKGROUND_OFFSET"})(c=t.MetadataConsts||(t.MetadataConsts={}));var d=function(){function e(){}e.getLanguageId=function(e){return(e&255)>>>0};e.getTokenType=function(e){return(e&1792)>>>8};e.getFontStyle=function(e){return(e&14336)>>>11};e.getForeground=function(e){return(e&8372224)>>>14};e.getBackground=function(e){return(e&4286578688)>>>23};e.getClassNameFromMetadata=function(e){var t=this.getForeground(e);var i="mtk"+t;var n=this.getFontStyle(e);if(n&1){i+=" mtki"}if(n&2){i+=" mtkb"}if(n&4){i+=" mtku"}return i};e.getInlineStyleFromMetadata=function(e,t){var i=this.getForeground(e);var n=this.getFontStyle(e);var r="color: "+t[i]+";";if(n&1){r+="font-style: italic;"}if(n&2){r+="font-weight: bold;"}if(n&4){r+="text-decoration: underline;"}return r};return e}();t.TokenMetadata=d;var h;(function(e){e[e["Invoke"]=0]="Invoke";e[e["TriggerCharacter"]=1]="TriggerCharacter";e[e["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions"})(h=t.SuggestTriggerKind||(t.SuggestTriggerKind={}));var f;(function(e){e[e["Text"]=0]="Text";e[e["Read"]=1]="Read";e[e["Write"]=2]="Write"})(f=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var p;(function(e){e[e["File"]=0]="File";e[e["Module"]=1]="Module";e[e["Namespace"]=2]="Namespace";e[e["Package"]=3]="Package";e[e["Class"]=4]="Class";e[e["Method"]=5]="Method";e[e["Property"]=6]="Property";e[e["Field"]=7]="Field";e[e["Constructor"]=8]="Constructor";e[e["Enum"]=9]="Enum";e[e["Interface"]=10]="Interface";e[e["Function"]=11]="Function";e[e["Variable"]=12]="Variable";e[e["Constant"]=13]="Constant";e[e["String"]=14]="String";e[e["Number"]=15]="Number";e[e["Boolean"]=16]="Boolean";e[e["Array"]=17]="Array";e[e["Object"]=18]="Object";e[e["Key"]=19]="Key";e[e["Null"]=20]="Null";e[e["EnumMember"]=21]="EnumMember";e[e["Struct"]=22]="Struct";e[e["Event"]=23]="Event";e[e["Operator"]=24]="Operator";e[e["TypeParameter"]=25]="TypeParameter"})(p=t.SymbolKind||(t.SymbolKind={}));t.symbolKindToCssClass=function(){var i=Object.create(null);i[p.File]="file";i[p.Module]="module";i[p.Namespace]="namespace";i[p.Package]="package";i[p.Class]="class";i[p.Method]="method";i[p.Property]="property";i[p.Field]="field";i[p.Constructor]="constructor";i[p.Enum]="enum";i[p.Interface]="interface";i[p.Function]="function";i[p.Variable]="variable";i[p.Constant]="constant";i[p.String]="string";i[p.Number]="number";i[p.Boolean]="boolean";i[p.Array]="array";i[p.Object]="object";i[p.Key]="key";i[p.Null]="null";i[p.EnumMember]="enum-member";i[p.Struct]="struct";i[p.Event]="event";i[p.Operator]="operator";i[p.TypeParameter]="type-parameter";return function e(t){return i[t]||"property"}}();var g;(function(e){e["Comment"]="comment";e["Imports"]="imports";e["Region"]="region"})(g=t.FoldingRangeType||(t.FoldingRangeType={}));function v(e){return r.isObject(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}t.isResourceFileEdit=v;function m(e){return r.isObject(e)&&e.resource&&Array.isArray(e.edits)}t.isResourceTextEdit=m;t.ReferenceProviderRegistry=new i.default;t.RenameProviderRegistry=new i.default;t.SuggestRegistry=new i.default;t.SignatureHelpProviderRegistry=new i.default;t.HoverProviderRegistry=new i.default;t.DocumentSymbolProviderRegistry=new i.default;t.DocumentHighlightProviderRegistry=new i.default;t.DefinitionProviderRegistry=new i.default;t.ImplementationProviderRegistry=new i.default;t.TypeDefinitionProviderRegistry=new i.default;t.CodeLensProviderRegistry=new i.default;t.CodeActionProviderRegistry=new i.default;t.DocumentFormattingEditProviderRegistry=new i.default;t.DocumentRangeFormattingEditProviderRegistry=new i.default;t.OnTypeFormattingEditProviderRegistry=new i.default;t.LinkProviderRegistry=new i.default;t.ColorProviderRegistry=new i.default;t.FoldingProviderRegistry=new i.default;t.TokenizationRegistry=new n.TokenizationRegistryImpl});define(r[83],e([0,1,17]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function t(e,t){this._tokens=e;this._tokensCount=this._tokens.length>>>1;this._text=t}t.prototype.equals=function(e){if(e instanceof t){return this.slicedEquals(e,0,this._tokensCount)}return false};t.prototype.slicedEquals=function(e,t,i){if(this._text!==e._text){return false}if(this._tokensCount!==e._tokensCount){return false}var n=t<<1;var r=n+(i<<1);for(var o=n;o<r;o++){if(this._tokens[o]!==e._tokens[o]){return false}}return true};t.prototype.getLineContent=function(){return this._text};t.prototype.getCount=function(){return this._tokensCount};t.prototype.getStartOffset=function(e){if(e>0){return this._tokens[e-1<<1]}return 0};t.prototype.getLanguageId=function(e){var t=this._tokens[(e<<1)+1];return n.TokenMetadata.getLanguageId(t)};t.prototype.getStandardTokenType=function(e){var t=this._tokens[(e<<1)+1];return n.TokenMetadata.getTokenType(t)};t.prototype.getForeground=function(e){var t=this._tokens[(e<<1)+1];return n.TokenMetadata.getForeground(t)};t.prototype.getClassName=function(e){var t=this._tokens[(e<<1)+1];return n.TokenMetadata.getClassNameFromMetadata(t)};t.prototype.getInlineStyle=function(e,t){var i=this._tokens[(e<<1)+1];return n.TokenMetadata.getInlineStyleFromMetadata(i,t)};t.prototype.getEndOffset=function(e){return this._tokens[e<<1]};t.prototype.findTokenIndexAtOffset=function(e){return t.findIndexInTokensArray(this._tokens,e)};t.prototype.inflate=function(){return this};t.prototype.sliceAndInflate=function(e,t,i){return new r(this,e,t,i)};t.convertToEndOffset=function(e,t){var i=e.length>>>1;var n=i-1;for(var r=0;r<n;r++){e[r<<1]=e[r+1<<1]}e[n<<1]=t};t.findIndexInTokensArray=function(e,t){if(e.length<=2){return 0}var i=0;var n=(e.length>>>1)-1;while(i<n){var r=i+Math.floor((n-i)/2);var o=e[r<<1];if(o===t){return r+1}else if(o<t){i=r+1}else if(o>t){n=r}}return i};return t}();t.LineTokens=i;var r=function(){function t(e,t,i,n){this._source=e;this._startOffset=t;this._endOffset=i;this._deltaOffset=n;this._firstTokenIndex=e.findTokenIndexAtOffset(t);this._tokensCount=0;for(var r=this._firstTokenIndex,o=e.getCount();r<o;r++){var s=e.getStartOffset(r);if(s>=i){break}this._tokensCount++}}t.prototype.equals=function(e){if(e instanceof t){return this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount)}return false};t.prototype.getCount=function(){return this._tokensCount};t.prototype.getForeground=function(e){return this._source.getForeground(this._firstTokenIndex+e)};t.prototype.getEndOffset=function(e){var t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset};t.prototype.getClassName=function(e){return this._source.getClassName(this._firstTokenIndex+e)};t.prototype.getInlineStyle=function(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)};return t}();t.SlicedLineTokens=r});define(r[69],e([0,1,17,102]),function(e,t,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){}e.prototype.clone=function(){return this};e.prototype.equals=function(e){return this===e};return e}();t.NULL_STATE=new n;t.NULL_MODE_ID="vs.editor.nullMode";t.NULL_LANGUAGE_IDENTIFIER=new i.LanguageIdentifier(t.NULL_MODE_ID,0);function r(e,t,i,n){return new o.TokenizationResult([new o.Token(n,"",e)],i)}t.nullTokenize=r;function s(e,t,i,n){var r=new Uint32Array(2);r[0]=n;r[1]=(e<<0|0<<8|0<<11|1<<14|2<<23)>>>0;return new o.TokenizationResult2(r,i)}t.nullTokenize2=s});define(r[215],e([0,1,83,23,12,13,69]),function(e,t,g,a,u,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});function o(e){return(e<<0|0<<8|0<<11|1<<14|2<<23)>>>0}var v=new Uint32Array(0).buffer;var l=function(){function e(e){this._state=e;this._lineTokens=null;this._invalid=true}e.prototype.deleteBeginning=function(e){if(this._lineTokens===null||this._lineTokens===v){return}this.delete(0,e)};e.prototype.deleteEnding=function(e){if(this._lineTokens===null||this._lineTokens===v){return}var t=new Uint32Array(this._lineTokens);var i=t[t.length-2];this.delete(e,i)};e.prototype.delete=function(e,t){if(this._lineTokens===null||this._lineTokens===v||e===t){return}var i=new Uint32Array(this._lineTokens);var n=i.length>>>1;if(e===0&&i[i.length-2]===t){this._lineTokens=v;return}var r=g.LineTokens.findIndexInTokensArray(i,e);var o=r>0?i[r-1<<1]:0;var s=i[r<<1];if(t<s){var a=t-e;for(var u=r;u<n;u++){i[u<<1]-=a}return}var l;var c;if(o!==e){i[r<<1]=e;l=r+1<<1;c=e}else{l=r<<1;c=o}var d=t-e;for(var h=r+1;h<n;h++){var f=i[h<<1]-d;if(f>c){i[l++]=f;i[l++]=i[(h<<1)+1];c=f}}if(l===i.length){return}var p=new Uint32Array(l);p.set(i.subarray(0,l),0);this._lineTokens=p.buffer};e.prototype.append=function(e){if(e===v){return}if(this._lineTokens===v){this._lineTokens=e;return}if(this._lineTokens===null){return}if(e===null){this._lineTokens=null;return}var t=new Uint32Array(this._lineTokens);var i=new Uint32Array(e);var n=i.length>>>1;var r=new Uint32Array(t.length+i.length);r.set(t,0);var o=t.length;var s=t[t.length-2];for(var a=0;a<n;a++){r[o++]=i[a<<1]+s;r[o++]=i[(a<<1)+1]}this._lineTokens=r.buffer};e.prototype.insert=function(e,t){if(!this._lineTokens){return}var i=new Uint32Array(this._lineTokens);var n=i.length>>>1;var r=g.LineTokens.findIndexInTokensArray(i,e);if(r>0){var o=r>0?i[r-1<<1]:0;if(o===e){r--}}for(var s=r;s<n;s++){i[s<<1]+=t}};return e}();var i=function(){function e(e,t){this.languageIdentifier=e;this.tokenizationSupport=t;this._tokens=[];if(this.tokenizationSupport){var i=null;try{i=this.tokenizationSupport.getInitialState()}catch(e){d.onUnexpectedError(e);this.tokenizationSupport=null}if(i){this._tokens[0]=new l(i)}}this._invalidLineStartIndex=0;this._lastState=null}e.prototype.getTokens=function(e,t,i){var n=null;if(t<this._tokens.length){n=this._tokens[t]._lineTokens}if(n!==null&&n!==v){return new g.LineTokens(new Uint32Array(n),i)}var r=new Uint32Array(2);r[0]=i.length;r[1]=o(e);return new g.LineTokens(r,i)};e.prototype.isCheapToTokenize=function(e){var t=this._invalidLineStartIndex+1;return t>=e};e.prototype.hasLinesToTokenize=function(e){return this._invalidLineStartIndex<e.getLineCount()};e.prototype.invalidateLine=function(e){this._setIsInvalid(e,true);if(e<this._invalidLineStartIndex){this._setIsInvalid(this._invalidLineStartIndex,true);this._invalidLineStartIndex=e}};e.prototype._setIsInvalid=function(e,t){if(e<this._tokens.length){this._tokens[e]._invalid=t}};e.prototype._isInvalid=function(e){if(e<this._tokens.length){return this._tokens[e]._invalid}return true};e.prototype._getState=function(e){if(e<this._tokens.length){return this._tokens[e]._state}return null};e.prototype._setTokens=function(e,t,i,n){var r;if(t<this._tokens.length){r=this._tokens[t]}else{r=new l(null);this._tokens[t]=r}if(i===0){r._lineTokens=v;return}if(!n||n.length===0){n=new Uint32Array(2);n[0]=0;n[1]=o(e)}g.LineTokens.convertToEndOffset(n,i);r._lineTokens=n.buffer};e.prototype._setState=function(e,t){if(e<this._tokens.length){this._tokens[e]._state=t}else{var i=new l(t);this._tokens[e]=i}};e.prototype.applyEdits=function(e,t,i){var n=e.endLineNumber-e.startLineNumber;var r=t;var o=Math.min(n,r);for(var s=o;s>=0;s--){this.invalidateLine(e.startLineNumber+s-1)}this._acceptDeleteRange(e);this._acceptInsertText(new u.Position(e.startLineNumber,e.startColumn),t,i)};e.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;if(t>=this._tokens.length){return}if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn){return}this._tokens[t].delete(e.startColumn-1,e.endColumn-1);return}var i=this._tokens[t];i.deleteEnding(e.startColumn-1);var n=e.endLineNumber-1;var r=null;if(n<this._tokens.length){var o=this._tokens[n];o.deleteBeginning(e.endColumn-1);r=o._lineTokens}i.append(r);this._tokens.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber)};e.prototype._acceptInsertText=function(e,t,i){if(t===0&&i===0){return}var n=e.lineNumber-1;if(n>=this._tokens.length){return}if(t===0){this._tokens[n].insert(e.column-1,i);return}var r=this._tokens[n];r.deleteEnding(e.column-1);r.insert(e.column-1,i);var o=new Array(t);for(var s=t-1;s>=0;s--){o[s]=new l(null)}this._tokens=a.arrayInsert(this._tokens,e.lineNumber,o)};e.prototype._tokenizeOneLine=function(e,t){if(!this.hasLinesToTokenize(e)){return e.getLineCount()+1}var i=this._invalidLineStartIndex+1;this._updateTokensUntilLine(e,t,i);return i};e.prototype._updateTokensUntilLine=function(e,t,i){if(!this.tokenizationSupport){this._invalidLineStartIndex=e.getLineCount();return}var n=e.getLineCount();var r=i-1;for(var o=this._invalidLineStartIndex;o<=r;o++){var s=o+1;var a=null;var u=e.getLineContent(o+1);try{var l=this._getState(o).clone();a=this.tokenizationSupport.tokenize2(u,l,0)}catch(e){d.onUnexpectedError(e)}if(!a){a=h.nullTokenize2(this.languageIdentifier.id,u,this._getState(o),0)}this._setTokens(this.languageIdentifier.id,o,u.length,a.tokens);t.registerChangedTokens(o+1);this._setIsInvalid(o,false);if(s<n){if(this._getState(s)!==null&&a.endState.equals(this._getState(s))){var c=o+1;while(c<n){if(this._isInvalid(c)){break}if(c+1<n){if(this._getState(c+1)===null){break}}else{if(this._lastState===null){break}}c++}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,c);o=c-1}else{this._setState(s,a.endState)}}else{this._lastState=a.endState}}this._invalidLineStartIndex=Math.max(this._invalidLineStartIndex,r+1)};return e}();t.ModelLinesTokens=i;var n=function(){function e(){this._ranges=[]}e.prototype.registerChangedTokens=function(e){var t=this._ranges;var i=t.length;var n=i>0?t[i-1]:null;if(n&&n.toLineNumber===e-1){n.toLineNumber++}else{t[i]={fromLineNumber:e,toLineNumber:e}}};e.prototype.build=function(){if(this._ranges.length===0){return null}return{ranges:this._ranges}};return e}();t.ModelTokensChangedEventBuilder=n});define(r[96],e([0,1,17]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e,t){var i=e.getCount();var n=e.findTokenIndexAtOffset(t);var r=e.getLanguageId(n);var o=n;while(o+1<i&&e.getLanguageId(o+1)===r){o++}var s=n;while(s>0&&e.getLanguageId(s-1)===r){s--}return new a(e,r,s,o+1,e.getStartOffset(s),e.getEndOffset(o))}t.createScopedLineTokens=n;var a=function(){function e(e,t,i,n,r,o){this._actual=e;this.languageId=t;this._firstTokenIndex=i;this._lastTokenIndex=n;this.firstCharOffset=r;this._lastCharOffset=o}e.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)};e.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex};e.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex};e.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)};return e}();t.ScopedLineTokens=a;var r;(function(e){e[e["value"]=7]="value"})(r||(r={}));function o(e){return(e&7)!==0}t.ignoreBracketsInToken=o});define(r[217],e([0,1,96,97,61]),function(e,t,c,d,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){i=i||{};this._richEditBrackets=e;this._complexAutoClosePairs=t.filter(function(e){return e.open.length>1&&!!e.close}).map(function(e){return new n.StandardAutoClosingPairConditional(e)});if(i.docComment){this._complexAutoClosePairs.push(new n.StandardAutoClosingPairConditional({open:i.docComment.open,close:i.docComment.close}))}}e.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets){for(var t=0,i=this._richEditBrackets.brackets.length;t<i;t++){var n=this._richEditBrackets.brackets[t];var r=n.close.charAt(n.close.length-1);e.push(r)}}for(var o=0,s=this._complexAutoClosePairs;o<s.length;o++){var a=s[o];e.push(a.open.charAt(a.open.length-1))}e=e.filter(function(e,t,i){return i.indexOf(e)===t});return e};e.prototype.onElectricCharacter=function(e,t,i){return this._onElectricAutoClose(e,t,i)||this._onElectricAutoIndent(e,t,i)};e.prototype._onElectricAutoIndent=function(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0){return null}var n=t.findTokenIndexAtOffset(i-1);if(c.ignoreBracketsInToken(t.getStandardTokenType(n))){return null}var r=this._richEditBrackets.reversedRegex;var o=t.getLineContent().substring(0,i-1)+e;var s=d.BracketsUtils.findPrevBracketInToken(r,1,o,0,o.length);if(!s){return null}var a=o.substring(s.startColumn-1,s.endColumn-1);a=a.toLowerCase();var u=this._richEditBrackets.textIsOpenBracket[a];if(u){return null}var l=o.substring(0,s.startColumn-1);if(!/^\s*$/.test(l)){return null}return{matchOpenBracket:a}};e.prototype._onElectricAutoClose=function(e,t,i){if(!this._complexAutoClosePairs.length){return null}var n=t.getLineContent();for(var r=0,o=this._complexAutoClosePairs.length;r<o;r++){var s=this._complexAutoClosePairs[r];if(e!==s.open.charAt(s.open.length-1)){continue}var a=n.substring(n.length-s.open.length+1)+e;if(a!==s.open){continue}var u=t.findTokenIndexAtOffset(i-1);var l=t.getStandardTokenType(u);if(!s.isOK(l)){continue}if(n.indexOf(s.close,i-1)>=0){continue}return{appendText:s.close}}return null};return e}();t.BracketElectricCharacterSupport=i});define(r[40],e([0,1,551,217,555,553,97,4,13,5,99,96,3,61]),function(e,t,o,i,n,s,a,r,f,C,u,b,l,S){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(){function r(e,t,i){this._languageIdentifier=e;this._brackets=null;this._electricCharacter=null;var n=null;if(t){n=t._conf}this._conf=r._mergeConf(n,i);this.onEnter=r._handleOnEnter(this._conf);this.comments=r._handleComments(this._conf);this.characterPair=new o.CharacterPairSupport(this._conf);this.wordDefinition=this._conf.wordPattern||u.DEFAULT_WORD_REGEXP;this.indentationRules=this._conf.indentationRules;if(this._conf.indentationRules){this.indentRulesSupport=new s.IndentRulesSupport(this._conf.indentationRules)}this.foldingRules=this._conf.folding||{}}Object.defineProperty(r.prototype,"brackets",{get:function(){if(!this._brackets&&this._conf.brackets){this._brackets=new a.RichEditBrackets(this._languageIdentifier,this._conf.brackets)}return this._brackets},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"electricCharacter",{get:function(){if(!this._electricCharacter){var e=[];if(this._conf.autoClosingPairs){e=this._conf.autoClosingPairs}else if(this._conf.brackets){e=this._conf.brackets.map(function(e){return{open:e[0],close:e[1]}})}this._electricCharacter=new i.BracketElectricCharacterSupport(this.brackets,e,this._conf.__electricCharacterSupport)}return this._electricCharacter},enumerable:true,configurable:true});r._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}};r._handleOnEnter=function(e){var t={};var i=true;if(e.brackets){i=false;t.brackets=e.brackets}if(e.indentationRules){i=false}if(e.onEnterRules){i=false;t.regExpRules=e.onEnterRules}if(!i){return new n.OnEnterSupport(t)}return null};r._handleComments=function(e){var t=e.comments;if(!t){return null}var i={};if(t.lineComment){i.lineCommentToken=t.lineComment}if(t.blockComment){var n=t.blockComment,r=n[0],o=n[1];i.blockCommentStartToken=r;i.blockCommentEndToken=o}return i};return r}();t.RichEditSupport=c;var d=function(){function e(){}return e}();t.LanguageConfigurationChangeEvent=d;var h=function(){function e(){this._onDidChange=new r.Emitter;this.onDidChange=this._onDidChange.event;this._entries=[]}e.prototype.register=function(e,t){var i=this;var n=this._getRichEditSupport(e.id);var r=new c(e,n,t);this._entries[e.id]=r;this._onDidChange.fire({languageIdentifier:e});return{dispose:function(){if(i._entries[e.id]===r){i._entries[e.id]=n;i._onDidChange.fire({languageIdentifier:e})}}}};e.prototype._getRichEditSupport=function(e){return this._entries[e]||null};e.prototype.getIndentationRules=function(e){var t=this._entries[e];if(!t){return null}return t.indentationRules||null};e.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);if(!t){return null}return t.electricCharacter||null};e.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);if(!t){return[]}return t.getElectricCharacters()};e.prototype.onElectricCharacter=function(e,t,i){var n=b.createScopedLineTokens(t,i-1);var r=this._getElectricCharacterSupport(n.languageId);if(!r){return null}return r.onElectricCharacter(e,n,i-n.firstCharOffset)};e.prototype.getComments=function(e){var t=this._getRichEditSupport(e);if(!t){return null}return t.comments||null};e.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);if(!t){return null}return t.characterPair||null};e.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);if(!t){return[]}return t.getAutoClosingPairs()};e.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);if(!t){return[]}return t.getSurroundingPairs()};e.prototype.shouldAutoClosePair=function(e,t,i){var n=b.createScopedLineTokens(t,i-1);var r=this._getCharacterPairSupport(n.languageId);if(!r){return false}return r.shouldAutoClosePair(e,n,i-n.firstCharOffset)};e.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);if(!t){return u.ensureValidWordDefinition(null)}return u.ensureValidWordDefinition(t.wordDefinition||null)};e.prototype.getFoldingRules=function(e){var t=this._getRichEditSupport(e);if(!t){return{}}return t.foldingRules};e.prototype.getIndentRulesSupport=function(e){var t=this._getRichEditSupport(e);if(!t){return null}return t.indentRulesSupport||null};e.prototype.getPrecedingValidLine=function(e,t,i){var n=e.getLanguageIdAtPosition(t,0);if(t>1){var r=t-1;var o=-1;for(r=t-1;r>=1;r--){if(e.getLanguageIdAtPosition(r,0)!==n){return o}var s=e.getLineContent(r);if(i.shouldIgnore(s)||/^\s+$/.test(s)||s===""){o=r;continue}return r}}return-1};e.prototype.getInheritIndentForLine=function(e,t,i){if(i===void 0){i=true}var n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);if(!n){return null}if(t<=1){return{indentation:"",action:null}}var r=this.getPrecedingValidLine(e,t,n);if(r<0){return null}else if(r<1){return{indentation:"",action:null}}var o=e.getLineContent(r);if(n.shouldIncrease(o)||n.shouldIndentNextLine(o)){return{indentation:C.getLeadingWhitespace(o),action:S.IndentAction.Indent,line:r}}else if(n.shouldDecrease(o)){return{indentation:C.getLeadingWhitespace(o),action:null,line:r}}else{if(r===1){return{indentation:C.getLeadingWhitespace(e.getLineContent(r)),action:null,line:r}}var s=r-1;var a=n.getIndentMetadata(e.getLineContent(s));if(!(a&(1|2))&&a&4){var u=0;for(var l=s-1;l>0;l--){if(n.shouldIndentNextLine(e.getLineContent(l))){continue}u=l;break}return{indentation:C.getLeadingWhitespace(e.getLineContent(u+1)),action:null,line:u+1}}if(i){return{indentation:C.getLeadingWhitespace(e.getLineContent(r)),action:null,line:r}}else{for(var l=r;l>0;l--){var c=e.getLineContent(l);if(n.shouldIncrease(c)){return{indentation:C.getLeadingWhitespace(c),action:S.IndentAction.Indent,line:l}}else if(n.shouldIndentNextLine(c)){var u=0;for(var d=l-1;d>0;d--){if(n.shouldIndentNextLine(e.getLineContent(l))){continue}u=d;break}return{indentation:C.getLeadingWhitespace(e.getLineContent(u+1)),action:null,line:u+1}}else if(n.shouldDecrease(c)){return{indentation:C.getLeadingWhitespace(c),action:null,line:l}}}return{indentation:C.getLeadingWhitespace(e.getLineContent(1)),action:null,line:1}}}};e.prototype.getGoodIndentForLine=function(e,t,i,n){var r=this.getIndentRulesSupport(t);if(!r){return null}var o=this.getInheritIndentForLine(e,i);var s=e.getLineContent(i);if(o){var a=o.line;if(a!==undefined){var u=this._getOnEnterSupport(t);var l=null;try{l=u.onEnter("",e.getLineContent(a),"")}catch(e){f.onUnexpectedError(e)}if(l){var c=C.getLeadingWhitespace(e.getLineContent(a));if(l.removeText){c=c.substring(0,c.length-l.removeText)}if(l.indentAction===S.IndentAction.Indent||l.indentAction===S.IndentAction.IndentOutdent){c=n.shiftIndent(c)}else if(l.indentAction===S.IndentAction.Outdent){c=n.unshiftIndent(c)}if(r.shouldDecrease(s)){c=n.unshiftIndent(c)}if(l.appendText){c+=l.appendText}return C.getLeadingWhitespace(c)}}if(r.shouldDecrease(s)){if(o.action===S.IndentAction.Indent){return o.indentation}else{return n.unshiftIndent(o.indentation)}}else{if(o.action===S.IndentAction.Indent){return n.shiftIndent(o.indentation)}else{return o.indentation}}}return null};e.prototype.getIndentForEnter=function(i,t,e,n){i.forceTokenization(t.startLineNumber);var r=i.getLineTokens(t.startLineNumber);var o;var s;var a=b.createScopedLineTokens(r,t.startColumn-1);var u=a.getLineContent();var l=false;if(a.firstCharOffset>0&&r.getLanguageId(0)!==a.languageId){l=true;o=u.substr(0,t.startColumn-1-a.firstCharOffset)}else{o=r.getLineContent().substring(0,t.startColumn-1)}if(t.isEmpty()){s=u.substr(t.startColumn-1-a.firstCharOffset)}else{var c=this.getScopedLineTokens(i,t.endLineNumber,t.endColumn);s=c.getLineContent().substr(t.endColumn-1-a.firstCharOffset)}var d=this.getIndentRulesSupport(a.languageId);if(!d){return null}var h=o;var f=C.getLeadingWhitespace(o);if(!n&&!l){var p=this.getInheritIndentForLine(i,t.startLineNumber);if(d.shouldDecrease(o)){if(p){f=p.indentation;if(p.action!==S.IndentAction.Indent){f=e.unshiftIndent(f)}}}h=f+C.ltrim(C.ltrim(o," "),"\t")}var g={getLineTokens:function(e){return i.getLineTokens(e)},getLanguageIdentifier:function(){return i.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,t){return i.getLanguageIdAtPosition(e,t)},getLineContent:function(e){if(e===t.startLineNumber){return h}else{return i.getLineContent(e)}}};var v=C.getLeadingWhitespace(r.getLineContent());var m=this.getInheritIndentForLine(g,t.startLineNumber+1);if(!m){var _=l?v:f;return{beforeEnter:_,afterEnter:_}}var y=l?v:m.indentation;if(m.action===S.IndentAction.Indent){y=e.shiftIndent(y)}if(d.shouldDecrease(s)){y=e.unshiftIndent(y)}return{beforeEnter:l?v:f,afterEnter:y}};e.prototype.getIndentActionForType=function(e,t,i,n){var r=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn);var o=this.getIndentRulesSupport(r.languageId);if(!o){return null}var s=r.getLineContent();var a=s.substr(0,t.startColumn-1-r.firstCharOffset);var u;if(t.isEmpty()){u=s.substr(t.startColumn-1-r.firstCharOffset)}else{var l=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);u=l.getLineContent().substr(t.endColumn-1-r.firstCharOffset)}if(!o.shouldDecrease(a+u)&&o.shouldDecrease(a+i+u)){var c=this.getInheritIndentForLine(e,t.startLineNumber,false);if(!c){return null}var d=c.indentation;if(c.action!==S.IndentAction.Indent){d=n.unshiftIndent(d)}return d}return null};e.prototype.getIndentMetadata=function(e,t){var i=this.getIndentRulesSupport(e.getLanguageIdentifier().id);if(!i){return null}if(t<1||t>e.getLineCount()){return null}return i.getIndentMetadata(e.getLineContent(t))};e.prototype._getOnEnterSupport=function(e){var t=this._getRichEditSupport(e);if(!t){return null}return t.onEnter||null};e.prototype.getRawEnterActionAtPosition=function(e,t,i){var n=this.getEnterAction(e,new l.Range(t,i,t,i));return n?n.enterAction:null};e.prototype.getEnterAction=function(e,t){var i=this.getIndentationAtPosition(e,t.startLineNumber,t.startColumn);var n=this.getScopedLineTokens(e,t.startLineNumber,t.startColumn);var r=this._getOnEnterSupport(n.languageId);if(!r){return null}var o=n.getLineContent();var s=o.substr(0,t.startColumn-1-n.firstCharOffset);var a;if(t.isEmpty()){a=o.substr(t.startColumn-1-n.firstCharOffset)}else{var u=this.getScopedLineTokens(e,t.endLineNumber,t.endColumn);a=u.getLineContent().substr(t.endColumn-1-n.firstCharOffset)}var l=t.startLineNumber;var c="";if(l>1&&n.firstCharOffset===0){var d=this.getScopedLineTokens(e,l-1);if(d.languageId===n.languageId){c=d.getLineContent()}}var h=null;try{h=r.onEnter(c,s,a)}catch(e){f.onUnexpectedError(e)}if(!h){return null}else{if(!h.appendText){if(h.indentAction===S.IndentAction.Indent||h.indentAction===S.IndentAction.IndentOutdent){h.appendText="\t"}else{h.appendText=""}}}if(h.removeText){i=i.substring(0,i.length-h.removeText)}return{enterAction:h,indentation:i}};e.prototype.getIndentationAtPosition=function(e,t,i){var n=e.getLineContent(t);var r=C.getLeadingWhitespace(n);if(r.length>i-1){r=r.substring(0,i-1)}return r};e.prototype.getScopedLineTokens=function(e,t,i){e.forceTokenization(t);var n=e.getLineTokens(t);var r=isNaN(i)?e.getLineMaxColumn(t)-1:i-1;var o=b.createScopedLineTokens(n,r);return o};e.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);if(!t){return null}return t.brackets||null};return e}();t.LanguageConfigurationRegistryImpl=h;t.LanguageConfigurationRegistry=new h});define(r[180],e([0,1,5,17,69,83]),function(e,t,v,i,n,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){return a(e,s(t))}t.tokenizeToString=r;function o(e,t,i,n,r,o){var s="<div>";var a=n;var u=0;for(var l=0,c=t.getCount();l<c;l++){var d=t.getEndOffset(l);if(d<=n){continue}var h="";for(;a<d&&a<r;a++){var f=e.charCodeAt(a);switch(f){case 9:var p=o-(a+u)%o;u+=p-1;while(p>0){h+="&nbsp;";p--}break;case 60:h+="&lt;";break;case 62:h+="&gt;";break;case 38:h+="&amp;";break;case 0:h+="&#00;";break;case 65279:case 8232:h+="�";break;case 13:h+="&#8203";break;default:h+=String.fromCharCode(f)}}s+='<span style="'+t.getInlineStyle(l,i)+'">'+h+"</span>";if(d>r||a>=r){break}}s+="</div>";return s}t.tokenizeLineToHTML=o;function s(e){var t=i.TokenizationRegistry.get(e);if(t){return t}return{getInitialState:function(){return n.NULL_STATE},tokenize:undefined,tokenize2:function(e,t,i){return n.nullTokenize2(0,e,t,i)}}}function a(e,t){var i='<div class="monaco-tokenized-source">';var n=e.split(/\r\n|\r|\n/);var r=t.getInitialState();for(var o=0,s=n.length;o<s;o++){var a=n[o];if(o>0){i+="<br/>"}var u=t.tokenize2(a,r,0);m.LineTokens.convertToEndOffset(u.tokens,a.length);var l=new m.LineTokens(u.tokens,a);var c=l.inflate();var d=0;for(var h=0,f=c.getCount();h<f;h++){var p=c.getClassName(h);var g=c.getEndOffset(h);i+='<span class="'+p+'">'+v.escape(a.substring(d,g))+"</span>";d=g}r=u.endState}i+="</div>";return i}});define(r[181],e([0,1,4,37,12,3,20,7,120,102,30]),function(e,t,i,n,r,o,s,a,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d;(function(e){e[e["Ignore"]=0]="Ignore";e[e["Info"]=1]="Info";e[e["Warning"]=2]="Warning";e[e["Error"]=3]="Error"})(d=t.Severity||(t.Severity={}));var h=function(){function e(){}e.chord=function(e,t){return n.KeyChord(e,t)};e.CtrlCmd=2048;e.Shift=1024;e.Alt=512;e.WinCtrl=256;return e}();t.KeyMod=h;var f;(function(e){e[e["Unknown"]=0]="Unknown";e[e["Backspace"]=1]="Backspace";e[e["Tab"]=2]="Tab";e[e["Enter"]=3]="Enter";e[e["Shift"]=4]="Shift";e[e["Ctrl"]=5]="Ctrl";e[e["Alt"]=6]="Alt";e[e["PauseBreak"]=7]="PauseBreak";e[e["CapsLock"]=8]="CapsLock";e[e["Escape"]=9]="Escape";e[e["Space"]=10]="Space";e[e["PageUp"]=11]="PageUp";e[e["PageDown"]=12]="PageDown";e[e["End"]=13]="End";e[e["Home"]=14]="Home";e[e["LeftArrow"]=15]="LeftArrow";e[e["UpArrow"]=16]="UpArrow";e[e["RightArrow"]=17]="RightArrow";e[e["DownArrow"]=18]="DownArrow";e[e["Insert"]=19]="Insert";e[e["Delete"]=20]="Delete";e[e["KEY_0"]=21]="KEY_0";e[e["KEY_1"]=22]="KEY_1";e[e["KEY_2"]=23]="KEY_2";e[e["KEY_3"]=24]="KEY_3";e[e["KEY_4"]=25]="KEY_4";e[e["KEY_5"]=26]="KEY_5";e[e["KEY_6"]=27]="KEY_6";e[e["KEY_7"]=28]="KEY_7";e[e["KEY_8"]=29]="KEY_8";e[e["KEY_9"]=30]="KEY_9";e[e["KEY_A"]=31]="KEY_A";e[e["KEY_B"]=32]="KEY_B";e[e["KEY_C"]=33]="KEY_C";e[e["KEY_D"]=34]="KEY_D";e[e["KEY_E"]=35]="KEY_E";e[e["KEY_F"]=36]="KEY_F";e[e["KEY_G"]=37]="KEY_G";e[e["KEY_H"]=38]="KEY_H";e[e["KEY_I"]=39]="KEY_I";e[e["KEY_J"]=40]="KEY_J";e[e["KEY_K"]=41]="KEY_K";e[e["KEY_L"]=42]="KEY_L";e[e["KEY_M"]=43]="KEY_M";e[e["KEY_N"]=44]="KEY_N";e[e["KEY_O"]=45]="KEY_O";e[e["KEY_P"]=46]="KEY_P";e[e["KEY_Q"]=47]="KEY_Q";e[e["KEY_R"]=48]="KEY_R";e[e["KEY_S"]=49]="KEY_S";e[e["KEY_T"]=50]="KEY_T";e[e["KEY_U"]=51]="KEY_U";e[e["KEY_V"]=52]="KEY_V";e[e["KEY_W"]=53]="KEY_W";e[e["KEY_X"]=54]="KEY_X";e[e["KEY_Y"]=55]="KEY_Y";e[e["KEY_Z"]=56]="KEY_Z";e[e["Meta"]=57]="Meta";e[e["ContextMenu"]=58]="ContextMenu";e[e["F1"]=59]="F1";e[e["F2"]=60]="F2";e[e["F3"]=61]="F3";e[e["F4"]=62]="F4";e[e["F5"]=63]="F5";e[e["F6"]=64]="F6";e[e["F7"]=65]="F7";e[e["F8"]=66]="F8";e[e["F9"]=67]="F9";e[e["F10"]=68]="F10";e[e["F11"]=69]="F11";e[e["F12"]=70]="F12";e[e["F13"]=71]="F13";e[e["F14"]=72]="F14";e[e["F15"]=73]="F15";e[e["F16"]=74]="F16";e[e["F17"]=75]="F17";e[e["F18"]=76]="F18";e[e["F19"]=77]="F19";e[e["NumLock"]=78]="NumLock";e[e["ScrollLock"]=79]="ScrollLock";e[e["US_SEMICOLON"]=80]="US_SEMICOLON";e[e["US_EQUAL"]=81]="US_EQUAL";e[e["US_COMMA"]=82]="US_COMMA";e[e["US_MINUS"]=83]="US_MINUS";e[e["US_DOT"]=84]="US_DOT";e[e["US_SLASH"]=85]="US_SLASH";e[e["US_BACKTICK"]=86]="US_BACKTICK";e[e["US_OPEN_SQUARE_BRACKET"]=87]="US_OPEN_SQUARE_BRACKET";e[e["US_BACKSLASH"]=88]="US_BACKSLASH";e[e["US_CLOSE_SQUARE_BRACKET"]=89]="US_CLOSE_SQUARE_BRACKET";e[e["US_QUOTE"]=90]="US_QUOTE";e[e["OEM_8"]=91]="OEM_8";e[e["OEM_102"]=92]="OEM_102";e[e["NUMPAD_0"]=93]="NUMPAD_0";e[e["NUMPAD_1"]=94]="NUMPAD_1";e[e["NUMPAD_2"]=95]="NUMPAD_2";e[e["NUMPAD_3"]=96]="NUMPAD_3";e[e["NUMPAD_4"]=97]="NUMPAD_4";e[e["NUMPAD_5"]=98]="NUMPAD_5";e[e["NUMPAD_6"]=99]="NUMPAD_6";e[e["NUMPAD_7"]=100]="NUMPAD_7";e[e["NUMPAD_8"]=101]="NUMPAD_8";e[e["NUMPAD_9"]=102]="NUMPAD_9";e[e["NUMPAD_MULTIPLY"]=103]="NUMPAD_MULTIPLY";e[e["NUMPAD_ADD"]=104]="NUMPAD_ADD";e[e["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR";e[e["NUMPAD_SUBTRACT"]=106]="NUMPAD_SUBTRACT";e[e["NUMPAD_DECIMAL"]=107]="NUMPAD_DECIMAL";e[e["NUMPAD_DIVIDE"]=108]="NUMPAD_DIVIDE";e[e["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION";e[e["ABNT_C1"]=110]="ABNT_C1";e[e["ABNT_C2"]=111]="ABNT_C2";e[e["MAX_VALUE"]=112]="MAX_VALUE"})(f=t.KeyCode||(t.KeyCode={}));function p(){return{editor:undefined,languages:undefined,CancellationTokenSource:u.CancellationTokenSource,Emitter:i.Emitter,KeyCode:f,KeyMod:h,Position:r.Position,Range:o.Range,Selection:s.Selection,SelectionDirection:s.SelectionDirection,Severity:d,Promise:a.TPromise,Uri:c.default,Token:l.Token}}t.createMonacoBaseAPI=p});define(r[145],e([0,1,17,4,433]),function(e,t,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(){var t=this;this._onDidChange=new i.Emitter;this.onDidChange=this._onDidChange.event;this._updateColorMap();r.TokenizationRegistry.onDidChange(function(e){if(e.changedColorMap){t._updateColorMap()}})}e.getInstance=function(){if(!this._INSTANCE){this._INSTANCE=new e}return this._INSTANCE};e.prototype._updateColorMap=function(){var e=r.TokenizationRegistry.getColorMap();if(!e){this._colors=[null];this._backgroundIsLight=true;return}this._colors=[null];for(var t=1;t<e.length;t++){var i=e[t].rgba;this._colors[t]=new o.RGBA8(i.r,i.g,i.b,Math.round(i.a*255))}var n=e[2].getRelativeLuminance();this._backgroundIsLight=n>=.5;this._onDidChange.fire(void 0)};e.prototype.getColor=function(e){if(e<1||e>=this._colors.length){e=2}return this._colors[e]};e.prototype.backgroundIsLight=function(){return this._backgroundIsLight};e._INSTANCE=null;return e}();t.MinimapTokensColorTracker=n;var s;(function(e){e[e["START_CH_CODE"]=32]="START_CH_CODE";e[e["END_CH_CODE"]=126]="END_CH_CODE";e[e["CHAR_COUNT"]=95]="CHAR_COUNT";e[e["SAMPLED_CHAR_HEIGHT"]=16]="SAMPLED_CHAR_HEIGHT";e[e["SAMPLED_CHAR_WIDTH"]=10]="SAMPLED_CHAR_WIDTH";e[e["SAMPLED_HALF_CHAR_WIDTH"]=5]="SAMPLED_HALF_CHAR_WIDTH";e[e["x2_CHAR_HEIGHT"]=4]="x2_CHAR_HEIGHT";e[e["x2_CHAR_WIDTH"]=2]="x2_CHAR_WIDTH";e[e["x1_CHAR_HEIGHT"]=2]="x1_CHAR_HEIGHT";e[e["x1_CHAR_WIDTH"]=1]="x1_CHAR_WIDTH";e[e["RGBA_CHANNELS_CNT"]=4]="RGBA_CHANNELS_CNT"})(s=t.Constants||(t.Constants={}));var a=function(){function C(e,t){var i=4*2*95;if(e.length!==i){throw new Error("Invalid x2CharData")}var n=2*1*95;if(t.length!==n){throw new Error("Invalid x1CharData")}this.x2charData=e;this.x1charData=t;this.x2charDataLight=C.soften(e,12/15);this.x1charDataLight=C.soften(t,50/60)}C.soften=function(e,t){var i=new Uint8ClampedArray(e.length);for(var n=0,r=e.length;n<r;n++){i[n]=e[n]*t}return i};C._getChIndex=function(e){e-=32;if(e<0){e+=95}return e%95};C.prototype.x2RenderChar=function(e,t,i,n,r,o,s){if(t+2>e.width||i+4>e.height){console.warn("bad render request outside image data");return}var a=s?this.x2charDataLight:this.x2charData;var u=C._getChIndex(n);var l=e.width*4;var c=o.r;var d=o.g;var h=o.b;var f=r.r-c;var p=r.g-d;var g=r.b-h;var v=e.data;var m=u*4*2;var _=i*l+t*4;{var y=a[m]/255;v[_+0]=c+f*y;v[_+1]=d+p*y;v[_+2]=h+g*y}{var y=a[m+1]/255;v[_+4]=c+f*y;v[_+5]=d+p*y;v[_+6]=h+g*y}_+=l;{var y=a[m+2]/255;v[_+0]=c+f*y;v[_+1]=d+p*y;v[_+2]=h+g*y}{var y=a[m+3]/255;v[_+4]=c+f*y;v[_+5]=d+p*y;v[_+6]=h+g*y}_+=l;{var y=a[m+4]/255;v[_+0]=c+f*y;v[_+1]=d+p*y;v[_+2]=h+g*y}{var y=a[m+5]/255;v[_+4]=c+f*y;v[_+5]=d+p*y;v[_+6]=h+g*y}_+=l;{var y=a[m+6]/255;v[_+0]=c+f*y;v[_+1]=d+p*y;v[_+2]=h+g*y}{var y=a[m+7]/255;v[_+4]=c+f*y;v[_+5]=d+p*y;v[_+6]=h+g*y}};C.prototype.x1RenderChar=function(e,t,i,n,r,o,s){if(t+1>e.width||i+2>e.height){console.warn("bad render request outside image data");return}var a=s?this.x1charDataLight:this.x1charData;var u=C._getChIndex(n);var l=e.width*4;var c=o.r;var d=o.g;var h=o.b;var f=r.r-c;var p=r.g-d;var g=r.b-h;var v=e.data;var m=u*2*1;var _=i*l+t*4;{var y=a[m]/255;v[_+0]=c+f*y;v[_+1]=d+p*y;v[_+2]=h+g*y}_+=l;{var y=a[m+1]/255;v[_+0]=c+f*y;v[_+1]=d+p*y;v[_+2]=h+g*y}};C.prototype.x2BlockRenderChar=function(e,t,i,n,r,o){if(t+2>e.width||i+4>e.height){console.warn("bad render request outside image data");return}var s=e.width*4;var a=.5;var u=r.r;var l=r.g;var c=r.b;var d=n.r-u;var h=n.g-l;var f=n.b-c;var p=u+d*a;var g=l+h*a;var v=c+f*a;var m=e.data;var _=i*s+t*4;{m[_+0]=p;m[_+1]=g;m[_+2]=v}{m[_+4]=p;m[_+5]=g;m[_+6]=v}_+=s;{m[_+0]=p;m[_+1]=g;m[_+2]=v}{m[_+4]=p;m[_+5]=g;m[_+6]=v}_+=s;{m[_+0]=p;m[_+1]=g;m[_+2]=v}{m[_+4]=p;m[_+5]=g;m[_+6]=v}_+=s;{m[_+0]=p;m[_+1]=g;m[_+2]=v}{m[_+4]=p;m[_+5]=g;m[_+6]=v}};C.prototype.x1BlockRenderChar=function(e,t,i,n,r,o){if(t+1>e.width||i+2>e.height){console.warn("bad render request outside image data");return}var s=e.width*4;var a=.5;var u=r.r;var l=r.g;var c=r.b;var d=n.r-u;var h=n.g-l;var f=n.b-c;var p=u+d*a;var g=l+h*a;var v=c+f*a;var m=e.data;var _=i*s+t*4;{m[_+0]=p;m[_+1]=g;m[_+2]=v}_+=s;{m[_+0]=p;m[_+1]=g;m[_+2]=v}};return C}();t.MinimapCharRenderer=a});define(r[186],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["MINIMUM_HEIGHT"]=4]="MINIMUM_HEIGHT"})(i||(i={}));var _=function(){function e(e,t,i){this.from=e|0;this.to=t|0;this.colorId=i|0}e.compare=function(e,t){if(e.colorId===t.colorId){if(e.from===t.from){return e.to-t.to}return e.from-t.from}return e.colorId-t.colorId};return e}();t.ColorZone=_;var n=function(){function e(e,t,i){this.startLineNumber=e;this.endLineNumber=t;this.color=i;this._colorZone=null}e.compare=function(e,t){if(e.color===t.color){if(e.startLineNumber===t.startLineNumber){return e.endLineNumber-t.endLineNumber}return e.startLineNumber-t.startLineNumber}return e.color<t.color?-1:1};e.prototype.setColorZone=function(e){this._colorZone=e};e.prototype.getColorZones=function(){return this._colorZone};return e}();t.OverviewRulerZone=n;var r=function(){function e(e){this._getVerticalOffsetForLine=e;this._zones=[];this._colorZonesInvalid=false;this._lineHeight=0;this._domWidth=0;this._domHeight=0;this._outerHeight=0;this._pixelRatio=1;this._lastAssignedId=0;this._color2Id=Object.create(null);this._id2Color=[]}e.prototype.getId2Color=function(){return this._id2Color};e.prototype.setZones=function(e){this._zones=e;this._zones.sort(n.compare)};e.prototype.setLineHeight=function(e){if(this._lineHeight===e){return false}this._lineHeight=e;this._colorZonesInvalid=true;return true};e.prototype.setPixelRatio=function(e){this._pixelRatio=e;this._colorZonesInvalid=true};e.prototype.getDOMWidth=function(){return this._domWidth};e.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio};e.prototype.setDOMWidth=function(e){if(this._domWidth===e){return false}this._domWidth=e;this._colorZonesInvalid=true;return true};e.prototype.getDOMHeight=function(){return this._domHeight};e.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio};e.prototype.setDOMHeight=function(e){if(this._domHeight===e){return false}this._domHeight=e;this._colorZonesInvalid=true;return true};e.prototype.getOuterHeight=function(){return this._outerHeight};e.prototype.setOuterHeight=function(e){if(this._outerHeight===e){return false}this._outerHeight=e;this._colorZonesInvalid=true;return true};e.prototype.resolveColorZones=function(){var e=this._colorZonesInvalid;var t=Math.floor(this._lineHeight);var i=Math.floor(this.getCanvasHeight());var n=Math.floor(this._outerHeight);var r=i/n;var o=Math.floor(4*this._pixelRatio/2);var s=[];for(var a=0,u=this._zones.length;a<u;a++){var l=this._zones[a];if(!e){var c=l.getColorZones();if(c){s.push(c);continue}}var d=Math.floor(r*this._getVerticalOffsetForLine(l.startLineNumber));var h=Math.floor(r*(this._getVerticalOffsetForLine(l.endLineNumber)+t));var f=Math.floor((d+h)/2);var p=h-f;if(p<o){p=o}if(f-p<0){f=p}if(f+p>i){f=i-p}var g=l.color;var v=this._color2Id[g];if(!v){v=++this._lastAssignedId;this._color2Id[g]=v;this._id2Color[v]=g}var m=new _(f-p,f+p,v);l.setColorZone(m);s.push(m)}this._colorZonesInvalid=false;s.sort(_.compare);return s};return e}();t.OverviewZoneManager=r});define(r[86],e([0,1,3]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){this._viewLayout=e;this.viewportData=t;this.scrollWidth=this._viewLayout.getScrollWidth();this.scrollHeight=this._viewLayout.getScrollHeight();this.visibleRange=this.viewportData.visibleRange;this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var i=this._viewLayout.getCurrentViewport();this.scrollTop=i.top;this.scrollLeft=i.left;this.viewportWidth=i.width;this.viewportHeight=i.height}e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollTop};e.prototype.getVerticalOffsetForLineNumber=function(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)};e.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()};return e}();t.RestrictedRenderingContext=n;var r=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,t)||this;n._viewLines=i;return n}e.prototype.linesVisibleRangesForRange=function(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)};e.prototype.visibleRangeForPosition=function(e){var t=this._viewLines.visibleRangesForRange2(new i.Range(e.lineNumber,e.column,e.lineNumber,e.column));if(!t){return null}return t[0]};return e}(n);t.RenderingContext=r;var o=function(){function e(e,t){this.lineNumber=e;this.ranges=t}return e}();t.LineVisibleRanges=o;var s=function(){function e(e,t){this.left=Math.round(e);this.width=Math.round(t)}e.prototype.toString=function(){return"["+this.left+","+this.width+"]"};return e}();t.HorizontalRange=s});define(r[224],e([0,1,86]),function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=function(){function e(e,t){this.left=e;this.width=t}e.prototype.toString=function(){return"["+this.left+","+this.width+"]"};e.compare=function(e,t){return e.left-t.left};return e}();var i=function(){function e(){}e._createRange=function(){if(!this._handyReadyRange){this._handyReadyRange=document.createRange()}return this._handyReadyRange};e._detachRange=function(e,t){e.selectNodeContents(t)};e._readClientRects=function(e,t,i,n,r){var o=this._createRange();try{o.setStart(e,t);o.setEnd(i,n);return o.getClientRects()}catch(e){return null}finally{this._detachRange(o,r)}};e._mergeAdjacentRanges=function(e){if(e.length===1){return[new c.HorizontalRange(e[0].left,e[0].width)]}e.sort(d.compare);var t=[],i=0;var n=e[0].left;var r=e[0].width;for(var o=1,s=e.length;o<s;o++){var a=e[o];var u=a.left;var l=a.width;if(n+r+.9>=u){r=Math.max(r,u+l-n)}else{t[i++]=new c.HorizontalRange(n,r);n=u;r=l}}t[i++]=new c.HorizontalRange(n,r);return t};e._createHorizontalRangesFromClientRects=function(e,t){if(!e||e.length===0){return null}var i=[];for(var n=0,r=e.length;n<r;n++){var o=e[n];i[n]=new d(Math.max(0,o.left-t),o.width)}return this._mergeAdjacentRanges(i)};e.readHorizontalRanges=function(e,t,i,n,r,o,s){var a=0;var u=e.children.length-1;if(a>u){return null}t=Math.min(u,Math.max(a,t));n=Math.min(u,Math.max(a,n));if(t!==n){if(n>0&&r===0){n--;r=Number.MAX_VALUE}}var l=e.children[t].firstChild;var c=e.children[n].firstChild;if(!l||!c){if(!l&&i===0&&t>0){l=e.children[t-1].firstChild;i=1073741824}if(!c&&r===0&&n>0){c=e.children[n-1].firstChild;r=1073741824}}if(!l||!c){return null}i=Math.min(l.textContent.length,Math.max(0,i));r=Math.min(c.textContent.length,Math.max(0,r));var d=this._readClientRects(l,i,c,r,s);return this._createHorizontalRangesFromClientRects(d,o)};return e}();t.RangeUtil=i});define(r[225],e([0,1,145]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){var t=new Uint8ClampedArray(e.length);for(var i=0,n=e.length;i<n;i++){t[i]=e[i]}return t}var r=null;function o(){if(!r){var e=n(a);a=null;var t=n(s);s=null;r=new i.MinimapCharRenderer(t,e)}return r}t.getOrCreateMinimapCharRenderer=o;var s=[0,0,0,0,0,0,0,0,39,14,39,14,14,5,29,10,96,96,29,29,0,0,0,0,49,113,195,214,227,166,135,42,40,29,194,38,75,148,197,187,145,0,160,61,75,143,2,183,138,58,163,6,177,223,197,227,38,13,11,4,0,0,0,0,10,54,52,8,62,4,71,122,73,2,19,40,10,50,155,36,79,70,145,121,7,5,0,0,2,1,36,12,204,166,16,5,0,0,0,0,1,0,154,34,0,0,0,0,96,83,0,0,0,0,0,0,0,0,46,34,0,82,2,56,53,3,146,0,146,119,152,132,152,131,145,119,170,42,15,42,15,42,172,194,131,132,0,139,80,28,227,143,159,135,15,118,11,126,171,144,20,124,88,106,217,196,0,106,189,92,168,43,5,130,164,133,130,115,183,65,134,120,141,141,170,196,2,106,31,32,105,2,145,130,116,114,132,135,138,140,138,113,147,137,81,183,129,94,0,0,21,16,4,3,46,34,0,0,45,34,1,0,160,49,0,0,43,143,203,23,1,76,0,0,38,28,131,96,38,28,0,0,168,31,29,191,98,0,118,139,5,113,45,13,37,6,97,115,161,179,204,105,223,224,83,52,111,100,184,186,120,132,212,145,180,139,174,161,212,182,104,162,131,0,131,0,104,161,219,120,110,116,110,116,219,120,207,154,163,40,147,22,207,154,202,159,161,47,145,23,111,0,139,154,144,30,144,135,139,187,110,110,168,161,150,145,110,110,185,162,43,16,43,16,185,162,73,129,0,110,0,110,191,87,149,149,236,48,195,91,146,149,146,0,146,0,146,0,187,173,200,201,222,215,172,147,95,95,193,97,224,129,159,206,97,192,155,139,153,115,153,115,156,140,189,158,123,136,190,64,111,0,155,139,153,115,153,114,156,241,197,148,150,152,170,116,110,157,156,128,169,14,13,159,158,149,212,189,43,16,43,16,43,16,148,110,148,110,147,109,182,151,133,121,106,118,114,103,89,66,94,94,211,188,205,207,139,168,151,152,87,76,101,79,151,152,130,156,125,116,47,29,43,16,169,228,11,103,120,6,230,176,55,49,55,6,55,6,193,102,92,0,71,0,13,30,0,147,63,43,12,43,12,43,142,152,71,53,61,61,0,0,0,0,0,0,0,0,0,0,158,146,25,2,0,0,0,0,0,0,0,0,107,130,170,194,176,188,109,0,203,159,113,111,202,158,0,0,135,135,114,0,136,135,0,109,187,190,148,126,177,187,0,0,149,130,218,105,169,135,37,113,146,113,49,13,49,13,0,0,178,195,147,114,255,255,109,0,193,149,110,109,109,109,12,15,125,41,33,41,144,188,1,6,75,53,10,53,210,161,110,0,152,148,210,60,110,156,213,5,63,5,63,5,45,111,0,0,232,172,190,168,190,169,0,0,190,144,109,109,109,109,0,0,168,140,148,111,168,140,0,0,200,151,113,110,255,158,0,0,184,188,147,139,186,255,0,0,122,130,111,0,109,0,0,0,132,69,109,93,110,136,51,5,205,103,61,6,47,106,0,0,110,109,110,122,155,179,0,0,132,120,113,114,84,63,0,0,124,108,202,189,160,174,0,0,144,142,79,57,159,146,0,0,138,138,119,117,255,69,0,0,97,198,47,38,208,84,23,112,41,14,157,7,121,192,35,11,35,11,35,11,160,61,129,9,40,19,20,139,236,44,0,0,15,3,97,93,0,0];var a=[0,0,23,12,53,0,130,127,58,149,67,77,72,198,13,0,25,51,25,49,94,2,8,64,0,24,0,21,0,9,19,27,126,126,51,80,72,105,87,98,73,93,106,85,111,123,87,30,116,126,123,110,4,16,9,28,21,53,8,62,23,52,73,21,132,183,78,142,168,175,70,70,128,128,123,110,125,43,100,139,125,119,78,78,54,77,139,139,33,87,201,117,162,149,130,130,138,60,130,172,149,127,95,98,95,25,118,135,110,85,147,175,105,110,121,30,101,113,34,68,20,26,34,68,56,0,0,44,3,0,27,175,80,133,31,66,85,147,32,150,90,25,45,230,77,101,36,83,22,84,71,118,44,44,52,172,38,101,35,130,40,197,43,197,29,26,23,103,67,44,25,129,29,85,27,177,33,97,32,145,33,77,38,96,20,55,36,95,2,22]});define(r[226],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n){this.configuration=e;this.theme=t;this.model=i;this.viewLayout=i.viewLayout;this.privateViewEventBus=n}e.prototype.addEventHandler=function(e){this.privateViewEventBus.addEventHandler(e)};e.prototype.removeEventHandler=function(e){this.privateViewEventBus.removeEventHandler(e)};return e}();t.ViewContext=i});define(r[227],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e){this._eventHandlerGateKeeper=e;this._eventHandlers=[];this._eventQueue=null;this._isConsumingQueue=false}e.prototype.addEventHandler=function(e){for(var t=0,i=this._eventHandlers.length;t<i;t++){if(this._eventHandlers[t]===e){console.warn("Detected duplicate listener in ViewEventDispatcher",e)}}this._eventHandlers.push(e)};e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++){if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}}};e.prototype.emit=function(e){if(this._eventQueue){this._eventQueue.push(e)}else{this._eventQueue=[e]}if(!this._isConsumingQueue){this.consumeQueue()}};e.prototype.emitMany=function(e){if(this._eventQueue){this._eventQueue=this._eventQueue.concat(e)}else{this._eventQueue=e}if(!this._isConsumingQueue){this.consumeQueue()}};e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper(function(){try{e._isConsumingQueue=true;e._doConsumeQueue()}finally{e._isConsumingQueue=false}})};e.prototype._doConsumeQueue=function(){while(this._eventQueue){var e=this._eventQueue;this._eventQueue=null;var t=this._eventHandlers.slice(0);for(var i=0,n=t.length;i<n;i++){t[i].handleEvents(e)}}};return e}();t.ViewEventDispatcher=i});define(r[57],e([0,1,13,2]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){e[e["ViewConfigurationChanged"]=1]="ViewConfigurationChanged";e[e["ViewCursorStateChanged"]=2]="ViewCursorStateChanged";e[e["ViewDecorationsChanged"]=3]="ViewDecorationsChanged";e[e["ViewFlushed"]=4]="ViewFlushed";e[e["ViewFocusChanged"]=5]="ViewFocusChanged";e[e["ViewLineMappingChanged"]=6]="ViewLineMappingChanged";e[e["ViewLinesChanged"]=7]="ViewLinesChanged";e[e["ViewLinesDeleted"]=8]="ViewLinesDeleted";e[e["ViewLinesInserted"]=9]="ViewLinesInserted";e[e["ViewRevealRangeRequest"]=10]="ViewRevealRangeRequest";e[e["ViewScrollChanged"]=11]="ViewScrollChanged";e[e["ViewTokensChanged"]=12]="ViewTokensChanged";e[e["ViewTokensColorsChanged"]=13]="ViewTokensColorsChanged";e[e["ViewZonesChanged"]=14]="ViewZonesChanged";e[e["ViewThemeChanged"]=15]="ViewThemeChanged";e[e["ViewLanguageConfigurationChanged"]=16]="ViewLanguageConfigurationChanged"})(r=t.ViewEventType||(t.ViewEventType={}));var o=function(){function e(e){this.type=1;this.canUseLayerHinting=e.canUseLayerHinting;this.pixelRatio=e.pixelRatio;this.editorClassName=e.editorClassName;this.lineHeight=e.lineHeight;this.readOnly=e.readOnly;this.accessibilitySupport=e.accessibilitySupport;this.emptySelectionClipboard=e.emptySelectionClipboard;this.layoutInfo=e.layoutInfo;this.fontInfo=e.fontInfo;this.viewInfo=e.viewInfo;this.wrappingInfo=e.wrappingInfo}return e}();t.ViewConfigurationChangedEvent=o;var s=function(){function e(e){this.type=2;this.selections=e}return e}();t.ViewCursorStateChangedEvent=s;var a=function(){function e(){this.type=3}return e}();t.ViewDecorationsChangedEvent=a;var u=function(){function e(){this.type=4}return e}();t.ViewFlushedEvent=u;var l=function(){function e(e){this.type=5;this.isFocused=e}return e}();t.ViewFocusChangedEvent=l;var c=function(){function e(){this.type=6}return e}();t.ViewLineMappingChangedEvent=c;var d=function(){function e(e,t){this.type=7;this.fromLineNumber=e;this.toLineNumber=t}return e}();t.ViewLinesChangedEvent=d;var h=function(){function e(e,t){this.type=8;this.fromLineNumber=e;this.toLineNumber=t}return e}();t.ViewLinesDeletedEvent=h;var f=function(){function e(e,t){this.type=9;this.fromLineNumber=e;this.toLineNumber=t}return e}();t.ViewLinesInsertedEvent=f;var p;(function(e){e[e["Simple"]=0]="Simple";e[e["Center"]=1]="Center";e[e["CenterIfOutsideViewport"]=2]="CenterIfOutsideViewport";e[e["Top"]=3]="Top";e[e["Bottom"]=4]="Bottom"})(p=t.VerticalRevealType||(t.VerticalRevealType={}));var g=function(){function e(e,t,i,n){this.type=10;this.range=e;this.verticalType=t;this.revealHorizontal=i;this.scrollType=n}return e}();t.ViewRevealRangeRequestEvent=g;var v=function(){function e(e){this.type=11;this.scrollWidth=e.scrollWidth;this.scrollLeft=e.scrollLeft;this.scrollHeight=e.scrollHeight;this.scrollTop=e.scrollTop;this.scrollWidthChanged=e.scrollWidthChanged;this.scrollLeftChanged=e.scrollLeftChanged;this.scrollHeightChanged=e.scrollHeightChanged;this.scrollTopChanged=e.scrollTopChanged}return e}();t.ViewScrollChangedEvent=v;var m=function(){function e(e){this.type=12;this.ranges=e}return e}();t.ViewTokensChangedEvent=m;var _=function(){function e(){this.type=15}return e}();t.ViewThemeChangedEvent=_;var y=function(){function e(){this.type=13}return e}();t.ViewTokensColorsChangedEvent=y;var C=function(){function e(){this.type=14}return e}();t.ViewZonesChangedEvent=C;var b=function(){function e(){this.type=16}return e}();t.ViewLanguageConfigurationEvent=b;var S=function(t){pe(e,t);function e(){var e=t.call(this)||this;e._listeners=[];e._collector=null;e._collectorCnt=0;return e}e.prototype.dispose=function(){this._listeners=[];t.prototype.dispose.call(this)};e.prototype._beginEmit=function(){this._collectorCnt++;if(this._collectorCnt===1){this._collector=new w}return this._collector};e.prototype._endEmit=function(){this._collectorCnt--;if(this._collectorCnt===0){var e=this._collector.finalize();this._collector=null;if(e.length>0){this._emit(e)}}};e.prototype._emit=function(e){var t=this._listeners.slice(0);for(var i=0,n=t.length;i<n;i++){E(t[i],e)}};e.prototype.addEventListener=function(n){var r=this;this._listeners.push(n);return{dispose:function(){var e=r._listeners;for(var t=0,i=e.length;t<i;t++){if(e[t]===n){e.splice(t,1);break}}}}};return e}(n.Disposable);t.ViewEventEmitter=S;var w=function(){function e(){this._eventsLen=0;this._events=[];this._eventsLen=0}e.prototype.emit=function(e){this._events[this._eventsLen++]=e};e.prototype.finalize=function(){var e=this._events;this._events=null;return e};return e}();t.ViewEventsCollector=w;function E(e,t){try{e(t)}catch(e){i.onUnexpectedError(e)}}});define(r[118],e([0,1,5]),function(e,t,p){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function h(e,t,i,n){this.startColumn=e;this.endColumn=t;this.className=i;this.type=n}h._equals=function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type};h.equalsArr=function(e,t){var i=e.length;var n=t.length;if(i!==n){return false}for(var r=0;r<i;r++){if(!h._equals(e[r],t[r])){return false}}return true};h.filter=function(e,t,i,n){if(e.length===0){return[]}var r=[],o=0;for(var s=0,a=e.length;s<a;s++){var u=e[s];var l=u.range;if(l.endLineNumber<t||l.startLineNumber>t){continue}if(l.isEmpty()&&u.type===0){continue}var c=l.startLineNumber===t?l.startColumn:i;var d=l.endLineNumber===t?l.endColumn:n;r[o++]=new h(c,d,u.inlineClassName,u.type)}return r};h.compare=function(e,t){if(e.startColumn===t.startColumn){if(e.endColumn===t.endColumn){if(e.className<t.className){return-1}if(e.className>t.className){return 1}return 0}return e.endColumn-t.endColumn}return e.startColumn-t.startColumn};return h}();t.LineDecoration=i;var r=function(){function e(e,t,i){this.startOffset=e;this.endOffset=t;this.className=i}return e}();t.DecorationSegment=r;var g=function(){function e(){this.stopOffsets=[];this.classNames=[];this.count=0}e.prototype.consumeLowerThan=function(e,t,i){while(this.count>0&&this.stopOffsets[0]<e){var n=0;while(n+1<this.count&&this.stopOffsets[n]===this.stopOffsets[n+1]){n++}i.push(new r(t,this.stopOffsets[n],this.classNames.join(" ")));t=this.stopOffsets[n]+1;this.stopOffsets.splice(0,n+1);this.classNames.splice(0,n+1);this.count-=n+1}if(this.count>0&&t<e){i.push(new r(t,e-1,this.classNames.join(" ")));t=e}return t};e.prototype.insert=function(e,t){if(this.count===0||this.stopOffsets[this.count-1]<=e){this.stopOffsets.push(e);this.classNames.push(t)}else{for(var i=0;i<this.count;i++){if(this.stopOffsets[i]>=e){this.stopOffsets.splice(i,0,e);this.classNames.splice(i,0,t);break}}}this.count++;return};return e}();var n=function(){function e(){}e.normalize=function(e,t){if(t.length===0){return[]}var i=[];var n=new g;var r=0;for(var o=0,s=t.length;o<s;o++){var a=t[o];var u=a.startColumn;var l=a.endColumn;var c=a.className;if(u>1){var d=e.charCodeAt(u-2);if(p.isHighSurrogate(d)){u--}}if(l>1){var d=e.charCodeAt(l-2);if(p.isHighSurrogate(d)){l--}}var h=u-1;var f=l-2;r=n.consumeLowerThan(h,r,i);if(n.count===0){r=h}n.insert(f,c)}n.consumeLowerThan(1073741824,r,i);return i};return e}();t.LineDecorationsNormalizer=n});define(r[94],e([0,1,118,5,130]),function(e,t,_,M,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["None"]=0]="None";e[e["Boundary"]=1]="Boundary";e[e["All"]=2]="All"})(i=t.RenderWhitespace||(t.RenderWhitespace={}));var C=function(){function e(e,t){this.endIndex=e;this.type=t}return e}();var r=function(){function e(e,t,i,n,r,o,s,a,u,l,c,d){this.useMonospaceOptimizations=e;this.lineContent=t;this.mightContainRTL=i;this.fauxIndentLength=n;this.lineTokens=r;this.lineDecorations=o;this.tabSize=s;this.spaceWidth=a;this.stopRenderingLineAfter=u;this.renderWhitespace=l==="all"?2:l==="boundary"?1:0;this.renderControlCharacters=c;this.fontLigatures=d}e.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.lineContent===e.lineContent&&this.mightContainRTL===e.mightContainRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&_.LineDecoration.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)};return e}();t.RenderLineInput=r;var o;(function(e){e[e["PART_INDEX_MASK"]=4294901760]="PART_INDEX_MASK";e[e["CHAR_INDEX_MASK"]=65535]="CHAR_INDEX_MASK";e[e["CHAR_INDEX_OFFSET"]=0]="CHAR_INDEX_OFFSET";e[e["PART_INDEX_OFFSET"]=16]="PART_INDEX_OFFSET"})(o=t.CharacterMappingConstants||(t.CharacterMappingConstants={}));var k=function(){function v(e,t){this.length=e;this._data=new Uint32Array(this.length);this._absoluteOffsets=new Uint32Array(this.length)}v.getPartIndex=function(e){return(e&4294901760)>>>16};v.getCharIndex=function(e){return(e&65535)>>>0};v.prototype.setPartData=function(e,t,i,n){var r=(t<<16|i<<0)>>>0;this._data[e]=r;this._absoluteOffsets[e]=n+i};v.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets};v.prototype.charOffsetToPartData=function(e){if(this.length===0){return 0}if(e<0){return this._data[0]}if(e>=this.length){return this._data[this.length-1]}return this._data[e]};v.prototype.partDataToCharOffset=function(e,t,i){if(this.length===0){return 0}var n=(e<<16|i<<0)>>>0;var r=0;var o=this.length-1;while(r+1<o){var s=r+o>>>1;var a=this._data[s];if(a===n){return s}else if(a>n){o=s}else{r=s}}if(r===o){return r}var u=this._data[r];var l=this._data[o];if(u===n){return r}if(l===n){return o}var c=v.getPartIndex(u);var d=v.getCharIndex(u);var h=v.getPartIndex(l);var f;if(c!==h){f=t}else{f=v.getCharIndex(l)}var p=i-d;var g=f-i;if(p<=g){return r}return o};return v}();t.CharacterMapping=k;var O=function(){function e(e,t,i){this.characterMapping=e;this.containsRTL=t;this.containsForeignElements=i}return e}();t.RenderLineOutput=O;function s(e,t){if(e.lineContent.length===0){var i=false;var n="<span><span> </span></span>";if(e.lineDecorations.length>0){var r=[];for(var o=0,s=e.lineDecorations.length;o<s;o++){var a=e.lineDecorations[o];if(a.type!==0){r.push(e.lineDecorations[o].className);i=true}}if(i){n='<span><span class="'+r.join(" ")+'"></span></span>'}}t.appendASCIIString(n);return new O(new k(0,0),false,i)}return v(l(e),t)}t.renderViewLine=s;var a=function(){function e(e,t,i,n){this.characterMapping=e;this.html=t;this.containsRTL=i;this.containsForeignElements=n}return e}();t.RenderLineOutput2=a;function u(e){var t=n.createStringBuilder(1e4);var i=s(e,t);return new a(i.characterMapping,t.build(),i.containsRTL,i.containsForeignElements)}t.renderViewLine2=u;var d=function(){function e(e,t,i,n,r,o,s,a,u,l,c){this.fontIsMonospace=e;this.lineContent=t;this.len=i;this.isOverflowing=n;this.parts=r;this.containsForeignElements=o;this.tabSize=s;this.containsRTL=a;this.spaceWidth=u;this.renderWhitespace=l;this.renderControlCharacters=c}return e}();function l(e){var t=e.useMonospaceOptimizations;var i=e.lineContent;var n;var r;if(e.stopRenderingLineAfter!==-1&&e.stopRenderingLineAfter<i.length){n=true;r=e.stopRenderingLineAfter}else{n=false;r=i.length}var o=h(e.lineTokens,e.fauxIndentLength,r);if(e.renderWhitespace===2||e.renderWhitespace===1){o=p(i,r,o,e.fauxIndentLength,e.tabSize,t,e.renderWhitespace===1)}var s=false;if(e.lineDecorations.length>0){for(var a=0,u=e.lineDecorations.length;a<u;a++){var l=e.lineDecorations[a];if(l.type!==0){s=true;break}}o=g(i,r,o,e.lineDecorations)}var c=false;if(e.mightContainRTL){c=M.containsRTL(i)}if(!c&&!e.fontLigatures){o=f(i,o)}return new d(t,i,r,n,o,s,e.tabSize,c,e.spaceWidth,e.renderWhitespace,e.renderControlCharacters)}function h(e,t,i){var n=[],r=0;if(t>0){n[r++]=new C(t,"")}for(var o=0,s=e.getCount();o<s;o++){var a=e.getEndOffset(o);if(a<=t){continue}var u=e.getClassName(o);if(a>=i){n[r++]=new C(i,u);break}n[r++]=new C(a,u)}return n}var c;(function(e){e[e["LongToken"]=50]="LongToken"})(c||(c={}));function f(e,t){var i=0;var n=[],r=0;for(var o=0,s=t.length;o<s;o++){var a=t[o];var u=a.endIndex;var l=u-i;if(l>50){var c=a.type;var d=Math.ceil(l/50);for(var h=1;h<d;h++){var f=i+h*50;var p=e.charCodeAt(f-1);if(M.isHighSurrogate(p)){f--}n[r++]=new C(f,c)}n[r++]=new C(u,c)}else{n[r++]=a}i=u}return n}function p(e,t,i,n,r,o,s){var a=[],u=0;var l=0;var c=i[l].type;var d=i[l].endIndex;var h=M.firstNonWhitespaceIndex(e);var f;if(h===-1){h=t;f=t}else{f=M.lastNonWhitespaceIndex(e)}var p=0;for(var g=0;g<n;g++){var v=e.charCodeAt(g);if(v===9){p=r}else if(M.isFullWidthCharacter(v)){p+=2}else{p++}}p=p%r;var m=false;for(var g=n;g<t;g++){var v=e.charCodeAt(g);var _=void 0;if(g<h||g>f){_=true}else if(v===9){_=true}else if(v===32){if(s){if(m){_=true}else{var y=g+1<t?e.charCodeAt(g+1):0;_=y===32||y===9}}else{_=true}}else{_=false}if(m){if(!_||!o&&p>=r){a[u++]=new C(g,"vs-whitespace");p=p%r}}else{if(g===d||_&&g>n){a[u++]=new C(g,c);p=p%r}}if(v===9){p=r}else if(M.isFullWidthCharacter(v)){p+=2}else{p++}m=_;if(g===d){l++;c=i[l].type;d=i[l].endIndex}}if(m){a[u++]=new C(t,"vs-whitespace")}else{a[u++]=new C(t,c)}return a}function g(e,t,i,n){n.sort(_.LineDecoration.compare);var r=_.LineDecorationsNormalizer.normalize(e,n);var o=r.length;var s=0;var a=[],u=0,l=0;for(var c=0,d=i.length;c<d;c++){var h=i[c];var f=h.endIndex;var p=h.type;while(s<o&&r[s].startOffset<f){var g=r[s];if(g.startOffset>l){l=g.startOffset;a[u++]=new C(l,p)}if(g.endOffset+1<=f){l=g.endOffset+1;a[u++]=new C(l,p+" "+g.className);s++}else{l=f;a[u++]=new C(l,p+" "+g.className);break}}if(f>l){l=f;a[u++]=new C(l,p)}}var v=i[i.length-1].endIndex;if(s<o&&r[s].startOffset===v){var m=[];while(s<o&&r[s].startOffset===v){m.push(r[s].className);s++}a[u++]=new C(l,m.join(" "))}return a}function v(e,t){var i=e.fontIsMonospace;var n=e.containsForeignElements;var r=e.lineContent;var o=e.len;var s=e.isOverflowing;var a=e.parts;var u=e.tabSize;var l=e.containsRTL;var c=e.spaceWidth;var d=e.renderWhitespace;var h=e.renderControlCharacters;var f=new k(o+1,a.length);var p=0;var g=0;var v=0;var m=0;var _=0;t.appendASCIIString("<span>");for(var y=0,C=a.length;y<C;y++){_+=m;var b=a[y];var S=b.endIndex;var w=b.type;var E=d!==0&&w.indexOf("vs-whitespace")>=0;v=0;t.appendASCIIString('<span class="');t.appendASCIIString(w);t.appendASCII(34);if(E){var L=0;{var x=p;var N=g;for(;x<S;x++){var I=r.charCodeAt(x);if(I===9){var D=u-(x+N)%u;N+=D-1;L+=D}else{L++}}}if(!i){var T=w==="vs-whitespace";if(T||!n){t.appendASCIIString(' style="width:');t.appendASCIIString(String(c*L));t.appendASCIIString('px"')}}t.appendASCII(62);for(;p<S;p++){f.setPartData(p,y,v,_);var I=r.charCodeAt(p);if(I===9){var D=u-(p+g)%u;g+=D-1;v+=D-1;if(D>0){t.write1(8594);D--}while(D>0){t.write1(160);D--}}else{t.write1(183)}v++}m=L}else{var L=0;if(l){t.appendASCIIString(' dir="ltr"')}t.appendASCII(62);for(;p<S;p++){f.setPartData(p,y,v,_);var I=r.charCodeAt(p);switch(I){case 9:var D=u-(p+g)%u;g+=D-1;v+=D-1;while(D>0){t.write1(160);L++;D--}break;case 32:t.write1(160);L++;break;case 60:t.appendASCIIString("&lt;");L++;break;case 62:t.appendASCIIString("&gt;");L++;break;case 38:t.appendASCIIString("&amp;");L++;break;case 0:t.appendASCIIString("&#00;");L++;break;case 65279:case 8232:t.write1(65533);L++;break;default:if(M.isFullWidthCharacter(I)){g++}if(h&&I<32){t.write1(9216+I);L++}else{t.write1(I);L++}}v++}m=L}t.appendASCIIString("</span>")}f.setPartData(o,a.length-1,v,_);if(s){t.appendASCIIString("<span>&hellip;</span>")}t.appendASCIIString("</span>");return new O(f,l,n)}});define(r[231],e([0,1,3]),function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n){this.selections=e;this.startLineNumber=t.startLineNumber|0;this.endLineNumber=t.endLineNumber|0;this.relativeVerticalOffset=t.relativeVerticalOffset;this.bigNumbersDelta=t.bigNumbersDelta|0;this.whitespaceViewportData=i;this._model=n;this.visibleRange=new r.Range(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}e.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)};e.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)};return e}();t.ViewportData=i});define(r[232],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function a(){this._heights=[];this._ids=[];this._afterLineNumbers=[];this._ordinals=[];this._prefixSum=[];this._prefixSumValidIndex=-1;this._whitespaceId2Index={};this._lastWhitespaceId=0}a.findInsertionIndex=function(e,t,i,n){var r=0;var o=e.length;while(r<o){var s=r+o>>>1;if(t===e[s]){if(n<i[s]){o=s}else{r=s+1}}else if(t<e[s]){o=s}else{r=s+1}}return r};a.prototype.insertWhitespace=function(e,t,i){e=e|0;t=t|0;i=i|0;var n=++this._lastWhitespaceId;var r=a.findInsertionIndex(this._afterLineNumbers,e,this._ordinals,t);this._insertWhitespaceAtIndex(n,r,e,t,i);return n};a.prototype._insertWhitespaceAtIndex=function(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;this._heights.splice(t,0,r);this._ids.splice(t,0,e);this._afterLineNumbers.splice(t,0,i);this._ordinals.splice(t,0,n);this._prefixSum.splice(t,0,0);var o=Object.keys(this._whitespaceId2Index);for(var s=0,a=o.length;s<a;s++){var u=o[s];var l=this._whitespaceId2Index[u];if(l>=t){this._whitespaceId2Index[u]=l+1}}this._whitespaceId2Index[e.toString()]=t;this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,t-1)};a.prototype.changeWhitespace=function(e,t,i){e=e|0;t=t|0;i=i|0;var n=false;n=this.changeWhitespaceHeight(e,i)||n;n=this.changeWhitespaceAfterLineNumber(e,t)||n;return n};a.prototype.changeWhitespaceHeight=function(e,t){e=e|0;t=t|0;var i=e.toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var n=this._whitespaceId2Index[i];if(this._heights[n]!==t){this._heights[n]=t;this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1);return true}}return false};a.prototype.changeWhitespaceAfterLineNumber=function(e,t){e=e|0;t=t|0;var i=e.toString();if(this._whitespaceId2Index.hasOwnProperty(i)){var n=this._whitespaceId2Index[i];if(this._afterLineNumbers[n]!==t){var r=this._ordinals[n];var o=this._heights[n];this.removeWhitespace(e);var s=a.findInsertionIndex(this._afterLineNumbers,t,this._ordinals,r);this._insertWhitespaceAtIndex(e,s,t,r,o);return true}}return false};a.prototype.removeWhitespace=function(e){e=e|0;var t=e.toString();if(this._whitespaceId2Index.hasOwnProperty(t)){var i=this._whitespaceId2Index[t];delete this._whitespaceId2Index[t];this._removeWhitespaceAtIndex(i);return true}return false};a.prototype._removeWhitespaceAtIndex=function(e){e=e|0;this._heights.splice(e,1);this._ids.splice(e,1);this._afterLineNumbers.splice(e,1);this._ordinals.splice(e,1);this._prefixSum.splice(e,1);this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1);var t=Object.keys(this._whitespaceId2Index);for(var i=0,n=t.length;i<n;i++){var r=t[i];var o=this._whitespaceId2Index[r];if(o>=e){this._whitespaceId2Index[r]=o-1}}};a.prototype.onLinesDeleted=function(e,t){e=e|0;t=t|0;for(var i=0,n=this._afterLineNumbers.length;i<n;i++){var r=this._afterLineNumbers[i];if(e<=r&&r<=t){this._afterLineNumbers[i]=e-1}else if(r>t){this._afterLineNumbers[i]-=t-e+1}}};a.prototype.onLinesInserted=function(e,t){e=e|0;t=t|0;for(var i=0,n=this._afterLineNumbers.length;i<n;i++){var r=this._afterLineNumbers[i];if(e<=r){this._afterLineNumbers[i]+=t-e+1}}};a.prototype.getTotalHeight=function(){if(this._heights.length===0){return 0}return this.getAccumulatedHeight(this._heights.length-1)};a.prototype.getAccumulatedHeight=function(e){e=e|0;var t=Math.max(0,this._prefixSumValidIndex+1);if(t===0){this._prefixSum[0]=this._heights[0];t++}for(var i=t;i<=e;i++){this._prefixSum[i]=this._prefixSum[i-1]+this._heights[i]}this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e);return this._prefixSum[e]};a.prototype.getAccumulatedHeightBeforeLineNumber=function(e){e=e|0;var t=this._findLastWhitespaceBeforeLineNumber(e);if(t===-1){return 0}return this.getAccumulatedHeight(t)};a.prototype._findLastWhitespaceBeforeLineNumber=function(e){e=e|0;var t=this._afterLineNumbers;var i=0;var n=t.length-1;while(i<=n){var r=n-i|0;var o=r/2|0;var s=i+o|0;if(t[s]<e){if(s+1>=t.length||t[s+1]>=e){return s}else{i=s+1|0}}else{n=s-1|0}}return-1};a.prototype._findFirstWhitespaceAfterLineNumber=function(e){e=e|0;var t=this._findLastWhitespaceBeforeLineNumber(e);var i=t+1;if(i<this._heights.length){return i}return-1};a.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){e=e|0;return this._findFirstWhitespaceAfterLineNumber(e)};a.prototype.getCount=function(){return this._heights.length};a.prototype.getAfterLineNumberForWhitespaceIndex=function(e){e=e|0;return this._afterLineNumbers[e]};a.prototype.getIdForWhitespaceIndex=function(e){e=e|0;return this._ids[e]};a.prototype.getHeightForWhitespaceIndex=function(e){e=e|0;return this._heights[e]};a.prototype.getWhitespaces=function(e){e=e|0;var t=[];for(var i=0;i<this._heights.length;i++){t.push({id:this._ids[i],afterLineNumber:this._afterLineNumbers[i],heightInLines:this._heights[i]/e})}return t};return a}();t.WhitespaceComputer=i});define(r[233],e([0,1,232]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){this._lineCount=e;this._lineHeight=t;this._whitespaces=new i.WhitespaceComputer}e.prototype.setLineHeight=function(e){this._lineHeight=e};e.prototype.onFlushed=function(e){this._lineCount=e};e.prototype.insertWhitespace=function(e,t,i){return this._whitespaces.insertWhitespace(e,t,i)};e.prototype.changeWhitespace=function(e,t,i){return this._whitespaces.changeWhitespace(e,t,i)};e.prototype.removeWhitespace=function(e){return this._whitespaces.removeWhitespace(e)};e.prototype.onLinesDeleted=function(e,t){this._lineCount-=t-e+1;this._whitespaces.onLinesDeleted(e,t)};e.prototype.onLinesInserted=function(e,t){this._lineCount+=t-e+1;this._whitespaces.onLinesInserted(e,t)};e.prototype.getLinesTotalHeight=function(){var e=this._lineHeight*this._lineCount;var t=this._whitespaces.getTotalHeight();return e+t};e.prototype.getVerticalOffsetForLineNumber=function(e){e=e|0;var t;if(e>1){t=this._lineHeight*(e-1)}else{t=0}var i=this._whitespaces.getAccumulatedHeightBeforeLineNumber(e);return t+i};e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){return this._whitespaces.getAccumulatedHeightBeforeLineNumber(e)};e.prototype.hasWhitespace=function(){return this._whitespaces.getCount()>0};e.prototype.isAfterLines=function(e){var t=this.getLinesTotalHeight();return e>t};e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){e=e|0;if(e<0){return 1}var t=this._lineCount|0;var i=this._lineHeight;var n=1;var r=t;while(n<r){var o=(n+r)/2|0;var s=this.getVerticalOffsetForLineNumber(o)|0;if(e>=s+i){n=o+1}else if(e>=s){return o}else{r=o}}if(n>t){return t}return n};e.prototype.getLinesViewportData=function(e,t){e=e|0;t=t|0;var i=this._lineHeight;var n=this.getLineNumberAtOrAfterVerticalOffset(e)|0;var r=this.getVerticalOffsetForLineNumber(n)|0;var o=this._lineCount|0;var s=this._whitespaces.getFirstWhitespaceIndexAfterLineNumber(n)|0;var a=this._whitespaces.getCount()|0;var u;var l;if(s===-1){s=a;l=o+1;u=0}else{l=this._whitespaces.getAfterLineNumberForWhitespaceIndex(s)|0;u=this._whitespaces.getHeightForWhitespaceIndex(s)|0}var c=r;var d=c;var h=5e5;var f=0;if(r>=h){f=Math.floor(r/h)*h;f=Math.floor(f/i)*i;d-=f}var p=[];var g=e+(t-e)/2;var v=-1;for(var m=n;m<=o;m++){if(v===-1){var _=c;var y=c+i;if(_<=g&&g<y||_>g){v=m}}c+=i;p[m-n]=d;d+=i;while(l===m){d+=u;c+=u;s++;if(s>=a){l=o+1}else{l=this._whitespaces.getAfterLineNumberForWhitespaceIndex(s)|0;u=this._whitespaces.getHeightForWhitespaceIndex(s)|0}}if(c>=t){o=m;break}}if(v===-1){v=o}var C=this.getVerticalOffsetForLineNumber(o)|0;var b=n;var S=o;if(b<S){if(r<e){b++}}if(b<S){if(C+i>t){S--}}return{bigNumbersDelta:f,startLineNumber:n,endLineNumber:o,relativeVerticalOffset:p,centeredLineNumber:v,completelyVisibleStartLineNumber:b,completelyVisibleEndLineNumber:S}};e.prototype.getVerticalOffsetForWhitespaceIndex=function(e){e=e|0;var t=this._whitespaces.getAfterLineNumberForWhitespaceIndex(e);var i;if(t>=1){i=this._lineHeight*t}else{i=0}var n;if(e>0){n=this._whitespaces.getAccumulatedHeight(e-1)}else{n=0}return i+n};e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){e=e|0;var t,i=0,n=this._whitespaces.getCount()-1,r,o;if(n<0){return-1}var s=this.getVerticalOffsetForWhitespaceIndex(n);var a=this._whitespaces.getHeightForWhitespaceIndex(n);if(e>=s+a){return-1}while(i<n){t=Math.floor((i+n)/2);r=this.getVerticalOffsetForWhitespaceIndex(t);o=this._whitespaces.getHeightForWhitespaceIndex(t);if(e>=r+o){i=t+1}else if(e>=r){return t}else{n=t}}return i};e.prototype.getWhitespaceAtVerticalOffset=function(e){e=e|0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0){return null}if(t>=this._whitespaces.getCount()){return null}var i=this.getVerticalOffsetForWhitespaceIndex(t);if(i>e){return null}var n=this._whitespaces.getHeightForWhitespaceIndex(t);var r=this._whitespaces.getIdForWhitespaceIndex(t);var o=this._whitespaces.getAfterLineNumberForWhitespaceIndex(t);return{id:r,afterLineNumber:o,verticalOffset:i,height:n}};e.prototype.getWhitespaceViewportData=function(e,t){e=e|0;t=t|0;var i=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);var n=this._whitespaces.getCount()-1;if(i<0){return[]}var r=[];for(var o=i;o<=n;o++){var s=this.getVerticalOffsetForWhitespaceIndex(o);var a=this._whitespaces.getHeightForWhitespaceIndex(o);if(s>=t){break}r.push({id:this._whitespaces.getIdForWhitespaceIndex(o),afterLineNumber:this._whitespaces.getAfterLineNumberForWhitespaceIndex(o),verticalOffset:s,height:a})}return r};e.prototype.getWhitespaces=function(){return this._whitespaces.getWhitespaces(this._lineHeight)};return e}();t.LinesLayout=n});define(r[101],e([0,1,90]),function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function e(e,t){this.index=e;this.remainder=t}return e}();t.PrefixSumIndexOfResult=s;var i=function(){function e(e){this.values=e;this.prefixSum=new Uint32Array(e.length);this.prefixSumValidIndex=new Int32Array(1);this.prefixSumValidIndex[0]=-1}e.prototype.getCount=function(){return this.values.length};e.prototype.insertValues=function(e,t){e=o.toUint32(e);var i=this.values;var n=this.prefixSum;var r=t.length;if(r===0){return false}this.values=new Uint32Array(i.length+r);this.values.set(i.subarray(0,e),0);this.values.set(i.subarray(e),e+r);this.values.set(t,e);if(e-1<this.prefixSumValidIndex[0]){this.prefixSumValidIndex[0]=e-1}this.prefixSum=new Uint32Array(this.values.length);if(this.prefixSumValidIndex[0]>=0){this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1))}return true};e.prototype.changeValue=function(e,t){e=o.toUint32(e);t=o.toUint32(t);if(this.values[e]===t){return false}this.values[e]=t;if(e-1<this.prefixSumValidIndex[0]){this.prefixSumValidIndex[0]=e-1}return true};e.prototype.removeValues=function(e,t){e=o.toUint32(e);t=o.toUint32(t);var i=this.values;var n=this.prefixSum;if(e>=i.length){return false}var r=i.length-e;if(t>=r){t=r}if(t===0){return false}this.values=new Uint32Array(i.length-t);this.values.set(i.subarray(0,e),0);this.values.set(i.subarray(e+t),e);this.prefixSum=new Uint32Array(this.values.length);if(e-1<this.prefixSumValidIndex[0]){this.prefixSumValidIndex[0]=e-1}if(this.prefixSumValidIndex[0]>=0){this.prefixSum.set(n.subarray(0,this.prefixSumValidIndex[0]+1))}return true};e.prototype.getTotalValue=function(){if(this.values.length===0){return 0}return this._getAccumulatedValue(this.values.length-1)};e.prototype.getAccumulatedValue=function(e){if(e<0){return 0}e=o.toUint32(e);return this._getAccumulatedValue(e)};e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0]){return this.prefixSum[e]}var t=this.prefixSumValidIndex[0]+1;if(t===0){this.prefixSum[0]=this.values[0];t++}if(e>=this.values.length){e=this.values.length-1}for(var i=t;i<=e;i++){this.prefixSum[i]=this.prefixSum[i-1]+this.values[i]}this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e);return this.prefixSum[e]};e.prototype.getIndexOf=function(e){e=Math.floor(e);this.getTotalValue();var t=0;var i=this.values.length-1;var n;var r;var o;while(t<=i){n=t+(i-t)/2|0;r=this.prefixSum[n];o=r-this.values[n];if(e<o){i=n-1}else if(e>=r){t=n+1}else{break}}return new s(n,e-o)};return e}();t.PrefixSumComputer=i;var n=function(){function e(e){this._cacheAccumulatedValueStart=0;this._cache=null;this._actual=new i(e);this._bustCache()}e.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0;this._cache=null};e.prototype.insertValues=function(e,t){if(this._actual.insertValues(e,t)){this._bustCache()}};e.prototype.changeValue=function(e,t){if(this._actual.changeValue(e,t)){this._bustCache()}};e.prototype.removeValues=function(e,t){if(this._actual.removeValues(e,t)){this._bustCache()}};e.prototype.getTotalValue=function(){return this._actual.getTotalValue()};e.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)};e.prototype.getIndexOf=function(e){e=Math.floor(e);if(this._cache!==null){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length){return this._cache[t]}}return this._actual.getIndexOf(e)};e.prototype.warmUpCache=function(e,t){var i=[];for(var n=e;n<=t;n++){i[n-e]=this.getIndexOf(n)}this._cache=i;this._cacheAccumulatedValueStart=e};return e}();t.PrefixSumComputerWithCache=n});define(r[235],e([0,1,3,12,5,23,101,25]),function(e,t,N,n,w,I,r,E){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this._lines=e;this._linesLength=this._lines.length;this._eol=t;this._bom=i;this._lineIndex=0}e.prototype.read=function(){if(this._lineIndex>=this._linesLength){return null}var e=null;if(this._lineIndex===0){e=this._bom+this._lines[this._lineIndex]}else{e=this._lines[this._lineIndex]}this._lineIndex++;if(this._lineIndex<this._linesLength){e+=this._eol}return e};return e}();var o=function(){function x(e){this._lines=e.lines.slice(0);this._BOM=e.BOM;this._EOL=e.EOL;this._mightContainRTL=e.containsRTL;this._mightContainNonBasicASCII=!e.isBasicASCII;this._constructLineStarts()}x.prototype._constructLineStarts=function(){var e=this._EOL.length;var t=this._lines.length;var i=new Uint32Array(t);for(var n=0;n<t;n++){i[n]=this._lines[n].length+e}this._lineStarts=new r.PrefixSumComputer(i)};x.prototype.equals=function(e){if(!(e instanceof x)){return false}if(this._BOM!==e._BOM){return false}if(this._EOL!==e._EOL){return false}if(this._lines.length!==e._lines.length){return false}for(var t=0,i=this._lines.length;t<i;t++){if(this._lines[t]!==e._lines[t]){return false}}return true};x.prototype.mightContainRTL=function(){return this._mightContainRTL};x.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII};x.prototype.getBOM=function(){return this._BOM};x.prototype.getEOL=function(){return this._EOL};x.prototype.getOffsetAt=function(e,t){return this._lineStarts.getAccumulatedValue(e-2)+t-1};x.prototype.getPositionAt=function(e){e=Math.floor(e);e=Math.max(0,e);var t=this._lineStarts.getIndexOf(e);var i=this._lines[t.index].length;return new n.Position(t.index+1,Math.min(t.remainder+1,i+1))};x.prototype.getRangeAt=function(e,t){var i=this._lineStarts.getIndexOf(e);var n=this._lines[i.index].length;var r=Math.min(i.remainder+1,n+1);var o=this._lineStarts.getIndexOf(e+t);var s=this._lines[o.index].length;var a=Math.min(o.remainder+1,s+1);return new N.Range(i.index+1,r,o.index+1,a)};x.prototype._getEndOfLine=function(e){switch(e){case E.EndOfLinePreference.LF:return"\n";case E.EndOfLinePreference.CRLF:return"\r\n";case E.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")};x.prototype.getValueInRange=function(e,t){if(e.isEmpty()){return""}if(e.startLineNumber===e.endLineNumber){return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1)}var i=this._getEndOfLine(t);var n=e.startLineNumber-1;var r=e.endLineNumber-1;var o=[];o.push(this._lines[n].substring(e.startColumn-1));for(var s=n+1;s<r;s++){o.push(this._lines[s])}o.push(this._lines[r].substring(0,e.endColumn-1));return o.join(i)};x.prototype.createSnapshot=function(e){return new i(this._lines.slice(0),this._EOL,e?this._BOM:"")};x.prototype.getValueLengthInRange=function(e,t){if(e.isEmpty()){return 0}if(e.startLineNumber===e.endLineNumber){return e.endColumn-e.startColumn}var i=this.getOffsetAt(e.startLineNumber,e.startColumn);var n=this.getOffsetAt(e.endLineNumber,e.endColumn);return n-i};x.prototype.getLineCount=function(){return this._lines.length};x.prototype.getLinesContent=function(){return this._lines.slice(0)};x.prototype.getLength=function(){return this._lineStarts.getTotalValue()};x.prototype.getLineContent=function(e){return this._lines[e-1]};x.prototype.getLineCharCode=function(e,t){return this._lines[e-1].charCodeAt(t)};x.prototype.getLineLength=function(e){return this._lines[e-1].length};x.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=w.firstNonWhitespaceIndex(this._lines[e-1]);if(t===-1){return 0}return t+1};x.prototype.getLineLastNonWhitespaceColumn=function(e){var t=w.lastNonWhitespaceIndex(this._lines[e-1]);if(t===-1){return 0}return t+2};x.prototype.setEOL=function(e){this._EOL=e;this._constructLineStarts()};x._sortOpsAscending=function(e,t){var i=N.Range.compareRangesUsingEnds(e.range,t.range);if(i===0){return e.sortIndex-t.sortIndex}return i};x._sortOpsDescending=function(e,t){var i=N.Range.compareRangesUsingEnds(e.range,t.range);if(i===0){return t.sortIndex-e.sortIndex}return-i};x.prototype.applyEdits=function(e,t){if(e.length===0){return new E.ApplyEditsResult([],[],[])}var i=this._mightContainRTL;var n=this._mightContainNonBasicASCII;var r=true;var o=[];for(var s=0;s<e.length;s++){var a=e[s];if(r&&a._isTracked){r=false}var u=a.range;if(!i&&a.text){i=w.containsRTL(a.text)}if(!n&&a.text){n=!w.isBasicASCII(a.text)}o[s]={sortIndex:s,identifier:a.identifier||null,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u,E.EndOfLinePreference.TextDefined),lines:a.text?a.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:a.forceMoveMarkers||false,isAutoWhitespaceEdit:a.isAutoWhitespaceEdit||false}}o.sort(x._sortOpsAscending);for(var s=0,l=o.length-1;s<l;s++){var c=o[s].range.getEndPosition();var d=o[s+1].range.getStartPosition();if(d.isBefore(c)){throw new Error("Overlapping ranges are not allowed!")}}if(r){o=this._reduceOperations(o)}var h=x._getInverseEditRanges(o);var f=[];for(var s=0;s<o.length;s++){var a=o[s];var p=h[s];if(t&&a.isAutoWhitespaceEdit&&a.range.isEmpty()){for(var g=p.startLineNumber;g<=p.endLineNumber;g++){var v="";if(g===p.startLineNumber){v=this.getLineContent(a.range.startLineNumber);if(w.firstNonWhitespaceIndex(v)!==-1){continue}}f.push({lineNumber:g,oldContent:v})}}}var m=[];for(var s=0;s<o.length;s++){var a=o[s];var p=h[s];m[s]={identifier:a.identifier,range:p,text:this.getValueInRange(a.range,E.EndOfLinePreference.TextDefined),forceMoveMarkers:a.forceMoveMarkers}}this._mightContainRTL=i;this._mightContainNonBasicASCII=n;var _=this._doApplyEdits(o);var y=null;if(t&&f.length>0){f.sort(function(e,t){return t.lineNumber-e.lineNumber});y=[];for(var s=0,C=f.length;s<C;s++){var g=f[s].lineNumber;if(s>0&&f[s-1].lineNumber===g){continue}var b=f[s].oldContent;var S=this.getLineContent(g);if(S.length===0||S===b||w.firstNonWhitespaceIndex(S)!==-1){continue}y.push(g)}}return new E.ApplyEditsResult(m,_,y)};x.prototype._reduceOperations=function(e){if(e.length<1e3){return e}return[this._toSingleEditOperation(e)]};x.prototype._toSingleEditOperation=function(e){var t=false,i=e[0].range,n=e[e.length-1].range,r=new N.Range(i.startLineNumber,i.startColumn,n.endLineNumber,n.endColumn),o=i.startLineNumber,s=i.startColumn,a=[];for(var u=0,l=e.length;u<l;u++){var c=e[u],d=c.range;t=t||c.forceMoveMarkers;for(var h=o;h<d.startLineNumber;h++){if(h===o){a.push(this._lines[h-1].substring(s-1))}else{a.push("\n");a.push(this._lines[h-1])}}if(d.startLineNumber===o){a.push(this._lines[d.startLineNumber-1].substring(s-1,d.startColumn-1))}else{a.push("\n");a.push(this._lines[d.startLineNumber-1].substring(0,d.startColumn-1))}if(c.lines){for(var f=0,p=c.lines.length;f<p;f++){if(f!==0){a.push("\n")}a.push(c.lines[f])}}o=c.range.endLineNumber;s=c.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:r,rangeOffset:this.getOffsetAt(r.startLineNumber,r.startColumn),rangeLength:this.getValueLengthInRange(r,E.EndOfLinePreference.TextDefined),lines:a.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:false}};x.prototype._setLineContent=function(e,t){this._lines[e-1]=t;this._lineStarts.changeValue(e-1,t.length+this._EOL.length)};x.prototype._doApplyEdits=function(e){e.sort(x._sortOpsDescending);var t=[];for(var i=0,n=e.length;i<n;i++){var r=e[i];var o=r.range.startLineNumber;var s=r.range.startColumn;var a=r.range.endLineNumber;var u=r.range.endColumn;if(o===a&&s===u&&(!r.lines||r.lines.length===0)){continue}var l=a-o;var c=r.lines?r.lines.length-1:0;var d=Math.min(l,c);for(var h=d;h>=0;h--){var f=o+h;var p=r.lines?r.lines[h]:"";if(f===o||f===a){var g=f===o?s:1;var v=f===a?u:this.getLineLength(f)+1;p=this._lines[f-1].substring(0,g-1)+p+this._lines[f-1].substring(v-1)}this._setLineContent(f,p)}if(d<l){var m=o+d;var _=this._lines[a-1].substring(u-1);this._setLineContent(m,this._lines[m-1]+_);this._lines.splice(m,a-m);this._lineStarts.removeValues(m,a-m)}if(d<c){var y=o+d;var C=y===o?s:1;if(r.lines){C+=r.lines[d].length}var b=this._lines[y-1].substring(C-1);this._setLineContent(y,this._lines[y-1].substring(0,C-1));var S=new Array(c-d);var w=new Uint32Array(c-d);for(var h=d+1;h<=c;h++){S[h-d-1]=r.lines[h];w[h-d-1]=r.lines[h].length+this._EOL.length}S[S.length-1]+=b;w[S.length-1]+=b.length;this._lines=I.arrayInsert(this._lines,o+d,S);this._lineStarts.insertValues(o+d,w)}var E=new N.Range(o,s,a,u);var L=r.lines?r.lines.join(this.getEOL()):"";t.push({range:E,rangeLength:r.rangeLength,text:L,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return t};x._getInverseEditRanges=function(e){var t=[];var i;var n;var r=null;for(var o=0,s=e.length;o<s;o++){var a=e[o];var u=void 0;var l=void 0;if(r){if(r.range.endLineNumber===a.range.startLineNumber){u=i;l=n+(a.range.startColumn-r.range.endColumn)}else{u=i+(a.range.startLineNumber-r.range.endLineNumber);l=a.range.startColumn}}else{u=a.range.startLineNumber;l=a.range.startColumn}var c=void 0;if(a.lines&&a.lines.length>0){var d=a.lines.length;var h=a.lines[0];var f=a.lines[d-1];if(d===1){c=new N.Range(u,l,u,l+h.length)}else{c=new N.Range(u,l,u+d-1,f.length+1)}}else{c=new N.Range(u,l,u,l)}i=c.endLineNumber;n=c.endColumn;t.push(c);r=a}return t};return x}();t.LinesTextBuffer=o});define(r[236],e([0,1,5,493,235]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e){this.rawTextSource=e}e.prototype.create=function(e){var t=i.TextSource.fromRawTextSource(this.rawTextSource,e);return new r.LinesTextBuffer(t)};e.prototype.getFirstLineText=function(e){return this.rawTextSource.lines[0].substr(0,e)};return e}();t.TextBufferFactory=o;var s=function(){function e(){this.BOM="";this.lines=[];this.currLineIndex=0}e.prototype.acceptLines=function(e){if(this.currLineIndex===0){if(n.startsWithUTF8BOM(e[0])){this.BOM=n.UTF8_BOM_CHARACTER;e[0]=e[0].substr(1)}}for(var t=0,i=e.length;t<i;t++){this.lines[this.currLineIndex++]=e[t]}};e.prototype.finish=function(e,t,i){return new o({BOM:this.BOM,lines:this.lines,containsRTL:t,totalCRCount:e,isBasicASCII:i})};return e}();var a=function(){function e(){this.leftoverPrevChunk="";this.leftoverEndsInCR=false;this.totalCRCount=0;this.lineBasedBuilder=new s;this.containsRTL=false;this.isBasicASCII=true}e.prototype._updateCRCount=function(e){var t=0;var i=-1;while((i=e.indexOf("\r",i+1))!==-1){t++}this.totalCRCount+=t};e.prototype.acceptChunk=function(e){if(e.length===0){return}this._updateCRCount(e);if(!this.containsRTL){this.containsRTL=n.containsRTL(e)}if(this.isBasicASCII){this.isBasicASCII=n.isBasicASCII(e)}if(this.leftoverEndsInCR){e="\r"+e}if(e.charCodeAt(e.length-1)===13){this.leftoverEndsInCR=true;e=e.substr(0,e.length-1)}else{this.leftoverEndsInCR=false}var t=e.split(/\r\n|\r|\n/);if(t.length===1){this.leftoverPrevChunk+=t[0];return}t[0]=this.leftoverPrevChunk+t[0];this.lineBasedBuilder.acceptLines(t.slice(0,t.length-1));this.leftoverPrevChunk=t[t.length-1]};e.prototype.finish=function(){var e=[this.leftoverPrevChunk];if(this.leftoverEndsInCR){e.push("")}this.lineBasedBuilder.acceptLines(e);return this.lineBasedBuilder.finish(this.totalCRCount,this.containsRTL,this.isBasicASCII)};return e}();t.LinesTextBufferBuilder=a});define(r[237],e([0,1,101,12]),function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n){this._uri=e;this._lines=t;this._eol=i;this._versionId=n}e.prototype.dispose=function(){this._lines.length=0};Object.defineProperty(e.prototype,"version",{get:function(){return this._versionId},enumerable:true,configurable:true});e.prototype.getText=function(){return this._lines.join(this._eol)};e.prototype.onEvents=function(e){if(e.eol&&e.eol!==this._eol){this._eol=e.eol;this._lineStarts=null}var t=e.changes;for(var i=0,n=t.length;i<n;i++){var r=t[i];this._acceptDeleteRange(r.range);this._acceptInsertText(new o.Position(r.range.startLineNumber,r.range.startColumn),r.text)}this._versionId=e.versionId};e.prototype._ensureLineStarts=function(){if(!this._lineStarts){var e=this._eol.length;var t=this._lines.length;var i=new Uint32Array(t);for(var n=0;n<t;n++){i[n]=this._lines[n].length+e}this._lineStarts=new r.PrefixSumComputer(i)}};e.prototype._setLineText=function(e,t){this._lines[e]=t;if(this._lineStarts){this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)}};e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn){return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1));return}this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1));this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber);if(this._lineStarts){this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber)}};e.prototype._acceptInsertText=function(e,t){if(t.length===0){return}var i=t.split(/\r\n|\r|\n/);if(i.length===1){this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]+this._lines[e.lineNumber-1].substring(e.column-1));return}i[i.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1);this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+i[0]);var n=new Uint32Array(i.length-1);for(var r=1;r<i.length;r++){this._lines.splice(e.lineNumber+r-1,0,i[r]);n[r-1]=i[r].length+this._eol.length}if(this._lineStarts){this._lineStarts.insertValues(e.lineNumber,n)}};return e}();t.MirrorTextModel=i});define(r[238],e([0,1,30,7,3,448,127,12,237,544,554,99,181,15]),function(a,e,t,b,S,u,w,o,i,n,d,r,s,l){"use strict";Object.defineProperty(e,"__esModule",{value:true});var c=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:true,configurable:true});t.prototype.getValue=function(){return this.getText()};t.prototype.getLinesContent=function(){return this._lines.slice(0)};t.prototype.getLineCount=function(){return this._lines.length};t.prototype.getLineContent=function(e){return this._lines[e-1]};t.prototype.getWordAtPosition=function(e,t){var i=r.getWordAtText(e.column,r.ensureValidWordDefinition(t),this._lines[e.lineNumber-1],0);if(i){return new S.Range(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn)}return null};t.prototype.getWordUntilPosition=function(e,t){var i=this.getWordAtPosition(e,t);if(!i){return{word:"",startColumn:e.column,endColumn:e.column}}return{word:this._lines[e.lineNumber-1].substring(i.startColumn-1,e.column-1),startColumn:i.startColumn,endColumn:e.column}};t.prototype._getAllWords=function(e){var i=this;var n=[];this._lines.forEach(function(t){i._wordenize(t,e).forEach(function(e){n.push(t.substring(e.start,e.end))})});return n};t.prototype.getAllUniqueWords=function(e,t){var i=false;var n=Object.create(null);return this._getAllWords(e).filter(function(e){if(t&&!i&&t===e){i=true;return false}else if(n[e]){return false}else{n[e]=true;return true}})};t.prototype._wordenize=function(e,t){var i=[];var n;t.lastIndex=0;while(n=t.exec(e)){if(n[0].length===0){break}i.push({start:n.index,end:n.index+n[0].length})}return i};t.prototype.getValueInRange=function(e){e=this._validateRange(e);if(e.startLineNumber===e.endLineNumber){return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1)}var t=this._eol;var i=e.startLineNumber-1;var n=e.endLineNumber-1;var r=[];r.push(this._lines[i].substring(e.startColumn-1));for(var o=i+1;o<n;o++){r.push(this._lines[o])}r.push(this._lines[n].substring(0,e.endColumn-1));return r.join(t)};t.prototype.offsetAt=function(e){e=this._validatePosition(e);this._ensureLineStarts();return this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)};t.prototype.positionAt=function(e){e=Math.floor(e);e=Math.max(0,e);this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e);var i=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,i)}};t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn});var i=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});if(t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||i.lineNumber!==e.endLineNumber||i.column!==e.endColumn){return{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:i.lineNumber,endColumn:i.column}}return e};t.prototype._validatePosition=function(e){if(!o.Position.isIPosition(e)){throw new Error("bad position")}var t=e.lineNumber,i=e.column;var n=false;if(t<1){t=1;i=1;n=true}else if(t>this._lines.length){t=this._lines.length;i=this._lines[t-1].length+1;n=true}else{var r=this._lines[t-1].length+1;if(i<1){i=1;n=true}else if(i>r){i=r;n=true}}if(!n){return e}else{return{lineNumber:t,column:i}}};return t}(i.MirrorTextModel);var h=function(){function C(e){this._foreignModuleFactory=e;this._foreignModule=null}C.prototype.computeDiff=function(e,t,i){var n=this._getModel(e);var r=this._getModel(t);if(!n||!r){return null}var o=n.getLinesContent();var s=r.getLinesContent();var a=new u.DiffComputer(o,s,{shouldPostProcessCharChanges:true,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:true});return b.TPromise.as(a.computeDiff())};C.prototype.computeDirtyDiff=function(e,t,i){var n=this._getModel(e);var r=this._getModel(t);if(!n||!r){return null}var o=n.getLinesContent();var s=r.getLinesContent();var a=new u.DiffComputer(o,s,{shouldPostProcessCharChanges:false,shouldIgnoreTrimWhitespace:i,shouldMakePrettyDiff:true});return b.TPromise.as(a.computeDiff())};C.prototype.computeMoreMinimalEdits=function(e,t){var i=this._getModel(e);if(!i){return b.TPromise.as(t)}var n=[];var r;for(var o=0,s=t;o<s.length;o++){var a=s[o],u=a.range,l=a.text,c=a.eol;if(typeof c==="number"){r=c}if(!u){continue}var d=i.getValueInRange(u);l=l.replace(/\r\n|\n|\r/g,i.eol);if(d===l){continue}if(Math.max(l.length,d.length)>C._diffLimit){n.push({range:u,text:l});continue}var h=w.stringDiff(d,l,false);var f=i.offsetAt(S.Range.lift(u).getStartPosition());for(var p=0,g=h;p<g.length;p++){var v=g[p];var m=i.positionAt(f+v.originalStart);var _=i.positionAt(f+v.originalStart+v.originalLength);var y={text:l.substr(v.modifiedStart,v.modifiedLength),range:{startLineNumber:m.lineNumber,startColumn:m.column,endLineNumber:_.lineNumber,endColumn:_.column}};if(i.getValueInRange(y.range)!==y.text){n.push(y)}}}if(typeof r==="number"){n.push({eol:r,text:undefined,range:undefined})}return b.TPromise.as(n)};C.prototype.computeLinks=function(e){var t=this._getModel(e);if(!t){return null}return b.TPromise.as(n.computeLinks(t))};C.prototype.textualSuggest=function(e,t,i,n){var r=this._getModel(e);if(r){var o=[];var s=new RegExp(i,n);var a=r.getWordUntilPosition(t,s).word;for(var u=0,l=r.getAllUniqueWords(s);u<l.length;u++){var c=l[u];if(c!==a&&isNaN(Number(c))){o.push({type:"text",label:c,insertText:c,noAutoAccept:true,overwriteBefore:a.length})}}return b.TPromise.as({suggestions:o})}return undefined};C.prototype.navigateValueSet=function(e,t,i,n,r){var o=this._getModel(e);if(!o){return null}var s=new RegExp(n,r);if(t.startColumn===t.endColumn){t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1}}var a=o.getValueInRange(t);var u=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s);var l=null;if(u!==null){l=o.getValueInRange(u)}var c=d.BasicInplaceReplace.INSTANCE.navigateValueSet(t,a,u,l,i);return b.TPromise.as(c)};C.prototype.loadForeignModule=function(t,r){var o=this;var s={getMirrorModels:function(){return o._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(s,r);var e=[];for(var i in this._foreignModule){if(typeof this._foreignModule[i]==="function"){e.push(i)}}return b.TPromise.as(e)}return new b.TPromise(function(n,e){a([t],function(e){o._foreignModule=e.create(s,r);var t=[];for(var i in o._foreignModule){if(typeof o._foreignModule[i]==="function"){t.push(i)}}n(t)},e)})};C.prototype.fmr=function(e,t){if(!this._foreignModule||typeof this._foreignModule[e]!=="function"){return b.TPromise.wrapError(new Error("Missing requestHandler or method: "+e))}try{return b.TPromise.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return b.TPromise.wrapError(e)}};C._diffLimit=1e4;return C}();e.BaseEditorSimpleWorker=h;var f=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._models=Object.create(null);return t}e.prototype.dispose=function(){this._models=Object.create(null)};e.prototype._getModel=function(e){return this._models[e]};e.prototype._getModels=function(){var t=this;var i=[];Object.keys(this._models).forEach(function(e){return i.push(t._models[e])});return i};e.prototype.acceptNewModel=function(e){this._models[e.url]=new c(t.default.parse(e.url),e.lines,e.EOL,e.versionId)};e.prototype.acceptModelChanged=function(e,t){if(!this._models[e]){return}var i=this._models[e];i.onEvents(t)};e.prototype.acceptRemovedModel=function(e){if(!this._models[e]){return}delete this._models[e]};return e}(h);e.EditorSimpleWorkerImpl=f;function p(){return new f(null)}e.create=p;if(typeof importScripts==="function"){l.globals.monaco=s.createMonacoBaseAPI()}});define(r[81],e([0,1,57,2]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(t){pe(e,t);function e(){var e=t.call(this)||this;e._shouldRender=true;return e}e.prototype.shouldRender=function(){return this._shouldRender};e.prototype.forceShouldRender=function(){this._shouldRender=true};e.prototype.setShouldRender=function(){this._shouldRender=true};e.prototype.onDidRender=function(){this._shouldRender=false};e.prototype.onConfigurationChanged=function(e){return false};e.prototype.onCursorStateChanged=function(e){return false};e.prototype.onDecorationsChanged=function(e){return false};e.prototype.onFlushed=function(e){return false};e.prototype.onFocusChanged=function(e){return false};e.prototype.onLanguageConfigurationChanged=function(e){return false};e.prototype.onLineMappingChanged=function(e){return false};e.prototype.onLinesChanged=function(e){return false};e.prototype.onLinesDeleted=function(e){return false};e.prototype.onLinesInserted=function(e){return false};e.prototype.onRevealRangeRequest=function(e){return false};e.prototype.onScrollChanged=function(e){return false};e.prototype.onTokensChanged=function(e){return false};e.prototype.onTokensColorsChanged=function(e){return false};e.prototype.onZonesChanged=function(e){return false};e.prototype.onThemeChanged=function(e){return false};e.prototype.handleEvents=function(e){var t=false;for(var i=0,n=e.length;i<n;i++){var r=e[i];switch(r.type){case 1:if(this.onConfigurationChanged(r)){t=true}break;case 2:if(this.onCursorStateChanged(r)){t=true}break;case 3:if(this.onDecorationsChanged(r)){t=true}break;case 4:if(this.onFlushed(r)){t=true}break;case 5:if(this.onFocusChanged(r)){t=true}break;case 16:if(this.onLanguageConfigurationChanged(r)){t=true}break;case 6:if(this.onLineMappingChanged(r)){t=true}break;case 7:if(this.onLinesChanged(r)){t=true}break;case 8:if(this.onLinesDeleted(r)){t=true}break;case 9:if(this.onLinesInserted(r)){t=true}break;case 10:if(this.onRevealRangeRequest(r)){t=true}break;case 11:if(this.onScrollChanged(r)){t=true}break;case 12:if(this.onTokensChanged(r)){t=true}break;case 13:if(this.onTokensColorsChanged(r)){t=true}break;case 14:if(this.onZonesChanged(r)){t=true}break;case 15:if(this.onThemeChanged(r)){t=true}break;default:console.info("View received unknown event: ");console.info(r)}}if(t){this._shouldRender=true}};return e}(n.Disposable);t.ViewEventHandler=r});define(r[59],e([0,1,81]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(i.ViewEventHandler);t.DynamicViewOverlay=n});define(r[35],e([0,1,81,28]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;i.prototype.dispose.call(this)};return e}(i.ViewEventHandler);t.ViewPart=r;var o;(function(e){e[e["None"]=0]="None";e[e["ContentWidgets"]=1]="ContentWidgets";e[e["OverflowingContentWidgets"]=2]="OverflowingContentWidgets";e[e["OverflowGuard"]=3]="OverflowGuard";e[e["OverlayWidgets"]=4]="OverlayWidgets";e[e["ScrollableElement"]=5]="ScrollableElement";e[e["TextArea"]=6]="TextArea";e[e["ViewLines"]=7]="ViewLines";e[e["Minimap"]=8]="Minimap"})(o=t.PartFingerprint||(t.PartFingerprint={}));var s=function(){function e(){}e.write=function(e,t){if(e instanceof n.FastDomNode){e.setAttribute("data-mprt",String(t))}else{e.setAttribute("data-mprt",String(t))}};e.read=function(e){var t=e.getAttribute("data-mprt");if(t===null){return 0}return parseInt(t,10)};e.collect=function(e,t){var i=[],n=0;while(e&&e!==document.body){if(e===t){break}if(e.nodeType===e.ELEMENT_NODE){i[n++]=this.read(e)}e=e.parentElement}var r=new Uint8Array(n);for(var o=0;o<n;o++){r[o]=i[n-o-1]}return r};return e}();t.PartFingerprints=s});define(r[242],e([0,1,10,28,24,35]),function(e,t,y,r,u,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function e(e,t){this.top=e;this.left=t}return e}();var i=function(n){pe(e,n);function e(e,t){var i=n.call(this,e)||this;i._viewDomNode=t;i._widgets={};i.domNode=r.createFastDomNode(document.createElement("div"));o.PartFingerprints.write(i.domNode,1);i.domNode.setClassName("contentWidgets");i.domNode.setPosition("absolute");i.domNode.setTop(0);i.overflowingContentWidgetsDomNode=r.createFastDomNode(document.createElement("div"));o.PartFingerprints.write(i.overflowingContentWidgetsDomNode,2);i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets");return i}e.prototype.dispose=function(){n.prototype.dispose.call(this);this._widgets=null;this.domNode=null};e.prototype.onConfigurationChanged=function(e){var t=Object.keys(this._widgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._widgets[r].onConfigurationChanged(e)}return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLineMappingChanged=function(e){var t=Object.keys(this._widgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._widgets[r].onLineMappingChanged(e)}return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return true};e.prototype.onZonesChanged=function(e){return true};e.prototype.addWidget=function(e){var t=new s(this._context,this._viewDomNode,e);this._widgets[t.id]=t;if(t.allowEditorOverflow){this.overflowingContentWidgetsDomNode.appendChild(t.domNode)}else{this.domNode.appendChild(t.domNode)}this.setShouldRender()};e.prototype.setWidgetPosition=function(e,t,i){var n=this._widgets[e.getId()];n.setPosition(t,i);this.setShouldRender()};e.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t];delete this._widgets[t];var n=i.domNode.domNode;n.parentNode.removeChild(n);n.removeAttribute("monaco-visible-content-widget");this.setShouldRender()}};e.prototype.shouldSuppressMouseDownOnWidget=function(e){if(this._widgets.hasOwnProperty(e)){return this._widgets[e].suppressMouseDown}return false};e.prototype.onBeforeRender=function(e){var t=Object.keys(this._widgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._widgets[r].onBeforeRender(e)}};e.prototype.prepareRender=function(e){var t=Object.keys(this._widgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._widgets[r].prepareRender(e)}};e.prototype.render=function(e){var t=Object.keys(this._widgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._widgets[r].render(e)}};return e}(o.ViewPart);t.ViewContentWidgets=i;var s=function(){function e(e,t,i){this._context=e;this._viewDomNode=t;this._actual=i;this.domNode=r.createFastDomNode(this._actual.getDomNode());this.id=this._actual.getId();this.allowEditorOverflow=this._actual.allowEditorOverflow||false;this.suppressMouseDown=this._actual.suppressMouseDown||false;this._fixedOverflowWidgets=this._context.configuration.editor.viewInfo.fixedOverflowWidgets;this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth;this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft;this._lineHeight=this._context.configuration.editor.lineHeight;this._setPosition(null);this._preference=null;this._cachedDomNodeClientWidth=-1;this._cachedDomNodeClientHeight=-1;this._maxWidth=this._getMaxWidth();this._isVisible=false;this._renderData=null;this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute");this.domNode.setVisibility("hidden");this.domNode.setAttribute("widgetId",this.id);this.domNode.setMaxWidth(this._maxWidth)}e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.layoutInfo){this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft;this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth;this._maxWidth=this._getMaxWidth()}};e.prototype.onLineMappingChanged=function(e){this._setPosition(this._position)};e.prototype._setPosition=function(e){this._position=e;this._viewPosition=null;if(this._position){var t=this._context.model.validateModelPosition(this._position);if(this._context.model.coordinatesConverter.modelPositionIsVisible(t)){this._viewPosition=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t)}}};e.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth};e.prototype.setPosition=function(e,t){this._setPosition(e);this._preference=t;this._cachedDomNodeClientWidth=-1;this._cachedDomNodeClientHeight=-1};e.prototype._layoutBoxInViewport=function(e,t,i,n){var r=e.top;var o=r;var s=e.top+this._lineHeight;var a=n.viewportHeight-s;var u=r-i;var l=o>=i;var c=s;var d=a>=i;var h=e.left;if(h+t>n.scrollLeft+n.viewportWidth){h=n.scrollLeft+n.viewportWidth-t}if(h<n.scrollLeft){h=n.scrollLeft}return{aboveTop:u,fitsAbove:l,belowTop:c,fitsBelow:d,left:h}};e.prototype._layoutBoxInPage=function(e,t,i,n){var r=e.left-n.scrollLeft;if(r+t<0||r>this._contentWidth){return null}var o=e.top-i;var s=e.top+this._lineHeight;var a=r+this._contentLeft;var u=y.getDomNodePagePosition(this._viewDomNode.domNode);var l=u.top+o-y.StandardWindow.scrollY;var c=u.top+s-y.StandardWindow.scrollY;var d=u.left+a-y.StandardWindow.scrollX;var h=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var f=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;var p=22;var g=22;var v=l>=p,m=c+i<=f-g;if(d+t+20>h){var _=d-(h-t-20);d-=_;a-=_}if(d<0){var _=d;d-=_;a-=_}if(this._fixedOverflowWidgets){o=l;s=c;a=d}return{aboveTop:o,fitsAbove:v,belowTop:s,fitsBelow:m,left:a}};e.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new l(e.top,e.left+this._contentLeft)};e.prototype._getTopLeft=function(e){if(!this._viewPosition){return null}var t=e.visibleRangeForPosition(this._viewPosition);if(!t){return null}var i=e.getVerticalOffsetForLineNumber(this._viewPosition.lineNumber)-e.scrollTop;return new l(i,t.left)};e.prototype._prepareRenderWidget=function(t,i){var n=this;if(!t){return null}var r=null;var e=function(){if(r){return}if(n._cachedDomNodeClientWidth===-1||n._cachedDomNodeClientHeight===-1){var e=n.domNode.domNode;n._cachedDomNodeClientWidth=e.clientWidth;n._cachedDomNodeClientHeight=e.clientHeight}if(n.allowEditorOverflow){r=n._layoutBoxInPage(t,n._cachedDomNodeClientWidth,n._cachedDomNodeClientHeight,i)}else{r=n._layoutBoxInViewport(t,n._cachedDomNodeClientWidth,n._cachedDomNodeClientHeight,i)}};for(var o=1;o<=2;o++){for(var s=0;s<this._preference.length;s++){var a=this._preference[s];if(a===u.ContentWidgetPositionPreference.ABOVE){e();if(!r){return null}if(o===2||r.fitsAbove){return new l(r.aboveTop,r.left)}}else if(a===u.ContentWidgetPositionPreference.BELOW){e();if(!r){return null}if(o===2||r.fitsBelow){return new l(r.belowTop,r.left)}}else{if(this.allowEditorOverflow){return this._prepareRenderWidgetAtExactPositionOverflowing(t)}else{return t}}}}return null};e.prototype.onBeforeRender=function(e){if(!this._viewPosition||!this._preference){return}if(this._viewPosition.lineNumber<e.startLineNumber||this._viewPosition.lineNumber>e.endLineNumber){return}this.domNode.setMaxWidth(this._maxWidth)};e.prototype.prepareRender=function(e){var t=this._getTopLeft(e);this._renderData=this._prepareRenderWidget(t,e)};e.prototype.render=function(e){if(!this._renderData){if(this._isVisible){this.domNode.removeAttribute("monaco-visible-content-widget");this._isVisible=false;this.domNode.setVisibility("hidden")}return}if(this.allowEditorOverflow){this.domNode.setTop(this._renderData.top);this.domNode.setLeft(this._renderData.left)}else{this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta);this.domNode.setLeft(this._renderData.left)}if(!this._isVisible){this.domNode.setVisibility("inherit");this.domNode.setAttribute("monaco-visible-content-widget","true");this._isVisible=true}};return e}()});define(r[243],e([0,1,59,3,86,268]),function(e,t,i,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._lineHeight=t._context.configuration.editor.lineHeight;t._typicalHalfwidthCharacterWidth=t._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;t._renderResult=null;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._renderResult=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.fontInfo){this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth}return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype.prepareRender=function(e){var t=e.getDecorationsInViewport();var i=[],n=0;for(var r=0,o=t.length;r<o;r++){var s=t[r];if(s.options.className){i[n++]=s}}i=i.sort(function(e,t){var i=e.options.className;var n=t.options.className;if(i<n){return-1}if(i>n){return 1}return b.Range.compareRangesUsingStarts(e.range,t.range)});var a=e.visibleRange.startLineNumber;var u=e.visibleRange.endLineNumber;var l=[];for(var c=a;c<=u;c++){var d=c-a;l[d]=""}this._renderWholeLineDecorations(e,i,l);this._renderNormalDecorations(e,i,l);this._renderResult=l};e.prototype._renderWholeLineDecorations=function(e,t,i){var n=String(this._lineHeight);var r=e.visibleRange.startLineNumber;var o=e.visibleRange.endLineNumber;for(var s=0,a=t.length;s<a;s++){var u=t[s];if(!u.options.isWholeLine){continue}var l='<div class="cdr '+u.options.className+'" style="left:0;width:100%;height:'+n+'px;"></div>';var c=Math.max(u.range.startLineNumber,r);var d=Math.min(u.range.endLineNumber,o);for(var h=c;h<=d;h++){var f=h-r;i[f]+=l}}};e.prototype._renderNormalDecorations=function(e,t,i){var n=String(this._lineHeight);var r=e.visibleRange.startLineNumber;for(var o=0,s=t.length;o<s;o++){var a=t[o];if(a.options.isWholeLine){continue}var u=a.options.className;var l=a.options.showIfCollapsed;var c=a.range;if(l&&c.endColumn===1&&c.endLineNumber!==c.startLineNumber){c=new b.Range(c.startLineNumber,c.startColumn,c.endLineNumber-1,this._context.model.getLineMaxColumn(c.endLineNumber-1))}var d=e.linesVisibleRangesForRange(c,u==="findMatch");if(!d){continue}for(var h=0,f=d.length;h<f;h++){var p=d[h];var g=p.lineNumber-r;if(l&&p.ranges.length===1){var v=p.ranges[0];if(v.width===0){p.ranges[0]=new S.HorizontalRange(v.left,this._typicalHalfwidthCharacterWidth)}}for(var m=0,_=p.ranges.length;m<_;m++){var y=p.ranges[m];var C='<div class="cdr '+u+'" style="left:'+String(y.left)+"px;width:"+String(y.width)+"px;height:"+n+'px;"></div>';i[g]+=C}}}};e.prototype.render=function(e,t){if(!this._renderResult){return""}var i=t-e;if(i<0||i>=this._renderResult.length){return""}return this._renderResult[i]};return e}(i.DynamicViewOverlay);t.DecorationsOverlay=n});define(r[129],e([0,1,59,269]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(){function e(e,t,i){this.startLineNumber=+e;this.endLineNumber=+t;this.className=String(i)}return e}();t.DecorationToRender=u;var n=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._render=function(e,t,i){var n=[];for(var r=e;r<=t;r++){var o=r-e;n[o]=[]}if(i.length===0){return n}i.sort(function(e,t){if(e.className===t.className){if(e.startLineNumber===t.startLineNumber){return e.endLineNumber-t.endLineNumber}return e.startLineNumber-t.startLineNumber}return e.className<t.className?-1:1});var s=null;var a=0;for(var u=0,l=i.length;u<l;u++){var c=i[u];var d=c.className;var h=Math.max(c.startLineNumber,e)-e;var f=Math.min(c.endLineNumber,t)-e;if(s===d){h=Math.max(a+1,h);a=Math.max(a,f)}else{s=d;a=f}for(var p=h;p<=a;p++){n[p].push(s)}}return n};return t}(i.DynamicViewOverlay);t.DedupOverlay=n;var r=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._lineHeight=t._context.configuration.editor.lineHeight;t._glyphMargin=t._context.configuration.editor.viewInfo.glyphMargin;t._glyphMarginLeft=t._context.configuration.editor.layoutInfo.glyphMarginLeft;t._glyphMarginWidth=t._context.configuration.editor.layoutInfo.glyphMarginWidth;t._renderResult=null;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._renderResult=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.viewInfo){this._glyphMargin=this._context.configuration.editor.viewInfo.glyphMargin}if(e.layoutInfo){this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft;this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth}return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype._getDecorations=function(e){var t=e.getDecorationsInViewport();var i=[],n=0;for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.options.glyphMarginClassName;if(a){i[n++]=new u(s.range.startLineNumber,s.range.endLineNumber,a)}}return i};e.prototype.prepareRender=function(e){if(!this._glyphMargin){this._renderResult=null;return}var t=e.visibleRange.startLineNumber;var i=e.visibleRange.endLineNumber;var n=this._render(t,i,this._getDecorations(e));var r=this._lineHeight.toString();var o=this._glyphMarginLeft.toString();var s=this._glyphMarginWidth.toString();var a='" style="left:'+o+"px;width:"+s+"px"+";height:"+r+'px;"></div>';var u=[];for(var l=t;l<=i;l++){var c=l-t;var d=n[c];if(d.length===0){u[c]=""}else{u[c]='<div class="cgmr '+d.join(" ")+a}}this._renderResult=u};e.prototype.render=function(e,t){if(!this._renderResult){return""}var i=t-e;if(i<0||i>=this._renderResult.length){return""}return this._renderResult[i]};return e}(n);t.GlyphMarginOverlay=r});define(r[245],e([0,1,129,284]),function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._decorationsLeft=t._context.configuration.editor.layoutInfo.decorationsLeft;t._decorationsWidth=t._context.configuration.editor.layoutInfo.decorationsWidth;t._renderResult=null;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._renderResult=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.layoutInfo){this._decorationsLeft=this._context.configuration.editor.layoutInfo.decorationsLeft;this._decorationsWidth=this._context.configuration.editor.layoutInfo.decorationsWidth}return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype._getDecorations=function(e){var t=e.getDecorationsInViewport();var i=[],n=0;for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.options.linesDecorationsClassName;if(a){i[n++]=new u.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a)}}return i};e.prototype.prepareRender=function(e){var t=e.visibleRange.startLineNumber;var i=e.visibleRange.endLineNumber;var n=this._render(t,i,this._getDecorations(e));var r=this._decorationsLeft.toString();var o=this._decorationsWidth.toString();var s='" style="left:'+r+"px;width:"+o+'px;"></div>';var a=[];for(var u=t;u<=i;u++){var l=u-t;var c=n[l];var d="";for(var h=0,f=c.length;h<f;h++){d+='<div class="cldr '+c[h]+s}a[l]=d}this._renderResult=a};e.prototype.render=function(e,t){if(!this._renderResult){return""}return this._renderResult[t-e]};return e}(u.DedupOverlay);t.LinesDecorationsOverlay=i});define(r[154],e([0,1,28,35]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(i){pe(t,i);function t(e){var t=i.call(this,e)||this;t._canUseLayerHinting=t._context.configuration.editor.canUseLayerHinting;t._contentLeft=t._context.configuration.editor.layoutInfo.contentLeft;t._glyphMarginLeft=t._context.configuration.editor.layoutInfo.glyphMarginLeft;t._glyphMarginWidth=t._context.configuration.editor.layoutInfo.glyphMarginWidth;t._domNode=t._createDomNode();return t}t.prototype.dispose=function(){i.prototype.dispose.call(this)};t.prototype.getDomNode=function(){return this._domNode};t.prototype._createDomNode=function(){var e=n.createFastDomNode(document.createElement("div"));e.setClassName("margin");e.setPosition("absolute");e.setAttribute("role","presentation");e.setAttribute("aria-hidden","true");this._glyphMarginBackgroundDomNode=n.createFastDomNode(document.createElement("div"));this._glyphMarginBackgroundDomNode.setClassName(t.CLASS_NAME);e.appendChild(this._glyphMarginBackgroundDomNode);return e};t.prototype.onConfigurationChanged=function(e){if(e.canUseLayerHinting){this._canUseLayerHinting=this._context.configuration.editor.canUseLayerHinting}if(e.layoutInfo){this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft;this._glyphMarginLeft=this._context.configuration.editor.layoutInfo.glyphMarginLeft;this._glyphMarginWidth=this._context.configuration.editor.layoutInfo.glyphMarginWidth}return true};t.prototype.onScrollChanged=function(e){return i.prototype.onScrollChanged.call(this,e)||e.scrollTopChanged};t.prototype.prepareRender=function(e){};t.prototype.render=function(e){this._domNode.setLayerHinting(this._canUseLayerHinting);var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);var i=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(i);this._domNode.setWidth(this._contentLeft);this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft);this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth);this._glyphMarginBackgroundDomNode.setHeight(i)};t.CLASS_NAME="glyph-margin";return t}(i.ViewPart);t.Margin=r});define(r[247],e([0,1,129,288]),function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._renderResult=null;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._renderResult=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype._getDecorations=function(e){var t=e.getDecorationsInViewport();var i=[],n=0;for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.options.marginClassName;if(a){i[n++]=new u.DecorationToRender(s.range.startLineNumber,s.range.endLineNumber,a)}}return i};e.prototype.prepareRender=function(e){var t=e.visibleRange.startLineNumber;var i=e.visibleRange.endLineNumber;var n=this._render(t,i,this._getDecorations(e));var r=[];for(var o=t;o<=i;o++){var s=o-t;var a=n[s];var u="";for(var l=0,c=a.length;l<c;l++){u+='<div class="cmdr '+a[l]+'" style=""></div>'}r[s]=u}this._renderResult=r};e.prototype.render=function(e,t){if(!this._renderResult){return""}return this._renderResult[t-e]};return e}(u.DedupOverlay);t.MarginViewLineDecorationsOverlay=i});define(r[248],e([0,1,28,24,35,291]),function(e,t,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._widgets={};t._verticalScrollbarWidth=t._context.configuration.editor.layoutInfo.verticalScrollbarWidth;t._minimapWidth=t._context.configuration.editor.layoutInfo.minimapWidth;t._horizontalScrollbarHeight=t._context.configuration.editor.layoutInfo.horizontalScrollbarHeight;t._editorHeight=t._context.configuration.editor.layoutInfo.height;t._editorWidth=t._context.configuration.editor.layoutInfo.width;t._domNode=n.createFastDomNode(document.createElement("div"));o.PartFingerprints.write(t._domNode,4);t._domNode.setClassName("overlayWidgets");return t}e.prototype.dispose=function(){i.prototype.dispose.call(this);this._widgets=null};e.prototype.getDomNode=function(){return this._domNode};e.prototype.onConfigurationChanged=function(e){if(e.layoutInfo){this._verticalScrollbarWidth=this._context.configuration.editor.layoutInfo.verticalScrollbarWidth;this._minimapWidth=this._context.configuration.editor.layoutInfo.minimapWidth;this._horizontalScrollbarHeight=this._context.configuration.editor.layoutInfo.horizontalScrollbarHeight;this._editorHeight=this._context.configuration.editor.layoutInfo.height;this._editorWidth=this._context.configuration.editor.layoutInfo.width;return true}return false};e.prototype.addWidget=function(e){var t=n.createFastDomNode(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t};t.setPosition("absolute");t.setAttribute("widgetId",e.getId());this._domNode.appendChild(t);this.setShouldRender()};e.prototype.setWidgetPosition=function(e,t){var i=this._widgets[e.getId()];if(i.preference===t){return false}i.preference=t;this.setShouldRender();return true};e.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var i=this._widgets[t];var n=i.domNode.domNode;delete this._widgets[t];n.parentNode.removeChild(n);this.setShouldRender()}};e.prototype._renderWidget=function(e){var t=e.domNode;if(e.preference===null){t.unsetTop();return}if(e.preference===r.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER){t.setTop(0);t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(e.preference===r.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER){var i=t.domNode.clientHeight;t.setTop(this._editorHeight-i-2*this._horizontalScrollbarHeight);t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(e.preference===r.OverlayWidgetPositionPreference.TOP_CENTER){t.setTop(0);t.domNode.style.right="50%"}};e.prototype.prepareRender=function(e){};e.prototype.render=function(e){this._domNode.setWidth(this._editorWidth);var t=Object.keys(this._widgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._renderWidget(this._widgets[r])}};return e}(o.ViewPart);t.ViewOverlayWidgets=i});define(r[249],e([0,1,81,186,28]),function(e,t,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i._context=e;i._domNode=o.createFastDomNode(document.createElement("canvas"));i._domNode.setClassName(t);i._domNode.setPosition("absolute");i._domNode.setLayerHinting(true);i._zoneManager=new r.OverviewZoneManager(function(e){return i._context.viewLayout.getVerticalOffsetForLineNumber(e)});i._zoneManager.setDOMWidth(0);i._zoneManager.setDOMHeight(0);i._zoneManager.setOuterHeight(i._context.viewLayout.getScrollHeight());i._zoneManager.setLineHeight(i._context.configuration.editor.lineHeight);i._zoneManager.setPixelRatio(i._context.configuration.editor.pixelRatio);i._context.addEventHandler(i);return i}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._zoneManager=null;n.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._zoneManager.setLineHeight(this._context.configuration.editor.lineHeight);this._render()}if(e.pixelRatio){this._zoneManager.setPixelRatio(this._context.configuration.editor.pixelRatio);this._domNode.setWidth(this._zoneManager.getDOMWidth());this._domNode.setHeight(this._zoneManager.getDOMHeight());this._domNode.domNode.width=this._zoneManager.getCanvasWidth();this._domNode.domNode.height=this._zoneManager.getCanvasHeight();this._render()}return true};e.prototype.onFlushed=function(e){this._render();return true};e.prototype.onScrollChanged=function(e){if(e.scrollHeightChanged){this._zoneManager.setOuterHeight(e.scrollHeight);this._render()}return true};e.prototype.onZonesChanged=function(e){this._render();return true};e.prototype.getDomNode=function(){return this._domNode.domNode};e.prototype.setLayout=function(e){this._domNode.setTop(e.top);this._domNode.setRight(e.right);var t=false;t=this._zoneManager.setDOMWidth(e.width)||t;t=this._zoneManager.setDOMHeight(e.height)||t;if(t){this._domNode.setWidth(this._zoneManager.getDOMWidth());this._domNode.setHeight(this._zoneManager.getDOMHeight());this._domNode.domNode.width=this._zoneManager.getCanvasWidth();this._domNode.domNode.height=this._zoneManager.getCanvasHeight();this._render()}};e.prototype.setZones=function(e){this._zoneManager.setZones(e);this._render()};e.prototype._render=function(){if(this._zoneManager.getOuterHeight()===0){return false}var e=this._zoneManager.getCanvasWidth();var t=this._zoneManager.getCanvasHeight();var i=this._zoneManager.resolveColorZones();var n=this._zoneManager.getId2Color();var r=this._domNode.domNode.getContext("2d");r.clearRect(0,0,e,t);if(i.length>0){this._renderOneLane(r,i,n,e)}return true};e.prototype._renderOneLane=function(e,t,i,n){var r=0;var o=0;var s=0;for(var a=0,u=t.length;a<u;a++){var l=t[a];var c=l.colorId;var d=l.from;var h=l.to;if(c!==r){e.fillRect(0,o,n,s-o);r=c;e.fillStyle=i[r];o=d;s=h}else{if(s>=d){s=Math.max(s,h)}else{e.fillRect(0,o,n,s-o);o=d;s=h}}}e.fillRect(0,o,n,s-o)};return e}(i.ViewEventHandler);t.OverviewRuler=n});define(r[250],e([0,1,13,28,35,12]),function(e,t,n,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._lineHeight=t._context.configuration.editor.lineHeight;t._contentWidth=t._context.configuration.editor.layoutInfo.contentWidth;t._contentLeft=t._context.configuration.editor.layoutInfo.contentLeft;t.domNode=r.createFastDomNode(document.createElement("div"));t.domNode.setClassName("view-zones");t.domNode.setPosition("absolute");t.domNode.setAttribute("role","presentation");t.domNode.setAttribute("aria-hidden","true");t.marginDomNode=r.createFastDomNode(document.createElement("div"));t.marginDomNode.setClassName("margin-view-zones");t.marginDomNode.setPosition("absolute");t.marginDomNode.setAttribute("role","presentation");t.marginDomNode.setAttribute("aria-hidden","true");t._zones={};return t}e.prototype.dispose=function(){i.prototype.dispose.call(this);this._zones={}};e.prototype._recomputeWhitespacesProps=function(){var e=false;var t=Object.keys(this._zones);for(var i=0,n=t.length;i<n;i++){var r=t[i];var o=this._zones[r];var s=this._computeWhitespaceProps(o.delegate);if(this._context.viewLayout.changeWhitespace(parseInt(r,10),s.afterViewLineNumber,s.heightInPx)){this._safeCallOnComputedHeight(o.delegate,s.heightInPx);e=true}}return e};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight;return this._recomputeWhitespacesProps()}if(e.layoutInfo){this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth;this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft}return true};e.prototype.onLineMappingChanged=function(e){return this._recomputeWhitespacesProps()};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype._getZoneOrdinal=function(e){if(typeof e.afterColumn!=="undefined"){return e.afterColumn}return 1e4};e.prototype._computeWhitespaceProps=function(e){if(e.afterLineNumber===0){return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e)}}var t;if(typeof e.afterColumn!=="undefined"){t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn})}else{var i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new s.Position(i,this._context.model.getModelLineMaxColumn(i))}var n;if(t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)){n=this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1})}else{n=this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1})}var r=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t);var o=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{afterViewLineNumber:r.lineNumber,heightInPx:o?this._heightInPixels(e):0}};e.prototype.addZone=function(e){var t=this._computeWhitespaceProps(e);var i=this._context.viewLayout.addWhitespace(t.afterViewLineNumber,this._getZoneOrdinal(e),t.heightInPx);var n={whitespaceId:i,delegate:e,isVisible:false,domNode:r.createFastDomNode(e.domNode),marginDomNode:e.marginDomNode?r.createFastDomNode(e.marginDomNode):null};this._safeCallOnComputedHeight(n.delegate,t.heightInPx);n.domNode.setPosition("absolute");n.domNode.domNode.style.width="100%";n.domNode.setDisplay("none");n.domNode.setAttribute("monaco-view-zone",n.whitespaceId.toString());this.domNode.appendChild(n.domNode);if(n.marginDomNode){n.marginDomNode.setPosition("absolute");n.marginDomNode.domNode.style.width="100%";n.marginDomNode.setDisplay("none");n.marginDomNode.setAttribute("monaco-view-zone",n.whitespaceId.toString());this.marginDomNode.appendChild(n.marginDomNode)}this._zones[n.whitespaceId.toString()]=n;this.setShouldRender();return n.whitespaceId};e.prototype.removeZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];delete this._zones[e.toString()];this._context.viewLayout.removeWhitespace(t.whitespaceId);t.domNode.removeAttribute("monaco-visible-view-zone");t.domNode.removeAttribute("monaco-view-zone");t.domNode.domNode.parentNode.removeChild(t.domNode.domNode);if(t.marginDomNode){t.marginDomNode.removeAttribute("monaco-visible-view-zone");t.marginDomNode.removeAttribute("monaco-view-zone");t.marginDomNode.domNode.parentNode.removeChild(t.marginDomNode.domNode)}this.setShouldRender();return true}return false};e.prototype.layoutZone=function(e){var t=false;if(this._zones.hasOwnProperty(e.toString())){var i=this._zones[e.toString()];var n=this._computeWhitespaceProps(i.delegate);t=this._context.viewLayout.changeWhitespace(i.whitespaceId,n.afterViewLineNumber,n.heightInPx)||t;if(t){this._safeCallOnComputedHeight(i.delegate,n.heightInPx);this.setShouldRender()}}return t};e.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e.toString())){var t=this._zones[e.toString()];return t.delegate.suppressMouseDown}return false};e.prototype._heightInPixels=function(e){if(typeof e.heightInPx==="number"){return e.heightInPx}if(typeof e.heightInLines==="number"){return this._lineHeight*e.heightInLines}return this._lineHeight};e.prototype._safeCallOnComputedHeight=function(e,t){if(typeof e.onComputedHeight==="function"){try{e.onComputedHeight(t)}catch(e){n.onUnexpectedError(e)}}};e.prototype._safeCallOnDomNodeTop=function(e,t){if(typeof e.onDomNodeTop==="function"){try{e.onDomNodeTop(t)}catch(e){n.onUnexpectedError(e)}}};e.prototype.prepareRender=function(e){};e.prototype.render=function(e){var t=e.viewportData.whitespaceViewportData;var i={};var n=false;for(var r=0,o=t.length;r<o;r++){i[t[r].id.toString()]=t[r];n=true}var s=Object.keys(this._zones);for(var r=0,o=s.length;r<o;r++){var a=s[r];var u=this._zones[a];var l=0;var c=0;var d="none";if(i.hasOwnProperty(a)){l=i[a].verticalOffset-e.bigNumbersDelta;c=i[a].height;d="block";if(!u.isVisible){u.domNode.setAttribute("monaco-visible-view-zone","true");u.isVisible=true}this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(i[a].verticalOffset))}else{if(u.isVisible){u.domNode.removeAttribute("monaco-visible-view-zone");u.isVisible=false}this._safeCallOnDomNodeTop(u.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))}u.domNode.setTop(l);u.domNode.setHeight(c);u.domNode.setDisplay(d);if(u.marginDomNode){u.marginDomNode.setTop(l);u.marginDomNode.setHeight(c);u.marginDomNode.setDisplay(d)}}if(n){this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth));this.marginDomNode.setWidth(this._contentLeft)}};return e}(i.ViewPart);t.ViewZones=o});define(r[84],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n){this.top=e|0;this.left=t|0;this.width=i|0;this.height=n|0}return e}();t.Viewport=i;var n=function(){function e(e,t){this.tabSize=e;this.data=t}return e}();t.MinimapLinesRenderingData=n;var r=function(){function e(e,t,i,n){this.content=e;this.minColumn=t;this.maxColumn=i;this.tokens=n}return e}();t.ViewLineData=r;var o=function(){function e(e,t,i,n,r,o,s,a){this.minColumn=e;this.maxColumn=t;this.content=i;this.mightContainRTL=n;this.mightContainNonBasicASCII=r;this.tokens=o;this.inlineDecorations=s;this.tabSize=a}return e}();t.ViewLineRenderingData=o;var s;(function(e){e[e["Regular"]=0]="Regular";e[e["Before"]=1]="Before";e[e["After"]=2]="After"})(s=t.InlineDecorationType||(t.InlineDecorationType={}));var a=function(){function e(e,t,i){this.range=e;this.inlineClassName=t;this.type=i}return e}();t.InlineDecoration=a;var u=function(){function e(e,t){this.range=e;this.options=t}return e}();t.ViewModelDecoration=u});define(r[252],e([0,1,2,43,233,84]),function(e,t,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=125;var n=function(r){pe(n,r);function n(e,t,i){var n=r.call(this)||this;n._configuration=e;n._linesLayout=new s.LinesLayout(t,n._configuration.editor.lineHeight);n.scrollable=n._register(new o.Scrollable(0,i));n._configureSmoothScrollDuration();n.scrollable.setScrollDimensions({width:e.editor.layoutInfo.contentWidth,height:e.editor.layoutInfo.contentHeight});n.onDidScroll=n.scrollable.onScroll;n._updateHeight();return n}n.prototype.dispose=function(){r.prototype.dispose.call(this)};n.prototype.onHeightMaybeChanged=function(){this._updateHeight()};n.prototype._configureSmoothScrollDuration=function(){this.scrollable.setSmoothScrollDuration(this._configuration.editor.viewInfo.smoothScrolling?u:0)};n.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._linesLayout.setLineHeight(this._configuration.editor.lineHeight)}if(e.layoutInfo){this.scrollable.setScrollDimensions({width:this._configuration.editor.layoutInfo.contentWidth,height:this._configuration.editor.layoutInfo.contentHeight})}if(e.viewInfo){this._configureSmoothScrollDuration()}this._updateHeight()};n.prototype.onFlushed=function(e){this._linesLayout.onFlushed(e);this._updateHeight()};n.prototype.onLinesDeleted=function(e,t){this._linesLayout.onLinesDeleted(e,t);this._updateHeight()};n.prototype.onLinesInserted=function(e,t){this._linesLayout.onLinesInserted(e,t);this._updateHeight()};n.prototype._getHorizontalScrollbarHeight=function(e){if(this._configuration.editor.viewInfo.scrollbar.horizontal===o.ScrollbarVisibility.Hidden){return 0}if(e.width>=e.scrollWidth){return 0}return this._configuration.editor.viewInfo.scrollbar.horizontalScrollbarSize};n.prototype._getTotalHeight=function(){var e=this.scrollable.getScrollDimensions();var t=this._linesLayout.getLinesTotalHeight();if(this._configuration.editor.viewInfo.scrollBeyondLastLine){t+=e.height-this._configuration.editor.lineHeight}else{t+=this._getHorizontalScrollbarHeight(e)}return Math.max(e.height,t)};n.prototype._updateHeight=function(){this.scrollable.setScrollDimensions({scrollHeight:this._getTotalHeight()})};n.prototype.getCurrentViewport=function(){var e=this.scrollable.getScrollDimensions();var t=this.scrollable.getCurrentScrollPosition();return new a.Viewport(t.scrollTop,t.scrollLeft,e.width,e.height)};n.prototype.getFutureViewport=function(){var e=this.scrollable.getScrollDimensions();var t=this.scrollable.getFutureScrollPosition();return new a.Viewport(t.scrollTop,t.scrollLeft,e.width,e.height)};n.prototype._computeScrollWidth=function(e,t){var i=this._configuration.editor.wrappingInfo.isViewportWrapping;if(!i){return Math.max(e+n.LINES_HORIZONTAL_EXTRA_PX,t)}return Math.max(e,t)};n.prototype.onMaxLineWidthChanged=function(e){var t=this._computeScrollWidth(e,this.getCurrentViewport().width);this.scrollable.setScrollDimensions({scrollWidth:t});this._updateHeight()};n.prototype.saveState=function(){var e=this.scrollable.getFutureScrollPosition();var t=e.scrollTop;var i=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t);var n=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(i);return{scrollTop:t,scrollTopWithoutViewZones:t-n,scrollLeft:e.scrollLeft}};n.prototype.reduceRestoreState=function(e){var t=e.scrollTop;if(typeof e.scrollTopWithoutViewZones==="number"&&!this._linesLayout.hasWhitespace()){t=e.scrollTopWithoutViewZones}return{scrollLeft:e.scrollLeft,scrollTop:t}};n.prototype.addWhitespace=function(e,t,i){return this._linesLayout.insertWhitespace(e,t,i)};n.prototype.changeWhitespace=function(e,t,i){return this._linesLayout.changeWhitespace(e,t,i)};n.prototype.removeWhitespace=function(e){return this._linesLayout.removeWhitespace(e)};n.prototype.getVerticalOffsetForLineNumber=function(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)};n.prototype.isAfterLines=function(e){return this._linesLayout.isAfterLines(e)};n.prototype.getLineNumberAtVerticalOffset=function(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)};n.prototype.getWhitespaceAtVerticalOffset=function(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)};n.prototype.getLinesViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)};n.prototype.getLinesViewportDataAtScrollTop=function(e){var t=this.scrollable.getScrollDimensions();if(e+t.height>t.scrollHeight){e=t.scrollHeight-t.height}if(e<0){e=0}return this._linesLayout.getLinesViewportData(e,e+t.height)};n.prototype.getWhitespaceViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)};n.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()};n.prototype.getScrollWidth=function(){var e=this.scrollable.getScrollDimensions();return e.scrollWidth};n.prototype.getScrollHeight=function(){var e=this.scrollable.getScrollDimensions();return e.scrollHeight};n.prototype.getCurrentScrollLeft=function(){var e=this.scrollable.getCurrentScrollPosition();return e.scrollLeft};n.prototype.getCurrentScrollTop=function(){var e=this.scrollable.getCurrentScrollPosition();return e.scrollTop};n.prototype.validateScrollPosition=function(e){return this.scrollable.validateScrollPosition(e)};n.prototype.setScrollPositionNow=function(e){this.scrollable.setScrollPositionNow(e)};n.prototype.setScrollPositionSmooth=function(e){this.scrollable.setScrollPositionSmooth(e)};n.prototype.deltaScrollNow=function(e,t){var i=this.scrollable.getCurrentScrollPosition();this.scrollable.setScrollPositionNow({scrollLeft:i.scrollLeft+e,scrollTop:i.scrollTop+t})};n.LINES_HORIZONTAL_EXTRA_PX=30;return n}(i.Disposable);t.ViewLayout=n});define(r[253],e([0,1,3,12,84]),function(e,t,m,u,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n,r){this.editorId=e;this.model=t;this.configuration=i;this._linesCollection=n;this._coordinatesConverter=r;this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver()}e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null;this._cachedModelDecorationsResolverViewRange=null};e.prototype.dispose=function(){this._decorationsCache=null;this._clearCachedModelDecorationsResolver()};e.prototype.reset=function(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver()};e.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver()};e.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null);this._clearCachedModelDecorationsResolver()};e.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id;var i=this._decorationsCache[t];if(!i){var n=e.range;var r=e.options;var o=void 0;if(r.isWholeLine){var s=this._coordinatesConverter.convertModelPositionToViewPosition(new u.Position(n.startLineNumber,1));var a=this._coordinatesConverter.convertModelPositionToViewPosition(new u.Position(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)));o=new m.Range(s.lineNumber,s.column,a.lineNumber,a.column)}else{o=this._coordinatesConverter.convertModelRangeToViewRange(n)}i=new _.ViewModelDecoration(o,r);this._decorationsCache[t]=i}return i};e.prototype.getDecorationsViewportData=function(e){var t=true;t=t&&this._cachedModelDecorationsResolver!==null;t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange);if(!t){this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e);this._cachedModelDecorationsResolverViewRange=e}return this._cachedModelDecorationsResolver};e.prototype._getDecorationsViewportData=function(e){var t=this._linesCollection.getDecorationsInRange(e,this.editorId,this.configuration.editor.readOnly);var i=e.startLineNumber;var n=e.endLineNumber;var r=[],o=0;var s=[];for(var a=i;a<=n;a++){s[a-i]=[]}for(var u=0,l=t.length;u<l;u++){var c=t[u];var d=c.options;var h=this._getOrCreateViewModelDecoration(c);var f=h.range;r[o++]=h;if(d.inlineClassName){var p=new _.InlineDecoration(f,d.inlineClassName,0);var g=Math.max(i,f.startLineNumber);var v=Math.min(n,f.endLineNumber);for(var a=g;a<=v;a++){s[a-i].push(p)}}if(d.beforeContentClassName){if(i<=f.startLineNumber&&f.startLineNumber<=n){var p=new _.InlineDecoration(new m.Range(f.startLineNumber,f.startColumn,f.startLineNumber,f.startColumn),d.beforeContentClassName,1);s[f.startLineNumber-i].push(p)}}if(d.afterContentClassName){if(i<=f.endLineNumber&&f.endLineNumber<=n){var p=new _.InlineDecoration(new m.Range(f.endLineNumber,f.endColumn,f.endLineNumber,f.endColumn),d.afterContentClassName,2);s[f.endLineNumber-i].push(p)}}}return{decorations:r,inlineDecorations:s}};return e}();t.ViewModelDecorations=i});define(r[254],e([0,1,3]),function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){this._selection=e;this._isMovingLeft=t}e.prototype.getEditOperations=function(e,t){var i=this._selection;this._selectionId=t.trackSelection(i);if(i.startLineNumber!==i.endLineNumber){return}if(this._isMovingLeft&&i.startColumn===0){return}else if(!this._isMovingLeft&&i.endColumn===e.getLineMaxColumn(i.startLineNumber)){return}var n=i.selectionStartLineNumber;var r=e.getLineContent(n);var o;var s;var a;if(this._isMovingLeft){o=r.substring(0,i.startColumn-2);s=r.substring(i.startColumn-1,i.endColumn-1);a=r.substring(i.startColumn-2,i.startColumn-1)+r.substring(i.endColumn-1)}else{o=r.substring(0,i.startColumn-1)+r.substring(i.endColumn-1,i.endColumn);s=r.substring(i.startColumn-1,i.endColumn-1);a=r.substring(i.endColumn)}var u=o+s+a;t.addEditOperation(new l.Range(n,1,n,e.getLineMaxColumn(n)),null);t.addEditOperation(new l.Range(n,1,n,1),u);this._cutStartIndex=i.startColumn+(this._isMovingLeft?-1:1);this._cutEndIndex=this._cutStartIndex+i.endColumn-i.startColumn;this._moved=true};e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);if(this._moved){i=i.setStartPosition(i.startLineNumber,this._cutStartIndex);i=i.setEndPosition(i.startLineNumber,this._cutEndIndex)}return i};return e}();t.MoveCaretCommand=i});define(r[156],e([0,1,7,17,18]),function(e,t,n,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(t){var o=[];var e=r.ColorProviderRegistry.ordered(t).reverse();var i=e.map(function(r){return s.asWinJsPromise(function(e){return r.provideDocumentColors(t,e)}).then(function(e){if(Array.isArray(e)){for(var t=0,i=e;t<i.length;t++){var n=i[t];o.push({colorInfo:n,provider:r})}}})});return n.TPromise.join(i).then(function(){return o})}t.getColors=i;function o(t,i,n){return s.asWinJsPromise(function(e){return n.provideColorPresentations(t,i,e)})}t.getColorPresentations=o});define(r[256],e([0,1,4]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this.presentationIndex=i;this._onColorFlushed=new n.Emitter;this.onColorFlushed=this._onColorFlushed.event;this._onDidChangeColor=new n.Emitter;this.onDidChangeColor=this._onDidChangeColor.event;this._onDidChangePresentation=new n.Emitter;this.onDidChangePresentation=this._onDidChangePresentation.event;this.originalColor=e;this._color=e;this._colorPresentations=t}Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){if(this._color.equals(e)){return}this._color=e;this._onDidChangeColor.fire(e)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e;if(this.presentationIndex>e.length-1){this.presentationIndex=0}this._onDidChangePresentation.fire(this.presentation)},enumerable:true,configurable:true});e.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length;this.flushColor();this._onDidChangePresentation.fire(this.presentation)};e.prototype.guessColorPresentation=function(e,t){for(var i=0;i<this.colorPresentations.length;i++){if(t===this.colorPresentations[i].label){this.presentationIndex=i;this._onDidChangePresentation.fire(this.presentation);break}}};e.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)};return e}();t.ColorPickerModel=i});define(r[157],e([0,1,51,12,3,20,40]),function(e,t,r,o,C,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function y(e){this._selection=e;this._usedEndToken=null}y._haystackHasNeedleAtOffset=function(e,t,i){if(i<0){return false}var n=t.length;var r=e.length;if(i+n>r){return false}for(var o=0;o<n;o++){if(e.charCodeAt(i+o)!==t.charCodeAt(o)){return false}}return true};y.prototype._createOperationsForBlockComment=function(e,t,i,n){var r=e.startLineNumber;var o=e.startColumn;var s=e.endLineNumber;var a=e.endColumn;var u=i.getLineContent(r);var l=i.getLineContent(s);var c=t.blockCommentStartToken;var d=t.blockCommentEndToken;var h=u.lastIndexOf(c,o-1+c.length);var f=l.indexOf(d,a-1-d.length);if(h!==-1&&f!==-1){if(r===s){var p=u.substring(h+c.length,f);if(p.indexOf(d)>=0){h=-1;f=-1}}else{var g=u.substring(h+c.length);var v=l.substring(0,f);if(g.indexOf(d)>=0||v.indexOf(d)>=0){h=-1;f=-1}}}var m;if(h!==-1&&f!==-1){if(h+c.length<u.length){if(u.charCodeAt(h+c.length)===32){c=c+" "}}if(f>0){if(l.charCodeAt(f-1)===32){d=" "+d;f-=1}}m=y._createRemoveBlockCommentOperations(new C.Range(r,h+c.length+1,s,f+1),c,d)}else{m=y._createAddBlockCommentOperations(e,c,d);this._usedEndToken=m.length===1?d:null}for(var _=0;_<m.length;_++){n.addTrackedEditOperation(m[_].range,m[_].text)}};y._createRemoveBlockCommentOperations=function(e,t,i){var n=[];if(!C.Range.isEmpty(e)){n.push(r.EditOperation.delete(new C.Range(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn)));n.push(r.EditOperation.delete(new C.Range(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+i.length)))}else{n.push(r.EditOperation.delete(new C.Range(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+i.length)))}return n};y._createAddBlockCommentOperations=function(e,t,i){var n=[];if(!C.Range.isEmpty(e)){n.push(r.EditOperation.insert(new o.Position(e.startLineNumber,e.startColumn),t+" "));n.push(r.EditOperation.insert(new o.Position(e.endLineNumber,e.endColumn)," "+i))}else{n.push(r.EditOperation.replace(new C.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+i))}return n};y.prototype.getEditOperations=function(e,t){var i=this._selection.startLineNumber;var n=this._selection.startColumn;e.tokenizeIfCheap(i);var r=e.getLanguageIdAtPosition(i,n);var o=s.LanguageConfigurationRegistry.getComments(r);if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken){return}this._createOperationsForBlockComment(this._selection,o,e,t)};y.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();if(i.length===2){var n=i[0];var r=i[1];return new a.Selection(n.range.endLineNumber,n.range.endColumn,r.range.startLineNumber,r.range.startColumn)}else{var o=i[0].range;var s=this._usedEndToken?-this._usedEndToken.length-1:0;return new a.Selection(o.endLineNumber,o.endColumn+s,o.endLineNumber,o.endColumn+s)}};return y}();t.BlockCommentCommand=i});define(r[258],e([0,1,5,51,12,3,20,157,40]),function(e,t,f,s,l,h,n,p,g){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Toggle"]=0]="Toggle";e[e["ForceAdd"]=1]="ForceAdd";e[e["ForceRemove"]=2]="ForceRemove"})(i=t.Type||(t.Type={}));var r=function(){function d(e,t,i){this._selection=e;this._tabSize=t;this._type=i;this._deltaColumn=0}d._gatherPreflightCommentStrings=function(e,t,i){e.tokenizeIfCheap(t);var n=e.getLanguageIdAtPosition(t,1);var r=g.LanguageConfigurationRegistry.getComments(n);var o=r?r.lineCommentToken:null;if(!o){return null}var s=[];for(var a=0,u=i-t+1;a<u;a++){s[a]={ignore:false,commentStr:o,commentStrOffset:0,commentStrLength:o.length}}return s};d._analyzeLines=function(e,t,i,n){var r,o,s,a,u,l,c,d,h=true;if(e===0){c=true}else if(e===1){c=false}else{c=true}for(a=0,u=i.length;a<u;a++){r=i[a];l=n+a;d=t.getLineContent(l);o=f.firstNonWhitespaceIndex(d);if(o===-1){if(e===0){r.ignore=true}else if(e===1){r.ignore=true}else{r.ignore=true}r.commentStrOffset=d.length;continue}h=false;r.ignore=false;r.commentStrOffset=o;if(c&&!p.BlockCommentCommand._haystackHasNeedleAtOffset(d,r.commentStr,o)){if(e===0){c=false}else if(e===1){}else{r.ignore=true}}if(c){s=o+r.commentStrLength;if(s<d.length&&d.charCodeAt(s)===32){r.commentStrLength+=1}}}if(e===0&&h){c=false;for(a=0,u=i.length;a<u;a++){i[a].ignore=false}}return{supported:true,shouldRemoveComments:c,lines:i}};d._gatherPreflightData=function(e,t,i,n){var r=d._gatherPreflightCommentStrings(t,i,n);if(r===null){return{supported:false,shouldRemoveComments:false,lines:null}}return d._analyzeLines(e,t,r,i)};d.prototype._executeLineComments=function(e,t,i,n){var r;if(i.shouldRemoveComments){r=d._createRemoveLineCommentsOperations(i.lines,n.startLineNumber)}else{d._normalizeInsertionPoint(e,i.lines,n.startLineNumber,this._tabSize);r=d._createAddLineCommentsOperations(i.lines,n.startLineNumber)}var o=new l.Position(n.positionLineNumber,n.positionColumn);for(var s=0,a=r.length;s<a;s++){t.addEditOperation(r[s].range,r[s].text);if(r[s].range.isEmpty()&&r[s].range.getStartPosition().equals(o)){var u=e.getLineContent(o.lineNumber);if(u.length+1===o.column){this._deltaColumn=r[s].text.length}}}this._selectionId=t.trackSelection(n)};d.prototype._attemptRemoveBlockComment=function(e,t,i,n){var r=t.startLineNumber;var o=t.endLineNumber;var s=n.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);var a=e.getLineContent(r).lastIndexOf(i,s-1);var u=e.getLineContent(o).indexOf(n,t.endColumn-1-i.length);if(a!==-1&&u===-1){u=e.getLineContent(r).indexOf(n,a+i.length);o=r}if(a===-1&&u!==-1){a=e.getLineContent(o).lastIndexOf(i,u);r=o}if(t.isEmpty()&&(a===-1||u===-1)){a=e.getLineContent(r).indexOf(i);if(a!==-1){u=e.getLineContent(r).indexOf(n,a+i.length)}}if(a!==-1&&e.getLineContent(r).charCodeAt(a+i.length)===32){i+=" "}if(u!==-1&&e.getLineContent(o).charCodeAt(u-1)===32){n=" "+n;u-=1}if(a!==-1&&u!==-1){return p.BlockCommentCommand._createRemoveBlockCommentOperations(new h.Range(r,a+i.length+1,o,u+1),i,n)}return null};d.prototype._executeBlockComment=function(e,t,i){e.tokenizeIfCheap(i.startLineNumber);var n=e.getLanguageIdAtPosition(i.startLineNumber,1);var r=g.LanguageConfigurationRegistry.getComments(n);if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken){return}var o=r.blockCommentStartToken;var s=r.blockCommentEndToken;var a=this._attemptRemoveBlockComment(e,i,o,s);if(!a){if(i.isEmpty()){var u=e.getLineContent(i.startLineNumber);var l=f.firstNonWhitespaceIndex(u);if(l===-1){l=u.length}a=p.BlockCommentCommand._createAddBlockCommentOperations(new h.Range(i.startLineNumber,l+1,i.startLineNumber,u.length+1),o,s)}else{a=p.BlockCommentCommand._createAddBlockCommentOperations(new h.Range(i.startLineNumber,e.getLineFirstNonWhitespaceColumn(i.startLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),o,s)}if(a.length===1){this._deltaColumn=o.length+1}}this._selectionId=t.trackSelection(i);for(var c=0;c<a.length;c++){t.addEditOperation(a[c].range,a[c].text)}};d.prototype.getEditOperations=function(e,t){var i=this._selection;this._moveEndPositionDown=false;if(i.startLineNumber<i.endLineNumber&&i.endColumn===1){this._moveEndPositionDown=true;i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1))}var n=d._gatherPreflightData(this._type,e,i.startLineNumber,i.endLineNumber);if(n.supported){return this._executeLineComments(e,t,n,i)}return this._executeBlockComment(e,t,i)};d.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);if(this._moveEndPositionDown){i=i.setEndPosition(i.endLineNumber+1,1)}return new n.Selection(i.startLineNumber,i.startColumn+this._deltaColumn,i.endLineNumber,i.endColumn+this._deltaColumn)};d._createRemoveLineCommentsOperations=function(e,t){var i,n,r,o=[];for(i=0,n=e.length;i<n;i++){r=e[i];if(r.ignore){continue}o.push(s.EditOperation.delete(new h.Range(t+i,r.commentStrOffset+1,t+i,r.commentStrOffset+r.commentStrLength+1)))}return o};d._createAddLineCommentsOperations=function(e,t){var i,n,r,o=[];for(i=0,n=e.length;i<n;i++){r=e[i];if(r.ignore){continue}o.push(s.EditOperation.insert(new l.Position(t+i,r.commentStrOffset+1),r.commentStr+" "))}return o};d.nextVisibleColumn=function(e,t,i,n){if(i){return e+(t-e%t)}return e+n};d._normalizeInsertionPoint=function(e,t,i,n){var r=Number.MAX_VALUE,o,s,a,u,l,c;for(o=0,s=t.length;o<s;o++){if(t[o].ignore){continue}a=e.getLineContent(i+o);c=0;for(u=0,l=t[o].commentStrOffset;c<r&&u<l;u++){c=d.nextVisibleColumn(c,n,a.charCodeAt(u)===9,1)}if(c<r){r=c}}r=Math.floor(r/n)*n;for(o=0,s=t.length;o<s;o++){if(t[o].ignore){continue}a=e.getLineContent(i+o);c=0;for(u=0,l=t[o].commentStrOffset;c<r&&u<l;u++){c=d.nextVisibleColumn(c,n,a.charCodeAt(u)===9,1)}if(c>r){t[o].commentStrOffset=u-1}else{t[o].commentStrOffset=u}}};return d}();t.LineCommentCommand=r});define(r[259],e([0,1,20,3]),function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this.selection=e;this.targetPosition=t;this.copy=i}e.prototype.getEditOperations=function(e,t){var i=e.getValueInRange(this.selection);if(!this.copy){t.addEditOperation(this.selection,null)}t.addEditOperation(new r.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),i);if(this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new n.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new n.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new n.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.selection.endColumn<=this.targetPosition.column){this.targetSelection=new n.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn)}else{this.targetSelection=new n.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}};e.prototype.computeCursorState=function(e,t){return this.targetSelection};return e}();t.DragAndDropCommand=i});define(r[260],e([0,1,4,3]),function(e,t,i,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["NotSet"]=0]="NotSet";e[e["True"]=1]="True";e[e["False"]=2]="False"})(n=t.FindOptionOverride||(t.FindOptionOverride={}));function r(e,t){if(e===1){return true}if(e===2){return false}return t}var o=function(){function e(){this._searchString="";this._replaceString="";this._isRevealed=false;this._isReplaceRevealed=false;this._isRegex=false;this._isRegexOverride=0;this._wholeWord=false;this._wholeWordOverride=0;this._matchCase=false;this._matchCaseOverride=0;this._searchScope=null;this._matchesPosition=0;this._matchesCount=0;this._currentMatch=null;this._onFindReplaceStateChange=new i.Emitter}Object.defineProperty(e.prototype,"searchString",{get:function(){return this._searchString},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isRegex",{get:function(){return r(this._isRegexOverride,this._isRegex)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"wholeWord",{get:function(){return r(this._wholeWordOverride,this._wholeWord)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"matchCase",{get:function(){return r(this._matchCaseOverride,this._matchCase)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onFindReplaceStateChange",{get:function(){return this._onFindReplaceStateChange.event},enumerable:true,configurable:true});e.prototype.dispose=function(){};e.prototype.changeMatchInfo=function(e,t,i){var n={moveCursor:false,updateHistory:false,searchString:false,replaceString:false,isRevealed:false,isReplaceRevealed:false,isRegex:false,wholeWord:false,matchCase:false,searchScope:false,matchesPosition:false,matchesCount:false,currentMatch:false};var r=false;if(t===0){e=0}if(e>t){e=t}if(this._matchesPosition!==e){this._matchesPosition=e;n.matchesPosition=true;r=true}if(this._matchesCount!==t){this._matchesCount=t;n.matchesCount=true;r=true}if(typeof i!=="undefined"){if(!u.Range.equalsRange(this._currentMatch,i)){this._currentMatch=i;n.currentMatch=true;r=true}}if(r){this._onFindReplaceStateChange.fire(n)}};e.prototype.change=function(e,t,i){if(i===void 0){i=true}var n={moveCursor:t,updateHistory:i,searchString:false,replaceString:false,isRevealed:false,isReplaceRevealed:false,isRegex:false,wholeWord:false,matchCase:false,searchScope:false,matchesPosition:false,matchesCount:false,currentMatch:false};var r=false;var o=this.isRegex;var s=this.wholeWord;var a=this.matchCase;if(typeof e.searchString!=="undefined"){if(this._searchString!==e.searchString){this._searchString=e.searchString;n.searchString=true;r=true}}if(typeof e.replaceString!=="undefined"){if(this._replaceString!==e.replaceString){this._replaceString=e.replaceString;n.replaceString=true;r=true}}if(typeof e.isRevealed!=="undefined"){if(this._isRevealed!==e.isRevealed){this._isRevealed=e.isRevealed;n.isRevealed=true;r=true}}if(typeof e.isReplaceRevealed!=="undefined"){if(this._isReplaceRevealed!==e.isReplaceRevealed){this._isReplaceRevealed=e.isReplaceRevealed;n.isReplaceRevealed=true;r=true}}if(typeof e.isRegex!=="undefined"){this._isRegex=e.isRegex}if(typeof e.wholeWord!=="undefined"){this._wholeWord=e.wholeWord}if(typeof e.matchCase!=="undefined"){this._matchCase=e.matchCase}if(typeof e.searchScope!=="undefined"){if(!u.Range.equalsRange(this._searchScope,e.searchScope)){this._searchScope=e.searchScope;n.searchScope=true;r=true}}this._isRegexOverride=typeof e.isRegexOverride!=="undefined"?e.isRegexOverride:0;this._wholeWordOverride=typeof e.wholeWordOverride!=="undefined"?e.wholeWordOverride:0;this._matchCaseOverride=typeof e.matchCaseOverride!=="undefined"?e.matchCaseOverride:0;if(o!==this.isRegex){r=true;n.isRegex=true}if(s!==this.wholeWord){r=true;n.wholeWord=true}if(a!==this.matchCase){r=true;n.matchCase=true}if(r){this._onFindReplaceStateChange.fire(n)}};return e}();t.FindReplaceState=o});define(r[261],e([0,1,3]),function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this._editorSelection=e;this._ranges=t;this._replaceStrings=i}e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){var i=[];for(var n=0;n<this._ranges.length;n++){i.push({range:this._ranges[n],text:this._replaceStrings[n]})}i.sort(function(e,t){return u.Range.compareRangesUsingStarts(e.range,t.range)});var r=[];var o=i[0];for(var s=1;s<i.length;s++){if(o.range.endLineNumber===i[s].range.startLineNumber&&o.range.endColumn===i[s].range.startColumn){o.range=o.range.plusRange(i[s].range);o.text=o.text+i[s].text}else{r.push(o);o=i[s]}}r.push(o);for(var a=0;a<r.length;a++){t.addEditOperation(r[a].range,r[a].text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)};e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)};return e}();t.ReplaceAllCommand=i});define(r[262],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(){function o(e){if(!e||e.length===0){this._staticValue="";this._pieces=null}else if(e.length===1&&e[0].staticValue!==null){this._staticValue=e[0].staticValue;this._pieces=null}else{this._staticValue=null;this._pieces=e}}o.fromStaticValue=function(e){return new o([i.staticValue(e)])};Object.defineProperty(o.prototype,"hasReplacementPatterns",{get:function(){return this._staticValue===null},enumerable:true,configurable:true});o.prototype.buildReplaceString=function(e){if(this._staticValue!==null){return this._staticValue}var t="";for(var i=0,n=this._pieces.length;i<n;i++){var r=this._pieces[i];if(r.staticValue!==null){t+=r.staticValue;continue}t+=o._substitute(r.matchIndex,e)}return t};o._substitute=function(e,t){if(e===0){return t[0]}var i="";while(e>0){if(e<t.length){var n=t[e]||"";return n+i}i=String(e%10)+i;e=Math.floor(e/10)}return"$"+i};return o}();t.ReplacePattern=u;var i=function(){function t(e,t){this.staticValue=e;this.matchIndex=t}t.staticValue=function(e){return new t(e,-1)};t.matchIndex=function(e){return new t(null,e)};return t}();t.ReplacePiece=i;var l=function(){function e(e){this._source=e;this._lastCharIndex=0;this._result=[];this._resultLen=0;this._currentStaticPiece=""}e.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e));this._lastCharIndex=e};e.prototype.emitStatic=function(e,t){this._emitStatic(e);this._lastCharIndex=t};e.prototype._emitStatic=function(e){if(e.length===0){return}this._currentStaticPiece+=e};e.prototype.emitMatchIndex=function(e,t){if(this._currentStaticPiece.length!==0){this._result[this._resultLen++]=i.staticValue(this._currentStaticPiece);this._currentStaticPiece=""}this._result[this._resultLen++]=i.matchIndex(e);this._lastCharIndex=t};e.prototype.finalize=function(){this.emitUnchanged(this._source.length);if(this._currentStaticPiece.length!==0){this._result[this._resultLen++]=i.staticValue(this._currentStaticPiece);this._currentStaticPiece=""}return new u(this._result)};return e}();function n(e){if(!e||e.length===0){return new u(null)}var t=new l(e);for(var i=0,n=e.length;i<n;i++){var r=e.charCodeAt(i);if(r===92){i++;if(i>=n){break}var o=e.charCodeAt(i);switch(o){case 92:t.emitUnchanged(i-1);t.emitStatic("\\",i+1);break;case 110:t.emitUnchanged(i-1);t.emitStatic("\n",i+1);break;case 116:t.emitUnchanged(i-1);t.emitStatic("\t",i+1);break}continue}if(r===36){i++;if(i>=n){break}var o=e.charCodeAt(i);if(o===36){t.emitUnchanged(i-1);t.emitStatic("$",i+1);continue}if(o===48||o===38){t.emitUnchanged(i-1);t.emitMatchIndex(0,i+1);continue}if(49<=o&&o<=57){var s=o-48;if(i+1<n){var a=e.charCodeAt(i+1);if(48<=a&&a<=57){i++;s=s*10+(a-48);t.emitUnchanged(i-2);t.emitMatchIndex(s,i+1);continue}}t.emitUnchanged(i-1);t.emitMatchIndex(s,i+1);continue}}}return t.finalize()}t.parseReplaceString=n});define(r[131],e([0,1]),function(e,u){"use strict";Object.defineProperty(u,"__esModule",{value:true});u.MAX_FOLDING_REGIONS=65535;u.MAX_LINE_NUMBER=16777215;var i=4278190080;var t=function(){function e(e,t,i){if(e.length!==t.length||e.length>u.MAX_FOLDING_REGIONS){throw new Error("invalid startIndexes or endIndexes size")}this._startIndexes=e;this._endIndexes=t;this._collapseStates=new Uint32Array(Math.ceil(e.length/32));this._types=i}e.prototype.ensureParentIndices=function(){var n=this;if(!this._parentsComputed){this._parentsComputed=true;var r=[];var e=function(e,t){var i=r[r.length-1];return n.getStartLineNumber(i)<=e&&n.getEndLineNumber(i)>=t};for(var t=0,i=this._startIndexes.length;t<i;t++){var o=this._startIndexes[t];var s=this._endIndexes[t];if(o>u.MAX_LINE_NUMBER||s>u.MAX_LINE_NUMBER){throw new Error("startLineNumber or endLineNumber must not exceed "+u.MAX_LINE_NUMBER)}while(r.length>0&&!e(o,s)){r.pop()}var a=r.length>0?r[r.length-1]:-1;r.push(t);this._startIndexes[t]=o+((a&255)<<24);this._endIndexes[t]=s+((a&65280)<<16)}}};Object.defineProperty(e.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:true,configurable:true});e.prototype.getStartLineNumber=function(e){return this._startIndexes[e]&u.MAX_LINE_NUMBER};e.prototype.getEndLineNumber=function(e){return this._endIndexes[e]&u.MAX_LINE_NUMBER};e.prototype.getType=function(e){return this._types?this._types[e]:void 0};e.prototype.hasTypes=function(){return!!this._types};e.prototype.isCollapsed=function(e){var t=e/32|0;var i=e%32;return(this._collapseStates[t]&1<<i)!==0};e.prototype.setCollapsed=function(e,t){var i=e/32|0;var n=e%32;var r=this._collapseStates[i];if(t){this._collapseStates[i]=r|1<<n}else{this._collapseStates[i]=r&~(1<<n)}};e.prototype.toRegion=function(e){return new n(this,e)};e.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&i)>>>24)+((this._endIndexes[e]&i)>>>16);if(t===u.MAX_FOLDING_REGIONS){return-1}return t};e.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t};e.prototype.findIndex=function(e){var t=0,i=this._startIndexes.length;if(i===0){return-1}while(t<i){var n=Math.floor((t+i)/2);if(e<this.getStartLineNumber(n)){i=n}else{t=n+1}}return t-1};e.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){var i=this.getEndLineNumber(t);if(i>=e){return t}t=this.getParentIndex(t);while(t!==-1){if(this.contains(t,e)){return t}t=this.getParentIndex(t)}}return-1};e.prototype.toString=function(){var e=[];for(var t=0;t<this.length;t++){e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t)}return e.join(", ")};return e}();u.FoldingRegions=t;var n=function(){function e(e,t){this.ranges=e;this.index=t}Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"regionIndex",{get:function(){return this.index},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:true,configurable:true});e.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber};e.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber};e.prototype.hidesLine=function(e){return this.startLineNumber<e&&e<=this.endLineNumber};return e}();u.FoldingRegion=n});define(r[264],e([0,1,4,131]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){this._updateEventEmitter=new i.Emitter;this._textModel=e;this._decorationProvider=t;this._regions=new n.FoldingRegions(new Uint32Array(0),new Uint32Array(0));this._editorDecorationIds=[];this._isInitialized=false}Object.defineProperty(e.prototype,"regions",{get:function(){return this._regions},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"textModel",{get:function(){return this._textModel},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:true,configurable:true});e.prototype.toggleCollapseState=function(a){var u=this;if(!a.length){return}var l={};this._decorationProvider.changeDecorations(function(e){for(var t=0,i=a;t<i.length;t++){var n=i[t];var r=n.regionIndex;var o=u._editorDecorationIds[r];if(o&&!l[o]){l[o]=true;var s=!u._regions.isCollapsed(r);u._regions.setCollapsed(r,s);e.changeDecorationOptions(o,u._decorationProvider.getDecorationOption(s))}}});this._updateEventEmitter.fire({model:this,collapseStateChanged:a})};e.prototype.update=function(o,s){var a=this;if(s===void 0){s=[]}var u=[];var l=function(e,t){for(var i=0,n=s;i<n.length;i++){var r=n[i];if(e<r&&r<=t){return true}}return false};var e=function(e,t){var i=o.getStartLineNumber(e);if(t&&l(i,o.getEndLineNumber(e))){t=false}o.setCollapsed(e,t);var n=a._textModel.getLineMaxColumn(i);var r={startLineNumber:i,startColumn:n,endLineNumber:i,endColumn:n};u.push({range:r,options:a._decorationProvider.getDecorationOption(t)})};var t=0;var i=function(){while(t<a._regions.length){var e=a._regions.isCollapsed(t);t++;if(e){return t-1}}return-1};var n=0;var r=i();while(r!==-1&&n<o.length){var c=this._textModel.getDecorationRange(this._editorDecorationIds[r]);if(c){var d=c.startLineNumber;if(this._textModel.getLineMaxColumn(d)===c.startColumn){while(n<o.length){var h=o.getStartLineNumber(n);if(d>=h){e(n,d===h);n++}else{break}}}}r=i()}while(n<o.length){e(n,false);n++}this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,u);this._regions=o;this._isInitialized=true;this._updateEventEmitter.fire({model:this})};e.prototype.getMemento=function(){var e=[];for(var t=0;t<this._regions.length;t++){if(this._regions.isCollapsed(t)){var i=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(i){var n=i.startLineNumber;var r=i.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:n,endLineNumber:r})}}}if(e.length>0){return e}return null};e.prototype.applyMemento=function(e){if(!Array.isArray(e)){return}var t=[];for(var i=0,n=e;i<n.length;i++){var r=n[i];var o=this.getRegionAtLine(r.startLineNumber);if(o&&!o.isCollapsed){t.push(o)}}this.toggleCollapseState(t)};e.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])};e.prototype.getAllRegionsAtLine=function(e,t){var i=[];if(this._regions){var n=this._regions.findRange(e);var r=1;while(n>=0){var o=this._regions.toRegion(n);if(!t||t(o,r)){i.push(o)}r++;n=o.parentIndex}}return i};e.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0){return this._regions.toRegion(t)}}return null};e.prototype.getRegionsInside=function(e,t){var i=[];var n=t&&t.length===2;var r=n?[]:null;var o=e?e.regionIndex+1:0;var s=e?e.endLineNumber:Number.MAX_VALUE;for(var a=o,u=this._regions.length;a<u;a++){var l=this._regions.toRegion(a);if(this._regions.getStartLineNumber(a)<s){if(n){while(r.length>0&&!l.containedBy(r[r.length-1])){r.pop()}r.push(l);if(t(l,r.length)){i.push(l)}}else if(!t||t(l)){i.push(l)}}else{break}}return i};return e}();t.FoldingModel=r;function o(e,i,n,t){if(n===void 0){n=Number.MAX_VALUE}var r=[];if(t&&t.length>0){for(var o=0,s=t;o<s.length;o++){var a=s[o];var u=e.getRegionAtLine(a);if(u){if(u.isCollapsed!==i){r.push(u)}if(n>1){var l=e.getRegionsInside(u,function(e,t){return e.isCollapsed!==i&&t<n});r.push.apply(r,l)}}}}else{var l=e.getRegionsInside(null,function(e,t){return e.isCollapsed!==i&&t<n});r.push.apply(r,l)}e.toggleCollapseState(r)}t.setCollapseStateLevelsDown=o;function s(e,i,n,t){var r=[];for(var o=0,s=t;o<s.length;o++){var a=s[o];var u=e.getAllRegionsAtLine(a,function(e,t){return e.isCollapsed!==i&&t<=n});r.push.apply(r,u)}e.toggleCollapseState(r)}t.setCollapseStateLevelsUp=s;function a(e,i,n,r){var t=function(t,e){return e===i&&t.isCollapsed!==n&&!r.some(function(e){return t.containsLine(e)})};var o=e.getRegionsInside(null,t);e.toggleCollapseState(o)}t.setCollapseStateAtLevel=a;function u(e,t,i){var n=e.textModel;var r=e.regions;var o=[];for(var s=r.length-1;s>=0;s--){if(i!==r.isCollapsed(s)){var a=r.getStartLineNumber(s);if(t.test(n.getLineContent(a))){o.push(r.toRegion(s))}}}e.toggleCollapseState(o)}t.setCollapseStateForMatchingLines=u;function l(e,t,i){var n=e.regions;var r=[];for(var o=n.length-1;o>=0;o--){if(i!==n.isCollapsed(o)&&t===n.getType(o)){r.push(n.toRegion(o))}}e.toggleCollapseState(r)}t.setCollapseStateForType=l});define(r[265],e([0,1,4,3,23]),function(e,t,i,l,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e){var t=this;this._updateEventEmitter=new i.Emitter;this._foldingModel=e;this._foldingModelListener=e.onDidChange(function(e){return t.updateHiddenRanges()});this._hiddenRanges=[];if(e.regions.length){this.updateHiddenRanges()}}Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:true,configurable:true});e.prototype.updateHiddenRanges=function(){var e=false;var t=[];var i=0;var n=0;var r=Number.MAX_VALUE;var o=-1;var s=this._foldingModel.regions;for(;i<s.length;i++){if(!s.isCollapsed(i)){continue}var a=s.getStartLineNumber(i)+1;var u=s.getEndLineNumber(i);if(r<=a&&u<=o){continue}if(!e&&n<this._hiddenRanges.length&&this._hiddenRanges[n].startLineNumber===a&&this._hiddenRanges[n].endLineNumber===u){t.push(this._hiddenRanges[n]);n++}else{e=true;t.push(new l.Range(a,1,u,1))}r=a;o=u}if(e||n<this._hiddenRanges.length){this.applyHiddenRanges(t)}};e.prototype.applyMemento=function(e){if(!Array.isArray(e)||e.length===0){return false}var t=[];for(var i=0,n=e;i<n.length;i++){var r=n[i];if(!r.startLineNumber||!r.endLineNumber){return false}t.push(new l.Range(r.startLineNumber+1,1,r.endLineNumber,1))}this.applyHiddenRanges(t);return true};e.prototype.getMemento=function(){return this._hiddenRanges.map(function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}})};e.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e;this._updateEventEmitter.fire(e)};e.prototype.hasRanges=function(){return this._hiddenRanges.length>0};e.prototype.isHidden=function(e){return h(this._hiddenRanges,e)!==null};e.prototype.adjustSelections=function(e){var t=this;var i=false;var n=this._foldingModel.textModel;var r=null;var o=function(e){if(!r||!d(e,r)){r=h(t._hiddenRanges,e)}if(r){return r.startLineNumber-1}return null};for(var s=0,a=e.length;s<a;s++){var u=e[s];var l=o(u.startLineNumber);if(l){u=u.setStartPosition(l,n.getLineMaxColumn(l));i=true}var c=o(u.endLineNumber);if(c){u=u.setEndPosition(c,n.getLineMaxColumn(c));i=true}e[s]=u}return i};e.prototype.dispose=function(){if(this.hiddenRanges.length>0){this._hiddenRanges=[];this._updateEventEmitter.fire(this._hiddenRanges)}if(this._foldingModelListener){this._foldingModelListener.dispose();this._foldingModelListener=null}};return e}();t.HiddenRangeModel=r;function d(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}function h(e,t){var i=n.findFirst(e,function(e){return t<e.startLineNumber})-1;if(i>=0&&e[i].endLineNumber>=t){return e[i]}return null}});define(r[266],e([0,1,13,18,7,131]),function(e,t,i,n,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=5e3;var o=function(){function e(e){this.providers=e}e.prototype.compute=function(e){return s(this.providers,e).then(function(e){var t=a(e);return t})};return e}();t.SyntaxRangeProvider=o;function s(e,s){var a=[];var t=e.map(function(t,o){return n.asWinJsPromise(function(e){return t.provideFoldingRanges(s,e)}).then(function(e){if(e&&Array.isArray(e.ranges)){var t=s.getLineCount();for(var i=0,n=e.ranges;i<n.length;i++){var r=n[i];if(r.startLineNumber>0&&r.endLineNumber>r.startLineNumber&&r.endLineNumber<=t){a.push({startLineNumber:r.startLineNumber,endLineNumber:r.endLineNumber,rank:o,type:r.type})}}}},i.onUnexpectedExternalError)});return r.TPromise.join(t).then(function(){return a})}var c=function(){function e(e){this._startIndexes=[];this._endIndexes=[];this._nestingLevels=[];this._nestingLevelCounts=[];this._types=[];this._length=0;this._foldingRangesLimit=e}e.prototype.add=function(e,t,i,n){if(e>l.MAX_LINE_NUMBER||t>l.MAX_LINE_NUMBER){return}var r=this._length;this._startIndexes[r]=e;this._endIndexes[r]=t;this._nestingLevels[r]=n;this._types[r]=i;this._length++;if(n<30){this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1}};e.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){var e=new Uint32Array(this._length);var t=new Uint32Array(this._length);for(var i=0;i<this._length;i++){e[i]=this._startIndexes[i];t[i]=this._endIndexes[i]}return new l.FoldingRegions(e,t,this._types)}else{var n=0;var r=this._nestingLevelCounts.length;for(var i=0;i<this._nestingLevelCounts.length;i++){var o=this._nestingLevelCounts[i];if(o){if(o+n>this._foldingRangesLimit){r=i;break}n+=o}}var e=new Uint32Array(n);var t=new Uint32Array(n);var s=[];for(var i=0,a=0;i<this._length;i++){var u=this._nestingLevels[i];if(u<r){e[a]=this._startIndexes[i];t[a]=this._endIndexes[i];s[a]=this._types[i];a++}}return new l.FoldingRegions(e,t,s)}};return e}();t.RangesCollector=c;function a(e){var t=e.sort(function(e,t){var i=e.startLineNumber-t.startLineNumber;if(i===0){i=e.rank-t.rank}return i});var i=new c(u);var n=null;var r=[];for(var o=0,s=t;o<s.length;o++){var a=s[o];if(!n){n=a;i.add(a.startLineNumber,a.endLineNumber,a.type,r.length)}else{if(a.startLineNumber>n.startLineNumber){if(a.endLineNumber<=n.endLineNumber){r.push(n);n=a;i.add(a.startLineNumber,a.endLineNumber,a.type,r.length)}else if(a.startLineNumber>n.endLineNumber){do{n=r.pop()}while(n&&a.startLineNumber>n.endLineNumber);r.push(n);n=a;i.add(a.startLineNumber,a.endLineNumber,a.type,r.length)}}}}return i.toIndentRanges()}t.sanitizeRanges=a});define(r[267],e([0,1,5,3,51]),function(e,t,l,c,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function a(e,t){this._initialSelection=t;this._edits=[];this._newEol=undefined;for(var i=0,n=e;i<n.length;i++){var r=n[i];if(typeof r.eol==="number"){this._newEol=r.eol}if(r.range&&typeof r.text==="string"){this._edits.push(r)}}}a.execute=function(e,t,i){var n=new a(t,e.getSelection());if(typeof n._newEol==="number"){e.getModel().setEOL(n._newEol)}e.pushUndoStop();if(!i){e.executeEdits("formatEditsCommand",n._edits.map(function(e){return r.EditOperation.replace(c.Range.lift(e.range),e.text)}))}else{e.executeCommand("formatEditsCommand",n)}e.pushUndoStop()};a.prototype.getEditOperations=function(e,t){for(var i=0,n=this._edits;i<n.length;i++){var r=n[i];var o=a.trimEdit(r,e);if(o!==null){t.addEditOperation(c.Range.lift(r.range),r.text)}}var s=false;if(Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()){if(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber){s=true;this._selectionId=t.trackSelection(this._initialSelection,true)}else if(this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber){s=true;this._selectionId=t.trackSelection(this._initialSelection,false)}}if(!s){this._selectionId=t.trackSelection(this._initialSelection)}};a.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)};a.fixLineTerminators=function(e,t){e.text=e.text.replace(/\r\n|\r|\n/g,t.getEOL())};a.trimEdit=function(e,t){this.fixLineTerminators(e,t);return this._trimEdit(t.validateRange(e.range),e.text,e.forceMoveMarkers,t)};a._trimEdit=function(e,t,i,n){var r=n.getValueInRange(e);var o=l.commonPrefixLength(t,r);if(o===r.length&&o===t.length){return null}if(o>0){var s=n.modifyPosition(e.getStartPosition(),o);e=new c.Range(s.lineNumber,s.column,e.endLineNumber,e.endColumn);t=t.substring(o);r=r.substr(o)}var a=l.commonSuffixLength(t,r);if(a>0){var u=n.modifyPosition(e.getEndPosition(),-a);e=new c.Range(e.startLineNumber,e.startColumn,u.lineNumber,u.column);t=t.substring(0,t.length-a);r=r.substring(0,r.length-a)}return{text:t,range:e,forceMoveMarkers:i}};return a}();t.EditOperationsCommand=i});define(r[159],e([0,1,31,2,4,15,194]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});function s(e,t){return!!e[t]}var a=function(){function e(e,t){this.target=e.target;this.hasTriggerModifier=s(e.event,t.triggerModifier);this.hasSideBySideModifier=s(e.event,t.triggerSideBySideModifier);this.isNoneOrSingleMouseDown=i.isIE||e.event.detail<=1}return e}();t.ClickLinkMouseEvent=a;var u=function(){function e(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey;this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey;this.hasTriggerModifier=s(e,t.triggerModifier)}return e}();t.ClickLinkKeyboardEvent=u;var l=function(){function e(e,t,i,n){this.triggerKey=e;this.triggerModifier=t;this.triggerSideBySideKey=i;this.triggerSideBySideModifier=n}e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier};return e}();t.ClickLinkOptions=l;function c(e){if(e==="altKey"){if(o.isMacintosh){return new l(57,"metaKey",6,"altKey")}return new l(5,"ctrlKey",6,"altKey")}if(o.isMacintosh){return new l(6,"altKey",57,"metaKey")}return new l(6,"altKey",5,"ctrlKey")}var d=function(t){pe(e,t);function e(e){var i=t.call(this)||this;i._onMouseMoveOrRelevantKeyDown=i._register(new r.Emitter);i.onMouseMoveOrRelevantKeyDown=i._onMouseMoveOrRelevantKeyDown.event;i._onExecute=i._register(new r.Emitter);i.onExecute=i._onExecute.event;i._onCancel=i._register(new r.Emitter);i.onCancel=i._onCancel.event;i._editor=e;i._opts=c(i._editor.getConfiguration().multiCursorModifier);i.lastMouseMoveEvent=null;i.hasTriggerKeyOnMouseDown=false;i._register(i._editor.onDidChangeConfiguration(function(e){if(e.multiCursorModifier){var t=c(i._editor.getConfiguration().multiCursorModifier);if(i._opts.equals(t)){return}i._opts=t;i.lastMouseMoveEvent=null;i.hasTriggerKeyOnMouseDown=false;i._onCancel.fire()}}));i._register(i._editor.onMouseMove(function(e){return i.onEditorMouseMove(new a(e,i._opts))}));i._register(i._editor.onMouseDown(function(e){return i.onEditorMouseDown(new a(e,i._opts))}));i._register(i._editor.onMouseUp(function(e){return i.onEditorMouseUp(new a(e,i._opts))}));i._register(i._editor.onKeyDown(function(e){return i.onEditorKeyDown(new u(e,i._opts))}));i._register(i._editor.onKeyUp(function(e){return i.onEditorKeyUp(new u(e,i._opts))}));i._register(i._editor.onMouseDrag(function(){return i.resetHandler()}));i._register(i._editor.onDidChangeCursorSelection(function(e){return i.onDidChangeCursorSelection(e)}));i._register(i._editor.onDidChangeModel(function(e){return i.resetHandler()}));i._register(i._editor.onDidChangeModelContent(function(){return i.resetHandler()}));i._register(i._editor.onDidScrollChange(function(e){if(e.scrollTopChanged||e.scrollLeftChanged){i.resetHandler()}}));return i}e.prototype.onDidChangeCursorSelection=function(e){if(e.selection&&e.selection.startColumn!==e.selection.endColumn){this.resetHandler()}};e.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e;this._onMouseMoveOrRelevantKeyDown.fire([e,null])};e.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier};e.prototype.onEditorMouseUp=function(e){if(this.hasTriggerKeyOnMouseDown){this._onExecute.fire(e)}};e.prototype.onEditorKeyDown=function(e){if(this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)){this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e])}else if(e.hasTriggerModifier){this._onCancel.fire()}};e.prototype.onEditorKeyUp=function(e){if(e.keyCodeIsTriggerKey){this._onCancel.fire()}};e.prototype.resetHandler=function(){this.lastMouseMoveEvent=null;this.hasTriggerKeyOnMouseDown=false;this._onCancel.fire()};return e}(n.Disposable);t.ClickLinkGesture=d});define(r[161],e([0,1,18,13]),function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["IDLE"]=0]="IDLE";e[e["FIRST_WAIT"]=1]="FIRST_WAIT";e[e["SECOND_WAIT"]=2]="SECOND_WAIT";e[e["WAITING_FOR_ASYNC_COMPUTATION"]=3]="WAITING_FOR_ASYNC_COMPUTATION"})(n||(n={}));var r=function(){function e(e,t,i,n){var r=this;this._computer=e;this._state=0;this._firstWaitScheduler=new o.RunOnceScheduler(function(){return r._triggerAsyncComputation()},this._getHoverTimeMillis()/2);this._secondWaitScheduler=new o.RunOnceScheduler(function(){return r._triggerSyncComputation()},this._getHoverTimeMillis()/2);this._loadingMessageScheduler=new o.RunOnceScheduler(function(){return r._showLoadingMessage()},3*this._getHoverTimeMillis());this._asyncComputationPromise=null;this._asyncComputationPromiseDone=false;this._completeCallback=t;this._errorCallback=i;this._progressCallback=n}e.prototype._getHoverTimeMillis=function(){if(this._computer.getHoverTimeMillis){return this._computer.getHoverTimeMillis()}return e.HOVER_TIME};e.prototype._triggerAsyncComputation=function(){var t=this;this._state=2;this._secondWaitScheduler.schedule();if(this._computer.computeAsync){this._asyncComputationPromiseDone=false;this._asyncComputationPromise=this._computer.computeAsync().then(function(e){t._asyncComputationPromiseDone=true;t._withAsyncResult(e)},function(e){return t._onError(e)})}else{this._asyncComputationPromiseDone=true}};e.prototype._triggerSyncComputation=function(){if(this._computer.computeSync){this._computer.onResult(this._computer.computeSync(),true)}if(this._asyncComputationPromiseDone){this._state=0;this._onComplete(this._computer.getResult())}else{this._state=3;this._onProgress(this._computer.getResult())}};e.prototype._showLoadingMessage=function(){if(this._state===3){this._onProgress(this._computer.getResultWithLoadingMessage())}};e.prototype._withAsyncResult=function(e){if(e){this._computer.onResult(e,false)}if(this._state===3){this._state=0;this._onComplete(this._computer.getResult())}};e.prototype._onComplete=function(e){if(this._completeCallback){this._completeCallback(e)}};e.prototype._onError=function(e){if(this._errorCallback){this._errorCallback(e)}else{i.onUnexpectedError(e)}};e.prototype._onProgress=function(e){if(this._progressCallback){this._progressCallback(e)}};e.prototype.start=function(){if(this._state===0){this._state=1;this._firstWaitScheduler.schedule();this._loadingMessageScheduler.schedule()}};e.prototype.cancel=function(){this._loadingMessageScheduler.cancel();if(this._state===1){this._firstWaitScheduler.cancel()}if(this._state===2){this._secondWaitScheduler.cancel();if(this._asyncComputationPromise){this._asyncComputationPromise.cancel();this._asyncComputationPromise=null}}if(this._state===3){if(this._asyncComputationPromise){this._asyncComputationPromise.cancel();this._asyncComputationPromise=null}}this._state=0};e.HOVER_TIME=300;return e}();t.HoverOperation=r});define(r[162],e([0,1,10,12,24,47,55,2]),function(e,t,i,r,o,n,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i.disposables=[];i.allowEditorOverflow=true;i._id=e;i._editor=t;i._isVisible=false;i._containerDomNode=document.createElement("div");i._containerDomNode.className="monaco-editor-hover hidden";i._containerDomNode.tabIndex=0;i._domNode=document.createElement("div");i._domNode.className="monaco-editor-hover-content";i.scrollbar=new s.DomScrollableElement(i._domNode,{});i.disposables.push(i.scrollbar);i._containerDomNode.appendChild(i.scrollbar.getDomNode());i.onkeydown(i._containerDomNode,function(e){if(e.equals(9)){i.hide()}});i._register(i._editor.onDidChangeConfiguration(function(e){if(e.fontInfo){i.updateFont()}}));i._editor.onDidLayoutChange(function(e){return i.updateMaxHeight()});i.updateMaxHeight();i._editor.addContentWidget(i);i._showAtPosition=null;return i}Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e;i.toggleClass(this._containerDomNode,"hidden",!this._isVisible)},enumerable:true,configurable:true});e.prototype.getId=function(){return this._id};e.prototype.getDomNode=function(){return this._containerDomNode};e.prototype.showAt=function(e,t){this._showAtPosition=new r.Position(e.lineNumber,e.column);this.isVisible=true;this._editor.layoutContentWidget(this);this._editor.render();this._stoleFocus=t;if(t){this._containerDomNode.focus()}};e.prototype.hide=function(){if(!this.isVisible){return}this.isVisible=false;this._editor.layoutContentWidget(this);if(this._stoleFocus){this._editor.focus()}};e.prototype.getPosition=function(){if(this.isVisible){return{position:this._showAtPosition,preference:[o.ContentWidgetPositionPreference.ABOVE,o.ContentWidgetPositionPreference.BELOW]}}return null};e.prototype.dispose=function(){this._editor.removeContentWidget(this);this.disposables=a.dispose(this.disposables);n.prototype.dispose.call(this)};e.prototype.updateFont=function(){var t=this;var e=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));e.forEach(function(e){return t._editor.applyFontInfo(e)})};e.prototype.updateContents=function(e){this._domNode.textContent="";this._domNode.appendChild(e);this.updateFont();this._editor.layoutContentWidget(this);this.onContentsChange()};e.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()};e.prototype.updateMaxHeight=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250);var t=this._editor.getConfiguration().fontInfo,i=t.fontSize,n=t.lineHeight;this._domNode.style.fontSize=i+"px";this._domNode.style.lineHeight=n+"px";this._domNode.style.maxHeight=e+"px"};return e}(n.Widget);t.ContentHoverWidget=u;var l=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i._id=e;i._editor=t;i._isVisible=false;i._domNode=document.createElement("div");i._domNode.className="monaco-editor-hover hidden";i._domNode.setAttribute("aria-hidden","true");i._domNode.setAttribute("role","presentation");i._showAtLineNumber=-1;i._register(i._editor.onDidChangeConfiguration(function(e){if(e.fontInfo){i.updateFont()}}));i._editor.addOverlayWidget(i);return i}Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e;i.toggleClass(this._domNode,"hidden",!this._isVisible)},enumerable:true,configurable:true});e.prototype.getId=function(){return this._id};e.prototype.getDomNode=function(){return this._domNode};e.prototype.showAt=function(e){this._showAtLineNumber=e;if(!this.isVisible){this.isVisible=true}var t=this._editor.getLayoutInfo();var i=this._editor.getTopForLineNumber(this._showAtLineNumber);var n=this._editor.getScrollTop();var r=this._editor.getConfiguration().lineHeight;var o=this._domNode.clientHeight;var s=i-n-(o-r)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px";this._domNode.style.top=Math.max(Math.round(s),0)+"px"};e.prototype.hide=function(){if(!this.isVisible){return}this.isVisible=false};e.prototype.getPosition=function(){return null};e.prototype.dispose=function(){this._editor.removeOverlayWidget(this);n.prototype.dispose.call(this)};e.prototype.updateFont=function(){var t=this;var e=Array.prototype.slice.call(this._domNode.getElementsByTagName("code"));var i=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));e.concat(i).forEach(function(e){return t._editor.applyFontInfo(e)})};e.prototype.updateContents=function(e){this._domNode.textContent="";this._domNode.appendChild(e);this.updateFont()};return e}(n.Widget);t.GlyphHoverWidget=l});define(r[271],e([0,1,161,162,10,74]),function(e,t,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(){function e(e){this._editor=e;this._lineNumber=-1}e.prototype.setLineNumber=function(e){this._lineNumber=e;this._result=[]};e.prototype.clearResult=function(){this._result=[]};e.prototype.computeSync=function(){var e=function(e){return{value:e}};var t=this._editor.getLineDecorations(this._lineNumber);var i=[];for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!o.options.glyphMarginClassName){continue}var s=o.options.glyphMarginHoverMessage;if(a.isEmptyMarkdownString(s)){continue}if(Array.isArray(s)){i=i.concat(s.map(e))}else{i.push(e(s))}}return i};e.prototype.onResult=function(e,t){this._result=this._result.concat(e)};e.prototype.getResult=function(){return this._result};e.prototype.getResultWithLoadingMessage=function(){return this.getResult()};return e}();var n=function(n){pe(r,n);function r(e,t){var i=n.call(this,r.ID,e)||this;i._lastLineNumber=-1;i._markdownRenderer=t;i._computer=new u(i._editor);i._hoverOperation=new o.HoverOperation(i._computer,function(e){return i._withResult(e)},null,function(e){return i._withResult(e)});return i}r.prototype.dispose=function(){this._hoverOperation.cancel();n.prototype.dispose.call(this)};r.prototype.onModelDecorationsChanged=function(){if(this.isVisible){this._hoverOperation.cancel();this._computer.clearResult();this._hoverOperation.start()}};r.prototype.startShowingAt=function(e){if(this._lastLineNumber===e){return}this._hoverOperation.cancel();this.hide();this._lastLineNumber=e;this._computer.setLineNumber(e);this._hoverOperation.start()};r.prototype.hide=function(){this._lastLineNumber=-1;this._hoverOperation.cancel();n.prototype.hide.call(this)};r.prototype._withResult=function(e){this._messages=e;if(this._messages.length>0){this._renderMessages(this._lastLineNumber,this._messages)}else{this.hide()}};r.prototype._renderMessages=function(e,t){var i=this;var n=document.createDocumentFragment();t.forEach(function(e){var t=i._markdownRenderer.render(e.value);n.appendChild(s.$("div.hover-row",null,t))});this.updateContents(n);this.showAt(e)};r.ID="editor.contrib.modesGlyphHoverWidget";return r}(i.GlyphHoverWidget);t.ModesGlyphHoverWidget=n});define(r[272],e([0,1,20]),function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this._editRange=e;this._originalSelection=t;this._text=i}e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)};e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();var n=i[0].range;if(!this._originalSelection.isEmpty()){return new r.Selection(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}return new r.Selection(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn))};return e}();t.InPlaceReplaceCommand=i});define(r[273],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t){var i=0;for(var n=0;n<e.length;n++){if(e.charAt(n)==="\t"){i+=t}else{i++}}return i}t.getSpaceCnt=i;function n(e,t,i){e=e<0?0:e;var n="";if(!i){var r=Math.floor(e/t);e=e%t;for(var o=0;o<r;o++){n+="\t"}}for(var o=0;o<e;o++){n+=" "}return n}t.generateIndent=n});define(r[274],e([0,1,3,20]),function(e,t,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){this._selection=e;this._isCopyingDown=t}e.prototype.getEditOperations=function(e,t){var i=this._selection;this._startLineNumberDelta=0;this._endLineNumberDelta=0;if(i.startLineNumber<i.endLineNumber&&i.endColumn===1){this._endLineNumberDelta=1;i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1))}var n=[];for(var r=i.startLineNumber;r<=i.endLineNumber;r++){n.push(e.getLineContent(r))}var o=n.join("\n");if(o===""){if(this._isCopyingDown){this._startLineNumberDelta++;this._endLineNumberDelta++}}if(!this._isCopyingDown){t.addEditOperation(new s.Range(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+o)}else{t.addEditOperation(new s.Range(i.startLineNumber,1,i.startLineNumber,1),o+"\n")}this._selectionId=t.trackSelection(i);this._selectionDirection=this._selection.getDirection()};e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){var n=i.startLineNumber,r=i.startColumn,o=i.endLineNumber,s=i.endColumn;if(this._startLineNumberDelta!==0){n=n+this._startLineNumberDelta;r=1}if(this._endLineNumberDelta!==0){o=o+this._endLineNumberDelta;s=1}i=a.Selection.createWithDirection(n,r,o,s,this._selectionDirection)}return i};return e}();t.CopyLinesCommand=i});define(r[275],e([0,1,3,20]),function(e,t,s,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this.startLineNumber=e;this.endLineNumber=t;this.restoreCursorToColumn=i}e.prototype.getEditOperations=function(e,t){if(e.getLineCount()===1&&e.getLineMaxColumn(1)===1){return}var i=this.startLineNumber;var n=this.endLineNumber;var r=1;var o=e.getLineMaxColumn(n);if(n<e.getLineCount()){n+=1;o=1}else if(i>1){i-=1;r=e.getLineMaxColumn(i)}t.addTrackedEditOperation(new s.Range(i,r,n,o),null)};e.prototype.computeCursorState=function(e,t){var i=t.getInverseEditOperations();var n=i[0].range;return new r.Selection(n.endLineNumber,this.restoreCursorToColumn,n.endLineNumber,this.restoreCursorToColumn)};return e}();t.DeleteLinesCommand=i});define(r[276],e([0,1,51,3]),function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){this.selection=e;this.descending=t}e.prototype.getEditOperations=function(e,t){var i=n(e,this.selection,this.descending);if(i){t.addEditOperation(i.range,i.text)}this.selectionId=t.trackSelection(this.selection)};e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)};e.canRun=function(e,t,i){var n=s(e,t,i);if(!n){return false}for(var r=0,o=n.before.length;r<o;r++){if(n.before[r]!==n.after[r]){return true}}return false};return e}();t.SortLinesCommand=i;function s(e,t,i){var n=t.startLineNumber;var r=t.endLineNumber;if(t.endColumn===1){r--}if(n>=r){return null}var o=[];for(var s=n;s<=r;s++){o.push(e.getLineContent(s))}var a=o.slice(0);a.sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())});if(i===true){a=a.reverse()}return{startLineNumber:n,endLineNumber:r,before:o,after:a}}function n(e,t,i){var n=s(e,t,i);if(!n){return null}return r.EditOperation.replace(new o.Range(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),n.after.join("\n"))}});define(r[277],e([0,1,5]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function t(e){this.value=e}t.prototype.contains=function(e){return this.value===e||i.startsWith(e,this.value+t.sep)};t.sep=".";t.Empty=new t("");t.Refactor=new t("refactor");return t}();t.CodeActionKind=n;var r;(function(e){e[e["IfSingle"]=1]="IfSingle";e[e["First"]=2]="First";e[e["Never"]=3]="Never"})(r=t.CodeActionAutoApply||(t.CodeActionAutoApply={}))});define(r[278],e([0,1,18,10,12,68,4]),function(e,t,r,o,s,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this._editor=e;this._contextMenuService=t;this._onApplyCodeAction=i;this._onDidExecuteCodeAction=new n.Emitter;this.onDidExecuteCodeAction=this._onDidExecuteCodeAction.event}e.prototype.show=function(e,t){var i=this;var n=e.then(function(e){return e.map(function(e){return new a.Action(e.command?e.command.id:e.title,e.title,undefined,true,function(){return r.always(i._onApplyCodeAction(e),function(){return i._onDidExecuteCodeAction.fire(undefined)})})})});this._contextMenuService.showContextMenu({getAnchor:function(){if(s.Position.isIPosition(t)){t=i._toCoords(t)}return t},getActions:function(){return n},onHide:function(){i._visible=false},autoSelectFirstItem:true})};Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._visible},enumerable:true,configurable:true});e.prototype._toCoords=function(e){this._editor.revealPosition(e,1);this._editor.render();var t=this._editor.getScrolledVisiblePosition(this._editor.getPosition());var i=o.getDomNodePagePosition(this._editor.getDomNode());var n=i.left+t.left;var r=i.top+t.top+t.height;return{x:n,y:r}};return e}();t.QuickFixContextMenu=i});define(r[279],e([0,1,3,96,97,40]),function(e,t,f,p,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["None"]=0]="None";e[e["Open"]=1]="Open";e[e["Close"]=-1]="Close"})(i=t.TokenTreeBracket||(t.TokenTreeBracket={}));var n=function(){function e(){}Object.defineProperty(e.prototype,"range",{get:function(){return new f.Range(this.start.lineNumber,this.start.column,this.end.lineNumber,this.end.column)},enumerable:true,configurable:true});return e}();t.Node=n;var o=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}Object.defineProperty(t.prototype,"start",{get:function(){return this.hasChildren?this.children[0].start:this.parent.start},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"end",{get:function(){return this.hasChildren?this.children[this.children.length-1].end:this.parent.end},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.children&&this.children.length>0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"isEmpty",{get:function(){return!this.hasChildren&&!this.parent},enumerable:true,configurable:true});t.prototype.append=function(e){if(!e){return false}e.parent=this;if(!this.children){this.children=[]}if(e instanceof t){if(e.children){this.children.push.apply(this.children,e.children)}}else{this.children.push(e)}return true};return t}(n);t.NodeList=o;var s=function(t){pe(e,t);function e(){var e=t.call(this)||this;e.elements=new o;e.elements.parent=e;return e}Object.defineProperty(e.prototype,"start",{get:function(){return this.open.start},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"end",{get:function(){return this.close.end},enumerable:true,configurable:true});return e}(n);t.Block=s;var m=function(){function e(e,t,i){this.range=e;this.bracket=t;this.bracketType=i}return e}();function r(e){var t=new n;t.start=e.range.getStartPosition();t.end=e.range.getEndPosition();return t}var a=function(){function e(e,t,i){this.lineNumber=i;this.lineText=e.getLineContent();this.startOffset=e.getStartOffset(t);this.endOffset=e.getEndOffset(t);this.type=e.getStandardTokenType(t);this.languageId=e.getLanguageId(t)}return e}();var u=function(){function e(e){this._model=e;this._lineCount=this._model.getLineCount();this._versionId=this._model.getVersionId();this._lineNumber=0;this._tokenIndex=0;this._lineTokens=null;this._advance()}e.prototype._advance=function(){if(this._lineTokens){this._tokenIndex++;if(this._tokenIndex>=this._lineTokens.getCount()){this._lineTokens=null}}while(this._lineNumber<this._lineCount&&!this._lineTokens){this._lineNumber++;this._model.forceTokenization(this._lineNumber);this._lineTokens=this._model.getLineTokens(this._lineNumber);this._tokenIndex=0;if(this._lineTokens.getCount()===0){this._lineTokens=null}}};e.prototype.next=function(){if(!this._lineTokens){return null}if(this._model.getVersionId()!==this._versionId){return null}var e=new a(this._lineTokens,this._tokenIndex,this._lineNumber);this._advance();return e};return e}();var l=function(){function e(e){this._rawTokenScanner=new u(e);this._nextBuff=[];this._cachedLanguageBrackets=null;this._cachedLanguageId=-1}e.prototype.next=function(){if(this._nextBuff.length>0){return this._nextBuff.shift()}var e=this._rawTokenScanner.next();if(!e){return null}var t=e.lineNumber;var i=e.lineText;var n=e.type;var r=e.startOffset;var o=e.endOffset;if(this._cachedLanguageId!==e.languageId){this._cachedLanguageId=e.languageId;this._cachedLanguageBrackets=v.LanguageConfigurationRegistry.getBracketsSupport(this._cachedLanguageId)}var s=this._cachedLanguageBrackets;if(!s||p.ignoreBracketsInToken(n)){return new m(new f.Range(t,r+1,t,o+1),0,null)}var a;do{a=g.BracketsUtils.findNextBracketInToken(s.forwardRegex,t,i,r,o);if(a){var u=a.startColumn-1;var l=a.endColumn-1;if(r<u){this._nextBuff.push(new m(new f.Range(t,r+1,t,u+1),0,null))}var c=i.substring(u,l);c=c.toLowerCase();var d=s.textIsBracket[c];var h=s.textIsOpenBracket[c];this._nextBuff.push(new m(new f.Range(t,u+1,t,l+1),h?1:-1,d.languageIdentifier.language+";"+d.open+";"+d.close));r=l}}while(a);if(r<o){this._nextBuff.push(new m(new f.Range(t,r+1,t,o+1),0,null))}return this._nextBuff.shift()};return e}();var c=function(){function e(e){this._stack=[];this._scanner=new l(e)}e.prototype.build=function(){var e=new o;while(e.append(this._line()||this._any())){}return e};e.prototype._accept=function(e){var t=this._stack.pop()||this._scanner.next();if(!t){return false}var i=e(t);if(!i){this._stack.push(t);this._currentToken=null}else{this._currentToken=t}return i};e.prototype._peek=function(t){var i=false;this._accept(function(e){i=t(e);return false});return i};e.prototype._line=function(){var e=new o,t;this._peek(function(e){t=e.range.startLineNumber;return false});while(this._peek(function(e){return e.range.startLineNumber===t})&&e.append(this._token()||this._block())){}if(!e.children||e.children.length===0){return null}else if(e.children.length===1){return e.children[0]}else{return e}};e.prototype._token=function(){if(!this._accept(function(e){return e.bracket===0})){return null}return r(this._currentToken)};e.prototype._block=function(){var t,e;e=this._accept(function(e){t=e.bracketType;return e.bracket===1});if(!e){return null}var i=new s;i.open=r(this._currentToken);while(i.elements.append(this._line())){}if(!this._accept(function(e){return e.bracket===-1&&e.bracketType===t})){var n=new o;n.append(i.open);n.append(i.elements);return n}i.close=r(this._currentToken);return i};e.prototype._any=function(){if(!this._accept(function(e){return true})){return null}return r(this._currentToken)};return e}();function d(e){var t=new c(e).build();return t}t.build=d;function h(e,t){if(e instanceof o&&e.isEmpty){return null}if(!f.Range.containsPosition(e.range,t)){return null}var i;if(e instanceof o){if(e.hasChildren){for(var n=0,r=e.children.length;n<r&&!i;n++){i=h(e.children[n],t)}}}else if(e instanceof s){i=h(e.open,t)||h(e.elements,t)||h(e.close,t)}return i||e}t.find=h});define(r[133],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a;(function(e){e[e["Dollar"]=0]="Dollar";e[e["Colon"]=1]="Colon";e[e["Comma"]=2]="Comma";e[e["CurlyOpen"]=3]="CurlyOpen";e[e["CurlyClose"]=4]="CurlyClose";e[e["Backslash"]=5]="Backslash";e[e["Forwardslash"]=6]="Forwardslash";e[e["Pipe"]=7]="Pipe";e[e["Int"]=8]="Int";e[e["VariableName"]=9]="VariableName";e[e["Format"]=10]="Format";e[e["Plus"]=11]="Plus";e[e["Dash"]=12]="Dash";e[e["QuestionMark"]=13]="QuestionMark";e[e["EOF"]=14]="EOF"})(a=t.TokenType||(t.TokenType={}));var i=function(){function r(){this.text("")}r.isDigitCharacter=function(e){return e>=48&&e<=57};r.isVariableCharacter=function(e){return e===95||e>=97&&e<=122||e>=65&&e<=90};r.prototype.text=function(e){this.value=e;this.pos=0};r.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)};r.prototype.next=function(){if(this.pos>=this.value.length){return{type:a.EOF,pos:this.pos,len:0}}var e=this.pos;var t=0;var i=this.value.charCodeAt(e);var n;n=r._table[i];if(typeof n==="number"){this.pos+=1;return{type:n,pos:e,len:1}}if(r.isDigitCharacter(i)){n=a.Int;do{t+=1;i=this.value.charCodeAt(e+t)}while(r.isDigitCharacter(i));this.pos+=t;return{type:n,pos:e,len:t}}if(r.isVariableCharacter(i)){n=a.VariableName;do{i=this.value.charCodeAt(e+ ++t)}while(r.isVariableCharacter(i)||r.isDigitCharacter(i));this.pos+=t;return{type:n,pos:e,len:t}}n=a.Format;do{t+=1;i=this.value.charCodeAt(e+t)}while(!isNaN(i)&&typeof r._table[i]==="undefined"&&!r.isDigitCharacter(i)&&!r.isVariableCharacter(i));this.pos+=t;return{type:n,pos:e,len:t}};r._table=(h={},h[36]=a.Dollar,h[58]=a.Colon,h[44]=a.Comma,h[123]=a.CurlyOpen,h[125]=a.CurlyClose,h[92]=a.Backslash,h[47]=a.Forwardslash,h[124]=a.Pipe,h[43]=a.Plus,h[45]=a.Dash,h[63]=a.QuestionMark,h);return r}();t.Scanner=i;var n=function(){function e(){this._children=[]}e.prototype.appendChild=function(e){if(e instanceof s&&this._children[this._children.length-1]instanceof s){this._children[this._children.length-1].value+=e.value}else{e.parent=this;this._children.push(e)}return this};e.prototype.replace=function(e,t){var i=e.parent;var n=i.children.indexOf(e);var r=i.children.slice(0);r.splice.apply(r,[n,1].concat(t));i._children=r;t.forEach(function(e){return e.parent=i})};Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"snippet",{get:function(){var e=this;while(true){if(!e){return undefined}if(e instanceof g){return e}e=e.parent}},enumerable:true,configurable:true});e.prototype.toString=function(){return this.children.reduce(function(e,t){return e+t.toString()},"")};e.prototype.len=function(){return 0};return e}();t.Marker=n;var s=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t.value=e;return t}e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")};e.prototype.toString=function(){return this.value};e.prototype.toTextmateString=function(){return e.escape(this.value)};e.prototype.len=function(){return this.value.length};e.prototype.clone=function(){return new e(this.value)};return e}(n);t.Text=s;var p=function(i){pe(t,i);function t(e){var t=i.call(this)||this;t.index=e;return t}t.compareByIndex=function(e,t){if(e.index===t.index){return 0}else if(e.isFinalTabstop){return 1}else if(t.isFinalTabstop){return-1}else if(e.index<t.index){return-1}else if(e.index>t.index){return 1}else{return 0}};Object.defineProperty(t.prototype,"isFinalTabstop",{get:function(){return this.index===0},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"choice",{get:function(){return this._children.length===1&&this._children[0]instanceof u?this._children[0]:undefined},enumerable:true,configurable:true});t.prototype.toTextmateString=function(){if(this.children.length===0){return"$"+this.index}else if(this.choice){return"${"+this.index+"|"+this.choice.toTextmateString()+"|}"}else{return"${"+this.index+":"+this.children.map(function(e){return e.toTextmateString()}).join("")+"}"}};t.prototype.clone=function(){var e=new t(this.index);e._children=this.children.map(function(e){return e.clone()});return e};return t}(n);t.Placeholder=p;var u=function(t){pe(i,t);function i(){var e=t!==null&&t.apply(this,arguments)||this;e.options=[];return e}i.prototype.appendChild=function(e){if(e instanceof s){e.parent=this;this.options.push(e)}return this};i.prototype.toString=function(){return this.options[0].value};i.prototype.toTextmateString=function(){return this.options.map(function(e){return e.value.replace(/\||,/g,"\\$&")}).join(",")};i.prototype.len=function(){return this.options[0].len()};i.prototype.clone=function(){var e=new i;this.options.forEach(e.appendChild,e);return e};return i}(n);t.Choice=u;var o=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.resolve=function(e){var o=this;return e.replace(this.regexp,function(){var e="";for(var t=0,i=o._children;t<i.length;t++){var n=i[t];if(n instanceof l){var r=arguments.length-2>n.index?arguments[n.index]:"";r=n.resolve(r);e+=r}else{e+=n.toString()}}return e})};t.prototype.toString=function(){return""};t.prototype.toTextmateString=function(){return"/"+s.escape(this.regexp.source)+"/"+this.children.map(function(e){return e.toTextmateString()})+"/"+(this.regexp.ignoreCase?"i":"")};t.prototype.clone=function(){var e=new t;e.regexp=new RegExp(this.regexp.source,""+(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":""));e._children=this.children.map(function(e){return e.clone()});return e};return t}(n);t.Transform=o;var l=function(o){pe(t,o);function t(e,t,i,n){var r=o.call(this)||this;r.index=e;r.shorthandName=t;r.ifValue=i;r.elseValue=n;return r}t.prototype.resolve=function(e){if(this.shorthandName==="upcase"){return!e?"":e.toLocaleUpperCase()}else if(this.shorthandName==="downcase"){return!e?"":e.toLocaleLowerCase()}else if(this.shorthandName==="capitalize"){return!e?"":e[0].toLocaleUpperCase()+e.substr(1)}else if(Boolean(e)&&typeof this.ifValue==="string"){return this.ifValue}else if(!Boolean(e)&&typeof this.elseValue==="string"){return this.elseValue}else{return e||""}};t.prototype.toTextmateString=function(){var e="${";e+=this.index;if(this.shorthandName){e+=":/"+this.shorthandName}else if(this.ifValue&&this.elseValue){e+=":?"+this.ifValue+":"+this.elseValue}else if(this.ifValue){e+=":+"+this.ifValue}else if(this.elseValue){e+=":-"+this.elseValue}e+="}";return e};t.prototype.clone=function(){var e=new t(this.index,this.shorthandName,this.ifValue,this.elseValue);return e};return t}(n);t.FormatString=l;var c=function(i){pe(t,i);function t(e){var t=i.call(this)||this;t.name=e;return t}t.prototype.resolve=function(e){var t=e.resolve(this);var i=this._children[0];if(i instanceof o&&this._children.length===1){t=i.resolve(t||"")}if(t!==undefined){this._children=[new s(t)];return true}return false};t.prototype.toTextmateString=function(){if(this.children.length===0){return"${"+this.name+"}"}else{return"${"+this.name+":"+this.children.map(function(e){return e.toTextmateString()}).join("")+"}"}};t.prototype.clone=function(){var e=new t(this.name);e._children=this.children.map(function(e){return e.clone()});return e};return t}(n);t.Variable=c;function r(e,t){var i=e.slice();while(i.length>0){var n=i.shift();var r=t(n);if(!r){break}i.unshift.apply(i,n.children)}}var g=function(i){pe(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}Object.defineProperty(t.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var t=[];var i;this.walk(function(e){if(e instanceof p){t.push(e);i=!i||i.index<e.index?e:i}return true});this._placeholders={all:t,last:i}}return this._placeholders},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"placeholders",{get:function(){var e=this.placeholderInfo.all;return e},enumerable:true,configurable:true});t.prototype.offset=function(t){var i=0;var n=false;this.walk(function(e){if(e===t){n=true;return false}i+=e.len();return true});if(!n){return-1}return i};t.prototype.fullLen=function(e){var t=0;r([e],function(e){t+=e.len();return true});return t};t.prototype.enclosingPlaceholders=function(e){var t=[];var i=e.parent;while(i){if(i instanceof p){t.push(i)}i=i.parent}return t};t.prototype.resolveVariables=function(t){var i=this;this.walk(function(e){if(e instanceof c){if(e.resolve(t)){i._placeholders=undefined}}return true});return this};t.prototype.appendChild=function(e){this._placeholders=undefined;return i.prototype.appendChild.call(this,e)};t.prototype.replace=function(e,t){this._placeholders=undefined;return i.prototype.replace.call(this,e,t)};t.prototype.toTextmateString=function(){return this.children.reduce(function(e,t){return e+t.toTextmateString()},"")};t.prototype.clone=function(){var e=new t;this._children=this.children.map(function(e){return e.clone()});return e};t.prototype.walk=function(e){r(this.children,e)};return t}(n);t.TextmateSnippet=g;var d=function(){function e(){this._scanner=new i}e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")};e.prototype.text=function(e){return this.parse(e).toString()};e.prototype.parse=function(e,t,i){this._scanner.text(e);this._token=this._scanner.next();var n=new g;while(this._parse(n)){}var r=new Map;var o=[];var s=0;n.walk(function(e){if(e instanceof p){s+=1;if(e.isFinalTabstop){r.set(0,undefined)}else if(!r.has(e.index)&&e.children.length>0){r.set(e.index,e.children)}else{o.push(e)}}return true});for(var a=0,u=o;a<u.length;a++){var l=u[a];if(r.has(l.index)){var c=new p(l.index);for(var d=0,h=r.get(l.index);d<h.length;d++){var f=h[d];c.appendChild(f.clone())}n.replace(l,[c])}}if(!i){i=s>0&&t}if(!r.has(0)&&i){n.appendChild(new p(0))}return n};e.prototype._accept=function(e,t){if(e===undefined||this._token.type===e){var i=!t?true:this._scanner.tokenText(this._token);this._token=this._scanner.next();return i}return false};e.prototype._backTo=function(e){this._scanner.pos=e.pos+e.len;this._token=e;return false};e.prototype._until=function(e){if(this._token.type===a.EOF){return false}var t=this._token;while(this._token.type!==e){this._token=this._scanner.next()}var i=this._scanner.value.substring(t.pos,this._token.pos);this._token=this._scanner.next();return i};e.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)};e.prototype._parseEscaped=function(e){var t;if(t=this._accept(a.Backslash,true)){t=this._accept(a.Dollar,true)||this._accept(a.CurlyClose,true)||this._accept(a.Backslash,true)||t;e.appendChild(new s(t));return true}return false};e.prototype._parseTabstopOrVariableName=function(e){var t;var i=this._token;var n=this._accept(a.Dollar)&&(t=this._accept(a.VariableName,true)||this._accept(a.Int,true));if(!n){return this._backTo(i)}e.appendChild(/^\d+$/.test(t)?new p(Number(t)):new c(t));return true};e.prototype._parseComplexPlaceholder=function(e){var t;var i=this._token;var n=this._accept(a.Dollar)&&this._accept(a.CurlyOpen)&&(t=this._accept(a.Int,true));if(!n){return this._backTo(i)}var r=new p(Number(t));if(this._accept(a.Colon)){while(true){if(this._accept(a.CurlyClose)){e.appendChild(r);return true}if(this._parse(r)){continue}e.appendChild(new s("${"+t+":"));r.children.forEach(e.appendChild,e);return true}}else if(r.index>0&&this._accept(a.Pipe)){var o=new u;while(true){if(this._parseChoiceElement(o)){if(this._accept(a.Comma)){continue}if(this._accept(a.Pipe)&&this._accept(a.CurlyClose)){r.appendChild(o);e.appendChild(r);return true}}this._backTo(i);return false}}else if(this._accept(a.CurlyClose)){e.appendChild(r);return true}else{return this._backTo(i)}};e.prototype._parseChoiceElement=function(e){var t=this._token;var i=[];while(true){if(this._token.type===a.Comma||this._token.type===a.Pipe){break}var n=void 0;if(n=this._accept(a.Backslash,true)){n=this._accept(a.Comma,true)||this._accept(a.Pipe,true)||n}else{n=this._accept(undefined,true)}if(!n){this._backTo(t);return false}i.push(n)}if(i.length===0){this._backTo(t);return false}e.appendChild(new s(i.join("")));return true};e.prototype._parseComplexVariable=function(e){var t;var i=this._token;var n=this._accept(a.Dollar)&&this._accept(a.CurlyOpen)&&(t=this._accept(a.VariableName,true));if(!n){return this._backTo(i)}var r=new c(t);if(this._accept(a.Colon)){while(true){if(this._accept(a.CurlyClose)){e.appendChild(r);return true}if(this._parse(r)){continue}e.appendChild(new s("${"+t+":"));r.children.forEach(e.appendChild,e);return true}}else if(this._accept(a.Forwardslash)){if(this._parseTransform(r)){e.appendChild(r);return true}this._backTo(i);return false}else if(this._accept(a.CurlyClose)){e.appendChild(r);return true}else{return this._backTo(i)}};e.prototype._parseTransform=function(e){var t=new o;var i="";var n="";while(true){if(this._accept(a.Forwardslash)){break}var r=void 0;if(r=this._accept(a.Backslash,true)){r=this._accept(a.Forwardslash,true)||r;i+=r;continue}if(this._token.type!==a.EOF){i+=this._accept(undefined,true);continue}return false}while(true){if(this._accept(a.Forwardslash)){break}var r=void 0;if(r=this._accept(a.Backslash,true)){r=this._accept(a.Forwardslash,true)||r;t.appendChild(new s(r));continue}if(this._parseFormatString(t)||this._parseAnything(t)){continue}return false}while(true){if(this._accept(a.CurlyClose)){break}if(this._token.type!==a.EOF){n+=this._accept(undefined,true);continue}return false}try{t.regexp=new RegExp(i,n)}catch(e){return false}e.appendChild(t);return true};e.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(a.Dollar)){return false}var i=false;if(this._accept(a.CurlyOpen)){i=true}var n=this._accept(a.Int,true);if(!n){this._backTo(t);return false}else if(!i){e.appendChild(new l(Number(n)));return true}else if(this._accept(a.CurlyClose)){e.appendChild(new l(Number(n)));return true}else if(!this._accept(a.Colon)){this._backTo(t);return false}if(this._accept(a.Forwardslash)){var r=this._accept(a.VariableName,true);if(!r||!this._accept(a.CurlyClose)){this._backTo(t);return false}else{e.appendChild(new l(Number(n),r));return true}}else if(this._accept(a.Plus)){var o=this._until(a.CurlyClose);if(o){e.appendChild(new l(Number(n),undefined,o,undefined));return true}}else if(this._accept(a.Dash)){var s=this._until(a.CurlyClose);if(s){e.appendChild(new l(Number(n),undefined,undefined,s));return true}}else if(this._accept(a.QuestionMark)){var o=this._until(a.Colon);if(o){var s=this._until(a.CurlyClose);if(s){e.appendChild(new l(Number(n),undefined,o,s));return true}}}else{var s=this._until(a.CurlyClose);if(s){e.appendChild(new l(Number(n),undefined,undefined,s));return true}}this._backTo(t);return false};e.prototype._parseAnything=function(e){if(this._token.type!==a.EOF){e.appendChild(new s(this._scanner.tokenText(this._token)));this._accept(undefined);return true}return false};return e}();t.SnippetParser=d;var h});define(r[281],e([0,1,41,133,5]),function(e,t,o,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:true,CURRENT_YEAR_SHORT:true,CURRENT_MONTH:true,CURRENT_DATE:true,CURRENT_HOUR:true,CURRENT_MINUTE:true,CURRENT_SECOND:true,SELECTION:true,CLIPBOARD:true,TM_SELECTED_TEXT:true,TM_CURRENT_LINE:true,TM_CURRENT_WORD:true,TM_LINE_INDEX:true,TM_LINE_NUMBER:true,TM_FILENAME:true,TM_FILENAME_BASE:true,TM_DIRECTORY:true,TM_FILEPATH:true});var i=function(){function e(e){this._delegates=e}e.prototype.resolve=function(e){for(var t=0,i=this._delegates;t<i.length;t++){var n=i[t];var r=n.resolve(e);if(r!==void 0){return r}}return undefined};return e}();t.CompositeSnippetVariableResolver=i;var n=function(){function e(e,t){this._model=e;this._selection=t}e.prototype.resolve=function(t){var e=t.name;if(e==="SELECTION"||e==="TM_SELECTED_TEXT"){var i=this._model.getValueInRange(this._selection)||undefined;if(i&&this._selection.startLineNumber!==this._selection.endLineNumber){var n=this._model.getLineContent(this._selection.startLineNumber);var r=l.getLeadingWhitespace(n,0,this._selection.startColumn-1);var o=r;t.snippet.walk(function(e){if(e===t){return false}if(e instanceof u.Text){o=l.getLeadingWhitespace(e.value.split(/\r\n|\r|\n/).pop())}return true});var s=l.commonPrefixLength(o,r);i=i.replace(/(\r\n|\r|\n)(.*)/g,function(e,t,i){return""+t+o.substr(s)+i})}return i}else if(e==="TM_CURRENT_LINE"){return this._model.getLineContent(this._selection.positionLineNumber)}else if(e==="TM_CURRENT_WORD"){var a=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return a&&a.word||undefined}else if(e==="TM_LINE_INDEX"){return String(this._selection.positionLineNumber-1)}else if(e==="TM_LINE_NUMBER"){return String(this._selection.positionLineNumber)}return undefined};return e}();t.SelectionBasedVariableResolver=n;var r=function(){function e(e){this._model=e}e.prototype.resolve=function(e){var t=e.name;if(t==="TM_FILENAME"){return o.basename(this._model.uri.fsPath)}else if(t==="TM_FILENAME_BASE"){var i=o.basename(this._model.uri.fsPath);var n=i.lastIndexOf(".");if(n<=0){return i}else{return i.slice(0,n)}}else if(t==="TM_DIRECTORY"){var r=o.dirname(this._model.uri.fsPath);return r!=="."?r:""}else if(t==="TM_FILEPATH"){return this._model.uri.fsPath}return undefined};return e}();t.ModelBasedVariableResolver=r;var s=function(){function e(e,t,i){this._clipboardService=e;this._selectionIdx=t;this._selectionCount=i}e.prototype.resolve=function(e){if(e.name!=="CLIPBOARD"||!this._clipboardService){return undefined}var t=this._clipboardService.readText();if(!t){return undefined}var i=t.split(/\r\n|\n|\r/).filter(function(e){return!l.isFalsyOrWhitespace(e)});if(i.length===this._selectionCount){return i[this._selectionIdx]}else{return t}};return e}();t.ClipboardBasedVariableResolver=s;var a=function(){function e(){}e.prototype.resolve=function(e){var t=e.name;if(t==="CURRENT_YEAR"){return String((new Date).getFullYear())}else if(t==="CURRENT_YEAR_SHORT"){return String((new Date).getFullYear()).slice(-2)}else if(t==="CURRENT_MONTH"){return l.pad((new Date).getMonth().valueOf()+1,2)}else if(t==="CURRENT_DATE"){return l.pad((new Date).getDate().valueOf(),2)}else if(t==="CURRENT_HOUR"){return l.pad((new Date).getHours().valueOf(),2)}else if(t==="CURRENT_MINUTE"){return l.pad((new Date).getMinutes().valueOf(),2)}else if(t==="CURRENT_SECOND"){return l.pad((new Date).getSeconds().valueOf(),2)}return undefined};return e}();t.TimeBasedVariableResolver=a});define(r[282],e([0,1,110,2]),function(e,t,f,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){}return e}();t.LineContext=i;var n;(function(e){e[e["Nothing"]=0]="Nothing";e[e["All"]=1]="All";e[e["Incr"]=2]="Incr"})(n||(n={}));var r=function(){function r(e,t,i,n){this._snippetCompareFn=r._compareCompletionItems;this._items=e;this._column=t;this._refilterKind=1;this._lineContext=i;if(n==="top"){this._snippetCompareFn=r._compareCompletionItemsSnippetsUp}else if(n==="bottom"){this._snippetCompareFn=r._compareCompletionItemsSnippetsDown}}r.prototype.dispose=function(){var e=new Set;for(var t=0,i=this._items;t<i.length;t++){var n=i[t].container;if(!e.has(n)){e.add(n);if(o.isDisposable(n)){n.dispose()}}}};Object.defineProperty(r.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){if(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta){this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1;this._lineContext=e}},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"items",{get:function(){this._ensureCachedState();return this._filteredItems},enumerable:true,configurable:true});Object.defineProperty(r.prototype,"incomplete",{get:function(){this._ensureCachedState();return this._isIncomplete},enumerable:true,configurable:true});r.prototype.resolveIncompleteInfo=function(){var e=[];var t=[];for(var i=0,n=this._items;i<n.length;i++){var r=n[i];if(!r.container.incomplete){t.push(r)}else if(e.indexOf(r.support)<0){e.push(r.support)}}return{incomplete:e,complete:t}};Object.defineProperty(r.prototype,"stats",{get:function(){this._ensureCachedState();return this._stats},enumerable:true,configurable:true});r.prototype._ensureCachedState=function(){if(this._refilterKind!==0){this._createCachedState()}};r.prototype._createCachedState=function(){this._isIncomplete=false;this._stats={suggestionCount:0,snippetCount:0,textCount:0};var e=this._lineContext,t=e.leadingLineContent,i=e.characterCountDelta;var n="";var r=this._refilterKind===1?this._items:this._filteredItems;var o=[];var s=r.length>2e3?f.fuzzyScore:f.fuzzyScoreGracefulAggressive;for(var a=0;a<r.length;a++){var u=r[a];var l=u.suggestion,c=u.container;this._isIncomplete=this._isIncomplete||c.incomplete;var d=l.overwriteBefore+i-(u.position.column-this._column);if(n.length!==d){n=d===0?"":t.slice(-d)}u.word=n;if(d===0){u.score=-100}else if(typeof l.filterText==="string"){var h=s(n,l.filterText,l.overwriteBefore);if(!h){continue}u.score=h[0];u.matches=f.skipScore(n,l.label)[1]}else{var h=s(n,l.label,l.overwriteBefore);if(h){u.score=h[0];u.matches=h[1]}else{continue}}u.idx=a;o.push(u);this._stats.suggestionCount++;switch(l.type){case"snippet":this._stats.snippetCount++;break;case"text":this._stats.textCount++;break}}this._filteredItems=o.sort(this._snippetCompareFn);this._refilterKind=0};r._compareCompletionItems=function(e,t){if(e.score>t.score){return-1}else if(e.score<t.score){return 1}else if(e.idx<t.idx){return-1}else if(e.idx>t.idx){return 1}else{return 0}};r._compareCompletionItemsSnippetsDown=function(e,t){if(e.suggestion.type!==t.suggestion.type){if(e.suggestion.type==="snippet"){return 1}else if(t.suggestion.type==="snippet"){return-1}}return r._compareCompletionItems(e,t)};r._compareCompletionItemsSnippetsUp=function(e,t){if(e.suggestion.type!==t.suggestion.type){if(e.suggestion.type==="snippet"){return-1}else if(t.suggestion.type==="snippet"){return 1}}return r._compareCompletionItems(e,t)};return r}();t.CompletionModel=r});define(r[437],e([0,1,7,17,94,83,5]),function(e,t,a,u,d,h,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){}e.colorizeElement=function(e,t,i,n){n=n||{};var r=n.theme||"vs";var o=n.mimeType||i.getAttribute("lang")||i.getAttribute("data-lang");if(!o){console.error("Mode not detected");return undefined}e.setTheme(r);var s=i.firstChild.nodeValue;i.className+=" "+r;var a=function(e){i.innerHTML=e};return this.colorize(t,s,o,n).then(a,function(e){return console.error(e)},a)};e._tokenizationSupportChangedPromise=function(n){var r=null;var o=function(){if(r){r.dispose();r=null}};return new a.TPromise(function(t,e,i){r=u.TokenizationRegistry.onDidChange(function(e){if(e.changedLanguages.indexOf(n)>=0){o();t(void 0)}})},o)};e.colorize=function(e,t,i,n){if(l.startsWithUTF8BOM(t)){t=t.substr(1)}var r=t.split(/\r\n|\r|\n/);var o=e.getModeId(i);n=n||{};if(typeof n.tabSize==="undefined"){n.tabSize=4}e.getOrCreateMode(o);var s=u.TokenizationRegistry.get(o);if(s){return a.TPromise.as(c(r,n.tabSize,s))}return a.TPromise.any([this._tokenizationSupportChangedPromise(o),a.TPromise.timeout(500)]).then(function(e){var t=u.TokenizationRegistry.get(o);if(t){return c(r,n.tabSize,t)}return f(r,n.tabSize)})};e.colorizeLine=function(e,t,i,n){if(n===void 0){n=4}var r=d.renderViewLine2(new d.RenderLineInput(false,e,t,0,i,[],n,0,-1,"none",false,false));return r.html};e.colorizeModelLine=function(e,t,i){if(i===void 0){i=4}var n=e.getLineContent(t);e.forceTokenization(t);var r=e.getLineTokens(t);var o=r.inflate();return this.colorizeLine(n,e.mightContainRTL(),o,i)};return e}();t.Colorizer=i;function c(e,t,i){return n(e,t,i)}function f(e,t){var i=[];var n=(0<<11|1<<14|2<<23)>>>0;var r=new Uint32Array(2);r[0]=0;r[1]=n;for(var o=0,s=e.length;o<s;o++){var a=e[o];r[0]=a.length;var u=new h.LineTokens(r,a);var l=d.renderViewLine2(new d.RenderLineInput(false,a,false,0,u,[],t,0,-1,"none",false,false));i=i.concat(l.html);i.push("<br/>")}return i.join("")}function n(e,t,i){var n=[];var r=i.getInitialState();for(var o=0,s=e.length;o<s;o++){var a=e[o];var u=i.tokenize2(a,r,0);h.LineTokens.convertToEndOffset(u.tokens,a.length);var l=new h.LineTokens(u.tokens,a);var c=d.renderViewLine2(new d.RenderLineInput(false,a,true,0,l.inflate(),[],t,0,-1,"none",false,false));n=n.concat(c.html);n.push("<br/>");r=u.endState}return n.join("")}});define(r[166],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["None"]=0]="None";e[e["Open"]=1]="Open";e[e["Close"]=-1]="Close"})(i=t.MonarchBracket||(t.MonarchBracket={}));function n(e){return Array.isArray(e)}t.isFuzzyActionArr=n;function r(e){return!n(e)}t.isFuzzyAction=r;function o(e){return typeof e==="string"}t.isString=o;function s(e){return!o(e)}t.isIAction=s;function p(e){return e?false:true}t.empty=p;function g(e,t){return e.ignoreCase&&t?t.toLowerCase():t}t.fixCase=g;function a(e){return e.replace(/[&<>'"_]/g,"-")}t.sanitize=a;function u(e,t){console.log(e.languageId+": "+t)}t.log=u;function l(e,t){throw new Error(e.languageId+": "+t)}t.throwError=l;function c(l,e,c,d,h){var t=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;var f=null;return e.replace(t,function(e,t,i,n,r,o,s,a,u){if(!p(i)){return"$"}if(!p(n)){return g(l,c)}if(!p(r)&&r<d.length){return g(l,d[r])}if(!p(s)&&l&&typeof l[s]==="string"){return l[s]}if(f===null){f=h.split(".");f.unshift(h)}if(!p(o)&&o<f.length){return g(l,f[o])}return""})}t.substituteMatches=c;function d(e,t){while(t&&t.length>0){var i=e.tokenizer[t];if(i){return i}var n=t.lastIndexOf(".");if(n<0){t=null}else{t=t.substr(0,n)}}return null}t.findRules=d;function h(e,t){while(t&&t.length>0){var i=e.stateNames[t];if(i){return true}var n=t.lastIndexOf(".");if(n<0){t=null}else{t=t.substr(0,n)}}return false}t.stateExists=h});define(r[285],e([0,1,27,166]),function(e,t,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});function _(e,t){if(!t){return false}if(!Array.isArray(t)){return false}var i;for(i in t){if(t.hasOwnProperty(i)){if(!e(t[i])){return false}}}return true}function h(e,t,i){if(typeof e==="boolean"){return e}if(i&&(e||t===undefined)){i()}return t===undefined?null:t}function f(e,t,i){if(typeof e==="string"){return e}if(i&&(e||t===undefined)){i()}return t===undefined?null:t}function y(n,r){if(typeof r!=="string"){return null}var e=0;while(r.indexOf("@")>=0&&e<5){e++;r=r.replace(/@(\w+)/g,function(e,t){var i="";if(typeof n[t]==="string"){i=n[t]}else if(n[t]&&n[t]instanceof RegExp){i=n[t].source}else{if(n[t]===undefined){m.throwError(n,"language definition does not contain attribute '"+t+"', used at: "+r)}else{m.throwError(n,"attribute reference '"+t+"' must be a string, used at: "+r)}}return m.empty(i)?"":"(?:"+i+")"})}return new RegExp(r,n.ignoreCase?"i":"")}function C(e,t,i,n){if(n<0){return e}if(n<t.length){return t[n]}if(n>=100){n=n-100;var r=i.split(".");r.unshift(i);if(n<r.length){return r[n]}}return null}function d(s,e,t,i){var o=-1;var n=t;var r=t.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);if(r){if(r[3]){o=parseInt(r[3]);if(r[2]){o=o+100}}n=r[4]}var a="~";var u=n;if(!n||n.length===0){a="!=";u=""}else if(/^\w*$/.test(u)){a="=="}else{r=n.match(/^(@|!@|~|!~|==|!=)(.*)$/);if(r){a=r[1];u=r[2]}}var l;if((a==="~"||a==="!~")&&/^(\w|\|)*$/.test(u)){var c=v.createKeywordMatcher(u.split("|"),s.ignoreCase);l=function(e){return a==="~"?c(e):!c(e)}}else if(a==="@"||a==="!@"){var d=s[u];if(!d){m.throwError(s,"the @ match target '"+u+"' is not defined, in rule: "+e)}if(!_(function(e){return typeof e==="string"},d)){m.throwError(s,"the @ match target '"+u+"' must be an array of strings, in rule: "+e)}var h=v.createKeywordMatcher(d,s.ignoreCase);l=function(e){return a==="@"?h(e):!h(e)}}else if(a==="~"||a==="!~"){if(u.indexOf("$")<0){var f=y(s,"^"+u+"$");l=function(e){return a==="~"?f.test(e):!f.test(e)}}else{l=function(e,t,i,n){var r=y(s,"^"+m.substituteMatches(s,u,t,i,n)+"$");return r.test(e)}}}else{if(u.indexOf("$")<0){var p=m.fixCase(s,u);l=function(e){return a==="=="?e===p:e!==p}}else{var g=m.fixCase(s,u);l=function(e,t,i,n,r){var o=m.substituteMatches(s,g,t,i,n);return a==="=="?e===o:e!==o}}}if(o===-1){return{name:t,value:i,test:function(e,t,i,n){return l(e,e,t,i,n)}}}else{return{name:t,value:i,test:function(e,t,i,n){var r=C(e,t,i,o);return l(!r?"":r,e,t,i,n)}}}}function p(e,t,i){if(!i){return{token:""}}else if(typeof i==="string"){return i}else if(i.token||i.token===""){if(typeof i.token!=="string"){m.throwError(e,"a 'token' attribute must be of type string, in rule: "+t);return{token:""}}else{var n={token:i.token};if(i.token.indexOf("$")>=0){n.tokenSubst=true}if(typeof i.bracket==="string"){if(i.bracket==="@open"){n.bracket=1}else if(i.bracket==="@close"){n.bracket=-1}else{m.throwError(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t)}}if(i.next){if(typeof i.next!=="string"){m.throwError(e,"the next state must be a string value in rule: "+t)}else{var r=i.next;if(!/^(@pop|@push|@popall)$/.test(r)){if(r[0]==="@"){r=r.substr(1)}if(r.indexOf("$")<0){if(!m.stateExists(e,m.substituteMatches(e,r,"",[],""))){m.throwError(e,"the next state '"+i.next+"' is not defined in rule: "+t)}}}n.next=r}}if(typeof i.goBack==="number"){n.goBack=i.goBack}if(typeof i.switchTo==="string"){n.switchTo=i.switchTo}if(typeof i.log==="string"){n.log=i.log}if(typeof i.nextEmbedded==="string"){n.nextEmbedded=i.nextEmbedded;e.usesEmbedded=true}return n}}else if(Array.isArray(i)){var o=[];var s;for(s in i){if(i.hasOwnProperty(s)){o[s]=p(e,t,i[s])}}return{group:o}}else if(i.cases){var a=[];var u;for(u in i.cases){if(i.cases.hasOwnProperty(u)){var l=p(e,t,i.cases[u]);if(u==="@default"||u==="@"||u===""){a.push({test:null,value:l,name:u})}else if(u==="@eos"){a.push({test:function(e,t,i,n){return n},value:l,name:u})}else{a.push(d(e,t,u,l))}}}var c=e.defaultToken;return{test:function(e,t,i,n){var r;for(r in a){if(a.hasOwnProperty(r)){var o=!a[r].test||a[r].test(e,t,i,n);if(o){return a[r].value}}}return c}}}else{m.throwError(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t);return""}}var g=function(){function e(e){this.regex=new RegExp("");this.action={token:""};this.matchOnlyAtLineStart=false;this.name="";this.name=e}e.prototype.setRegex=function(e,t){var i;if(typeof t==="string"){i=t}else if(t instanceof RegExp){i=t.source}else{m.throwError(e,"rules must start with a match string or regular expression: "+this.name)}this.matchOnlyAtLineStart=i.length>0&&i[0]==="^";this.name=this.name+": "+i;this.regex=y(e,"^(?:"+(this.matchOnlyAtLineStart?i.substr(1):i)+")")};e.prototype.setAction=function(e,t){this.action=p(e,this.name,t)};return e}();function i(e,u){if(!u||typeof u!=="object"){throw new Error("Monarch: expecting a language definition object")}var l={};l.languageId=e;l.noThrow=false;l.maxStack=100;l.start=f(u.start);l.ignoreCase=h(u.ignoreCase,false);l.tokenPostfix=f(u.tokenPostfix,"."+l.languageId);l.defaultToken=f(u.defaultToken,"source",function(){m.throwError(l,"the 'defaultToken' must be a string")});l.usesEmbedded=false;var c=u;c.languageId=e;c.ignoreCase=l.ignoreCase;c.noThrow=l.noThrow;c.usesEmbedded=l.usesEmbedded;c.stateNames=u.tokenizer;c.defaultToken=l.defaultToken;function d(e,t,i){var n;for(n in i){if(i.hasOwnProperty(n)){var r=i[n];var o=r.include;if(o){if(typeof o!=="string"){m.throwError(l,"an 'include' attribute must be a string at: "+e)}if(o[0]==="@"){o=o.substr(1)}if(!u.tokenizer[o]){m.throwError(l,"include target '"+o+"' is not defined at: "+e)}d(e+"."+o,t,u.tokenizer[o])}else{var s=new g(e);if(Array.isArray(r)&&r.length>=1&&r.length<=3){s.setRegex(c,r[0]);if(r.length>=3){if(typeof r[1]==="string"){s.setAction(c,{token:r[1],next:r[2]})}else if(typeof r[1]==="object"){var a=r[1];a.next=r[2];s.setAction(c,a)}else{m.throwError(l,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e)}}else{s.setAction(c,r[1])}}else{if(!r.regex){m.throwError(l,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e)}if(r.name){s.name=f(r.name)}if(r.matchOnlyAtStart){s.matchOnlyAtLineStart=h(r.matchOnlyAtLineStart)}s.setRegex(c,r.regex);s.setAction(c,r.action)}t.push(s)}}}}if(!u.tokenizer||typeof u.tokenizer!=="object"){m.throwError(l,"a language definition must define the 'tokenizer' attribute as an object")}l.tokenizer=[];var t;for(t in u.tokenizer){if(u.tokenizer.hasOwnProperty(t)){if(!l.start){l.start=t}var i=u.tokenizer[t];l.tokenizer[t]=new Array;d("tokenizer."+t,l.tokenizer[t],i)}}l.usesEmbedded=c.usesEmbedded;if(u.brackets){if(!Array.isArray(u.brackets)){m.throwError(l,"the 'brackets' attribute must be defined as an array")}}else{u.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}]}var n=[];for(var r in u.brackets){if(u.brackets.hasOwnProperty(r)){var o=u.brackets[r];if(o&&Array.isArray(o)&&o.length===3){o={token:o[2],open:o[0],close:o[1]}}if(o.open===o.close){m.throwError(l,"open and close brackets in a 'brackets' attribute must be different: "+o.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.")}if(typeof o.open==="string"&&typeof o.token==="string"){n.push({token:f(o.token)+l.tokenPostfix,open:m.fixCase(l,f(o.open)),close:m.fixCase(l,f(o.close))})}else{m.throwError(l,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}}}l.brackets=n;l.noThrow=true;return l}t.compile=i});define(r[286],e([0,1,17,166,102,69]),function(e,t,u,P,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=5;var o=function(){function e(e){this._maxCacheDepth=e;this._entries=Object.create(null)}e.create=function(e,t){return this._INSTANCE.create(e,t)};e.prototype.create=function(e,t){if(e!==null&&e.depth>=this._maxCacheDepth){return new s(e,t)}var i=s.getStackElementId(e);if(i.length>0){i+="|"}i+=t;var n=this._entries[i];if(n){return n}n=new s(e,t);this._entries[i]=n;return n};e._INSTANCE=new e(n);return e}();var s=function(){function t(e,t){this.parent=e;this.state=t;this.depth=(this.parent?this.parent.depth:0)+1}t.getStackElementId=function(e){var t="";while(e!==null){if(t.length>0){t+="|"}t+=e.state;e=e.parent}return t};t._equals=function(e,t){while(e!==null&&t!==null){if(e===t){return true}if(e.state!==t.state){return false}e=e.parent;t=t.parent}if(e===null&&t===null){return true}return false};t.prototype.equals=function(e){return t._equals(this,e)};t.prototype.push=function(e){return o.create(this,e)};t.prototype.pop=function(){return this.parent};t.prototype.popall=function(){var e=this;while(e.parent){e=e.parent}return e};t.prototype.switchTo=function(e){return o.create(this.parent,e)};return t}();var l=function(){function t(e,t){this.modeId=e;this.state=t}t.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)};t.prototype.clone=function(){var e=this.state.clone();if(e===this.state){return this}return new t(this.modeId,this.state)};return t}();var A=function(){function e(e){this._maxCacheDepth=e;this._entries=Object.create(null)}e.create=function(e,t){return this._INSTANCE.create(e,t)};e.prototype.create=function(e,t){if(t!==null){return new a(e,t)}if(e!==null&&e.depth>=this._maxCacheDepth){return new a(e,t)}var i=s.getStackElementId(e);var n=this._entries[i];if(n){return n}n=new a(e,null);this._entries[i]=n;return n};e._INSTANCE=new e(n);return e}();var a=function(){function t(e,t){this.stack=e;this.embeddedModeData=t}t.prototype.clone=function(){var e=this.embeddedModeData?this.embeddedModeData.clone():null;if(e===this.embeddedModeData){return this}return A.create(this.stack,this.embeddedModeData)};t.prototype.equals=function(e){if(!(e instanceof t)){return false}if(!this.stack.equals(e.stack)){return false}if(this.embeddedModeData===null&&e.embeddedModeData===null){return true}if(this.embeddedModeData===null||e.embeddedModeData===null){return false}return this.embeddedModeData.equals(e.embeddedModeData)};return t}();var F=Object.hasOwnProperty;var c=function(){function e(){this._tokens=[];this._language=null;this._lastTokenType=null;this._lastTokenLanguage=null}e.prototype.enterMode=function(e,t){this._language=t};e.prototype.emit=function(e,t){if(this._lastTokenType===t&&this._lastTokenLanguage===this._language){return}this._lastTokenType=t;this._lastTokenLanguage=this._language;this._tokens.push(new i.Token(e,t,this._language))};e.prototype.nestedModeTokenize=function(e,t,i){var n=t.modeId;var r=t.state;var o=u.TokenizationRegistry.get(n);if(!o){this.enterMode(i,n);this.emit(i,"");return r}var s=o.tokenize(e,r,i);this._tokens=this._tokens.concat(s.tokens);this._lastTokenType=null;this._lastTokenLanguage=null;this._language=null;return s.endState};e.prototype.finalize=function(e){return new i.TokenizationResult(this._tokens,e)};return e}();var d=function(){function a(e,t){this._modeService=e;this._theme=t;this._prependTokens=null;this._tokens=[];this._currentLanguageId=0;this._lastTokenMetadata=0}a.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id};a.prototype.emit=function(e,t){var i=this._theme.match(this._currentLanguageId,t);if(this._lastTokenMetadata===i){return}this._lastTokenMetadata=i;this._tokens.push(e);this._tokens.push(i)};a._merge=function(e,t,i){var n=e!==null?e.length:0;var r=t.length;var o=i!==null?i.length:0;if(n===0&&r===0&&o===0){return new Uint32Array(0)}if(n===0&&r===0){return i}if(r===0&&o===0){return e}var s=new Uint32Array(n+r+o);if(e!==null){s.set(e)}for(var a=0;a<r;a++){s[n+a]=t[a]}if(i!==null){s.set(i,n+r)}return s};a.prototype.nestedModeTokenize=function(e,t,i){var n=t.modeId;var r=t.state;var o=u.TokenizationRegistry.get(n);if(!o){this.enterMode(i,n);this.emit(i,"");return r}var s=o.tokenize2(e,r,i);this._prependTokens=a._merge(this._prependTokens,this._tokens,s.tokens);this._tokens=[];this._currentLanguageId=0;this._lastTokenMetadata=0;return s.endState};a.prototype.finalize=function(e){return new i.TokenizationResult2(a._merge(this._prependTokens,this._tokens,null),e)};return a}();var h=function(){function e(e,t,i,n){var o=this;this._modeService=e;this._standaloneThemeService=t;this._modeId=i;this._lexer=n;this._embeddedModes=Object.create(null);var s=false;this._tokenizationRegistryListener=u.TokenizationRegistry.onDidChange(function(e){if(s){return}var t=false;for(var i=0,n=e.changedLanguages.length;i<n;i++){var r=e.changedLanguages[i];if(o._embeddedModes[r]){t=true;break}}if(t){s=true;u.TokenizationRegistry.fire([o._modeId]);s=false}})}e.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()};e.prototype.getInitialState=function(){var e=o.create(null,this._lexer.start);return A.create(e,null)};e.prototype.tokenize=function(e,t,i){var n=new c;var r=this._tokenize(e,t,i,n);return n.finalize(r)};e.prototype.tokenize2=function(e,t,i){var n=new d(this._modeService,this._standaloneThemeService.getTheme().tokenTheme);var r=this._tokenize(e,t,i,n);return n.finalize(r)};e.prototype._tokenize=function(e,t,i,n){if(t.embeddedModeData){return this._nestedTokenize(e,t,i,n)}else{return this._myTokenize(e,t,i,n)}};e.prototype._findLeavingNestedModeOffset=function(e,t){var i=this._lexer.tokenizer[t.stack.state];if(!i){i=P.findRules(this._lexer,t.stack.state);if(!i){P.throwError(this._lexer,"tokenizer state is not defined: "+t.stack.state)}}var n=-1;var r=false;for(var o in i){if(!F.call(i,o)){continue}var s=i[o];if(!P.isIAction(s.action)||s.action.nextEmbedded!=="@pop"){continue}r=true;var a=s.regex;var u=s.regex.source;if(u.substr(0,4)==="^(?:"&&u.substr(u.length-1,1)===")"){a=new RegExp(u.substr(4,u.length-5),a.ignoreCase?"i":"")}var l=e.search(a);if(l===-1){continue}if(n===-1||l<n){n=l}}if(!r){P.throwError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state)}return n};e.prototype._nestedTokenize=function(e,t,i,n){var r=this._findLeavingNestedModeOffset(e,t);if(r===-1){var o=n.nestedModeTokenize(e,t.embeddedModeData,i);return A.create(t.stack,new l(t.embeddedModeData.modeId,o))}var s=e.substring(0,r);if(s.length>0){n.nestedModeTokenize(s,t.embeddedModeData,i)}var a=e.substring(r);return this._myTokenize(a,t,i+r,n)};e.prototype._myTokenize=function(e,t,i,n){n.enterMode(i,this._modeId);var r=e.length;var o=t.embeddedModeData;var s=t.stack;var a=0;var u=null;var l=null;var c=null;var d=null;while(a<r){var h=a;var f=s.depth;var p=u?u.length:0;var g=s.state;var v=null;var m=null;var _=null;var y=null;var C=null;if(u){v=l;m=c.shift();_=u.shift();y=d;if(u.length===0){u=null;l=null;c=null;d=null}}else{if(a>=r){break}var b=this._lexer.tokenizer[g];if(!b){b=P.findRules(this._lexer,g);if(!b){P.throwError(this._lexer,"tokenizer state is not defined: "+g)}}var S=e.substr(a);for(var w in b){if(F.call(b,w)){var E=b[w];if(a===0||!E.matchOnlyAtLineStart){v=S.match(E.regex);if(v){m=v[0];_=E.action;break}}}}}if(!v){v=[""];m=""}if(!_){if(a<r){v=[e.charAt(a)];m=v[0]}_=this._lexer.defaultToken}a+=m.length;while(P.isFuzzyAction(_)&&P.isIAction(_)&&_.test){_=_.test(m,v,g,a===r)}var L=null;if(typeof _==="string"||Array.isArray(_)){L=_}else if(_.group){L=_.group}else if(_.token!==null&&_.token!==undefined){if(_.tokenSubst){L=P.substituteMatches(this._lexer,_.token,m,v,g)}else{L=_.token}if(_.nextEmbedded){if(_.nextEmbedded==="@pop"){if(!o){P.throwError(this._lexer,"cannot pop embedded mode if not inside one")}o=null}else if(o){P.throwError(this._lexer,"cannot enter embedded mode from within an embedded mode")}else{C=P.substituteMatches(this._lexer,_.nextEmbedded,m,v,g)}}if(_.goBack){a=Math.max(0,a-_.goBack)}if(_.switchTo&&typeof _.switchTo==="string"){var x=P.substituteMatches(this._lexer,_.switchTo,m,v,g);if(x[0]==="@"){x=x.substr(1)}if(!P.findRules(this._lexer,x)){P.throwError(this._lexer,"trying to switch to a state '"+x+"' that is undefined in rule: "+y.name)}else{s=s.switchTo(x)}}else if(_.transform&&typeof _.transform==="function"){P.throwError(this._lexer,"action.transform not supported")}else if(_.next){if(_.next==="@push"){if(s.depth>=this._lexer.maxStack){P.throwError(this._lexer,"maximum tokenizer stack size reached: ["+s.state+","+s.parent.state+",...]")}else{s=s.push(g)}}else if(_.next==="@pop"){if(s.depth<=1){P.throwError(this._lexer,"trying to pop an empty stack in rule: "+y.name)}else{s=s.pop()}}else if(_.next==="@popall"){s=s.popall()}else{var x=P.substituteMatches(this._lexer,_.next,m,v,g);if(x[0]==="@"){x=x.substr(1)}if(!P.findRules(this._lexer,x)){P.throwError(this._lexer,"trying to set a next state '"+x+"' that is undefined in rule: "+y.name)}else{s=s.push(x)}}}if(_.log&&typeof _.log==="string"){P.log(this._lexer,this._lexer.languageId+": "+P.substituteMatches(this._lexer,_.log,m,v,g))}}if(L===null){P.throwError(this._lexer,"lexer rule has no well-defined action in rule: "+y.name)}if(Array.isArray(L)){if(u&&u.length>0){P.throwError(this._lexer,"groups cannot be nested: "+y.name)}if(v.length!==L.length+1){P.throwError(this._lexer,"matched number of groups does not match the number of actions in rule: "+y.name)}var N=0;for(var I=1;I<v.length;I++){N+=v[I].length}if(N!==m.length){P.throwError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+y.name)}l=v;c=v.slice(1);u=L.slice(0);d=y;a-=m.length;continue}else{if(L==="@rematch"){a-=m.length;m="";v=null;L=""}if(m.length===0){if(f!==s.depth||g!==s.state||(!u?0:u.length)!==p){continue}else{P.throwError(this._lexer,"no progress in tokenizer in rule: "+y.name);a=r}}var D=null;if(P.isString(L)&&L.indexOf("@brackets")===0){var T=L.substr("@brackets".length);var M=W(this._lexer,m);if(!M){P.throwError(this._lexer,"@brackets token returned but no bracket defined as: "+m);M={token:"",bracketType:0}}D=P.sanitize(M.token+T)}else{var k=L===""?"":L+this._lexer.tokenPostfix;D=P.sanitize(k)}n.emit(h+i,D)}if(C!==null){var O=this._modeService.getModeIdForLanguageName(C);if(O){C=O}var R=this._getNestedEmbeddedModeData(C);if(a<r){var S=e.substr(a);return this._nestedTokenize(S,A.create(s,R),i+a,n)}else{return A.create(s,R)}}}return A.create(s,o)};e.prototype._getNestedEmbeddedModeData=function(e){var t=this._locateMode(e);if(t){var i=u.TokenizationRegistry.get(t.getId());if(i){return new l(t.getId(),i.getInitialState())}}var n=t?t.getId():r.NULL_MODE_ID;return new l(n,r.NULL_STATE)};e.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e)){return null}var t=this._modeService.getModeId(e);this._modeService.getOrCreateMode(t);var i=this._modeService.getMode(t);if(i){this._embeddedModes[t]=true;return i}this._embeddedModes[t]=true;return null};return e}();function W(e,t){if(!t){return null}t=P.fixCase(e,t);var i=e.brackets;for(var n=0;n<i.length;n++){var r=i[n];if(r.open===t){return{token:r.token,bracketType:1}}else if(r.close===t){return{token:r.token,bracketType:-1}}}return null}function f(e,t,i,n){return new h(e,t,i,n)}t.createTokenizationSupport=f});define(r[287],e([8,9]),function(e,t){return e.create("vs/base/browser/ui/actionbar/actionbar",t)});define(r[290],e([8,9]),function(e,t){return e.create("vs/base/browser/ui/aria/aria",t)});define(r[52],e([0,1,290,15,10,471]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o;var s;var a;function u(e){o=document.createElement("div");o.className="monaco-aria-container";s=document.createElement("div");s.className="monaco-alert";s.setAttribute("role","alert");s.setAttribute("aria-atomic","true");o.appendChild(s);a=document.createElement("div");a.className="monaco-status";a.setAttribute("role","status");a.setAttribute("aria-atomic","true");o.appendChild(a);e.appendChild(o)}t.setARIAContainer=u;function l(e){d(s,e)}t.alert=l;function c(e){if(n.isMacintosh){l(e)}else{d(a,e)}}t.status=c;function d(e,t){if(!o){return}if(e.textContent===t){t=i.localize(0,null,t)}r.clearNode(e);e.textContent=t;e.style.visibility="hidden";e.style.visibility="visible"}});define(r[292],e([8,9]),function(e,t){return e.create("vs/base/browser/ui/findinput/findInput",t)});define(r[293],e([8,9]),function(e,t){return e.create("vs/base/browser/ui/findinput/findInputCheckboxes",t)});define(r[170],e([0,1,293,490,556]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=i.localize(0,null);var o=i.localize(1,null);var s=i.localize(2,null);var a=function(t){pe(e,t);function e(e){return t.call(this,{actionClassName:"monaco-case-sensitive",title:r+e.appendTitle,isChecked:e.isChecked,onChange:e.onChange,onKeyDown:e.onKeyDown,inputActiveOptionBorder:e.inputActiveOptionBorder})||this}return e}(n.Checkbox);t.CaseSensitiveCheckbox=a;var u=function(t){pe(e,t);function e(e){return t.call(this,{actionClassName:"monaco-whole-word",title:o+e.appendTitle,isChecked:e.isChecked,onChange:e.onChange,onKeyDown:e.onKeyDown,inputActiveOptionBorder:e.inputActiveOptionBorder})||this}return e}(n.Checkbox);t.WholeWordsCheckbox=u;var l=function(t){pe(e,t);function e(e){return t.call(this,{actionClassName:"monaco-regex",title:s+e.appendTitle,isChecked:e.isChecked,onChange:e.onChange,onKeyDown:e.onKeyDown,inputActiveOptionBorder:e.inputActiveOptionBorder})||this}return e}(n.Checkbox);t.RegexCheckbox=l});define(r[295],e([8,9]),function(e,t){return e.create("vs/base/browser/ui/inputbox/inputBox",t)});define(r[296],e([8,9]),function(e,t){return e.create("vs/base/browser/ui/selectBox/selectBoxCustom",t)});define(r[297],e([0,1,296,2,4,37,54,10,23,104,87,43,15,244]),function(e,t,s,i,r,o,a,c,d,n,u,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=c.$;var g="selectOption.entry.template";var v=function(){function e(){}Object.defineProperty(e.prototype,"templateId",{get:function(){return g},enumerable:true,configurable:true});e.prototype.renderTemplate=function(e){var t=Object.create(null);t.disposables=[];t.root=e;t.optionText=c.append(e,p(".option-text"));return t};e.prototype.renderElement=function(e,t,i){var n=i;var r=e.optionText;var o=e.optionDisabled;n.optionText.textContent=r;n.root.setAttribute("aria-label",s.localize(0,null,r));if(o){c.addClass(n.root,"option-disabled")}};e.prototype.disposeTemplate=function(e){e.disposables=i.dispose(e.disposables)};return e}();var l=function(){function l(e,t,i,n){this.toDispose=[];this._isVisible=false;this.selectElement=document.createElement("select");this.selectElement.className="select-box";this._onDidSelect=new r.Emitter;this.styles=n;this.registerListeners();this.constructSelectDropDown(i);this.setOptions(e,t)}l.prototype.getHeight=function(){return 18};l.prototype.getTemplateId=function(){return g};l.prototype.constructSelectDropDown=function(e){this.contextViewProvider=e;this.selectDropDownContainer=c.$(".select-box-dropdown-container");this.createSelectList(this.selectDropDownContainer);var t=c.append(this.selectDropDownContainer,p(".select-box-dropdown-container-width-control"));var i=c.append(t,p(".width-control-div"));this.widthControlElement=document.createElement("span");this.widthControlElement.className="option-text-width-control";c.append(i,this.widthControlElement);this.styleElement=c.createStyleSheet(this.selectDropDownContainer)};l.prototype.registerListeners=function(){var n=this;this.toDispose.push(c.addStandardDisposableListener(this.selectElement,"change",function(e){n.selectElement.title=e.target.value;n._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})}));this.toDispose.push(c.addDisposableListener(this.selectElement,c.EventType.CLICK,function(e){c.EventHelper.stop(e);if(n._isVisible){n.hideSelectDropDown(true)}else{n.showSelectDropDown()}}));this.toDispose.push(c.addDisposableListener(this.selectElement,c.EventType.MOUSE_DOWN,function(e){c.EventHelper.stop(e)}));this.toDispose.push(c.addDisposableListener(this.selectElement,c.EventType.KEY_DOWN,function(e){var t=new a.StandardKeyboardEvent(e);var i=false;if(f.isMacintosh){if(t.keyCode===18||t.keyCode===16||t.keyCode===10||t.keyCode===3){i=true}}else{if(t.keyCode===18&&t.altKey||t.keyCode===16&&t.altKey||t.keyCode===10||t.keyCode===3){i=true}}if(i){n.showSelectDropDown();c.EventHelper.stop(e)}}))};Object.defineProperty(l.prototype,"onDidSelect",{get:function(){return this._onDidSelect.event},enumerable:true,configurable:true});l.prototype.setOptions=function(e,t,i){var n=this;if(!this.options||!d.equals(this.options,e)){this.options=e;this.selectElement.options.length=0;var r=0;this.options.forEach(function(e){n.selectElement.add(n.createOption(e,r,i===r++))});if(this.selectList&&!!this.options){var o=void 0;o=[];if(i!==undefined){this.disabledOptionIndex=i}for(var s=0;s<this.options.length;s++){var a=this.options[s];var u=void 0;s===this.disabledOptionIndex?u=true:u=false;o.push({optionText:a,optionDisabled:u})}this.selectList.splice(0,this.selectList.length,o)}}if(t!==undefined){this.select(t)}};l.prototype.select=function(e){if(e>=0&&e<this.options.length){this.selected=e}else if(this.selected<0){this.selected=0}this.selectElement.selectedIndex=this.selected;this.selectElement.title=this.options[this.selected]};l.prototype.focus=function(){if(this.selectElement){this.selectElement.focus()}};l.prototype.blur=function(){if(this.selectElement){this.selectElement.blur()}};l.prototype.render=function(e){c.addClass(e,"select-container");e.appendChild(this.selectElement);this.setOptions(this.options,this.selected);this.applyStyles()};l.prototype.style=function(e){var t=[];this.styles=e;if(this.styles.listFocusBackground){t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: "+this.styles.listFocusBackground+" !important; }")}if(this.styles.listFocusForeground){t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused:not(:hover) { color: "+this.styles.listFocusForeground+" !important; }")}if(this.styles.listHoverForeground){t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:hover { color: "+this.styles.listHoverForeground+" !important; }");t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: "+this.styles.listActiveSelectionForeground+" !important; }")}if(this.styles.listHoverBackground){t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: "+this.styles.listHoverBackground+" !important; }");t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: "+this.styles.selectBackground+" !important; }")}if(this.styles.listFocusOutline){t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted "+this.styles.listFocusOutline+" !important; outline-offset: -1.6px !important; }")}if(this.styles.listHoverOutline){t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:hover:not(.focused) { outline: 1.6px dashed "+this.styles.listHoverOutline+" !important; outline-offset: -1.6px !important; }");t.push(".monaco-shell .select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { outline: none !important; }")}this.styleElement.innerHTML=t.join("\n");this.applyStyles()};l.prototype.applyStyles=function(){var e=null;if(this.selectElement){e=this.styles.selectBackground?this.styles.selectBackground.toString():null;var t=this.styles.selectForeground?this.styles.selectForeground.toString():null;var i=this.styles.selectBorder?this.styles.selectBorder.toString():null;this.selectElement.style.backgroundColor=e;this.selectElement.style.color=t;this.selectElement.style.borderColor=i}if(this.selectList){this.selectList.style({});var n=this.styles.selectListBackground?this.styles.selectListBackground.toString():e;this.selectDropDownListContainer.style.backgroundColor=n;var r=this.styles.focusBorder?this.styles.focusBorder.toString():null;this.selectDropDownContainer.style.outlineColor=r;this.selectDropDownContainer.style.outlineOffset="-1px"}};l.prototype.createOption=function(e,t,i){var n=document.createElement("option");n.value=e;n.text=e;n.disabled=i;return n};l.prototype.showSelectDropDown=function(){var t=this;if(!this.contextViewProvider||this._isVisible){return}this._isVisible=true;this.cloneElementFont(this.selectElement,this.selectDropDownContainer);this.contextViewProvider.showContextView({getAnchor:function(){return t.selectElement},render:function(e){return t.renderSelectDropDown(e)},layout:function(){return t.layoutSelectDropDown()},onHide:function(){c.toggleClass(t.selectDropDownContainer,"visible",false);c.toggleClass(t.selectElement,"synthetic-focus",false)}});this._currentSelection=this.selected};l.prototype.hideSelectDropDown=function(e){if(!this.contextViewProvider||!this._isVisible){return}this._isVisible=false;if(e){this.selectElement.focus()}this.contextViewProvider.hideContextView()};l.prototype.renderSelectDropDown=function(e){c.append(e,this.selectDropDownContainer);this.layoutSelectDropDown();return null};l.prototype.layoutSelectDropDown=function(){c.toggleClass(this.selectDropDownContainer,"visible",true);var e=c.getTotalWidth(this.selectElement);var t=c.getDomNodePagePosition(this.selectElement);var i=c.getTotalHeight(document.getElementById("workbench.parts.statusbar"));var n=window.innerHeight-t.top-t.height-i-l.SELECT_DROPDOWN_BOTTOM_MARGIN;if(this.selectList){this.selectList.layout();var r=this.selectList.contentHeight;var o=c.getTotalHeight(this.selectDropDownListContainer);var s=o-r;if(o>n){r=Math.floor((n-s)/this.getHeight())*this.getHeight()}this.selectList.layout(r);this.selectList.domFocus();this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selectList.getFocus()[0]);this.selectDropDownContainer.style.height=r+s+"px";var a=this.setWidthControlElement(this.widthControlElement);var u=Math.max(a,Math.round(e)).toString()+"px";this.selectDropDownContainer.style.minWidth=u;this.selectDropDownListContainer.setAttribute("tabindex","0");c.toggleClass(this.selectElement,"synthetic-focus",true);c.toggleClass(this.selectDropDownContainer,"synthetic-focus",true)}};l.prototype.setWidthControlElement=function(e){var t=0;if(e&&!!this.options){var i=0;for(var n=0;n<this.options.length;n++){if(this.options[n].length>this.options[i].length){i=n}}e.innerHTML=this.options[i];t=c.getTotalWidth(e)}return t};l.prototype.cloneElementFont=function(e,t){var i=window.getComputedStyle(e,null).getPropertyValue("font-size");var n=window.getComputedStyle(e,null).getPropertyValue("font-family");t.style.fontFamily=n;t.style.fontSize=i};l.prototype.createSelectList=function(e){var t=this;this.selectDropDownListContainer=c.append(e,p(".select-box-dropdown-list-container"));this.listRenderer=new v;this.selectList=new n.List(this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:false,selectOnMouseDown:false,verticalScrollMode:h.ScrollbarVisibility.Visible,keyboardSupport:false,mouseSupport:false});var i=r.chain(u.domEvent(this.selectDropDownListContainer,"keydown")).filter(function(){return t.selectList.length>0}).map(function(e){return new a.StandardKeyboardEvent(e)});i.filter(function(e){return e.keyCode===3}).on(function(e){return t.onEnter(e)},this,this.toDispose);i.filter(function(e){return e.keyCode===9}).on(function(e){return t.onEscape(e)},this,this.toDispose);i.filter(function(e){return e.keyCode===16}).on(this.onUpArrow,this,this.toDispose);i.filter(function(e){return e.keyCode===18}).on(this.onDownArrow,this,this.toDispose);i.filter(function(e){return e.keyCode===12}).on(this.onPageDown,this,this.toDispose);i.filter(function(e){return e.keyCode===11}).on(this.onPageUp,this,this.toDispose);i.filter(function(e){return e.keyCode===14}).on(this.onHome,this,this.toDispose);i.filter(function(e){return e.keyCode===13}).on(this.onEnd,this,this.toDispose);i.filter(function(e){return e.keyCode>=21&&e.keyCode<=56||e.keyCode>=80&&e.keyCode<=108}).on(this.onCharacter,this,this.toDispose);r.chain(u.domEvent(this.selectList.getHTMLElement(),"mouseup")).filter(function(){return t.selectList.length>0}).on(function(e){return t.onMouseUp(e)},this,this.toDispose);this.toDispose.push(this.selectList.onDidBlur(function(e){return t.onListBlur()}))};l.prototype.onMouseUp=function(e){if(!e.toElement.classList.contains("option-text")){return}var t=e.toElement.parentElement;var i=Number(t.getAttribute("data-index"));var n=t.classList.contains("option-disabled");if(i>=0&&i<this.options.length&&!n){this.selected=i;this.select(this.selected);this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selectList.getFocus()[0]);this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.selectElement.title});this._currentSelection=-1;this.hideSelectDropDown(true)}c.EventHelper.stop(e)};l.prototype.onListBlur=function(){if(this._currentSelection>=0){this.select(this._currentSelection)}this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.selectElement.title});this.hideSelectDropDown(false)};l.prototype.onEscape=function(e){c.EventHelper.stop(e);this.select(this._currentSelection);this.hideSelectDropDown(true);this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.selectElement.title})};l.prototype.onEnter=function(e){c.EventHelper.stop(e);this._currentSelection=-1;this.hideSelectDropDown(true);this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.selectElement.title})};l.prototype.onDownArrow=function(){if(this.selected<this.options.length-1){if(this.selected+1===this.disabledOptionIndex&&this.options.length>this.selected+2){this.selected+=2}else{this.selected++}this.select(this.selected);this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selectList.getFocus()[0])}};l.prototype.onUpArrow=function(){if(this.selected>0){if(this.selected-1===this.disabledOptionIndex&&this.selected>1){this.selected-=2}else{this.selected--}this.select(this.selected);this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selectList.getFocus()[0])}};l.prototype.onPageUp=function(e){var t=this;c.EventHelper.stop(e);this.selectList.focusPreviousPage();setTimeout(function(){t.selected=t.selectList.getFocus()[0];if(t.selected===t.disabledOptionIndex&&t.selected<t.options.length-1){t.selected++;t.selectList.setFocus([t.selected])}t.selectList.reveal(t.selected);t.select(t.selected)},1)};l.prototype.onPageDown=function(e){var t=this;c.EventHelper.stop(e);this.selectList.focusNextPage();setTimeout(function(){t.selected=t.selectList.getFocus()[0];if(t.selected===t.disabledOptionIndex&&t.selected>0){t.selected--;t.selectList.setFocus([t.selected])}t.selectList.reveal(t.selected);t.select(t.selected)},1)};l.prototype.onHome=function(e){c.EventHelper.stop(e);if(this.options.length<2){return}this.selected=0;if(this.selected===this.disabledOptionIndex&&this.selected>1){this.selected++}this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected);this.select(this.selected)};l.prototype.onEnd=function(e){c.EventHelper.stop(e);if(this.options.length<2){return}this.selected=this.options.length-1;if(this.selected===this.disabledOptionIndex&&this.selected>1){this.selected--}this.selectList.setFocus([this.selected]);this.selectList.reveal(this.selected);this.select(this.selected)};l.prototype.onCharacter=function(e){var t=o.KeyCodeUtils.toString(e.keyCode);var i=-1;for(var n=0;n<this.options.length-1;n++){i=(n+this.selected+1)%this.options.length;if(this.options[i].charAt(0).toUpperCase()===t){this.select(i);this.selectList.setFocus([i]);this.selectList.reveal(this.selectList.getFocus()[0]);c.EventHelper.stop(e);break}}};l.prototype.dispose=function(){this.hideSelectDropDown(false);this.toDispose=i.dispose(this.toDispose)};l.SELECT_DROPDOWN_BOTTOM_MARGIN=10;return l}();t.SelectBoxList=l});define(r[298],e([0,1,2,47,26,27,213,297,15,241]),function(e,s,t,i,n,a,u,l,c){"use strict";Object.defineProperty(s,"__esModule",{value:true});s.defaultStyles={selectBackground:n.Color.fromHex("#3C3C3C"),selectForeground:n.Color.fromHex("#F0F0F0"),selectBorder:n.Color.fromHex("#3C3C3C")};var r=function(o){pe(e,o);function e(e,t,i,n){if(n===void 0){n=a.deepClone(s.defaultStyles)}var r=o.call(this)||this;r.toDispose=[];a.mixin(r.styles,s.defaultStyles,false);if(c.isMacintosh){r.selectBoxDelegate=new u.SelectBoxNative(e,t,n)}else{r.selectBoxDelegate=new l.SelectBoxList(e,t,i,n)}r.toDispose.push(r.selectBoxDelegate);return r}Object.defineProperty(e.prototype,"onDidSelect",{get:function(){return this.selectBoxDelegate.onDidSelect},enumerable:true,configurable:true});e.prototype.setOptions=function(e,t,i){this.selectBoxDelegate.setOptions(e,t,i)};e.prototype.select=function(e){this.selectBoxDelegate.select(e)};e.prototype.focus=function(){this.selectBoxDelegate.focus()};e.prototype.blur=function(){this.selectBoxDelegate.blur()};e.prototype.render=function(e){this.selectBoxDelegate.render(e)};e.prototype.style=function(e){this.selectBoxDelegate.style(e)};e.prototype.applyStyles=function(){this.selectBoxDelegate.applyStyles()};e.prototype.dispose=function(){this.toDispose=t.dispose(this.toDispose);o.prototype.dispose.call(this)};return e}(i.Widget);s.SelectBox=r});define(r[73],e([0,1,287,2,48,298,68,10,29,71,54,4,468]),function(e,t,i,n,s,a,u,l,c,r,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e,t,i){var n=this;this.options=i;this._callOnDispose=[];this._context=e||this;this._action=t;if(t instanceof u.Action){this._callOnDispose.push(t.onDidChange(function(e){if(!n.builder){return}n._handleActionChangeEvent(e)}))}}e.prototype._handleActionChangeEvent=function(e){if(e.enabled!==void 0){this._updateEnabled()}if(e.checked!==void 0){this._updateChecked()}if(e.class!==void 0){this._updateClass()}if(e.label!==void 0){this._updateLabel();this._updateTooltip()}if(e.tooltip!==void 0){this._updateTooltip()}};Object.defineProperty(e.prototype,"callOnDispose",{get:function(){return this._callOnDispose},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(e){this._actionRunner=e},enumerable:true,configurable:true});e.prototype.getAction=function(){return this._action};e.prototype.isEnabled=function(){return this._action.enabled};e.prototype.setActionContext=function(e){this._context=e};e.prototype.render=function(e){var i=this;this.builder=s.$(e);r.Gesture.addTarget(e);var n=this.options&&this.options.draggable;if(n){e.draggable=true}this.builder.on(r.EventType.Tap,function(e){return i.onClick(e)});this.builder.on(l.EventType.MOUSE_DOWN,function(e){if(!n){l.EventHelper.stop(e,true)}var t=e;if(i._action.enabled&&t.button===0){i.builder.addClass("active")}});this.builder.on(l.EventType.CLICK,function(e){l.EventHelper.stop(e,true);if(i.options&&i.options.isMenu){i.onClick(e)}else{setImmediate(function(){return i.onClick(e)})}});this.builder.on([l.EventType.MOUSE_UP,l.EventType.MOUSE_OUT],function(e){l.EventHelper.stop(e);i.builder.removeClass("active")})};e.prototype.onClick=function(e){l.EventHelper.stop(e,true);var t;if(c.isUndefinedOrNull(this._context)){t=e}else{t=this._context;t.event=e}this._actionRunner.run(this._action,t)};e.prototype.focus=function(){if(this.builder){this.builder.domFocus()}};e.prototype.blur=function(){if(this.builder){this.builder.domBlur()}};e.prototype._updateEnabled=function(){};e.prototype._updateLabel=function(){};e.prototype._updateTooltip=function(){};e.prototype._updateClass=function(){};e.prototype._updateChecked=function(){};e.prototype.dispose=function(){if(this.builder){this.builder.destroy();this.builder=null}this._callOnDispose=n.dispose(this._callOnDispose)};return e}();t.BaseActionItem=o;var f=function(n){pe(r,n);function r(e,t){var i=n.call(this,r.ID,e,e?"separator text":"separator")||this;i.checked=false;i.radio=false;i.enabled=false;i.order=t;return i}r.ID="vs.actions.separator";return r}(u.Action);t.Separator=f;var p=function(r){pe(e,r);function e(e,t,i){if(i===void 0){i={}}var n=r.call(this,e,t,i)||this;n.options=i;n.options.icon=i.icon!==undefined?i.icon:false;n.options.label=i.label!==undefined?i.label:true;n.cssClass="";return n}e.prototype.render=function(e){r.prototype.render.call(this,e);this.$e=s.$("a.action-label").appendTo(this.builder);if(this._action.id===f.ID){this.$e.attr({role:"presentation"})}else{if(this.options.isMenu){this.$e.attr({role:"menuitem"})}else{this.$e.attr({role:"button"})}}if(this.options.label&&this.options.keybinding){s.$("span.keybinding").text(this.options.keybinding).appendTo(this.builder)}this._updateClass();this._updateLabel();this._updateTooltip();this._updateEnabled();this._updateChecked()};e.prototype.focus=function(){r.prototype.focus.call(this);this.$e.domFocus()};e.prototype._updateLabel=function(){if(this.options.label){this.$e.text(this.getAction().label)}};e.prototype._updateTooltip=function(){var e=null;if(this.getAction().tooltip){e=this.getAction().tooltip}else if(!this.options.label&&this.getAction().label&&this.options.icon){e=this.getAction().label;if(this.options.keybinding){e=i.localize(0,null,e,this.options.keybinding)}}if(e){this.$e.attr({title:e})}};e.prototype._updateClass=function(){if(this.cssClass){this.$e.removeClass(this.cssClass)}if(this.options.icon){this.cssClass=this.getAction().class;this.$e.addClass("icon");if(this.cssClass){this.$e.addClass(this.cssClass)}this._updateEnabled()}else{this.$e.removeClass("icon")}};e.prototype._updateEnabled=function(){if(this.getAction().enabled){this.builder.removeClass("disabled");this.$e.removeClass("disabled");this.$e.attr({tabindex:0})}else{this.builder.addClass("disabled");this.$e.addClass("disabled");l.removeTabIndexAndUpdateFocus(this.$e.getHTMLElement())}};e.prototype._updateChecked=function(){if(this.getAction().checked){this.$e.addClass("checked")}else{this.$e.removeClass("checked")}};return e}(o);t.ActionItem=p;var g;(function(e){e[e["HORIZONTAL"]=0]="HORIZONTAL";e[e["HORIZONTAL_REVERSE"]=1]="HORIZONTAL_REVERSE";e[e["VERTICAL"]=2]="VERTICAL";e[e["VERTICAL_REVERSE"]=3]="VERTICAL_REVERSE"})(g=t.ActionsOrientation||(t.ActionsOrientation={}));var v={orientation:g.HORIZONTAL,context:null};var m=function(){function e(e,t){if(t===void 0){t=v}var n=this;this._onDidBlur=new h.Emitter;this._onDidCancel=new h.Emitter;this._onDidRun=new h.Emitter;this._onDidBeforeRun=new h.Emitter;this.options=t;this._context=t.context;this.toDispose=[];this._actionRunner=this.options.actionRunner;if(!this._actionRunner){this._actionRunner=new u.ActionRunner;this.toDispose.push(this._actionRunner)}this.toDispose.push(this._actionRunner.onDidRun(function(e){return n._onDidRun.fire(e)}));this.toDispose.push(this._actionRunner.onDidBeforeRun(function(e){return n._onDidBeforeRun.fire(e)}));this.items=[];this.focusedItem=undefined;this.domNode=document.createElement("div");this.domNode.className="monaco-action-bar";if(t.animated!==false){l.addClass(this.domNode,"animated")}var r;var o;switch(this.options.orientation){case g.HORIZONTAL:r=15;o=17;break;case g.HORIZONTAL_REVERSE:r=17;o=15;this.domNode.className+=" reverse";break;case g.VERTICAL:r=16;o=18;this.domNode.className+=" vertical";break;case g.VERTICAL_REVERSE:r=18;o=16;this.domNode.className+=" vertical reverse";break}s.$(this.domNode).on(l.EventType.KEY_DOWN,function(e){var t=new d.StandardKeyboardEvent(e);var i=true;if(t.equals(r)){n.focusPrevious()}else if(t.equals(o)){n.focusNext()}else if(t.equals(9)){n.cancel()}else if(t.equals(3)||t.equals(10)){}else{i=false}if(i){t.preventDefault();t.stopPropagation()}});s.$(this.domNode).on(l.EventType.KEY_UP,function(e){var t=new d.StandardKeyboardEvent(e);if(t.equals(3)||t.equals(10)){n.doTrigger(t);t.preventDefault();t.stopPropagation()}else if(t.equals(2)||t.equals(1024|2)){n.updateFocusedItem()}});this.focusTracker=l.trackFocus(this.domNode);this.toDispose.push(this.focusTracker.onDidBlur(function(){if(document.activeElement===n.domNode||!l.isAncestor(document.activeElement,n.domNode)){n._onDidBlur.fire();n.focusedItem=undefined}}));this.toDispose.push(this.focusTracker.onDidFocus(function(){return n.updateFocusedItem()}));this.actionsList=document.createElement("ul");this.actionsList.className="actions-container";if(this.options.isMenu){this.actionsList.setAttribute("role","menubar")}else{this.actionsList.setAttribute("role","toolbar")}if(this.options.ariaLabel){this.actionsList.setAttribute("aria-label",this.options.ariaLabel)}this.domNode.appendChild(this.actionsList);(e instanceof s.Builder?e.getHTMLElement():e).appendChild(this.domNode)}Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this._onDidBlur.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this._onDidCancel.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidRun",{get:function(){return this._onDidRun.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidBeforeRun",{get:function(){return this._onDidBeforeRun.event},enumerable:true,configurable:true});e.prototype.setAriaLabel=function(e){if(e){this.actionsList.setAttribute("aria-label",e)}else{this.actionsList.removeAttribute("aria-label")}};e.prototype.updateFocusedItem=function(){for(var e=0;e<this.actionsList.children.length;e++){var t=this.actionsList.children[e];if(l.isAncestor(document.activeElement,t)){this.focusedItem=e;break}}};Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t;this.items.forEach(function(e){return e.setActionContext(t)})},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"actionRunner",{get:function(){return this._actionRunner},set:function(t){if(t){this._actionRunner=t;this.items.forEach(function(e){return e.actionRunner=t})}},enumerable:true,configurable:true});e.prototype.getContainer=function(){return s.$(this.domNode)};e.prototype.push=function(e,n){var r=this;if(n===void 0){n={}}var t=!Array.isArray(e)?[e]:e;var o=c.isNumber(n.index)?n.index:null;t.forEach(function(e){var t=document.createElement("li");t.className="action-item";t.setAttribute("role","presentation");s.$(t).on(l.EventType.CONTEXT_MENU,function(e){e.preventDefault();e.stopPropagation()});var i=null;if(r.options.actionItemProvider){i=r.options.actionItemProvider(e)}if(!i){i=new p(r.context,e,n)}i.actionRunner=r._actionRunner;i.setActionContext(r.context);i.render(t);if(o===null||o<0||o>=r.actionsList.children.length){r.actionsList.appendChild(t)}else{r.actionsList.insertBefore(t,r.actionsList.children[o++])}r.items.push(i)})};e.prototype.getWidth=function(e){if(e>=0&&e<this.actionsList.children.length){return this.actionsList.children.item(e).clientWidth}return 0};e.prototype.getHeight=function(e){if(e>=0&&e<this.actionsList.children.length){return this.actionsList.children.item(e).clientHeight}return 0};e.prototype.pull=function(e){if(e>=0&&e<this.items.length){this.items.splice(e,1);this.actionsList.removeChild(this.actionsList.childNodes[e])}};e.prototype.clear=function(){this.items=n.dispose(this.items);s.$(this.actionsList).empty()};e.prototype.length=function(){return this.items.length};e.prototype.isEmpty=function(){return this.items.length===0};e.prototype.focus=function(e){if(e&&typeof this.focusedItem==="undefined"){this.focusedItem=0}this.updateFocus()};e.prototype.focusNext=function(){if(typeof this.focusedItem==="undefined"){this.focusedItem=this.items.length-1}var e=this.focusedItem;var t;do{this.focusedItem=(this.focusedItem+1)%this.items.length;t=this.items[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());if(this.focusedItem===e&&!t.isEnabled()){this.focusedItem=undefined}this.updateFocus()};e.prototype.focusPrevious=function(){if(typeof this.focusedItem==="undefined"){this.focusedItem=0}var e=this.focusedItem;var t;do{this.focusedItem=this.focusedItem-1;if(this.focusedItem<0){this.focusedItem=this.items.length-1}t=this.items[this.focusedItem]}while(this.focusedItem!==e&&!t.isEnabled());if(this.focusedItem===e&&!t.isEnabled()){this.focusedItem=undefined}this.updateFocus(true)};e.prototype.updateFocus=function(e){if(typeof this.focusedItem==="undefined"){this.domNode.focus();return}for(var t=0;t<this.items.length;t++){var i=this.items[t];var n=i;if(t===this.focusedItem){if(c.isFunction(n.focus)){n.focus(e)}}else{if(c.isFunction(n.blur)){n.blur()}}}};e.prototype.doTrigger=function(e){if(typeof this.focusedItem==="undefined"){return}var t=this.items[this.focusedItem];if(t instanceof o){var i=t._context===null||t._context===undefined?e:t._context;this.run(t._action,i).done()}};e.prototype.cancel=function(){if(document.activeElement instanceof HTMLElement){document.activeElement.blur()}this._onDidCancel.fire()};e.prototype.run=function(e,t){return this._actionRunner.run(e,t)};e.prototype.dispose=function(){if(this.items!==null){n.dispose(this.items)}this.items=null;if(this.focusTracker){this.focusTracker.dispose();this.focusTracker=null}this.toDispose=n.dispose(this.toDispose);this.getContainer().destroy()};return e}();t.ActionBar=m;var _=function(s){pe(e,s);function e(e,t,i,n,r){var o=s.call(this,e,t)||this;o.selectBox=new a.SelectBox(i,n,r);o.toDispose=[];o.toDispose.push(o.selectBox);o.registerListeners();return o}e.prototype.setOptions=function(e,t){this.selectBox.setOptions(e,t)};e.prototype.select=function(e){this.selectBox.select(e)};e.prototype.registerListeners=function(){var t=this;this.toDispose.push(this.selectBox.onDidSelect(function(e){t.actionRunner.run(t._action,t.getActionContext(e.selected)).done()}))};e.prototype.getActionContext=function(e){return e};e.prototype.focus=function(){if(this.selectBox){this.selectBox.focus()}};e.prototype.blur=function(){if(this.selectBox){this.selectBox.blur()}};e.prototype.render=function(e){this.selectBox.render(e)};e.prototype.dispose=function(){this.toDispose=n.dispose(this.toDispose);s.prototype.dispose.call(this)};return e}(o);t.SelectActionItem=_});define(r[113],e([0,1,295,31,10,136,52,73,172,4,47,26,27,214]),function(e,t,r,a,u,l,o,c,i,d,n,s,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=u.$;var p;(function(e){e[e["INFO"]=1]="INFO";e[e["WARNING"]=2]="WARNING";e[e["ERROR"]=3]="ERROR"})(p=t.MessageType||(t.MessageType={}));var g={inputBackground:s.Color.fromHex("#3C3C3C"),inputForeground:s.Color.fromHex("#CCCCCC"),inputValidationInfoBorder:s.Color.fromHex("#55AAFF"),inputValidationInfoBackground:s.Color.fromHex("#063B49"),inputValidationWarningBorder:s.Color.fromHex("#B89500"),inputValidationWarningBackground:s.Color.fromHex("#352A05"),inputValidationErrorBorder:s.Color.fromHex("#BE1100"),inputValidationErrorBackground:s.Color.fromHex("#5A1D1D")};var v=function(s){pe(e,s);function e(e,t,i){var n=s.call(this)||this;n.state="idle";n._onDidChange=n._register(new d.Emitter);n.onDidChange=n._onDidChange.event;n._onDidHeightChange=n._register(new d.Emitter);n.onDidHeightChange=n._onDidHeightChange.event;n.contextViewProvider=t;n.options=i||Object.create(null);h.mixin(n.options,g,false);n.message=null;n.cachedHeight=null;n.placeholder=n.options.placeholder||"";n.ariaLabel=n.options.ariaLabel||"";n.inputBackground=n.options.inputBackground;n.inputForeground=n.options.inputForeground;n.inputBorder=n.options.inputBorder;n.inputValidationInfoBorder=n.options.inputValidationInfoBorder;n.inputValidationInfoBackground=n.options.inputValidationInfoBackground;n.inputValidationWarningBorder=n.options.inputValidationWarningBorder;n.inputValidationWarningBackground=n.options.inputValidationWarningBackground;n.inputValidationErrorBorder=n.options.inputValidationErrorBorder;n.inputValidationErrorBackground=n.options.inputValidationErrorBackground;if(n.options.validationOptions){n.validation=n.options.validationOptions.validation}n.element=u.append(e,f(".monaco-inputbox.idle"));var r=n.options.flexibleHeight?"textarea":"input";var o=u.append(n.element,f(".wrapper"));n.input=u.append(o,f(r+".input"));n.input.setAttribute("autocorrect","off");n.input.setAttribute("autocapitalize","off");n.input.setAttribute("spellcheck","false");n.onfocus(n.input,function(){return u.addClass(n.element,"synthetic-focus")});n.onblur(n.input,function(){return u.removeClass(n.element,"synthetic-focus")});if(n.options.flexibleHeight){n.mirror=u.append(o,f("div.mirror"))}else{n.input.type=n.options.type||"text";n.input.setAttribute("wrap","off")}if(n.ariaLabel){n.input.setAttribute("aria-label",n.ariaLabel)}if(n.placeholder){n.setPlaceHolder(n.placeholder)}n.oninput(n.input,function(){return n.onValueChange()});n.onblur(n.input,function(){return n.onBlur()});n.onfocus(n.input,function(){return n.onFocus()});if(n.placeholder&&a.isIE){n.onclick(n.input,function(e){u.EventHelper.stop(e,true);n.input.focus()})}setTimeout(function(){if(!n.input){return}n.updateMirror()},0);if(n.options.actions){n.actionbar=n._register(new c.ActionBar(n.element));n.actionbar.push(n.options.actions,{icon:true,label:false})}n.applyStyles();return n}e.prototype.onBlur=function(){this._hideMessage()};e.prototype.onFocus=function(){this._showMessage()};e.prototype.setPlaceHolder=function(e){if(this.input){this.input.setAttribute("placeholder",e);this.input.title=e}};e.prototype.setAriaLabel=function(e){this.ariaLabel=e;if(this.input){if(e){this.input.setAttribute("aria-label",this.ariaLabel)}else{this.input.removeAttribute("aria-label")}}};Object.defineProperty(e.prototype,"inputElement",{get:function(){return this.input},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"value",{get:function(){return this.input.value},set:function(e){if(this.input.value!==e){this.input.value=e;this.onValueChange()}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"height",{get:function(){return this.cachedHeight===null?u.getTotalHeight(this.element):this.cachedHeight},enumerable:true,configurable:true});e.prototype.focus=function(){this.input.focus()};e.prototype.blur=function(){this.input.blur()};e.prototype.hasFocus=function(){return document.activeElement===this.input};e.prototype.select=function(e){if(e===void 0){e=null}this.input.select();if(e){this.input.setSelectionRange(e.start,e.end)}};e.prototype.enable=function(){this.input.removeAttribute("disabled")};e.prototype.disable=function(){this.input.disabled=true;this._hideMessage()};e.prototype.setEnabled=function(e){if(e){this.enable()}else{this.disable()}};Object.defineProperty(e.prototype,"width",{get:function(){return u.getTotalWidth(this.input)},set:function(e){this.input.style.width=e+"px"},enumerable:true,configurable:true});e.prototype.showMessage=function(e,t){this.message=e;u.removeClass(this.element,"idle");u.removeClass(this.element,"info");u.removeClass(this.element,"warning");u.removeClass(this.element,"error");u.addClass(this.element,this.classForType(e.type));var i=this.stylesForType(this.message.type);this.element.style.border=i.border?"1px solid "+i.border:null;var n;if(e.type===p.ERROR){n=r.localize(0,null,e.content)}else if(e.type===p.WARNING){n=r.localize(1,null,e.content)}else{n=r.localize(2,null,e.content)}o.alert(n);if(this.hasFocus()||t){this._showMessage()}};e.prototype.hideMessage=function(){this.message=null;u.removeClass(this.element,"info");u.removeClass(this.element,"warning");u.removeClass(this.element,"error");u.addClass(this.element,"idle");this._hideMessage();this.applyStyles()};e.prototype.isInputValid=function(){return!!this.validation&&!this.validation(this.value)};e.prototype.validate=function(){var e=null;if(this.validation){e=this.validation(this.value);if(!e){this.inputElement.removeAttribute("aria-invalid");this.hideMessage()}else{this.inputElement.setAttribute("aria-invalid","true");this.showMessage(e)}}return!e};e.prototype.stylesForType=function(e){switch(e){case p.INFO:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground};case p.WARNING:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground}}};e.prototype.classForType=function(e){switch(e){case p.INFO:return"info";case p.WARNING:return"warning";default:return"error"}};e.prototype._showMessage=function(){var r=this;if(!this.contextViewProvider||!this.message){return}var o;var s=function(){return o.style.width=u.getTotalWidth(r.element)+"px"};this.state="open";this.contextViewProvider.showContextView({getAnchor:function(){return r.element},anchorAlignment:i.AnchorAlignment.RIGHT,render:function(e){o=u.append(e,f(".monaco-inputbox-container"));s();var t={inline:true,className:"monaco-inputbox-message"};var i=r.message.formatContent?l.renderFormattedText(r.message.content,t):l.renderText(r.message.content,t);u.addClass(i,r.classForType(r.message.type));var n=r.stylesForType(r.message.type);i.style.backgroundColor=n.background?n.background.toString():null;i.style.border=n.border?"1px solid "+n.border:null;u.append(o,i);return null},layout:s})};e.prototype._hideMessage=function(){if(!this.contextViewProvider||this.state!=="open"){return}this.state="idle";this.contextViewProvider.hideContextView()};e.prototype.onValueChange=function(){this._onDidChange.fire(this.value);this.validate();this.updateMirror();if(this.state==="open"){this.contextViewProvider.layout()}};e.prototype.updateMirror=function(){if(!this.mirror){return}var e=this.value||this.placeholder;var t=e.charCodeAt(e.length-1);var i=t===10?" ":"";this.mirror.textContent=e+i;this.layout()};e.prototype.style=function(e){this.inputBackground=e.inputBackground;this.inputForeground=e.inputForeground;this.inputBorder=e.inputBorder;this.inputValidationInfoBackground=e.inputValidationInfoBackground;this.inputValidationInfoBorder=e.inputValidationInfoBorder;this.inputValidationWarningBackground=e.inputValidationWarningBackground;this.inputValidationWarningBorder=e.inputValidationWarningBorder;this.inputValidationErrorBackground=e.inputValidationErrorBackground;this.inputValidationErrorBorder=e.inputValidationErrorBorder;this.applyStyles()};e.prototype.applyStyles=function(){if(this.element){var e=this.inputBackground?this.inputBackground.toString():null;var t=this.inputForeground?this.inputForeground.toString():null;var i=this.inputBorder?this.inputBorder.toString():null;this.element.style.backgroundColor=e;this.element.style.color=t;this.input.style.backgroundColor=e;this.input.style.color=t;this.element.style.borderWidth=i?"1px":null;this.element.style.borderStyle=i?"solid":null;this.element.style.borderColor=i}};e.prototype.layout=function(){if(!this.mirror){return}var e=this.cachedHeight;this.cachedHeight=u.getTotalHeight(this.mirror);if(e!==this.cachedHeight){this.input.style.height=this.cachedHeight+"px";this._onDidHeightChange.fire(this.cachedHeight)}};e.prototype.dispose=function(){this._hideMessage();this.element=null;this.input=null;this.contextViewProvider=null;this.message=null;this.placeholder=null;this.ariaLabel=null;this.validation=null;this.state=null;this.actionbar=null;s.prototype.dispose.call(this)};return e}(n.Widget);t.InputBox=v});define(r[301],e([0,1,292,10,113,47,4,170,526]),function(e,t,i,s,a,n,o,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=i.localize(0,null);var r=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n._onDidOptionChange=n._register(new o.Emitter);n.onDidOptionChange=n._onDidOptionChange.event;n._onKeyDown=n._register(new o.Emitter);n.onKeyDown=n._onKeyDown.event;n._onMouseDown=n._register(new o.Emitter);n.onMouseDown=n._onMouseDown.event;n._onInput=n._register(new o.Emitter);n.onInput=n._onInput.event;n._onKeyUp=n._register(new o.Emitter);n.onKeyUp=n._onKeyUp.event;n._onCaseSensitiveKeyDown=n._register(new o.Emitter);n.onCaseSensitiveKeyDown=n._onCaseSensitiveKeyDown.event;n._lastHighlightFindOptions=0;n.contextViewProvider=t;n.width=i.width||100;n.placeholder=i.placeholder||"";n.validation=i.validation;n.label=i.label||l;n.inputActiveOptionBorder=i.inputActiveOptionBorder;n.inputBackground=i.inputBackground;n.inputForeground=i.inputForeground;n.inputBorder=i.inputBorder;n.inputValidationInfoBorder=i.inputValidationInfoBorder;n.inputValidationInfoBackground=i.inputValidationInfoBackground;n.inputValidationWarningBorder=i.inputValidationWarningBorder;n.inputValidationWarningBackground=i.inputValidationWarningBackground;n.inputValidationErrorBorder=i.inputValidationErrorBorder;n.inputValidationErrorBackground=i.inputValidationErrorBackground;n.regex=null;n.wholeWords=null;n.caseSensitive=null;n.domNode=null;n.inputBox=null;n.buildDomNode(i.appendCaseSensitiveLabel||"",i.appendWholeWordsLabel||"",i.appendRegexLabel||"");if(Boolean(e)){e.appendChild(n.domNode)}n.onkeydown(n.inputBox.inputElement,function(e){return n._onKeyDown.fire(e)});n.onkeyup(n.inputBox.inputElement,function(e){return n._onKeyUp.fire(e)});n.oninput(n.inputBox.inputElement,function(e){return n._onInput.fire()});n.onmousedown(n.inputBox.inputElement,function(e){return n._onMouseDown.fire(e)});return n}e.prototype.enable=function(){s.removeClass(this.domNode,"disabled");this.inputBox.enable();this.regex.enable();this.wholeWords.enable();this.caseSensitive.enable()};e.prototype.disable=function(){s.addClass(this.domNode,"disabled");this.inputBox.disable();this.regex.disable();this.wholeWords.disable();this.caseSensitive.disable()};e.prototype.setEnabled=function(e){if(e){this.enable()}else{this.disable()}};e.prototype.clear=function(){this.clearValidation();this.setValue("");this.focus()};e.prototype.setWidth=function(e){this.width=e;this.domNode.style.width=this.width+"px";this.contextViewProvider.layout();this.setInputWidth()};e.prototype.getValue=function(){return this.inputBox.value};e.prototype.setValue=function(e){if(this.inputBox.value!==e){this.inputBox.value=e}};e.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder;this.inputBackground=e.inputBackground;this.inputForeground=e.inputForeground;this.inputBorder=e.inputBorder;this.inputValidationInfoBackground=e.inputValidationInfoBackground;this.inputValidationInfoBorder=e.inputValidationInfoBorder;this.inputValidationWarningBackground=e.inputValidationWarningBackground;this.inputValidationWarningBorder=e.inputValidationWarningBorder;this.inputValidationErrorBackground=e.inputValidationErrorBackground;this.inputValidationErrorBorder=e.inputValidationErrorBorder;this.applyStyles()};e.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder};this.regex.style(e);this.wholeWords.style(e);this.caseSensitive.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}};e.prototype.select=function(){this.inputBox.select()};e.prototype.focus=function(){this.inputBox.focus()};e.prototype.getCaseSensitive=function(){return this.caseSensitive.checked};e.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e;this.setInputWidth()};e.prototype.getWholeWords=function(){return this.wholeWords.checked};e.prototype.setWholeWords=function(e){this.wholeWords.checked=e;this.setInputWidth()};e.prototype.getRegex=function(){return this.regex.checked};e.prototype.setRegex=function(e){this.regex.checked=e;this.setInputWidth();this.validate()};e.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()};e.prototype.highlightFindOptions=function(){s.removeClass(this.domNode,"highlight-"+this._lastHighlightFindOptions);this._lastHighlightFindOptions=1-this._lastHighlightFindOptions;s.addClass(this.domNode,"highlight-"+this._lastHighlightFindOptions)};e.prototype.setInputWidth=function(){var e=this.width-this.caseSensitive.width()-this.wholeWords.width()-this.regex.width();this.inputBox.width=e};e.prototype.buildDomNode=function(e,t,i){var n=this;this.domNode=document.createElement("div");this.domNode.style.width=this.width+"px";s.addClass(this.domNode,"monaco-findInput");this.inputBox=this._register(new a.InputBox(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation||null},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorBorder:this.inputValidationErrorBorder}));this.regex=this._register(new u.RegexCheckbox({appendTitle:i,isChecked:false,onChange:function(e){n._onDidOptionChange.fire(e);if(!e){n.inputBox.focus()}n.setInputWidth();n.validate()},inputActiveOptionBorder:this.inputActiveOptionBorder}));this.wholeWords=this._register(new u.WholeWordsCheckbox({appendTitle:t,isChecked:false,onChange:function(e){n._onDidOptionChange.fire(e);if(!e){n.inputBox.focus()}n.setInputWidth();n.validate()},inputActiveOptionBorder:this.inputActiveOptionBorder}));this.caseSensitive=this._register(new u.CaseSensitiveCheckbox({appendTitle:e,isChecked:false,onChange:function(e){n._onDidOptionChange.fire(e);if(!e){n.inputBox.focus()}n.setInputWidth();n.validate()},onKeyDown:function(e){n._onCaseSensitiveKeyDown.fire(e)},inputActiveOptionBorder:this.inputActiveOptionBorder}));var r=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=r.indexOf(document.activeElement);if(t>=0){var i=void 0;if(e.equals(17)){i=(t+1)%r.length}else if(e.equals(15)){if(t===0){i=r.length-1}else{i=t-1}}if(e.equals(9)){r[t].blur()}else if(i>=0){r[i].focus()}s.EventHelper.stop(e,true)}}});this.setInputWidth();var o=document.createElement("div");o.className="controls";o.appendChild(this.caseSensitive.domNode);o.appendChild(this.wholeWords.domNode);o.appendChild(this.regex.domNode);this.domNode.appendChild(o)};e.prototype.validate=function(){this.inputBox.validate()};e.prototype.showMessage=function(e){this.inputBox.showMessage(e)};e.prototype.clearMessage=function(){this.inputBox.hideMessage()};e.prototype.clearValidation=function(){this.inputBox.hideMessage()};e.prototype.dispose=function(){r.prototype.dispose.call(this)};e.OPTION_CHANGE="optionChange";return e}(n.Widget);t.FindInput=r});define(r[302],e([0,1,48,73,219]),function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){if(i===void 0){i={}}r.$(e).addClass("monaco-menu-container");var n=r.$(".monaco-menu").appendTo(e);this.actionBar=new o.ActionBar(n,{orientation:o.ActionsOrientation.VERTICAL,actionItemProvider:i.actionItemProvider,context:i.context,actionRunner:i.actionRunner,isMenu:true});this.actionBar.push(t,{icon:true,label:true})}Object.defineProperty(e.prototype,"onDidCancel",{get:function(){return this.actionBar.onDidCancel},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this.actionBar.onDidBlur},enumerable:true,configurable:true});e.prototype.focus=function(){this.actionBar.focus(true)};e.prototype.dispose=function(){if(this.actionBar){this.actionBar.dispose();this.actionBar=null}if(this.listener){this.listener.dispose();this.listener=null}};return e}();t.Menu=i});define(r[303],e([8,9]),function(e,t){return e.create("vs/base/common/keybindingLabels",t)});define(r[174],e([0,1,303]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t,i){if(i===void 0){i=t}this.modifierLabels=[null];this.modifierLabels[2]=e;this.modifierLabels[1]=t;this.modifierLabels[3]=i}e.prototype.toLabel=function(e,t,i,n,r){if(t===null&&n===null){return null}return o(e,t,i,n,this.modifierLabels[r])};return e}();t.ModifierLabelProvider=n;t.UILabelProvider=new n({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:i.localize(0,null),shiftKey:i.localize(1,null),altKey:i.localize(2,null),metaKey:i.localize(3,null),separator:"+"});t.AriaLabelProvider=new n({ctrlKey:i.localize(4,null),shiftKey:i.localize(5,null),altKey:i.localize(6,null),metaKey:i.localize(7,null),separator:"+"},{ctrlKey:i.localize(8,null),shiftKey:i.localize(9,null),altKey:i.localize(10,null),metaKey:i.localize(11,null),separator:"+"});t.ElectronAcceleratorLabelProvider=new n({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});t.UserSettingsLabelProvider=new n({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function s(e,t,i){if(t===null){return""}var n=[];if(e.ctrlKey){n.push(i.ctrlKey)}if(e.shiftKey){n.push(i.shiftKey)}if(e.altKey){n.push(i.altKey)}if(e.metaKey){n.push(i.metaKey)}n.push(t);return n.join(i.separator)}function o(e,t,i,n,r){var o=s(e,t,r);if(n!==null){o+=" ";o+=s(i,n,r)}return o}});define(r[305],e([0,1,27,174,10,216]),function(e,t,n,o,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=r.$;var i=function(){function i(e,t){this.os=t;this.domNode=r.append(e,s(".monaco-keybinding"));this.didEverRender=false;e.appendChild(this.domNode)}Object.defineProperty(i.prototype,"element",{get:function(){return this.domNode},enumerable:true,configurable:true});i.prototype.set=function(e,t){if(this.didEverRender&&this.keybinding===e&&i.areSame(this.matches,t)){return}this.keybinding=e;this.matches=t;this.render()};i.prototype.render=function(){r.clearNode(this.domNode);if(this.keybinding){var e=this.keybinding.getParts(),t=e[0],i=e[1];if(t){this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null)}if(i){r.append(this.domNode,s("span.monaco-keybinding-key-chord-separator",null," "));this.renderPart(this.domNode,i,this.matches?this.matches.chordPart:null)}this.domNode.title=this.keybinding.getAriaLabel()}this.didEverRender=true};i.prototype.renderPart=function(e,t,i){var n=o.UILabelProvider.modifierLabels[this.os];if(t.ctrlKey){this.renderKey(e,n.ctrlKey,i&&i.ctrlKey,n.separator)}if(t.shiftKey){this.renderKey(e,n.shiftKey,i&&i.shiftKey,n.separator)}if(t.altKey){this.renderKey(e,n.altKey,i&&i.altKey,n.separator)}if(t.metaKey){this.renderKey(e,n.metaKey,i&&i.metaKey,n.separator)}var r=t.keyLabel;if(r){this.renderKey(e,r,i&&i.keyCode,"")}};i.prototype.renderKey=function(e,t,i,n){r.append(e,s("span.monaco-keybinding-key"+(i?".highlight":""),null,t));if(n){r.append(e,s("span.monaco-keybinding-key-separator",null,n))}};i.prototype.dispose=function(){this.keybinding=null};i.areSame=function(e,t){if(e===t||!e&&!t){return true}return!!e&&!!t&&n.equals(e.firstPart,t.firstPart)&&n.equals(e.chordPart,t.chordPart)};return i}();t.KeybindingLabel=i});define(r[306],e([8,9]),function(e,t){return e.create("vs/base/common/severity",t)});define(r[66],e([0,1,306,5]),function(e,t,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["Ignore"]=0]="Ignore";e[e["Info"]=1]="Info";e[e["Warning"]=2]="Warning";e[e["Error"]=3]="Error"})(i||(i={}));(function(t){var i="error";var n="warning";var r="warn";var o="info";var s=Object.create(null);s[t.Error]=l.localize(0,null);s[t.Warning]=l.localize(1,null);s[t.Info]=l.localize(2,null);function e(e){if(!e){return t.Ignore}if(c.equalsIgnoreCase(i,e)){return t.Error}if(c.equalsIgnoreCase(n,e)||c.equalsIgnoreCase(r,e)){return t.Warning}if(c.equalsIgnoreCase(o,e)){return t.Info}return t.Ignore}t.fromValue=e;function a(e){return s[e]||c.empty}t.toString=a;function u(e,t){return t-e}t.compare=u})(i||(i={}));t.default=i});define(r[308],e([8,9]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenModel",t)});define(r[115],e([0,1,308,7,29,173,418,73,126,10,305,15]),function(e,t,i,n,r,v,l,m,_,y,C,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=0;var s=function(){function e(){}e.prototype.getItemLabel=function(e){return e.getLabel()};e.prototype.getItemDescription=function(e){return e.getDescription()};e.prototype.getItemPath=function(e){var t=e.getResource();return t?t.fsPath:void 0};return e}();t.QuickOpenItemAccessorClass=s;t.QuickOpenItemAccessor=new s;var f=function(){function e(e){if(e===void 0){e=[]}this.id=(o++).toString();this.labelHighlights=e;this.descriptionHighlights=[]}e.prototype.getId=function(){return this.id};e.prototype.getLabel=function(){return null};e.prototype.getLabelOptions=function(){return null};e.prototype.getAriaLabel=function(){return this.getLabel()};e.prototype.getDetail=function(){return null};e.prototype.getIcon=function(){return null};e.prototype.getDescription=function(){return null};e.prototype.getTooltip=function(){return null};e.prototype.getDescriptionTooltip=function(){return null};e.prototype.getKeybinding=function(){return null};e.prototype.getResource=function(){return null};e.prototype.isHidden=function(){return this.hidden};e.prototype.setHidden=function(e){this.hidden=e};e.prototype.setHighlights=function(e,t,i){this.labelHighlights=e;this.descriptionHighlights=t;this.detailHighlights=i};e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]};e.prototype.run=function(e,t){return false};e.prototype.mergeWithEditorHistory=function(){return false};return e}();t.QuickOpenEntry=f;var p=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n.entry=e;n.groupLabel=t;n.withBorder=i;return n}e.prototype.getGroupLabel=function(){return this.groupLabel};e.prototype.setGroupLabel=function(e){this.groupLabel=e};e.prototype.showBorder=function(){return this.withBorder};e.prototype.setShowBorder=function(e){this.withBorder=e};e.prototype.getLabel=function(){return this.entry?this.entry.getLabel():r.prototype.getLabel.call(this)};e.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():r.prototype.getLabelOptions.call(this)};e.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():r.prototype.getAriaLabel.call(this)};e.prototype.getDetail=function(){return this.entry?this.entry.getDetail():r.prototype.getDetail.call(this)};e.prototype.getResource=function(){return this.entry?this.entry.getResource():r.prototype.getResource.call(this)};e.prototype.getIcon=function(){return this.entry?this.entry.getIcon():r.prototype.getIcon.call(this)};e.prototype.getDescription=function(){return this.entry?this.entry.getDescription():r.prototype.getDescription.call(this)};e.prototype.getEntry=function(){return this.entry};e.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():r.prototype.getHighlights.call(this)};e.prototype.isHidden=function(){return this.entry?this.entry.isHidden():r.prototype.isHidden.call(this)};e.prototype.setHighlights=function(e,t,i){this.entry?this.entry.setHighlights(e,t,i):r.prototype.setHighlights.call(this,e,t,i)};e.prototype.setHidden=function(e){this.entry?this.entry.setHidden(e):r.prototype.setHidden.call(this,e)};e.prototype.run=function(e,t){return this.entry?this.entry.run(e,t):r.prototype.run.call(this,e,t)};return e}(f);t.QuickOpenEntryGroup=p;var a=function(){function e(){}e.prototype.hasActions=function(e,t){return false};e.prototype.getActions=function(e,t){return n.TPromise.as(null)};e.prototype.hasSecondaryActions=function(e,t){return false};e.prototype.getSecondaryActions=function(e,t){return n.TPromise.as(null)};e.prototype.getActionItem=function(e,t,i){return null};return e}();var u="quickOpenEntry";var S="quickOpenEntryGroup";var c=function(){function e(e,t){if(e===void 0){e=new a}if(t===void 0){t=null}this.actionProvider=e;this.actionRunner=t}e.prototype.getHeight=function(e){if(e.getDetail()){return 44}return 22};e.prototype.getTemplateId=function(e){if(e instanceof p){return S}return u};e.prototype.renderTemplate=function(e,t,i){var n=document.createElement("div");y.addClass(n,"sub-content");t.appendChild(n);var r=y.$(".quick-open-row");var o=y.$(".quick-open-row");var s=y.$(".quick-open-entry",null,r,o);n.appendChild(s);var a=document.createElement("span");r.appendChild(a);var u=new v.IconLabel(r,{supportHighlights:true,supportDescriptionHighlights:true});var l=document.createElement("span");r.appendChild(l);y.addClass(l,"quick-open-entry-keybinding");var c=new C.KeybindingLabel(l,b.OS);var d=document.createElement("div");o.appendChild(d);y.addClass(d,"quick-open-entry-meta");var h=new _.HighlightedLabel(d);var f;if(e===S){f=document.createElement("div");y.addClass(f,"results-group");t.appendChild(f)}y.addClass(t,"actions");var p=document.createElement("div");y.addClass(p,"primary-action-bar");t.appendChild(p);var g=new m.ActionBar(p,{actionRunner:this.actionRunner});return{container:t,entry:s,icon:a,label:u,detail:h,keybinding:c,group:f,actionBar:g}};e.prototype.renderElement=function(e,t,i,n){if(this.actionProvider.hasActions(null,e)){y.addClass(i.container,"has-actions")}else{y.removeClass(i.container,"has-actions")}i.actionBar.context=e;this.actionProvider.getActions(null,e).then(function(e){if(i.actionBar.isEmpty()&&e&&e.length>0){i.actionBar.push(e,{icon:true,label:false})}else if(!i.actionBar.isEmpty()&&(!e||e.length===0)){i.actionBar.clear()}});if(e instanceof p&&e.getGroupLabel()){y.addClass(i.container,"has-group-label")}else{y.removeClass(i.container,"has-group-label")}if(e instanceof p){var r=e;var o=i;if(r.showBorder()){y.addClass(o.container,"results-group-separator");o.container.style.borderTopColor=n.pickerGroupBorder.toString()}else{y.removeClass(o.container,"results-group-separator");o.container.style.borderTopColor=null}var s=r.getGroupLabel()||"";o.group.textContent=s;o.group.style.color=n.pickerGroupForeground.toString()}if(e instanceof f){var a=e.getHighlights(),u=a[0],l=a[1],c=a[2];var d=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";i.icon.className=d;var h=e.getLabelOptions()||Object.create(null);h.matches=u||[];h.title=e.getTooltip();h.descriptionTitle=e.getDescriptionTooltip()||e.getDescription();h.descriptionMatches=l||[];i.label.setValue(e.getLabel(),e.getDescription(),h);i.detail.set(e.getDetail(),c);i.keybinding.set(e.getKeybinding(),null)}};e.prototype.disposeTemplate=function(e,t){var i=t;i.actionBar.dispose();i.actionBar=null;i.container=null;i.entry=null;i.keybinding.dispose();i.keybinding=null;i.detail.dispose();i.detail=null;i.group=null;i.icon=null;i.label.dispose();i.label=null};return e}();var d=function(){function e(e,t){if(e===void 0){e=[]}if(t===void 0){t=new a}this._entries=e;this._dataSource=this;this._renderer=new c(t);this._filter=this;this._runner=this;this._accessibilityProvider=this}Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"runner",{get:function(){return this._runner},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:true,configurable:true});e.prototype.addEntries=function(e){if(r.isArray(e)){this._entries=this._entries.concat(e)}};e.prototype.setEntries=function(e){if(r.isArray(e)){this._entries=e}};e.prototype.getEntries=function(e){if(e){return this._entries.filter(function(e){return!e.isHidden()})}return this._entries};e.prototype.getId=function(e){return e.getId()};e.prototype.getLabel=function(e){return e.getLabel()};e.prototype.getAriaLabel=function(e){var t=e.getAriaLabel();if(t){return i.localize(0,null,e.getAriaLabel())}return i.localize(1,null)};e.prototype.isVisible=function(e){return!e.isHidden()};e.prototype.run=function(e,t,i){return e.run(t,i)};return e}();t.QuickOpenModel=d;function h(e,t,i){var n=e.getHighlights()[0]||[];var r=t.getHighlights()[0]||[];if(n.length&&!r.length){return-1}if(!n.length&&r.length){return 1}var o=e.getLabel();var s=t.getLabel();if(o===s){var a=e.getResource();var u=t.getResource();if(a&&u){o=a.fsPath;s=u.fsPath}}return l.compareAnything(o,s,i)}t.compareEntries=h});define(r[310],e([8,9]),function(e,t){return e.create("vs/base/parts/quickopen/browser/quickOpenWidget",t)});define(r[311],e([8,9]),function(e,t){return e.create("vs/base/parts/tree/browser/treeDefaults",t)});define(r[91],e([0,1,311,7,68,15,13,10,37]),function(e,t,r,i,n,o,u,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l;(function(e){e[e["ON_MOUSE_DOWN"]=0]="ON_MOUSE_DOWN";e[e["ON_MOUSE_UP"]=1]="ON_MOUSE_UP"})(l=t.ClickBehavior||(t.ClickBehavior={}));var c;(function(e){e[e["SINGLE_CLICK"]=0]="SINGLE_CLICK";e[e["DOUBLE_CLICK"]=1]="DOUBLE_CLICK"})(c=t.OpenMode||(t.OpenMode={}));var d=function(){function e(){this._arr=[]}e.prototype.set=function(e,t){this._arr.push({keybinding:a.createKeybinding(e,o.OS),callback:t})};e.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var i=this._arr[t];if(e.equals(i.keybinding)){return i.callback}}return null};return e}();t.KeybindingDispatcher=d;var h=function(){function e(e){if(e===void 0){e={clickBehavior:l.ON_MOUSE_DOWN,keyboardSupport:true,openMode:c.SINGLE_CLICK}}var i=this;this.options=e;this.downKeyBindingDispatcher=new d;this.upKeyBindingDispatcher=new d;if(typeof e.keyboardSupport!=="boolean"||e.keyboardSupport){this.downKeyBindingDispatcher.set(16,function(e,t){return i.onUp(e,t)});this.downKeyBindingDispatcher.set(18,function(e,t){return i.onDown(e,t)});this.downKeyBindingDispatcher.set(15,function(e,t){return i.onLeft(e,t)});this.downKeyBindingDispatcher.set(17,function(e,t){return i.onRight(e,t)});if(o.isMacintosh){this.downKeyBindingDispatcher.set(2048|16,function(e,t){return i.onLeft(e,t)});this.downKeyBindingDispatcher.set(256|44,function(e,t){return i.onDown(e,t)});this.downKeyBindingDispatcher.set(256|46,function(e,t){return i.onUp(e,t)})}this.downKeyBindingDispatcher.set(11,function(e,t){return i.onPageUp(e,t)});this.downKeyBindingDispatcher.set(12,function(e,t){return i.onPageDown(e,t)});this.downKeyBindingDispatcher.set(14,function(e,t){return i.onHome(e,t)});this.downKeyBindingDispatcher.set(13,function(e,t){return i.onEnd(e,t)});this.downKeyBindingDispatcher.set(10,function(e,t){return i.onSpace(e,t)});this.downKeyBindingDispatcher.set(9,function(e,t){return i.onEscape(e,t)});this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this));this.upKeyBindingDispatcher.set(2048|3,this.onEnter.bind(this))}}e.prototype.onMouseDown=function(e,t,i,n){if(n===void 0){n="mouse"}if(this.options.clickBehavior===l.ON_MOUSE_DOWN&&(i.leftButton||i.middleButton)){if(i.target){if(i.target.tagName&&i.target.tagName.toLowerCase()==="input"){return false}if(s.findParentWithClass(i.target,"monaco-action-bar","row")){return false}}return this.onLeftClick(e,t,i,n)}return false};e.prototype.onClick=function(e,t,i){var n=o.isMacintosh;if(n&&i.ctrlKey){i.preventDefault();i.stopPropagation();return false}if(i.target&&i.target.tagName&&i.target.tagName.toLowerCase()==="input"){return false}if(this.options.clickBehavior===l.ON_MOUSE_DOWN&&(i.leftButton||i.middleButton)){return false}return this.onLeftClick(e,t,i)};e.prototype.onLeftClick=function(e,t,i,n){if(n===void 0){n="mouse"}var r={origin:n,originalEvent:i};var o=i;var s=n==="mouse"&&o.detail===2;if(e.getInput()===t){e.clearFocus(r);e.clearSelection(r)}else{var a=i&&o.browserEvent&&o.browserEvent.type==="mousedown";if(!a){i.preventDefault()}i.stopPropagation();e.DOMFocus();e.setSelection([t],r);e.setFocus(t,r);if(this.openOnSingleClick||s||this.isClickOnTwistie(o)){if(e.isExpanded(t)){e.collapse(t).done(null,u.onUnexpectedError)}else{e.expand(t).done(null,u.onUnexpectedError)}}}return true};e.prototype.setOpenMode=function(e){this.options.openMode=e};Object.defineProperty(e.prototype,"openOnSingleClick",{get:function(){return this.options.openMode===c.SINGLE_CLICK},enumerable:true,configurable:true});e.prototype.isClickOnTwistie=function(e){var t=e.target;return t&&t.className==="content"&&s.hasClass(t.parentElement,"monaco-tree-row")};e.prototype.onContextMenu=function(e,t,i){if(i.target&&i.target.tagName&&i.target.tagName.toLowerCase()==="input"){return false}if(i){i.preventDefault();i.stopPropagation()}return false};e.prototype.onTap=function(e,t,i){var n=i.initialTarget;if(n&&n.tagName&&n.tagName.toLowerCase()==="input"){return false}return this.onLeftClick(e,t,i,"touch")};e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)};e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)};e.prototype.onKey=function(e,t,i){var n=e.dispatch(i.toKeybinding());if(n){if(n(t,i)){i.preventDefault();i.stopPropagation();return true}}return false};e.prototype.onUp=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i)}else{e.focusPrevious(1,i);e.reveal(e.getFocus()).done(null,u.onUnexpectedError)}return true};e.prototype.onPageUp=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i)}else{e.focusPreviousPage(i);e.reveal(e.getFocus()).done(null,u.onUnexpectedError)}return true};e.prototype.onDown=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i)}else{e.focusNext(1,i);e.reveal(e.getFocus()).done(null,u.onUnexpectedError)}return true};e.prototype.onPageDown=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i)}else{e.focusNextPage(i);e.reveal(e.getFocus()).done(null,u.onUnexpectedError)}return true};e.prototype.onHome=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i)}else{e.focusFirst(i);e.reveal(e.getFocus()).done(null,u.onUnexpectedError)}return true};e.prototype.onEnd=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i)}else{e.focusLast(i);e.reveal(e.getFocus()).done(null,u.onUnexpectedError)}return true};e.prototype.onLeft=function(t,e){var i={origin:"keyboard",originalEvent:e};if(t.getHighlight()){t.clearHighlight(i)}else{var n=t.getFocus();t.collapse(n).then(function(e){if(n&&!e){t.focusParent(i);return t.reveal(t.getFocus())}return undefined}).done(null,u.onUnexpectedError)}return true};e.prototype.onRight=function(t,e){var i={origin:"keyboard",originalEvent:e};if(t.getHighlight()){t.clearHighlight(i)}else{var n=t.getFocus();t.expand(n).then(function(e){if(n&&!e){t.focusFirstChild(i);return t.reveal(t.getFocus())}return undefined}).done(null,u.onUnexpectedError)}return true};e.prototype.onEnter=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){return false}var n=e.getFocus();if(n){e.setSelection([n],i)}return true};e.prototype.onSpace=function(e,t){if(e.getHighlight()){return false}var i=e.getFocus();if(i){e.toggleExpansion(i)}return true};e.prototype.onEscape=function(e,t){var i={origin:"keyboard",originalEvent:t};if(e.getHighlight()){e.clearHighlight(i);return true}if(e.getSelection().length){e.clearSelection(i);return true}if(e.getFocus()){e.clearFocus(i);return true}return false};return e}();t.DefaultController=h;var f=function(){function e(){}e.prototype.getDragURI=function(e,t){return null};e.prototype.onDragStart=function(e,t,i){return};e.prototype.onDragOver=function(e,t,i,n){return null};e.prototype.drop=function(e,t,i,n){return};return e}();t.DefaultDragAndDrop=f;var p=function(){function e(){}e.prototype.isVisible=function(e,t){return true};return e}();t.DefaultFilter=p;var g=function(){function e(){}e.prototype.compare=function(e,t,i){return 0};return e}();t.DefaultSorter=g;var v=function(){function e(){}e.prototype.getAriaLabel=function(e,t){return null};return e}();t.DefaultAccessibilityProvider=v;var m=function(n){pe(e,n);function e(e,t){var i=n.call(this,"vs.tree.collapse",r.localize(0,null),"monaco-tree-action collapse-all",t)||this;i.viewer=e;return i}e.prototype.run=function(e){if(this.viewer.getHighlight()){return i.TPromise.as(null)}this.viewer.collapseAll();this.viewer.clearSelection();this.viewer.clearFocus();this.viewer.DOMFocus();this.viewer.focusFirst();return i.TPromise.as(null)};return e}(n.Action);t.CollapseAllAction=m});define(r[179],e([0,1,91,443,240,111,4,26,27,251]),function(e,t,n,r,o,i,s,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function e(e,t,i){if(i===void 0){i={}}this.tree=e;this.configuration=t;this.options=i;if(!t.dataSource){throw new Error("You must provide a Data Source to the tree.")}this.dataSource=t.dataSource;this.renderer=t.renderer;this.controller=t.controller||new n.DefaultController({clickBehavior:n.ClickBehavior.ON_MOUSE_UP,keyboardSupport:typeof i.keyboardSupport!=="boolean"||i.keyboardSupport});this.dnd=t.dnd||new n.DefaultDragAndDrop;this.filter=t.filter||new n.DefaultFilter;this.sorter=t.sorter||null;this.accessibilityProvider=t.accessibilityProvider||new n.DefaultAccessibilityProvider}return e}();t.TreeContext=l;var c={listFocusBackground:a.Color.fromHex("#073655"),listActiveSelectionBackground:a.Color.fromHex("#0E639C"),listActiveSelectionForeground:a.Color.fromHex("#FFFFFF"),listFocusAndSelectionBackground:a.Color.fromHex("#094771"),listFocusAndSelectionForeground:a.Color.fromHex("#FFFFFF"),listInactiveSelectionBackground:a.Color.fromHex("#3F3F46"),listHoverBackground:a.Color.fromHex("#2A2D2E"),listDropBackground:a.Color.fromHex("#383B3D")};var d=function(){function e(e,t,i){if(i===void 0){i={}}this._onDidChangeFocus=new s.Relay;this.onDidChangeFocus=this._onDidChangeFocus.event;this._onDidChangeSelection=new s.Relay;this.onDidChangeSelection=this._onDidChangeSelection.event;this._onHighlightChange=new s.Relay;this.onDidChangeHighlight=this._onHighlightChange.event;this._onDidExpandItem=new s.Relay;this.onDidExpandItem=this._onDidExpandItem.event;this._onDidCollapseItem=new s.Relay;this.onDidCollapseItem=this._onDidCollapseItem.event;this._onDispose=new s.Emitter;this.onDidDispose=this._onDispose.event;this.container=e;u.mixin(i,c,false);i.twistiePixels=typeof i.twistiePixels==="number"?i.twistiePixels:32;i.showTwistie=i.showTwistie===false?false:true;i.indentPixels=typeof i.indentPixels==="number"?i.indentPixels:12;i.alwaysFocused=i.alwaysFocused===true?true:false;i.useShadows=i.useShadows===false?false:true;i.paddingOnRow=i.paddingOnRow===false?false:true;this.context=new l(this,t,i);this.model=new r.TreeModel(this.context);this.view=new o.TreeView(this.context,this.container);this.view.setModel(this.model);this._onDidChangeFocus.input=this.model.onDidFocus;this._onDidChangeSelection.input=this.model.onDidSelect;this._onHighlightChange.input=this.model.onDidHighlight;this._onDidExpandItem.input=this.model.onDidExpandItem;this._onDidCollapseItem.input=this.model.onDidCollapseItem}e.prototype.style=function(e){this.view.applyStyles(e)};Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.view&&this.view.onDOMFocus},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onDidBlur",{get:function(){return this.view&&this.view.onDOMBlur},enumerable:true,configurable:true});e.prototype.getHTMLElement=function(){return this.view.getHTMLElement()};e.prototype.layout=function(e){this.view.layout(e)};e.prototype.DOMFocus=function(){this.view.focus()};e.prototype.isDOMFocused=function(){return this.view.isFocused()};e.prototype.DOMBlur=function(){this.view.blur()};e.prototype.onVisible=function(){this.view.onVisible()};e.prototype.onHidden=function(){this.view.onHidden()};e.prototype.setInput=function(e){return this.model.setInput(e)};e.prototype.getInput=function(){return this.model.getInput()};e.prototype.refresh=function(e,t){if(e===void 0){e=null}if(t===void 0){t=true}return this.model.refresh(e,t)};e.prototype.expand=function(e){return this.model.expand(e)};e.prototype.expandAll=function(e){return this.model.expandAll(e)};e.prototype.collapse=function(e,t){if(t===void 0){t=false}return this.model.collapse(e,t)};e.prototype.collapseAll=function(e,t){if(e===void 0){e=null}if(t===void 0){t=false}return this.model.collapseAll(e,t)};e.prototype.collapseDeepestExpandedLevel=function(){return this.model.collapseDeepestExpandedLevel()};e.prototype.toggleExpansion=function(e,t){if(t===void 0){t=false}return this.model.toggleExpansion(e,t)};e.prototype.toggleExpansionAll=function(e){return this.model.toggleExpansionAll(e)};e.prototype.isExpanded=function(e){return this.model.isExpanded(e)};e.prototype.getExpandedElements=function(){return this.model.getExpandedElements()};e.prototype.reveal=function(e,t){if(t===void 0){t=null}return this.model.reveal(e,t)};e.prototype.getRelativeTop=function(e){var t=this.model.getItem(e);return this.view.getRelativeTop(t)};e.prototype.getScrollPosition=function(){return this.view.getScrollPosition()};e.prototype.setScrollPosition=function(e){this.view.setScrollPosition(e)};e.prototype.getContentHeight=function(){return this.view.getTotalHeight()};e.prototype.setHighlight=function(e,t){this.model.setHighlight(e,t)};e.prototype.getHighlight=function(){return this.model.getHighlight()};e.prototype.isHighlighted=function(e){return this.model.isFocused(e)};e.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)};e.prototype.select=function(e,t){this.model.select(e,t)};e.prototype.selectRange=function(e,t,i){this.model.selectRange(e,t,i)};e.prototype.deselectRange=function(e,t,i){this.model.deselectRange(e,t,i)};e.prototype.selectAll=function(e,t){this.model.selectAll(e,t)};e.prototype.deselect=function(e,t){this.model.deselect(e,t)};e.prototype.deselectAll=function(e,t){this.model.deselectAll(e,t)};e.prototype.setSelection=function(e,t){this.model.setSelection(e,t)};e.prototype.toggleSelection=function(e,t){this.model.toggleSelection(e,t)};e.prototype.isSelected=function(e){return this.model.isSelected(e)};e.prototype.getSelection=function(){return this.model.getSelection()};e.prototype.clearSelection=function(e){this.model.setSelection([],e)};e.prototype.selectNext=function(e,t,i){this.model.selectNext(e,t,i)};e.prototype.selectPrevious=function(e,t,i){this.model.selectPrevious(e,t,i)};e.prototype.selectParent=function(e,t){this.model.selectParent(e,t)};e.prototype.setFocus=function(e,t){this.model.setFocus(e,t)};e.prototype.isFocused=function(e){return this.model.isFocused(e)};e.prototype.getFocus=function(){return this.model.getFocus()};e.prototype.focusNext=function(e,t){this.model.focusNext(e,t)};e.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)};e.prototype.focusParent=function(e){this.model.focusParent(e)};e.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)};e.prototype.focusFirst=function(e,t){this.model.focusFirst(e,t)};e.prototype.focusNth=function(e,t){this.model.focusNth(e,t)};e.prototype.focusLast=function(e,t){this.model.focusLast(e,t)};e.prototype.focusNextPage=function(e){this.view.focusNextPage(e)};e.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)};e.prototype.clearFocus=function(e){this.model.setFocus(null,e)};e.prototype.addTraits=function(e,t){this.model.addTraits(e,t)};e.prototype.removeTraits=function(e,t){this.model.removeTraits(e,t)};e.prototype.toggleTrait=function(e,t){this.model.hasTrait(e,t)?this.model.removeTraits(e,[t]):this.model.addTraits(e,[t])};e.prototype.hasTrait=function(e,t){return this.model.hasTrait(e,t)};e.prototype.getNavigator=function(e,t){return new i.MappedNavigator(this.model.getNavigator(e,t),function(e){return e&&e.getElement()})};e.prototype.dispose=function(){this._onDispose.fire();if(this.model!==null){this.model.dispose();this.model=null}if(this.view!==null){this.view.dispose();this.view=null}this._onDidChangeFocus.dispose();this._onDidChangeSelection.dispose();this._onHighlightChange.dispose();this._onDidExpandItem.dispose();this._onDidCollapseItem.dispose();this._onDispose.dispose()};return e}();t.Tree=d});define(r[314],e([0,1,310,7,15,29,13,106,435,48,113,66,179,221,54,91,10,2,43,26,27,42,246]),function(e,t,i,n,r,o,h,a,u,l,d,s,f,p,g,v,m,_,y,c,C,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var S=function(n){pe(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}e.prototype.onContextMenu=function(e,t,i){if(r.isMacintosh){return this.onLeftClick(e,t,i)}return n.prototype.onContextMenu.call(this,e,t,i)};return e}(v.DefaultController);t.QuickOpenController=S;var w;(function(e){e[e["ELEMENT_SELECTED"]=0]="ELEMENT_SELECTED";e[e["FOCUS_LOST"]=1]="FOCUS_LOST";e[e["CANCELED"]=2]="CANCELED"})(w=t.HideReason||(t.HideReason={}));var E={background:c.Color.fromHex("#1E1E1E"),foreground:c.Color.fromHex("#CCCCCC"),pickerGroupForeground:c.Color.fromHex("#0097FB"),pickerGroupBorder:c.Color.fromHex("#3F3F46"),widgetShadow:c.Color.fromHex("#000000"),progressBarBackground:c.Color.fromHex("#0E70C0")};var L=i.localize(0,null);var x=function(){function c(e,t,i){this.isDisposed=false;this.toUnbind=[];this.container=e;this.callbacks=t;this.options=i;this.styles=i||Object.create(null);C.mixin(this.styles,E,false);this.model=null}c.prototype.getElement=function(){return l.$(this.builder)};c.prototype.getModel=function(){return this.model};c.prototype.setCallbacks=function(e){this.callbacks=e};c.prototype.create=function(){var s=this;this.builder=l.$().div(function(e){e.on(m.EventType.KEY_DOWN,function(e){var t=new g.StandardKeyboardEvent(e);if(t.keyCode===9){m.EventHelper.stop(e,true);s.hide(w.CANCELED)}}).on(m.EventType.CONTEXT_MENU,function(e){return m.EventHelper.stop(e,true)}).on(m.EventType.FOCUS,function(e){return s.gainingFocus()},null,true).on(m.EventType.BLUR,function(e){return s.loosingFocus(e)},null,true);s.progressBar=new p.ProgressBar(e.clone(),{progressBarBackground:s.styles.progressBarBackground});s.progressBar.getContainer().hide();e.div({class:"quick-open-input"},function(e){s.inputContainer=e;s.inputBox=new d.InputBox(e.getHTMLElement(),null,{placeholder:s.options.inputPlaceHolder||"",ariaLabel:L,inputBackground:s.styles.inputBackground,inputForeground:s.styles.inputForeground,inputBorder:s.styles.inputBorder,inputValidationInfoBackground:s.styles.inputValidationInfoBackground,inputValidationInfoBorder:s.styles.inputValidationInfoBorder,inputValidationWarningBackground:s.styles.inputValidationWarningBackground,inputValidationWarningBorder:s.styles.inputValidationWarningBorder,inputValidationErrorBackground:s.styles.inputValidationErrorBackground,inputValidationErrorBorder:s.styles.inputValidationErrorBorder});s.inputElement=s.inputBox.inputElement;s.inputElement.setAttribute("role","combobox");s.inputElement.setAttribute("aria-haspopup","false");s.inputElement.setAttribute("aria-autocomplete","list");m.addDisposableListener(s.inputBox.inputElement,m.EventType.KEY_DOWN,function(e){var t=new g.StandardKeyboardEvent(e);var i=s.shouldOpenInBackground(t);if(t.keyCode===2){return}else if(t.keyCode===18||t.keyCode===16||t.keyCode===12||t.keyCode===11){m.EventHelper.stop(e,true);s.navigateInTree(t.keyCode,t.shiftKey);if(s.inputBox.inputElement.selectionStart===s.inputBox.inputElement.selectionEnd){s.inputBox.inputElement.selectionStart=s.inputBox.value.length}}else if(t.keyCode===3||i){m.EventHelper.stop(e,true);var n=s.tree.getFocus();if(n){s.elementSelected(n,e,i?a.Mode.OPEN_IN_BACKGROUND:a.Mode.OPEN)}}});m.addDisposableListener(s.inputBox.inputElement,m.EventType.INPUT,function(e){s.onType()})});s.treeContainer=e.div({class:"quick-open-tree"},function(e){var t=s.options.treeCreator||function(e,t,i){return new f.Tree(e,t,i)};s.tree=t(e.getHTMLElement(),{dataSource:new u.DataSource(s),controller:new S({clickBehavior:v.ClickBehavior.ON_MOUSE_UP,keyboardSupport:s.options.keyboardSupport}),renderer:s.renderer=new u.Renderer(s,s.styles),filter:new u.Filter(s),accessibilityProvider:new u.AccessibilityProvider(s)},{twistiePixels:11,indentPixels:0,alwaysFocused:true,verticalScrollMode:y.ScrollbarVisibility.Visible,ariaLabel:i.localize(1,null),keyboardSupport:s.options.keyboardSupport,preventRootFocus:true});s.treeElement=s.tree.getHTMLElement();s.toUnbind.push(s.tree.onDidChangeFocus(function(e){s.elementFocused(e.focus,e)}));s.toUnbind.push(s.tree.onDidChangeSelection(function(e){if(e.selection&&e.selection.length>0){var t=e.payload&&e.payload.originalEvent instanceof b.StandardMouseEvent?e.payload.originalEvent:void 0;var i=t?s.shouldOpenInBackground(t):false;s.elementSelected(e.selection[0],e,i?a.Mode.OPEN_IN_BACKGROUND:a.Mode.OPEN)}}))}).on(m.EventType.KEY_DOWN,function(e){var t=new g.StandardKeyboardEvent(e);if(!s.quickNavigateConfiguration){return}if(t.keyCode===18||t.keyCode===16||t.keyCode===12||t.keyCode===11){m.EventHelper.stop(e,true);s.navigateInTree(t.keyCode)}}).on(m.EventType.KEY_UP,function(e){var r=new g.StandardKeyboardEvent(e);var o=r.keyCode;if(!s.quickNavigateConfiguration){return}var t=s.quickNavigateConfiguration.keybindings;var i=o===3||t.some(function(e){var t=e.getParts(),i=t[0],n=t[1];if(n){return false}if(i.shiftKey&&o===4){if(r.ctrlKey||r.altKey||r.metaKey){return false}return true}if(i.altKey&&o===6){return true}if(i.ctrlKey&&o===5){return true}if(i.metaKey&&o===57){return true}return false});if(i){var n=s.tree.getFocus();if(n){s.elementSelected(n,e)}}}).clone()}).addClass("quick-open-widget").build(this.container);if(this.layoutDimensions){this.layout(this.layoutDimensions)}this.applyStyles();m.addDisposableListener(this.treeContainer.getHTMLElement(),m.EventType.KEY_DOWN,function(e){var t=new g.StandardKeyboardEvent(e);if(s.quickNavigateConfiguration){return}if(t.keyCode===18||t.keyCode===16||t.keyCode===12||t.keyCode===11){m.EventHelper.stop(e,true);s.navigateInTree(t.keyCode,t.shiftKey);s.inputBox.inputElement.focus()}});return this.builder.getHTMLElement()};c.prototype.style=function(e){this.styles=e;this.applyStyles()};c.prototype.applyStyles=function(){if(this.builder){var e=this.styles.foreground?this.styles.foreground.toString():null;var t=this.styles.background?this.styles.background.toString():null;var i=this.styles.borderColor?this.styles.borderColor.toString():null;var n=this.styles.widgetShadow?this.styles.widgetShadow.toString():null;this.builder.style("color",e);this.builder.style("background-color",t);this.builder.style("border-color",i);this.builder.style("border-width",i?"1px":null);this.builder.style("border-style",i?"solid":null);this.builder.style("box-shadow",n?"0 5px 8px "+n:null)}if(this.progressBar){this.progressBar.style({progressBarBackground:this.styles.progressBarBackground})}if(this.inputBox){this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})}if(this.tree&&!this.options.treeCreator){this.tree.style(this.styles)}if(this.renderer){this.renderer.updateStyles(this.styles)}};c.prototype.shouldOpenInBackground=function(e){if(e instanceof g.StandardKeyboardEvent){if(e.keyCode!==17){return false}if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey){return false}var t=this.inputBox.inputElement;return t.selectionEnd===this.inputBox.value.length&&t.selectionStart===t.selectionEnd}return e.middleButton};c.prototype.onType=function(){var e=this.inputBox.value;if(this.helpText){if(e){this.helpText.hide()}else{this.helpText.show()}}this.callbacks.onType(e)};c.prototype.navigate=function(e,t){if(this.isVisible()){if(!this.quickNavigateConfiguration&&t){this.quickNavigateConfiguration=t;this.tree.DOMFocus()}this.navigateInTree(e?18:16)}};c.prototype.navigateInTree=function(e,t){var i=this.tree.getInput();var n=i?i.entries:[];var r=this.tree.getFocus();switch(e){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:if(t){this.tree.focusPrevious()}else{this.tree.focusNext()}break}var o=this.tree.getFocus();if(n.length>1&&r===o){if(e===16||e===2&&t){this.tree.focusLast()}else if(e===18||e===2&&!t){this.tree.focusFirst()}}o=this.tree.getFocus();if(o){this.tree.reveal(o).done(null,h.onUnexpectedError)}};c.prototype.elementFocused=function(e,t){if(!e||!this.isVisible()){return}this.inputElement.setAttribute("aria-activedescendant",this.treeElement.getAttribute("aria-activedescendant"));var i={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(e,a.Mode.PREVIEW,i)};c.prototype.elementSelected=function(e,t,i){var n=true;if(this.isVisible()){var r=i||a.Mode.OPEN;var o={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};n=this.model.runner.run(e,r,o)}if(n){this.hide(w.ELEMENT_SELECTED)}};c.prototype.extractKeyMods=function(e){return{ctrlCmd:e&&(e.ctrlKey||e.metaKey||e.payload&&e.payload.originalEvent&&(e.payload.originalEvent.ctrlKey||e.payload.originalEvent.metaKey)),alt:e&&(e.altKey||e.payload&&e.payload.originalEvent&&e.payload.originalEvent.altKey)}};c.prototype.show=function(e,t){this.visible=true;this.isLoosingFocus=false;this.quickNavigateConfiguration=t?t.quickNavigateConfiguration:void 0;if(this.quickNavigateConfiguration){this.inputContainer.hide();this.builder.show();this.tree.DOMFocus()}else{this.inputContainer.show();this.builder.show();this.inputBox.focus()}if(this.helpText){if(this.quickNavigateConfiguration||o.isString(e)){this.helpText.hide()}else{this.helpText.show()}}if(o.isString(e)){this.doShowWithPrefix(e)}else{this.doShowWithInput(e,t&&t.autoFocus?t.autoFocus:{})}if(t&&t.inputSelection&&!this.quickNavigateConfiguration){this.inputBox.select(t.inputSelection)}if(this.callbacks.onShow){this.callbacks.onShow()}};c.prototype.doShowWithPrefix=function(e){this.inputBox.value=e;this.callbacks.onType(e)};c.prototype.doShowWithInput=function(e,t){this.setInput(e,t)};c.prototype.setInputAndLayout=function(t,e){var i=this;this.treeContainer.style({height:this.getHeight(t)+"px"});this.tree.setInput(null).then(function(){i.model=t;i.inputElement.setAttribute("aria-haspopup",String(t&&t.entries&&t.entries.length>0));return i.tree.setInput(t)}).done(function(){i.tree.layout();if(t&&t.entries.some(function(e){return i.isElementVisible(t,e)})){i.autoFocus(t,e)}},h.onUnexpectedError)};c.prototype.isElementVisible=function(e,t){if(!e.filter){return true}return e.filter.isVisible(t)};c.prototype.autoFocus=function(t,e){var i=this;if(e===void 0){e={}}var n=t.entries.filter(function(e){return i.isElementVisible(t,e)});if(e.autoFocusPrefixMatch){var r=void 0;var o=void 0;var s=e.autoFocusPrefixMatch;var a=s.toLowerCase();for(var u=0;u<n.length;u++){var l=n[u];var c=t.dataSource.getLabel(l);if(!r&&c.indexOf(s)===0){r=l}else if(!o&&c.toLowerCase().indexOf(a)===0){o=l}if(r&&o){break}}var d=r||o;if(d){this.tree.setFocus(d);this.tree.reveal(d,.5).done(null,h.onUnexpectedError);return}}if(e.autoFocusFirstEntry){this.tree.focusFirst();this.tree.reveal(this.tree.getFocus()).done(null,h.onUnexpectedError)}else if(typeof e.autoFocusIndex==="number"){if(n.length>e.autoFocusIndex){this.tree.focusNth(e.autoFocusIndex);this.tree.reveal(this.tree.getFocus()).done(null,h.onUnexpectedError)}}else if(e.autoFocusSecondEntry){if(n.length>1){this.tree.focusNth(1)}}else if(e.autoFocusLastEntry){if(n.length>1){this.tree.focusLast()}}};c.prototype.refresh=function(t,i){var n=this;if(!this.isVisible()){return}if(!t){t=this.tree.getInput()}if(!t){return}this.treeContainer.style({height:this.getHeight(t)+"px"});this.tree.refresh().done(function(){n.tree.layout();if(i){var e=i&&t&&t.entries.some(function(e){return n.isElementVisible(t,e)});if(e){n.autoFocus(t,i)}}},h.onUnexpectedError)};c.prototype.getHeight=function(t){var i=this;var e=t.renderer;if(!t){var n=e.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*n:0}var r=0;var o;if(this.layoutDimensions&&this.layoutDimensions.height){o=(this.layoutDimensions.height-50)*.4}if(!o||o>c.MAX_ITEMS_HEIGHT){o=c.MAX_ITEMS_HEIGHT}var s=t.entries.filter(function(e){return i.isElementVisible(t,e)});var a=this.options.maxItemsToShow||s.length;for(var u=0;u<a&&u<s.length;u++){var l=e.getHeight(s[u]);if(r+l<=o){r+=l}else{break}}return r};c.prototype.hide=function(e){if(!this.isVisible()){return}this.visible=false;this.builder.hide();this.builder.domBlur();this.inputBox.value="";this.tree.setInput(null);this.inputElement.setAttribute("aria-haspopup","false");this.treeContainer.style({height:(this.options.minItemsToShow?this.options.minItemsToShow*22:0)+"px"});this.progressBar.stop().getContainer().hide();if(this.tree.isDOMFocused()){this.tree.DOMBlur()}else if(this.inputBox.hasFocus()){this.inputBox.blur()}if(e===w.ELEMENT_SELECTED){this.callbacks.onOk()}else{this.callbacks.onCancel()}if(this.callbacks.onHide){this.callbacks.onHide(e)}};c.prototype.getQuickNavigateConfiguration=function(){return this.quickNavigateConfiguration};c.prototype.setPlaceHolder=function(e){if(this.inputBox){this.inputBox.setPlaceHolder(e)}};c.prototype.setValue=function(e,t){if(this.inputBox){this.inputBox.value=e;if(Array.isArray(t)){var i=t[0],n=t[1];this.inputBox.select({start:i,end:n})}else{this.inputBox.select()}}};c.prototype.setPassword=function(e){if(this.inputBox){this.inputBox.inputElement.type=e?"password":"text"}};c.prototype.setInput=function(e,t,i){if(!this.isVisible()){return}if(!!this.getInput()){this.onInputChanging()}this.setInputAndLayout(e,t);if(this.inputBox){this.inputBox.setAriaLabel(i||L)}};c.prototype.onInputChanging=function(){var e=this;if(this.inputChangingTimeoutHandle){clearTimeout(this.inputChangingTimeoutHandle);this.inputChangingTimeoutHandle=null}this.builder.addClass("content-changing");this.inputChangingTimeoutHandle=setTimeout(function(){e.builder.removeClass("content-changing")},500)};c.prototype.getInput=function(){return this.tree.getInput()};c.prototype.showInputDecoration=function(e){if(this.inputBox){this.inputBox.showMessage({type:e===s.default.Info?d.MessageType.INFO:e===s.default.Warning?d.MessageType.WARNING:d.MessageType.ERROR,content:""})}};c.prototype.clearInputDecoration=function(){if(this.inputBox){this.inputBox.hideMessage()}};c.prototype.focus=function(){if(this.isVisible()&&this.inputBox){this.inputBox.focus()}};c.prototype.accept=function(){if(this.isVisible()){var e=this.tree.getFocus();if(e){this.elementSelected(e)}}};c.prototype.getProgressBar=function(){return this.progressBar};c.prototype.getInputBox=function(){return this.inputBox};c.prototype.setExtraClass=function(e){var t=this.builder.getProperty("extra-class");if(t){this.builder.removeClass(t)}if(e){this.builder.addClass(e);this.builder.setProperty("extra-class",e)}else if(t){this.builder.removeProperty("extra-class")}};c.prototype.isVisible=function(){return this.visible};c.prototype.layout=function(e){this.layoutDimensions=e;var t=Math.min(this.layoutDimensions.width*.62,c.MAX_WIDTH);if(this.builder){this.builder.style({width:t+"px",marginLeft:"-"+t/2+"px"});this.inputContainer.style({width:t-12+"px"})}};c.prototype.gainingFocus=function(){this.isLoosingFocus=false};c.prototype.loosingFocus=function(e){var t=this;if(!this.isVisible()){return}var i=e.relatedTarget;if(!this.quickNavigateConfiguration&&m.isAncestor(i,this.builder.getHTMLElement())){return}this.isLoosingFocus=true;n.TPromise.timeout(0).then(function(){if(!t.isLoosingFocus){return}if(t.isDisposed){return}var e=t.callbacks.onFocusLost&&t.callbacks.onFocusLost();if(!e){t.hide(w.FOCUS_LOST)}})};c.prototype.dispose=function(){this.isDisposed=true;this.toUnbind=_.dispose(this.toUnbind);this.progressBar.dispose();this.inputBox.dispose();this.tree.dispose()};c.MAX_WIDTH=600;c.MAX_ITEMS_HEIGHT=20*22;return c}();t.QuickOpenWidget=x});define(r[315],e([8,9]),function(e,t){return e.create("vs/editor/browser/services/bulkEdit",t)});define(r[316],e([8,9]),function(e,t){return e.create("vs/editor/browser/widget/diffEditorWidget",t)});define(r[317],e([8,9]),function(e,t){return e.create("vs/editor/browser/widget/diffReview",t)});define(r[318],e([8,9]),function(e,t){return e.create("vs/editor/common/config/commonEditorConfig",t)});define(r[319],e([8,9]),function(e,t){return e.create("vs/editor/common/config/editorOptions",t)});var F=this&&this.__assign||Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]}return e};define(r[50],e([0,1,319,15,43,99]),function(e,t,r,a,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var A;(function(e){e[e["None"]=0]="None";e[e["Small"]=1]="Small";e[e["Large"]=2]="Large";e[e["SmallBlocks"]=3]="SmallBlocks";e[e["LargeBlocks"]=4]="LargeBlocks"})(A=t.RenderMinimap||(t.RenderMinimap={}));var o;(function(e){e[e["None"]=0]="None";e[e["Same"]=1]="Same";e[e["Indent"]=2]="Indent"})(o=t.WrappingIndent||(t.WrappingIndent={}));var s;(function(e){e[e["Hidden"]=0]="Hidden";e[e["Blink"]=1]="Blink";e[e["Smooth"]=2]="Smooth";e[e["Phase"]=3]="Phase";e[e["Expand"]=4]="Expand";e[e["Solid"]=5]="Solid"})(s=t.TextEditorCursorBlinkingStyle||(t.TextEditorCursorBlinkingStyle={}));function u(e){if(e===s.Blink){return"blink"}else if(e===s.Expand){return"expand"}else if(e===s.Phase){return"phase"}else if(e===s.Smooth){return"smooth"}else if(e===s.Solid){return"solid"}else{throw new Error("blinkingStyleToString: Unknown blinkingStyle")}}t.blinkingStyleToString=u;var l;(function(e){e[e["Line"]=1]="Line";e[e["Block"]=2]="Block";e[e["Underline"]=3]="Underline";e[e["LineThin"]=4]="LineThin";e[e["BlockOutline"]=5]="BlockOutline";e[e["UnderlineThin"]=6]="UnderlineThin"})(l=t.TextEditorCursorStyle||(t.TextEditorCursorStyle={}));function c(e){if(e===l.Line){return"line"}else if(e===l.Block){return"block"}else if(e===l.Underline){return"underline"}else if(e===l.LineThin){return"line-thin"}else if(e===l.BlockOutline){return"block-outline"}else if(e===l.UnderlineThin){return"underline-thin"}else{throw new Error("cursorStyleToString: Unknown cursorStyle")}}t.cursorStyleToString=c;function g(e,t){if(typeof e!=="string"){return t}if(e==="line"){return l.Line}else if(e==="block"){return l.Block}else if(e==="underline"){return l.Underline}else if(e==="line-thin"){return l.LineThin}else if(e==="block-outline"){return l.BlockOutline}else if(e==="underline-thin"){return l.UnderlineThin}return l.Line}var d;(function(e){e[e["Off"]=0]="Off";e[e["On"]=1]="On";e[e["Relative"]=2]="Relative";e[e["Interval"]=3]="Interval";e[e["Custom"]=4]="Custom"})(d=t.RenderLineNumbersType||(t.RenderLineNumbersType={}));var f=function(){function i(e){this.canUseLayerHinting=e.canUseLayerHinting;this.pixelRatio=e.pixelRatio;this.editorClassName=e.editorClassName;this.lineHeight=e.lineHeight|0;this.readOnly=e.readOnly;this.accessibilitySupport=e.accessibilitySupport;this.multiCursorModifier=e.multiCursorModifier;this.wordSeparators=e.wordSeparators;this.autoClosingBrackets=e.autoClosingBrackets;this.autoIndent=e.autoIndent;this.useTabStops=e.useTabStops;this.tabFocusMode=e.tabFocusMode;this.dragAndDrop=e.dragAndDrop;this.emptySelectionClipboard=e.emptySelectionClipboard;this.layoutInfo=e.layoutInfo;this.fontInfo=e.fontInfo;this.viewInfo=e.viewInfo;this.wrappingInfo=e.wrappingInfo;this.contribInfo=e.contribInfo}i.prototype.equals=function(e){return this.canUseLayerHinting===e.canUseLayerHinting&&this.pixelRatio===e.pixelRatio&&this.editorClassName===e.editorClassName&&this.lineHeight===e.lineHeight&&this.readOnly===e.readOnly&&this.accessibilitySupport===e.accessibilitySupport&&this.multiCursorModifier===e.multiCursorModifier&&this.wordSeparators===e.wordSeparators&&this.autoClosingBrackets===e.autoClosingBrackets&&this.autoIndent===e.autoIndent&&this.useTabStops===e.useTabStops&&this.tabFocusMode===e.tabFocusMode&&this.dragAndDrop===e.dragAndDrop&&this.emptySelectionClipboard===e.emptySelectionClipboard&&i._equalsLayoutInfo(this.layoutInfo,e.layoutInfo)&&this.fontInfo.equals(e.fontInfo)&&i._equalsViewOptions(this.viewInfo,e.viewInfo)&&i._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo)&&i._equalsContribOptions(this.contribInfo,e.contribInfo)};i.prototype.createChangeEvent=function(e){return{canUseLayerHinting:this.canUseLayerHinting!==e.canUseLayerHinting,pixelRatio:this.pixelRatio!==e.pixelRatio,editorClassName:this.editorClassName!==e.editorClassName,lineHeight:this.lineHeight!==e.lineHeight,readOnly:this.readOnly!==e.readOnly,accessibilitySupport:this.accessibilitySupport!==e.accessibilitySupport,multiCursorModifier:this.multiCursorModifier!==e.multiCursorModifier,wordSeparators:this.wordSeparators!==e.wordSeparators,autoClosingBrackets:this.autoClosingBrackets!==e.autoClosingBrackets,autoIndent:this.autoIndent!==e.autoIndent,useTabStops:this.useTabStops!==e.useTabStops,tabFocusMode:this.tabFocusMode!==e.tabFocusMode,dragAndDrop:this.dragAndDrop!==e.dragAndDrop,emptySelectionClipboard:this.emptySelectionClipboard!==e.emptySelectionClipboard,layoutInfo:!i._equalsLayoutInfo(this.layoutInfo,e.layoutInfo),fontInfo:!this.fontInfo.equals(e.fontInfo),viewInfo:!i._equalsViewOptions(this.viewInfo,e.viewInfo),wrappingInfo:!i._equalsWrappingInfo(this.wrappingInfo,e.wrappingInfo),contribInfo:!i._equalsContribOptions(this.contribInfo,e.contribInfo)}};i._equalsLayoutInfo=function(e,t){return e.width===t.width&&e.height===t.height&&e.glyphMarginLeft===t.glyphMarginLeft&&e.glyphMarginWidth===t.glyphMarginWidth&&e.glyphMarginHeight===t.glyphMarginHeight&&e.lineNumbersLeft===t.lineNumbersLeft&&e.lineNumbersWidth===t.lineNumbersWidth&&e.lineNumbersHeight===t.lineNumbersHeight&&e.decorationsLeft===t.decorationsLeft&&e.decorationsWidth===t.decorationsWidth&&e.decorationsHeight===t.decorationsHeight&&e.contentLeft===t.contentLeft&&e.contentWidth===t.contentWidth&&e.contentHeight===t.contentHeight&&e.renderMinimap===t.renderMinimap&&e.minimapLeft===t.minimapLeft&&e.minimapWidth===t.minimapWidth&&e.viewportColumn===t.viewportColumn&&e.verticalScrollbarWidth===t.verticalScrollbarWidth&&e.horizontalScrollbarHeight===t.horizontalScrollbarHeight&&this._equalsOverviewRuler(e.overviewRuler,t.overviewRuler)};i._equalsOverviewRuler=function(e,t){return e.width===t.width&&e.height===t.height&&e.top===t.top&&e.right===t.right};i._equalsViewOptions=function(e,t){return e.extraEditorClassName===t.extraEditorClassName&&e.disableMonospaceOptimizations===t.disableMonospaceOptimizations&&this._equalsNumberArrays(e.rulers,t.rulers)&&e.ariaLabel===t.ariaLabel&&e.renderLineNumbers===t.renderLineNumbers&&e.renderCustomLineNumbers===t.renderCustomLineNumbers&&e.selectOnLineNumbers===t.selectOnLineNumbers&&e.glyphMargin===t.glyphMargin&&e.revealHorizontalRightPadding===t.revealHorizontalRightPadding&&e.roundedSelection===t.roundedSelection&&e.overviewRulerLanes===t.overviewRulerLanes&&e.overviewRulerBorder===t.overviewRulerBorder&&e.cursorBlinking===t.cursorBlinking&&e.mouseWheelZoom===t.mouseWheelZoom&&e.cursorStyle===t.cursorStyle&&e.cursorWidth===t.cursorWidth&&e.hideCursorInOverviewRuler===t.hideCursorInOverviewRuler&&e.scrollBeyondLastLine===t.scrollBeyondLastLine&&e.smoothScrolling===t.smoothScrolling&&e.stopRenderingLineAfter===t.stopRenderingLineAfter&&e.renderWhitespace===t.renderWhitespace&&e.renderControlCharacters===t.renderControlCharacters&&e.fontLigatures===t.fontLigatures&&e.renderIndentGuides===t.renderIndentGuides&&e.renderLineHighlight===t.renderLineHighlight&&this._equalsScrollbarOptions(e.scrollbar,t.scrollbar)&&this._equalsMinimapOptions(e.minimap,t.minimap)&&e.fixedOverflowWidgets===t.fixedOverflowWidgets};i._equalsScrollbarOptions=function(e,t){return e.arrowSize===t.arrowSize&&e.vertical===t.vertical&&e.horizontal===t.horizontal&&e.useShadows===t.useShadows&&e.verticalHasArrows===t.verticalHasArrows&&e.horizontalHasArrows===t.horizontalHasArrows&&e.handleMouseWheel===t.handleMouseWheel&&e.horizontalScrollbarSize===t.horizontalScrollbarSize&&e.horizontalSliderSize===t.horizontalSliderSize&&e.verticalScrollbarSize===t.verticalScrollbarSize&&e.verticalSliderSize===t.verticalSliderSize&&e.mouseWheelScrollSensitivity===t.mouseWheelScrollSensitivity};i._equalsMinimapOptions=function(e,t){return e.enabled===t.enabled&&e.side===t.side&&e.showSlider===t.showSlider&&e.renderCharacters===t.renderCharacters&&e.maxColumn===t.maxColumn};i._equalsNumberArrays=function(e,t){if(e.length!==t.length){return false}for(var i=0;i<e.length;i++){if(e[i]!==t[i]){return false}}return true};i._equalFindOptions=function(e,t){return e.seedSearchStringFromSelection===t.seedSearchStringFromSelection&&e.autoFindInSelection===t.autoFindInSelection&&e.globalFindClipboard===t.globalFindClipboard};i._equalsWrappingInfo=function(e,t){return e.inDiffEditor===t.inDiffEditor&&e.isDominatedByLongLines===t.isDominatedByLongLines&&e.isWordWrapMinified===t.isWordWrapMinified&&e.isViewportWrapping===t.isViewportWrapping&&e.wrappingColumn===t.wrappingColumn&&e.wrappingIndent===t.wrappingIndent&&e.wordWrapBreakBeforeCharacters===t.wordWrapBreakBeforeCharacters&&e.wordWrapBreakAfterCharacters===t.wordWrapBreakAfterCharacters&&e.wordWrapBreakObtrusiveCharacters===t.wordWrapBreakObtrusiveCharacters};i._equalsContribOptions=function(e,t){return e.selectionClipboard===t.selectionClipboard&&e.hover===t.hover&&e.links===t.links&&e.contextmenu===t.contextmenu&&i._equalsQuickSuggestions(e.quickSuggestions,t.quickSuggestions)&&e.quickSuggestionsDelay===t.quickSuggestionsDelay&&e.parameterHints===t.parameterHints&&e.iconsInSuggestions===t.iconsInSuggestions&&e.formatOnType===t.formatOnType&&e.formatOnPaste===t.formatOnPaste&&e.suggestOnTriggerCharacters===t.suggestOnTriggerCharacters&&e.acceptSuggestionOnEnter===t.acceptSuggestionOnEnter&&e.acceptSuggestionOnCommitCharacter===t.acceptSuggestionOnCommitCharacter&&e.snippetSuggestions===t.snippetSuggestions&&e.wordBasedSuggestions===t.wordBasedSuggestions&&e.suggestSelection===t.suggestSelection&&e.suggestFontSize===t.suggestFontSize&&e.suggestLineHeight===t.suggestLineHeight&&e.selectionHighlight===t.selectionHighlight&&e.occurrencesHighlight===t.occurrencesHighlight&&e.codeLens===t.codeLens&&e.folding===t.folding&&e.showFoldingControls===t.showFoldingControls&&e.matchBrackets===t.matchBrackets&&this._equalFindOptions(e.find,t.find)&&e.colorDecorators===t.colorDecorators&&e.lightbulbEnabled===t.lightbulbEnabled};i._equalsQuickSuggestions=function(e,t){if(typeof e==="boolean"){if(typeof t!=="boolean"){return false}return e===t}if(typeof t==="boolean"){return false}return e.comments===t.comments&&e.other===t.other&&e.strings===t.strings};return i}();t.InternalEditorOptions=f;function v(e,t){if(typeof e==="undefined"){return t}if(e==="false"){return false}return Boolean(e)}function m(e,t){if(typeof e!=="string"){return t}return e}function _(e,t,i){if(typeof e!=="string"){return t}if(i.indexOf(e)===-1){return t}return e}function y(e,t,i,n){var r;if(typeof e==="undefined"){r=t}else{r=parseInt(e,10);if(isNaN(r)){r=t}}r=Math.max(i,r);r=Math.min(n,r);return r|0}function C(e,t){var i=parseFloat(e);if(isNaN(i)){i=t}return i}function h(e,t){if(typeof e!=="string"){return t}if(e==="indent"){return o.Indent}else if(e==="same"){return o.Same}else{return o.None}}function b(e,t){if(typeof e!=="string"){return t}switch(e){case"blink":return s.Blink;case"smooth":return s.Smooth;case"phase":return s.Phase;case"expand":return s.Expand;case"visible":case"solid":return s.Solid}return s.Blink}function p(e,t){if(typeof e!=="string"){return t}switch(e){case"hidden":return i.ScrollbarVisibility.Hidden;case"visible":return i.ScrollbarVisibility.Visible;default:return i.ScrollbarVisibility.Auto}}var S=function(){function e(){}e.validate=function(e,t){var i=e.wordWrap;{if(i===true){i="on"}else if(i===false){i="off"}i=_(i,t.wordWrap,["off","on","wordWrapColumn","bounded"])}var n=this._sanitizeViewInfo(e,t.viewInfo);var r=this._sanitizeContribInfo(e,t.contribInfo);var o;if(typeof e.multiCursorModifier==="string"){if(e.multiCursorModifier==="ctrlCmd"){o=a.isMacintosh?"metaKey":"ctrlKey"}else{o="altKey"}}var s=_(o,t.multiCursorModifier,["altKey","metaKey","ctrlKey"]);return{inDiffEditor:v(e.inDiffEditor,t.inDiffEditor),wordSeparators:m(e.wordSeparators,t.wordSeparators),lineNumbersMinChars:y(e.lineNumbersMinChars,t.lineNumbersMinChars,1,10),lineDecorationsWidth:typeof e.lineDecorationsWidth==="undefined"?t.lineDecorationsWidth:e.lineDecorationsWidth,readOnly:v(e.readOnly,t.readOnly),mouseStyle:_(e.mouseStyle,t.mouseStyle,["text","default","copy"]),disableLayerHinting:v(e.disableLayerHinting,t.disableLayerHinting),automaticLayout:v(e.automaticLayout,t.automaticLayout),wordWrap:i,wordWrapColumn:y(e.wordWrapColumn,t.wordWrapColumn,1,1073741824),wordWrapMinified:v(e.wordWrapMinified,t.wordWrapMinified),wrappingIndent:h(e.wrappingIndent,t.wrappingIndent),wordWrapBreakBeforeCharacters:m(e.wordWrapBreakBeforeCharacters,t.wordWrapBreakBeforeCharacters),wordWrapBreakAfterCharacters:m(e.wordWrapBreakAfterCharacters,t.wordWrapBreakAfterCharacters),wordWrapBreakObtrusiveCharacters:m(e.wordWrapBreakObtrusiveCharacters,t.wordWrapBreakObtrusiveCharacters),autoClosingBrackets:v(e.autoClosingBrackets,t.autoClosingBrackets),autoIndent:v(e.autoIndent,t.autoIndent),dragAndDrop:v(e.dragAndDrop,t.dragAndDrop),emptySelectionClipboard:v(e.emptySelectionClipboard,t.emptySelectionClipboard),useTabStops:v(e.useTabStops,t.useTabStops),multiCursorModifier:s,accessibilitySupport:_(e.accessibilitySupport,t.accessibilitySupport,["auto","on","off"]),viewInfo:n,contribInfo:r}};e._sanitizeScrollbarOpts=function(e,t,i){if(typeof e!=="object"){return t}var n=y(e.horizontalScrollbarSize,t.horizontalScrollbarSize,0,1e3);var r=y(e.verticalScrollbarSize,t.verticalScrollbarSize,0,1e3);return{vertical:p(e.vertical,t.vertical),horizontal:p(e.horizontal,t.horizontal),arrowSize:y(e.arrowSize,t.arrowSize,0,1e3),useShadows:v(e.useShadows,t.useShadows),verticalHasArrows:v(e.verticalHasArrows,t.verticalHasArrows),horizontalHasArrows:v(e.horizontalHasArrows,t.horizontalHasArrows),horizontalScrollbarSize:n,horizontalSliderSize:y(e.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:r,verticalSliderSize:y(e.verticalSliderSize,r,0,1e3),handleMouseWheel:v(e.handleMouseWheel,t.handleMouseWheel),mouseWheelScrollSensitivity:i}};e._sanitizeMinimapOpts=function(e,t){if(typeof e!=="object"){return t}return{enabled:v(e.enabled,t.enabled),side:_(e.side,t.side,["right","left"]),showSlider:_(e.showSlider,t.showSlider,["always","mouseover"]),renderCharacters:v(e.renderCharacters,t.renderCharacters),maxColumn:y(e.maxColumn,t.maxColumn,1,1e4)}};e._santizeFindOpts=function(e,t){if(typeof e!=="object"){return t}return{seedSearchStringFromSelection:v(e.seedSearchStringFromSelection,t.seedSearchStringFromSelection),autoFindInSelection:v(e.autoFindInSelection,t.autoFindInSelection),globalFindClipboard:v(e.globalFindClipboard,t.globalFindClipboard)}};e._sanitizeViewInfo=function(e,t){var i=[];if(Array.isArray(e.rulers)){for(var n=0,r=e.rulers.length;n<r;n++){i.push(y(e.rulers[n],0,0,1e4))}i.sort()}var o=t.renderLineNumbers;var s=t.renderCustomLineNumbers;if(typeof e.lineNumbers!=="undefined"){var a=e.lineNumbers;if(a===true){a="on"}else if(a===false){a="off"}if(typeof a==="function"){o=4;s=a}else if(a==="interval"){o=3}else if(a==="relative"){o=2}else if(a==="on"){o=1}else{o=0}}var u=v(e.fontLigatures,t.fontLigatures);var l=v(e.disableMonospaceOptimizations,t.disableMonospaceOptimizations)||u;var c=e.renderWhitespace;{if(c===true){c="boundary"}else if(c===false){c="none"}c=_(e.renderWhitespace,t.renderWhitespace,["none","boundary","all"])}var d=e.renderLineHighlight;{if(d===true){d="line"}else if(d===false){d="none"}d=_(e.renderLineHighlight,t.renderLineHighlight,["none","gutter","line","all"])}var h=C(e.mouseWheelScrollSensitivity,t.scrollbar.mouseWheelScrollSensitivity);var f=this._sanitizeScrollbarOpts(e.scrollbar,t.scrollbar,h);var p=this._sanitizeMinimapOpts(e.minimap,t.minimap);return{extraEditorClassName:m(e.extraEditorClassName,t.extraEditorClassName),disableMonospaceOptimizations:l,rulers:i,ariaLabel:m(e.ariaLabel,t.ariaLabel),renderLineNumbers:o,renderCustomLineNumbers:s,selectOnLineNumbers:v(e.selectOnLineNumbers,t.selectOnLineNumbers),glyphMargin:v(e.glyphMargin,t.glyphMargin),revealHorizontalRightPadding:y(e.revealHorizontalRightPadding,t.revealHorizontalRightPadding,0,1e3),roundedSelection:v(e.roundedSelection,t.roundedSelection),overviewRulerLanes:y(e.overviewRulerLanes,t.overviewRulerLanes,0,3),overviewRulerBorder:v(e.overviewRulerBorder,t.overviewRulerBorder),cursorBlinking:b(e.cursorBlinking,t.cursorBlinking),mouseWheelZoom:v(e.mouseWheelZoom,t.mouseWheelZoom),cursorStyle:g(e.cursorStyle,t.cursorStyle),cursorWidth:y(e.cursorWidth,t.cursorWidth,0,Number.MAX_VALUE),hideCursorInOverviewRuler:v(e.hideCursorInOverviewRuler,t.hideCursorInOverviewRuler),scrollBeyondLastLine:v(e.scrollBeyondLastLine,t.scrollBeyondLastLine),smoothScrolling:v(e.smoothScrolling,t.smoothScrolling),stopRenderingLineAfter:y(e.stopRenderingLineAfter,t.stopRenderingLineAfter,-1,1073741824),renderWhitespace:c,renderControlCharacters:v(e.renderControlCharacters,t.renderControlCharacters),fontLigatures:u,renderIndentGuides:v(e.renderIndentGuides,t.renderIndentGuides),renderLineHighlight:d,scrollbar:f,minimap:p,fixedOverflowWidgets:v(e.fixedOverflowWidgets,t.fixedOverflowWidgets)}};e._sanitizeContribInfo=function(e,t){var i;if(typeof e.quickSuggestions==="object"){i=F({other:true},e.quickSuggestions)}else{i=v(e.quickSuggestions,t.quickSuggestions)}if(typeof e.acceptSuggestionOnEnter==="boolean"){e.acceptSuggestionOnEnter=e.acceptSuggestionOnEnter?"on":"off"}var n=this._santizeFindOpts(e.find,t.find);return{selectionClipboard:v(e.selectionClipboard,t.selectionClipboard),hover:v(e.hover,t.hover),links:v(e.links,t.links),contextmenu:v(e.contextmenu,t.contextmenu),quickSuggestions:i,quickSuggestionsDelay:y(e.quickSuggestionsDelay,t.quickSuggestionsDelay,-1073741824,1073741824),parameterHints:v(e.parameterHints,t.parameterHints),iconsInSuggestions:v(e.iconsInSuggestions,t.iconsInSuggestions),formatOnType:v(e.formatOnType,t.formatOnType),formatOnPaste:v(e.formatOnPaste,t.formatOnPaste),suggestOnTriggerCharacters:v(e.suggestOnTriggerCharacters,t.suggestOnTriggerCharacters),acceptSuggestionOnEnter:_(e.acceptSuggestionOnEnter,t.acceptSuggestionOnEnter,["on","smart","off"]),acceptSuggestionOnCommitCharacter:v(e.acceptSuggestionOnCommitCharacter,t.acceptSuggestionOnCommitCharacter),snippetSuggestions:_(e.snippetSuggestions,t.snippetSuggestions,["top","bottom","inline","none"]),wordBasedSuggestions:v(e.wordBasedSuggestions,t.wordBasedSuggestions),suggestSelection:_(e.suggestSelection,t.suggestSelection,["first","recentlyUsed","recentlyUsedByPrefix"]),suggestFontSize:y(e.suggestFontSize,t.suggestFontSize,0,1e3),suggestLineHeight:y(e.suggestLineHeight,t.suggestLineHeight,0,1e3),selectionHighlight:v(e.selectionHighlight,t.selectionHighlight),occurrencesHighlight:v(e.occurrencesHighlight,t.occurrencesHighlight),codeLens:v(e.codeLens,t.codeLens)&&v(e.referenceInfos,true),folding:v(e.folding,t.folding),showFoldingControls:_(e.showFoldingControls,t.showFoldingControls,["always","mouseover"]),matchBrackets:v(e.matchBrackets,t.matchBrackets),find:n,colorDecorators:v(e.colorDecorators,t.colorDecorators),lightbulbEnabled:v(e.lightbulb?e.lightbulb.enabled:false,t.lightbulbEnabled)}};return e}();t.EditorOptionsValidator=S;var w=function(){function e(){}e._tweakValidatedOptions=function(e,t){var i=t===2;var n=t===1;return{inDiffEditor:e.inDiffEditor,wordSeparators:e.wordSeparators,lineNumbersMinChars:e.lineNumbersMinChars,lineDecorationsWidth:e.lineDecorationsWidth,readOnly:e.readOnly,mouseStyle:e.mouseStyle,disableLayerHinting:e.disableLayerHinting,automaticLayout:e.automaticLayout,wordWrap:e.wordWrap,wordWrapColumn:e.wordWrapColumn,wordWrapMinified:e.wordWrapMinified,wrappingIndent:e.wrappingIndent,wordWrapBreakBeforeCharacters:e.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:e.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:e.wordWrapBreakObtrusiveCharacters,autoClosingBrackets:e.autoClosingBrackets,autoIndent:e.autoIndent,dragAndDrop:e.dragAndDrop,emptySelectionClipboard:e.emptySelectionClipboard,useTabStops:e.useTabStops,multiCursorModifier:e.multiCursorModifier,accessibilitySupport:e.accessibilitySupport,viewInfo:{extraEditorClassName:e.viewInfo.extraEditorClassName,disableMonospaceOptimizations:e.viewInfo.disableMonospaceOptimizations,rulers:e.viewInfo.rulers,ariaLabel:n?r.localize(0,null):e.viewInfo.ariaLabel,renderLineNumbers:e.viewInfo.renderLineNumbers,renderCustomLineNumbers:e.viewInfo.renderCustomLineNumbers,selectOnLineNumbers:e.viewInfo.selectOnLineNumbers,glyphMargin:e.viewInfo.glyphMargin,revealHorizontalRightPadding:e.viewInfo.revealHorizontalRightPadding,roundedSelection:i?false:e.viewInfo.roundedSelection,overviewRulerLanes:e.viewInfo.overviewRulerLanes,overviewRulerBorder:e.viewInfo.overviewRulerBorder,cursorBlinking:e.viewInfo.cursorBlinking,mouseWheelZoom:e.viewInfo.mouseWheelZoom,cursorStyle:e.viewInfo.cursorStyle,cursorWidth:e.viewInfo.cursorWidth,hideCursorInOverviewRuler:e.viewInfo.hideCursorInOverviewRuler,scrollBeyondLastLine:e.viewInfo.scrollBeyondLastLine,smoothScrolling:e.viewInfo.smoothScrolling,stopRenderingLineAfter:e.viewInfo.stopRenderingLineAfter,renderWhitespace:i?"none":e.viewInfo.renderWhitespace,renderControlCharacters:i?false:e.viewInfo.renderControlCharacters,fontLigatures:i?false:e.viewInfo.fontLigatures,renderIndentGuides:i?false:e.viewInfo.renderIndentGuides,renderLineHighlight:e.viewInfo.renderLineHighlight,scrollbar:e.viewInfo.scrollbar,minimap:{enabled:i?false:e.viewInfo.minimap.enabled,side:e.viewInfo.minimap.side,renderCharacters:e.viewInfo.minimap.renderCharacters,showSlider:e.viewInfo.minimap.showSlider,maxColumn:e.viewInfo.minimap.maxColumn},fixedOverflowWidgets:e.viewInfo.fixedOverflowWidgets},contribInfo:{selectionClipboard:e.contribInfo.selectionClipboard,hover:e.contribInfo.hover,links:i?false:e.contribInfo.links,contextmenu:e.contribInfo.contextmenu,quickSuggestions:e.contribInfo.quickSuggestions,quickSuggestionsDelay:e.contribInfo.quickSuggestionsDelay,parameterHints:e.contribInfo.parameterHints,iconsInSuggestions:e.contribInfo.iconsInSuggestions,formatOnType:e.contribInfo.formatOnType,formatOnPaste:e.contribInfo.formatOnPaste,suggestOnTriggerCharacters:e.contribInfo.suggestOnTriggerCharacters,acceptSuggestionOnEnter:e.contribInfo.acceptSuggestionOnEnter,acceptSuggestionOnCommitCharacter:e.contribInfo.acceptSuggestionOnCommitCharacter,snippetSuggestions:e.contribInfo.snippetSuggestions,wordBasedSuggestions:e.contribInfo.wordBasedSuggestions,suggestSelection:e.contribInfo.suggestSelection,suggestFontSize:e.contribInfo.suggestFontSize,suggestLineHeight:e.contribInfo.suggestLineHeight,selectionHighlight:i?false:e.contribInfo.selectionHighlight,occurrencesHighlight:i?false:e.contribInfo.occurrencesHighlight,codeLens:i?false:e.contribInfo.codeLens,folding:i?false:e.contribInfo.folding,showFoldingControls:e.contribInfo.showFoldingControls,matchBrackets:i?false:e.contribInfo.matchBrackets,find:e.contribInfo.find,colorDecorators:e.contribInfo.colorDecorators,lightbulbEnabled:e.contribInfo.lightbulbEnabled}}};e.createInternalEditorOptions=function(e,t){var i;if(t.accessibilitySupport==="auto"){i=e.accessibilitySupport}else if(t.accessibilitySupport==="on"){i=2}else{i=1}var n=this._tweakValidatedOptions(t,i);var r;if(typeof n.lineDecorationsWidth==="string"&&/^\d+(\.\d+)?ch$/.test(n.lineDecorationsWidth)){var o=parseFloat(n.lineDecorationsWidth.substr(0,n.lineDecorationsWidth.length-2));r=o*e.fontInfo.typicalHalfwidthCharacterWidth}else{r=y(n.lineDecorationsWidth,0,0,1e3)}if(n.contribInfo.folding){r+=16}var s=E.compute({outerWidth:e.outerWidth,outerHeight:e.outerHeight,showGlyphMargin:n.viewInfo.glyphMargin,lineHeight:e.fontInfo.lineHeight,showLineNumbers:n.viewInfo.renderLineNumbers!==0,lineNumbersMinChars:n.lineNumbersMinChars,lineNumbersDigitCount:e.lineNumbersDigitCount,lineDecorationsWidth:r,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,verticalScrollbarWidth:n.viewInfo.scrollbar.verticalScrollbarSize,horizontalScrollbarHeight:n.viewInfo.scrollbar.horizontalScrollbarSize,scrollbarArrowSize:n.viewInfo.scrollbar.arrowSize,verticalScrollbarHasArrows:n.viewInfo.scrollbar.verticalHasArrows,minimap:n.viewInfo.minimap.enabled,minimapSide:n.viewInfo.minimap.side,minimapRenderCharacters:n.viewInfo.minimap.renderCharacters,minimapMaxColumn:n.viewInfo.minimap.maxColumn,pixelRatio:e.pixelRatio});var a=null;{var u=n.wordWrap;var l=n.wordWrapColumn;var c=n.wordWrapMinified;if(i===2){a={isWordWrapMinified:false,isViewportWrapping:false,wrappingColumn:-1}}else if(c&&e.isDominatedByLongLines){a={isWordWrapMinified:true,isViewportWrapping:true,wrappingColumn:Math.max(1,s.viewportColumn)}}else if(u==="on"){a={isWordWrapMinified:false,isViewportWrapping:true,wrappingColumn:Math.max(1,s.viewportColumn)}}else if(u==="bounded"){a={isWordWrapMinified:false,isViewportWrapping:true,wrappingColumn:Math.min(Math.max(1,s.viewportColumn),l)}}else if(u==="wordWrapColumn"){a={isWordWrapMinified:false,isViewportWrapping:false,wrappingColumn:l}}else{a={isWordWrapMinified:false,isViewportWrapping:false,wrappingColumn:-1}}}var d={inDiffEditor:n.inDiffEditor,isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:a.isWordWrapMinified,isViewportWrapping:a.isViewportWrapping,wrappingColumn:a.wrappingColumn,wrappingIndent:n.wrappingIndent,wordWrapBreakBeforeCharacters:n.wordWrapBreakBeforeCharacters,wordWrapBreakAfterCharacters:n.wordWrapBreakAfterCharacters,wordWrapBreakObtrusiveCharacters:n.wordWrapBreakObtrusiveCharacters};var h="monaco-editor";if(n.viewInfo.extraEditorClassName){h+=" "+n.viewInfo.extraEditorClassName}if(e.extraEditorClassName){h+=" "+e.extraEditorClassName}if(n.viewInfo.fontLigatures){h+=" enable-ligatures"}if(n.mouseStyle==="default"){h+=" mouse-default"}else if(n.mouseStyle==="copy"){h+=" mouse-copy"}return new f({canUseLayerHinting:n.disableLayerHinting?false:true,pixelRatio:e.pixelRatio,editorClassName:h,lineHeight:e.fontInfo.lineHeight,readOnly:n.readOnly,accessibilitySupport:i,multiCursorModifier:n.multiCursorModifier,wordSeparators:n.wordSeparators,autoClosingBrackets:n.autoClosingBrackets,autoIndent:n.autoIndent,useTabStops:n.useTabStops,tabFocusMode:n.readOnly?true:e.tabFocusMode,dragAndDrop:n.dragAndDrop,emptySelectionClipboard:n.emptySelectionClipboard&&e.emptySelectionClipboard,layoutInfo:s,fontInfo:e.fontInfo,viewInfo:n.viewInfo,wrappingInfo:d,contribInfo:n.contribInfo})};return e}();t.InternalEditorOptionsFactory=w;var E=function(){function e(){}e.compute=function(e){var t=e.outerWidth|0;var i=e.outerHeight|0;var n=e.showGlyphMargin;var r=e.lineHeight|0;var o=e.showLineNumbers;var s=e.lineNumbersMinChars|0;var a=e.lineNumbersDigitCount|0;var u=e.lineDecorationsWidth|0;var l=e.typicalHalfwidthCharacterWidth;var c=e.maxDigitWidth;var d=e.verticalScrollbarWidth|0;var h=e.verticalScrollbarHasArrows;var f=e.scrollbarArrowSize|0;var p=e.horizontalScrollbarHeight|0;var g=e.minimap;var v=e.minimapSide;var m=e.minimapRenderCharacters;var _=e.minimapMaxColumn|0;var y=e.pixelRatio;var C=0;if(o){var b=Math.max(a,s);C=Math.round(b*c)}var S=0;if(n){S=r}var w=0;var E=w+S;var L=E+C;var x=L+u;var N=t-S-C-u;var I;var D;var T;var M;if(!g){D=0;T=0;I=A.None;M=N}else{var k=void 0;if(y>=2){I=m?A.Large:A.LargeBlocks;k=2/y}else{I=m?A.Small:A.SmallBlocks;k=1/y}T=Math.max(0,Math.floor((N-d)*k/(l+k)));var O=T/k;if(O>_){T=Math.floor(_*k)}M=N-T;if(v==="left"){D=0;w+=T;E+=T;L+=T;x+=T}else{D=t-T-d}}var R=Math.max(1,Math.floor((M-d)/l));var P=h?f:0;return{width:t,height:i,glyphMarginLeft:w,glyphMarginWidth:S,glyphMarginHeight:i,lineNumbersLeft:E,lineNumbersWidth:C,lineNumbersHeight:i,decorationsLeft:L,decorationsWidth:u,decorationsHeight:i,contentLeft:x,contentWidth:M,contentHeight:i,renderMinimap:I,minimapLeft:D,minimapWidth:T,viewportColumn:R,verticalScrollbarWidth:d,horizontalScrollbarHeight:p,overviewRuler:{top:P,width:d,height:i-2*P,right:0}}};return e}();t.EditorLayoutProvider=E;var L="Consolas, 'Courier New', monospace";var x="Menlo, Monaco, 'Courier New', monospace";var N="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'";t.EDITOR_FONT_DEFAULTS={fontFamily:a.isMacintosh?x:a.isLinux?N:L,fontWeight:"normal",fontSize:a.isMacintosh?12:14,lineHeight:0,letterSpacing:0};t.EDITOR_MODEL_DEFAULTS={tabSize:4,insertSpaces:true,detectIndentation:true,trimAutoWhitespace:true};t.EDITOR_DEFAULTS={inDiffEditor:false,wordSeparators:n.USUAL_WORD_SEPARATORS,lineNumbersMinChars:5,lineDecorationsWidth:10,readOnly:false,mouseStyle:"text",disableLayerHinting:false,automaticLayout:false,wordWrap:"off",wordWrapColumn:80,wordWrapMinified:true,wrappingIndent:o.Same,wordWrapBreakBeforeCharacters:"([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋",wordWrapBreakAfterCharacters:" \t})]?|&,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣",wordWrapBreakObtrusiveCharacters:".",autoClosingBrackets:true,autoIndent:true,dragAndDrop:true,emptySelectionClipboard:true,useTabStops:true,multiCursorModifier:"altKey",accessibilitySupport:"auto",viewInfo:{extraEditorClassName:"",disableMonospaceOptimizations:false,rulers:[],ariaLabel:r.localize(1,null),renderLineNumbers:1,renderCustomLineNumbers:null,selectOnLineNumbers:true,glyphMargin:true,revealHorizontalRightPadding:30,roundedSelection:true,overviewRulerLanes:2,overviewRulerBorder:true,cursorBlinking:s.Blink,mouseWheelZoom:false,cursorStyle:l.Line,cursorWidth:0,hideCursorInOverviewRuler:false,scrollBeyondLastLine:true,smoothScrolling:false,stopRenderingLineAfter:1e4,renderWhitespace:"none",renderControlCharacters:false,fontLigatures:false,renderIndentGuides:true,renderLineHighlight:"line",scrollbar:{vertical:i.ScrollbarVisibility.Auto,horizontal:i.ScrollbarVisibility.Auto,arrowSize:11,useShadows:true,verticalHasArrows:false,horizontalHasArrows:false,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:true,mouseWheelScrollSensitivity:1},minimap:{enabled:true,side:"right",showSlider:"mouseover",renderCharacters:true,maxColumn:120},fixedOverflowWidgets:false},contribInfo:{selectionClipboard:true,hover:true,links:true,contextmenu:true,quickSuggestions:{other:true,comments:false,strings:false},quickSuggestionsDelay:10,parameterHints:true,iconsInSuggestions:true,formatOnType:false,formatOnPaste:false,suggestOnTriggerCharacters:true,acceptSuggestionOnEnter:"on",acceptSuggestionOnCommitCharacter:true,snippetSuggestions:"inline",wordBasedSuggestions:true,suggestSelection:"recentlyUsed",suggestFontSize:0,suggestLineHeight:0,selectionHighlight:true,occurrencesHighlight:true,codeLens:true,folding:true,showFoldingControls:"mouseover",matchBrackets:true,find:{seedSearchStringFromSelection:true,autoFindInSelection:false,globalFindClipboard:false},colorDecorators:true,lightbulbEnabled:true}}});define(r[119],e([0,1,15,144,50]),function(e,t,i,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=i.isMacintosh?1.5:1.35;var h=8;var f=100;var p=8;var g=150;var v=-5;var m=20;function _(e,t){if(typeof e==="number"){return e}var i=parseFloat(e);if(isNaN(i)){return t}return i}function y(e,t){if(typeof e==="number"){return Math.round(e)}var i=parseInt(e);if(isNaN(i)){return t}return i}function C(e,t,i){if(e<t){return t}if(e>i){return i}return e}function b(e,t){if(typeof e!=="string"){return t}return e}var n=function(){function u(e){this.zoomLevel=e.zoomLevel;this.fontFamily=String(e.fontFamily);this.fontWeight=String(e.fontWeight);this.fontSize=e.fontSize;this.lineHeight=e.lineHeight|0;this.letterSpacing=e.letterSpacing}u.createFromRawSettings=function(e,t){var i=b(e.fontFamily,c.EDITOR_FONT_DEFAULTS.fontFamily);var n=b(e.fontWeight,c.EDITOR_FONT_DEFAULTS.fontWeight);var r=_(e.fontSize,c.EDITOR_FONT_DEFAULTS.fontSize);r=C(r,0,f);if(r===0){r=c.EDITOR_FONT_DEFAULTS.fontSize}else if(r<h){r=h}var o=y(e.lineHeight,0);o=C(o,0,g);if(o===0){o=Math.round(d*r)}else if(o<p){o=p}var s=_(e.letterSpacing,0);s=C(s,v,m);var a=1+l.EditorZoom.getZoomLevel()*.1;r*=a;o*=a;return new u({zoomLevel:t,fontFamily:i,fontWeight:n,fontSize:r,lineHeight:o,letterSpacing:s})};u.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.lineHeight+"-"+this.letterSpacing};return u}();t.BareFontInfo=n;var r=function(n){pe(e,n);function e(e,t){var i=n.call(this,e)||this;i.isTrusted=t;i.isMonospace=e.isMonospace;i.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth;i.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth;i.spaceWidth=e.spaceWidth;i.maxDigitWidth=e.maxDigitWidth;return i}e.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.spaceWidth===e.spaceWidth&&this.maxDigitWidth===e.maxDigitWidth};return e}(n);t.FontInfo=r});define(r[32],e([0,1,30,4,25,17,487,3,20,163,13,5,122,2,420,69,96,97,12,40,99,215,488,50,165,7,236,512,480]),function(e,o,u,l,c,d,h,y,f,T,s,p,m,t,g,v,_,C,b,S,w,E,n,i,L,r,a,x,N){"use strict";Object.defineProperty(o,"__esModule",{value:true});var I;(function(e){e[e["LinesArray"]=0]="LinesArray";e[e["PieceTree"]=1]="PieceTree";e[e["Chunks"]=2]="Chunks"})(I=o.TextBufferType||(o.TextBufferType={}));o.OPTIONS={TEXT_BUFFER_IMPLEMENTATION:I.PieceTree};function D(){if(o.OPTIONS.TEXT_BUFFER_IMPLEMENTATION===I.PieceTree){return new x.PieceTreeTextBufferBuilder}if(o.OPTIONS.TEXT_BUFFER_IMPLEMENTATION===I.Chunks){return new N.ChunksTextBufferBuilder}return new a.LinesTextBufferBuilder}function M(e){var t=D();t.acceptChunk(e);return t.finish()}o.createTextBufferFactory=M;function k(o,s){return new r.TPromise(function(e,t,i){var n=false;var r=D();o.on("data",function(e){if(s){e=s(e)}r.acceptChunk(e)});o.on("error",function(e){if(!n){n=true;t(e)}});o.on("end",function(){if(!n){n=true;e(r.finish())}})})}o.createTextBufferFactoryFromStream=k;function O(e){var t=D();var i;while(typeof(i=e.read())==="string"){t.acceptChunk(i)}return t.finish()}o.createTextBufferFactoryFromSnapshot=O;function R(e,t){var i=typeof e==="string"?M(e):e;return i.create(t)}o.createTextBuffer=R;var P=0;function A(e){var t=90-65+1;e=e%(2*t);if(e<t){return String.fromCharCode(97+e)}return String.fromCharCode(65+e-t)}var F=999;o.LONG_LINE_BOUNDARY=1e4;var W=function(){function e(e){this._source=e;this._eos=false}e.prototype.read=function(){if(this._eos){return null}var e=[],t=0,i=0;do{var n=this._source.read();if(n===null){this._eos=true;if(t===0){return null}else{return e.join("")}}if(n.length>0){e[t++]=n;i+=n.length}if(i>=64*1024){return e.join("")}}while(true)};return e}();var B=function(a){pe(D,a);function D(e,t,i,n){if(n===void 0){n=null}var r=a.call(this)||this;r._onWillDispose=r._register(new l.Emitter);r.onWillDispose=r._onWillDispose.event;r._onDidChangeDecorations=r._register(new G);r.onDidChangeDecorations=r._onDidChangeDecorations.event;r._onDidChangeLanguage=r._register(new l.Emitter);r.onDidChangeLanguage=r._onDidChangeLanguage.event;r._onDidChangeLanguageConfiguration=r._register(new l.Emitter);r.onDidChangeLanguageConfiguration=r._onDidChangeLanguageConfiguration.event;r._onDidChangeTokens=r._register(new l.Emitter);r.onDidChangeTokens=r._onDidChangeTokens.event;r._onDidChangeOptions=r._register(new l.Emitter);r.onDidChangeOptions=r._onDidChangeOptions.event;r._eventEmitter=r._register(new Y);P++;r.id="$model"+P;if(typeof n==="undefined"||n===null){r._associatedResource=u.default.parse("inmemory://model/"+P)}else{r._associatedResource=n}r._attachedEditorCount=0;r._buffer=R(e,t.defaultEOL);r._options=D.resolveOptions(r._buffer,t);var o=r._buffer.getLineCount();var s=r._buffer.getValueLengthInRange(new y.Range(1,1,o,r._buffer.getLineLength(o)+1),c.EndOfLinePreference.TextDefined);r._isTooLargeForTokenization=s>D.MODEL_TOKENIZATION_LIMIT||o>D.MANY_MANY_LINES;r._shouldSimplifyMode=r._isTooLargeForTokenization||s>D.MODEL_SYNC_LIMIT;r._setVersionId(1);r._isDisposed=false;r._isDisposing=false;r._languageIdentifier=i||v.NULL_LANGUAGE_IDENTIFIER;r._tokenizationListener=d.TokenizationRegistry.onDidChange(function(e){if(e.changedLanguages.indexOf(r._languageIdentifier.language)===-1){return}r._resetTokenizationState();r.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:r.getLineCount()}]});if(r._shouldAutoTokenize()){r._warmUpTokens()}});r._revalidateTokensTimeout=-1;r._languageRegistryListener=S.LanguageConfigurationRegistry.onDidChange(function(e){if(e.languageIdentifier.id===r._languageIdentifier.id){r._onDidChangeLanguageConfiguration.fire({})}});r._resetTokenizationState();r._instanceId=A(P);r._lastDecorationId=0;r._decorations=Object.create(null);r._decorationsTree=new V;r._commandManager=new h.EditStack(r);r._isUndoing=false;r._isRedoing=false;r._trimAutoWhitespaceLines=null;return r}D.createFromString=function(e,t,i,n){if(t===void 0){t=D.DEFAULT_CREATION_OPTIONS}if(i===void 0){i=null}if(n===void 0){n=null}return new D(e,t,i,n)};D.resolveOptions=function(e,t){if(t.detectIndentation){var i=n.guessIndentation(e,t.tabSize,t.insertSpaces);return new c.TextModelResolvedOptions({tabSize:i.tabSize,insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new c.TextModelResolvedOptions({tabSize:t.tabSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})};D.prototype.onDidChangeRawContent=function(t){return this._eventEmitter.event(function(e){return t(e.rawContentChangedEvent)})};D.prototype.onDidChangeContent=function(t){return this._eventEmitter.event(function(e){return t(e.contentChangedEvent)})};D.prototype.dispose=function(){this._isDisposing=true;this._onWillDispose.fire();this._commandManager=null;this._decorations=null;this._decorationsTree=null;this._tokenizationListener.dispose();this._languageRegistryListener.dispose();this._clearTimers();this._tokens=null;this._isDisposed=true;this._buffer=null;a.prototype.dispose.call(this);this._isDisposing=false};D.prototype._assertNotDisposed=function(){if(this._isDisposed){throw new Error("Model is disposed!")}};D.prototype.equalsTextBuffer=function(e){this._assertNotDisposed();return this._buffer.equals(e)};D.prototype._emitContentChangedEvent=function(e,t){if(this._isDisposing){return}this._eventEmitter.fire(new T.InternalModelContentChangeEvent(e,t))};D.prototype.setValue=function(e){this._assertNotDisposed();if(e===null){return}var t=R(e,this._options.defaultEOL);this.setValueFromTextBuffer(t)};D.prototype._createContentChanged2=function(e,t,i,n,r,o,s,a,u){return{changes:[{range:new y.Range(e,t,i,n),rangeLength:r,text:o}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:s,isRedoing:a,isFlush:u}};D.prototype.setValueFromTextBuffer=function(e){this._assertNotDisposed();if(e===null){return}var t=this.getFullModelRange();var i=this.getValueLengthInRange(t);var n=this.getLineCount();var r=this.getLineMaxColumn(n);this._buffer=e;this._increaseVersionId();this._resetTokenizationState();this._decorations=Object.create(null);this._decorationsTree=new V;this._commandManager=new h.EditStack(this);this._trimAutoWhitespaceLines=null;this._emitContentChangedEvent(new T.ModelRawContentChangedEvent([new T.ModelRawFlush],this._versionId,false,false),this._createContentChanged2(1,1,n,r,i,this.getValue(),false,false,true))};D.prototype.setEOL=function(e){this._assertNotDisposed();var t=e===c.EndOfLineSequence.CRLF?"\r\n":"\n";if(this._buffer.getEOL()===t){return}var i=this.getFullModelRange();var n=this.getValueLengthInRange(i);var r=this.getLineCount();var o=this.getLineMaxColumn(r);this._onBeforeEOLChange();this._buffer.setEOL(t);this._increaseVersionId();this._onAfterEOLChange();this._emitContentChangedEvent(new T.ModelRawContentChangedEvent([new T.ModelRawEOLChanged],this._versionId,false,false),this._createContentChanged2(1,1,r,o,n,this.getValue(),false,false,false))};D.prototype._onBeforeEOLChange=function(){var e=this.getVersionId();var t=this._decorationsTree.search(0,false,false,e);this._ensureNodesHaveRanges(t)};D.prototype._onAfterEOLChange=function(){var e=this.getVersionId();var t=this._decorationsTree.collectNodesPostOrder();for(var i=0,n=t.length;i<n;i++){var r=t[i];var o=r.cachedAbsoluteStart-r.start;var s=this._buffer.getOffsetAt(r.range.startLineNumber,r.range.startColumn);var a=this._buffer.getOffsetAt(r.range.endLineNumber,r.range.endColumn);r.cachedAbsoluteStart=s;r.cachedAbsoluteEnd=a;r.cachedVersionId=e;r.start=s-o;r.end=a-o;m.recomputeMaxEnd(r)}};D.prototype._resetTokenizationState=function(){this._clearTimers();var e=this._isTooLargeForTokenization?null:d.TokenizationRegistry.get(this._languageIdentifier.language);this._tokens=new E.ModelLinesTokens(this._languageIdentifier,e);this._beginBackgroundTokenization()};D.prototype._clearTimers=function(){if(this._revalidateTokensTimeout!==-1){clearTimeout(this._revalidateTokensTimeout);this._revalidateTokensTimeout=-1}};D.prototype.onBeforeAttached=function(){this._attachedEditorCount++;this._warmUpTokens()};D.prototype.onBeforeDetached=function(){this._attachedEditorCount--};D.prototype._shouldAutoTokenize=function(){return this.isAttachedToEditor()};D.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0};D.prototype.isTooLargeForHavingARichMode=function(){return this._shouldSimplifyMode};D.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization};D.prototype.isDisposed=function(){return this._isDisposed};D.prototype.isDominatedByLongLines=function(){this._assertNotDisposed();if(this.isTooLargeForTokenization()){return false}var e=0;var t=0;var i=this._buffer.getLineCount();for(var n=1;n<=i;n++){var r=this._buffer.getLineLength(n);if(r>=o.LONG_LINE_BOUNDARY){t+=r}else{e+=r}}return t>e};Object.defineProperty(D.prototype,"uri",{get:function(){return this._associatedResource},enumerable:true,configurable:true});D.prototype.getOptions=function(){this._assertNotDisposed();return this._options};D.prototype.updateOptions=function(e){this._assertNotDisposed();var t=typeof e.tabSize!=="undefined"?e.tabSize:this._options.tabSize;var i=typeof e.insertSpaces!=="undefined"?e.insertSpaces:this._options.insertSpaces;var n=typeof e.trimAutoWhitespace!=="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace;var r=new c.TextModelResolvedOptions({tabSize:t,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:n});if(this._options.equals(r)){return}var o=this._options.createChangeEvent(r);this._options=r;this._onDidChangeOptions.fire(o)};D.prototype.detectIndentation=function(e,t){this._assertNotDisposed();var i=n.guessIndentation(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize})};D._normalizeIndentationFromWhitespace=function(e,t,i){var n=0;for(var r=0;r<e.length;r++){if(e.charAt(r)==="\t"){n+=t}else{n++}}var o="";if(!i){var s=Math.floor(n/t);n=n%t;for(var r=0;r<s;r++){o+="\t"}}for(var r=0;r<n;r++){o+=" "}return o};D.normalizeIndentation=function(e,t,i){var n=p.firstNonWhitespaceIndex(e);if(n===-1){n=e.length}return D._normalizeIndentationFromWhitespace(e.substring(0,n),t,i)+e.substring(n)};D.prototype.normalizeIndentation=function(e){this._assertNotDisposed();return D.normalizeIndentation(e,this._options.tabSize,this._options.insertSpaces)};D.prototype.getOneIndent=function(){this._assertNotDisposed();var e=this._options.tabSize;var t=this._options.insertSpaces;if(t){var i="";for(var n=0;n<e;n++){i+=" "}return i}else{return"\t"}};D.prototype.getVersionId=function(){this._assertNotDisposed();return this._versionId};D.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()};D.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()};D.prototype.getAlternativeVersionId=function(){this._assertNotDisposed();return this._alternativeVersionId};D.prototype.getOffsetAt=function(e){this._assertNotDisposed();var t=this._validatePosition(e.lineNumber,e.column,false);return this._buffer.getOffsetAt(t.lineNumber,t.column)};D.prototype.getPositionAt=function(e){this._assertNotDisposed();var t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)};D.prototype._increaseVersionId=function(){this._setVersionId(this._versionId+1)};D.prototype._setVersionId=function(e){this._versionId=e;this._alternativeVersionId=this._versionId};D.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e};D.prototype.getValue=function(e,t){if(t===void 0){t=false}this._assertNotDisposed();var i=this.getFullModelRange();var n=this.getValueInRange(i,e);if(t){return this._buffer.getBOM()+n}return n};D.prototype.createSnapshot=function(e){if(e===void 0){e=false}return new W(this._buffer.createSnapshot(e))};D.prototype.getValueLength=function(e,t){if(t===void 0){t=false}this._assertNotDisposed();var i=this.getFullModelRange();var n=this.getValueLengthInRange(i,e);if(t){return this._buffer.getBOM().length+n}return n};D.prototype.getValueInRange=function(e,t){if(t===void 0){t=c.EndOfLinePreference.TextDefined}this._assertNotDisposed();return this._buffer.getValueInRange(this.validateRange(e),t)};D.prototype.getValueLengthInRange=function(e,t){if(t===void 0){t=c.EndOfLinePreference.TextDefined}this._assertNotDisposed();return this._buffer.getValueLengthInRange(this.validateRange(e),t)};D.prototype.getLineCount=function(){this._assertNotDisposed();return this._buffer.getLineCount()};D.prototype.getLineContent=function(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new Error("Illegal value for lineNumber")}return this._buffer.getLineContent(e)};D.prototype.getLinesContent=function(){this._assertNotDisposed();return this._buffer.getLinesContent()};D.prototype.getEOL=function(){this._assertNotDisposed();return this._buffer.getEOL()};D.prototype.getLineMinColumn=function(e){this._assertNotDisposed();return 1};D.prototype.getLineMaxColumn=function(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new Error("Illegal value for lineNumber")}return this._buffer.getLineLength(e)+1};D.prototype.getLineFirstNonWhitespaceColumn=function(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new Error("Illegal value for lineNumber")}return this._buffer.getLineFirstNonWhitespaceColumn(e)};D.prototype.getLineLastNonWhitespaceColumn=function(e){this._assertNotDisposed();if(e<1||e>this.getLineCount()){throw new Error("Illegal value for lineNumber")}return this._buffer.getLineLastNonWhitespaceColumn(e)};D.prototype._validateRangeRelaxedNoAllocations=function(e){var t=this._buffer.getLineCount();var i=e.startLineNumber;var n=e.startColumn;var r;var o;if(i<1){r=1;o=1}else if(i>t){r=t;o=this.getLineMaxColumn(r)}else{r=i|0;if(n<=1){o=1}else{var s=this.getLineMaxColumn(r);if(n>=s){o=s}else{o=n|0}}}var a=e.endLineNumber;var u=e.endColumn;var l;var c;if(a<1){l=1;c=1}else if(a>t){l=t;c=this.getLineMaxColumn(l)}else{l=a|0;if(u<=1){c=1}else{var s=this.getLineMaxColumn(l);if(u>=s){c=s}else{c=u|0}}}if(i===r&&n===o&&a===l&&u===c&&e instanceof y.Range&&!(e instanceof f.Selection)){return e}return new y.Range(r,o,l,c)};D.prototype._validatePosition=function(e,t,i){var n=Math.floor(typeof e==="number"?e:1);var r=Math.floor(typeof t==="number"?t:1);var o=this._buffer.getLineCount();if(n<1){return new b.Position(1,1)}if(n>o){return new b.Position(o,this.getLineMaxColumn(o))}if(r<=1){return new b.Position(n,1)}var s=this.getLineMaxColumn(n);if(r>=s){return new b.Position(n,s)}if(i){var a=this._buffer.getLineCharCode(n,r-2);if(p.isHighSurrogate(a)){return new b.Position(n,r-1)}}return new b.Position(n,r)};D.prototype.validatePosition=function(e){this._assertNotDisposed();return this._validatePosition(e.lineNumber,e.column,true)};D.prototype.validateRange=function(e){this._assertNotDisposed();var t=this._validatePosition(e.startLineNumber,e.startColumn,false);var i=this._validatePosition(e.endLineNumber,e.endColumn,false);var n=t.lineNumber;var r=t.column;var o=i.lineNumber;var s=i.column;var a=r>1?this._buffer.getLineCharCode(n,r-2):0;var u=s>1&&s<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,s-2):0;var l=p.isHighSurrogate(a);var c=p.isHighSurrogate(u);if(!l&&!c){return new y.Range(n,r,o,s)}if(n===o&&r===s){return new y.Range(n,r-1,o,s-1)}if(l&&c){return new y.Range(n,r-1,o,s+1)}if(l){return new y.Range(n,r-1,o,s)}return new y.Range(n,r,o,s+1)};D.prototype.modifyPosition=function(e,t){this._assertNotDisposed();var i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))};D.prototype.getFullModelRange=function(){this._assertNotDisposed();var e=this.getLineCount();return new y.Range(1,1,e,this.getLineMaxColumn(e))};D.prototype.findMatches=function(e,t,i,n,r,o,s){if(s===void 0){s=F}this._assertNotDisposed();var a;if(y.Range.isIRange(t)){a=this.validateRange(t)}else{a=this.getFullModelRange()}return L.TextModelSearch.findMatches(this,new L.SearchParams(e,i,n,r),a,o,s)};D.prototype.findNextMatch=function(e,t,i,n,r,o){this._assertNotDisposed();var s=this.validatePosition(t);return L.TextModelSearch.findNextMatch(this,new L.SearchParams(e,i,n,r),s,o)};D.prototype.findPreviousMatch=function(e,t,i,n,r,o){this._assertNotDisposed();var s=this.validatePosition(t);return L.TextModelSearch.findPreviousMatch(this,new L.SearchParams(e,i,n,r),s,o)};D.prototype.pushStackElement=function(){this._commandManager.pushStackElement()};D.prototype.pushEditOperations=function(e,t,i){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();return this._pushEditOperations(e,t,i)}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}};D.prototype._pushEditOperations=function(e,t,i){var n=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){var r=t.map(function(e){return{range:n.validateRange(e.range),text:e.text}});var o=true;for(var s=0,a=e.length;s<a;s++){var u=e[s];var l=false;for(var c=0,d=r.length;c<d;c++){var h=r[c].range;var f=h.startLineNumber>u.endLineNumber;var p=u.startLineNumber>h.endLineNumber;if(!f&&!p){l=true;break}}if(!l){o=false;break}}if(o){for(var s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){var g=this._trimAutoWhitespaceLines[s];var v=this.getLineMaxColumn(g);var m=true;for(var c=0,d=r.length;c<d;c++){var h=r[c].range;var _=r[c].text;if(g<h.startLineNumber||g>h.endLineNumber){continue}if(g===h.startLineNumber&&h.startColumn===v&&h.isEmpty()&&_&&_.length>0&&_.charAt(0)==="\n"){continue}m=false;break}if(m){t.push({range:new y.Range(g,1,g,v),text:null})}}}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(e,t,i)};D.prototype.applyEdits=function(e){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();return this._applyEdits(e)}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}};D._eolCount=function(e){var t=0;var i=0;for(var n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);if(o===13){if(t===0){i=n}t++;if(n+1<r&&e.charCodeAt(n+1)===10){n++}else{}}else if(o===10){if(t===0){i=n}t++}}if(t===0){i=e.length}return[t,i]};D.prototype._applyEdits=function(e){for(var t=0,i=e.length;t<i;t++){e[t].range=this.validateRange(e[t].range)}var n=this._buffer.getLineCount();var r=this._buffer.applyEdits(e,this._options.trimAutoWhitespace);var o=this._buffer.getLineCount();var s=r.changes;this._trimAutoWhitespaceLines=r.trimAutoWhitespaceLineNumbers;if(s.length!==0){var a=[];var u=n;for(var t=0,i=s.length;t<i;t++){var l=s[t];var c=D._eolCount(l.text),d=c[0],h=c[1];this._tokens.applyEdits(l.range,d,h);this._onDidChangeDecorations.fire();this._decorationsTree.acceptReplace(l.rangeOffset,l.rangeLength,l.text.length,l.forceMoveMarkers);var f=l.range.startLineNumber;var p=l.range.endLineNumber;var g=p-f;var v=d;var m=Math.min(g,v);var _=v-g;for(var y=m;y>=0;y--){var C=f+y;var b=o-u-_+C;a.push(new T.ModelRawLineChanged(C,this.getLineContent(b)))}if(m<g){var S=f+m;a.push(new T.ModelRawLinesDeleted(S+1,p))}if(m<v){var w=f+m;var E=v-m;var L=o-u-E+w+1;var x=[];for(var N=0;N<E;N++){var I=L+N;x[I-L]=this.getLineContent(I)}a.push(new T.ModelRawLinesInserted(w+1,f+v,x))}u+=_}this._increaseVersionId();this._emitContentChangedEvent(new T.ModelRawContentChangedEvent(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:false})}if(this._tokens.hasLinesToTokenize(this._buffer)){this._beginBackgroundTokenization()}return r.reverseEdits};D.prototype._undo=function(){this._isUndoing=true;var e=this._commandManager.undo();this._isUndoing=false;if(!e){return null}this._overwriteAlternativeVersionId(e.recordedVersionId);return e.selections};D.prototype.undo=function(){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();return this._undo()}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}};D.prototype._redo=function(){this._isRedoing=true;var e=this._commandManager.redo();this._isRedoing=false;if(!e){return null}this._overwriteAlternativeVersionId(e.recordedVersionId);return e.selections};D.prototype.redo=function(){try{this._onDidChangeDecorations.beginDeferredEmit();this._eventEmitter.beginDeferredEmit();return this._redo()}finally{this._eventEmitter.endDeferredEmit();this._onDidChangeDecorations.endDeferredEmit()}};D.prototype.changeDecorations=function(e,t){if(t===void 0){t=0}this._assertNotDisposed();try{this._onDidChangeDecorations.beginDeferredEmit();return this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}};D.prototype._changeDecorations=function(i,e){var n=this;var t={addDecoration:function(e,t){n._onDidChangeDecorations.fire();return n._deltaDecorationsImpl(i,[],[{range:e,options:t}])[0]},changeDecoration:function(e,t){n._onDidChangeDecorations.fire();n._changeDecorationImpl(e,t)},changeDecorationOptions:function(e,t){n._onDidChangeDecorations.fire();n._changeDecorationOptionsImpl(e,q(t))},removeDecoration:function(e){n._onDidChangeDecorations.fire();n._deltaDecorationsImpl(i,[e],[])},deltaDecorations:function(e,t){if(e.length===0&&t.length===0){return[]}n._onDidChangeDecorations.fire();return n._deltaDecorationsImpl(i,e,t)}};var r=null;try{r=e(t)}catch(e){s.onUnexpectedError(e)}t.addDecoration=null;t.changeDecoration=null;t.removeDecoration=null;t.deltaDecorations=null;return r};D.prototype.deltaDecorations=function(e,t,i){if(i===void 0){i=0}this._assertNotDisposed();if(!e){e=[]}if(e.length===0&&t.length===0){return[]}try{this._onDidChangeDecorations.beginDeferredEmit();this._onDidChangeDecorations.fire();return this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}};D.prototype._getTrackedRange=function(e){return this.getDecorationRange(e)};D.prototype._setTrackedRange=function(e,t,i){var n=e?this._decorations[e]:null;if(!n){if(!t){return null}return this._deltaDecorationsImpl(0,[],[{range:t,options:j[i]}])[0]}if(!t){this._decorationsTree.delete(n);delete this._decorations[n.id];return null}var r=this._validateRangeRelaxedNoAllocations(t);var o=this._buffer.getOffsetAt(r.startLineNumber,r.startColumn);var s=this._buffer.getOffsetAt(r.endLineNumber,r.endColumn);this._decorationsTree.delete(n);n.reset(this.getVersionId(),o,s,r);n.setOptions(j[i]);this._decorationsTree.insert(n);return n.id};D.prototype.removeAllDecorationsWithOwnerId=function(e){if(this._isDisposed){return}var t=this._decorationsTree.collectNodesFromOwner(e);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._decorationsTree.delete(r);delete this._decorations[r.id]}};D.prototype.getDecorationOptions=function(e){var t=this._decorations[e];if(!t){return null}return t.options};D.prototype.getDecorationRange=function(e){var t=this._decorations[e];if(!t){return null}var i=this.getVersionId();if(t.cachedVersionId!==i){this._decorationsTree.resolveNode(t,i)}if(t.range===null){t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)}return t.range};D.prototype.getLineDecorations=function(e,t,i){if(t===void 0){t=0}if(i===void 0){i=false}if(e<1||e>this.getLineCount()){return[]}return this.getLinesDecorations(e,e,t,i)};D.prototype.getLinesDecorations=function(e,t,i,n){if(i===void 0){i=0}if(n===void 0){n=false}var r=this.getLineCount();var o=Math.min(r,Math.max(1,e));var s=Math.min(r,Math.max(1,t));var a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new y.Range(o,1,s,a),i,n)};D.prototype.getDecorationsInRange=function(e,t,i){if(t===void 0){t=0}if(i===void 0){i=false}var n=this.validateRange(e);return this._getDecorationsInRange(n,t,i)};D.prototype.getOverviewRulerDecorations=function(e,t){if(e===void 0){e=0}if(t===void 0){t=false}var i=this.getVersionId();var n=this._decorationsTree.search(e,t,true,i);return this._ensureNodesHaveRanges(n)};D.prototype.getAllDecorations=function(e,t){if(e===void 0){e=0}if(t===void 0){t=false}var i=this.getVersionId();var n=this._decorationsTree.search(e,t,false,i);return this._ensureNodesHaveRanges(n)};D.prototype._getDecorationsInRange=function(e,t,i){var n=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn);var r=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);var o=this.getVersionId();var s=this._decorationsTree.intervalSearch(n,r,t,i,o);return this._ensureNodesHaveRanges(s)};D.prototype._ensureNodesHaveRanges=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.range===null){n.range=this._getRangeAt(n.cachedAbsoluteStart,n.cachedAbsoluteEnd)}}return e};D.prototype._getRangeAt=function(e,t){return this._buffer.getRangeAt(e,t-e)};D.prototype._changeDecorationImpl=function(e,t){var i=this._decorations[e];if(!i){return}var n=this._validateRangeRelaxedNoAllocations(t);var r=this._buffer.getOffsetAt(n.startLineNumber,n.startColumn);var o=this._buffer.getOffsetAt(n.endLineNumber,n.endColumn);this._decorationsTree.delete(i);i.reset(this.getVersionId(),r,o,n);this._decorationsTree.insert(i)};D.prototype._changeDecorationOptionsImpl=function(e,t){var i=this._decorations[e];if(!i){return}var n=i.options.overviewRuler.color?true:false;var r=t.overviewRuler.color?true:false;if(n!==r){this._decorationsTree.delete(i);i.setOptions(t);this._decorationsTree.insert(i)}else{i.setOptions(t)}};D.prototype._deltaDecorationsImpl=function(e,t,i){var n=this.getVersionId();var r=t.length;var o=0;var s=i.length;var a=0;var u=new Array(s);while(o<r||a<s){var l=null;if(o<r){do{l=this._decorations[t[o++]]}while(!l&&o<r);if(l){this._decorationsTree.delete(l)}}if(a<s){if(!l){var c=++this._lastDecorationId;var d=this._instanceId+";"+c;l=new m.IntervalNode(d,0,0);this._decorations[d]=l}var h=i[a];var f=this._validateRangeRelaxedNoAllocations(h.range);var p=q(h.options);var g=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn);var v=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);l.ownerId=e;l.reset(n,g,v,f);l.setOptions(p);this._decorationsTree.insert(l);u[a]=l.id;a++}else{if(l){delete this._decorations[l.id]}}}return u};D.prototype.forceTokenization=function(e){if(e<1||e>this.getLineCount()){throw new Error("Illegal value for lineNumber")}var t=new E.ModelTokensChangedEventBuilder;this._tokens._updateTokensUntilLine(this._buffer,t,e);var i=t.build();if(i){this._onDidChangeTokens.fire(i)}};D.prototype.isCheapToTokenize=function(e){return this._tokens.isCheapToTokenize(e)};D.prototype.tokenizeIfCheap=function(e){if(this.isCheapToTokenize(e)){this.forceTokenization(e)}};D.prototype.getLineTokens=function(e){if(e<1||e>this.getLineCount()){throw new Error("Illegal value for lineNumber")}return this._getLineTokens(e)};D.prototype._getLineTokens=function(e){var t=this._buffer.getLineContent(e);return this._tokens.getTokens(this._languageIdentifier.id,e-1,t)};D.prototype.getLanguageIdentifier=function(){return this._languageIdentifier};D.prototype.getModeId=function(){return this._languageIdentifier.language};D.prototype.setMode=function(e){if(this._languageIdentifier.id===e.id){return}var t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e;this._resetTokenizationState();this.emitModelTokensChangedEvent({ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]});this._onDidChangeLanguage.fire(t);this._onDidChangeLanguageConfiguration.fire({})};D.prototype.getLanguageIdAtPosition=function(e,t){if(!this._tokens.tokenizationSupport){return this._languageIdentifier.id}var i=this.validatePosition({lineNumber:e,column:t}),n=i.lineNumber,r=i.column;var o=this._getLineTokens(n);return o.getLanguageId(o.findTokenIndexAtOffset(r-1))};D.prototype._beginBackgroundTokenization=function(){var e=this;if(this._shouldAutoTokenize()&&this._revalidateTokensTimeout===-1){this._revalidateTokensTimeout=setTimeout(function(){e._revalidateTokensTimeout=-1;e._revalidateTokensNow()},0)}};D.prototype._warmUpTokens=function(){var e=Math.min(100,this.getLineCount());this._revalidateTokensNow(e);if(this._tokens.hasLinesToTokenize(this._buffer)){this._beginBackgroundTokenization()}};D.prototype._revalidateTokensNow=function(e){if(e===void 0){e=this._buffer.getLineCount()}var t=20;var i=new E.ModelTokensChangedEventBuilder;var n=g.StopWatch.create(false);while(this._tokens.hasLinesToTokenize(this._buffer)){if(n.elapsed()>t){break}var r=this._tokens._tokenizeOneLine(this._buffer,i);if(r>=e){break}}if(this._tokens.hasLinesToTokenize(this._buffer)){this._beginBackgroundTokenization()}var o=i.build();if(o){this._onDidChangeTokens.fire(o)}};D.prototype.emitModelTokensChangedEvent=function(e){if(!this._isDisposing){this._onDidChangeTokens.fire(e)}};D.prototype.getWordAtPosition=function(e){this._assertNotDisposed();var t=this.validatePosition(e);var i=this.getLineContent(t.lineNumber);var n=this._getLineTokens(t.lineNumber);var r=t.column-1;var o=n.findTokenIndexAtOffset(r);var s=n.getLanguageId(o);var a;for(var u=o;u>=0&&n.getLanguageId(u)===s;u--){a=n.getStartOffset(u)}var l;for(var u=o,c=n.getCount();u<c&&n.getLanguageId(u)===s;u++){l=n.getEndOffset(u)}return w.getWordAtText(t.column,S.LanguageConfigurationRegistry.getWordDefinition(s),i.substring(a,l),a)};D.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);if(!t){return{word:"",startColumn:e.column,endColumn:e.column}}return{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}};D.prototype.findMatchingBracketUp=function(e,t){var i=e.toLowerCase();var n=this.validatePosition(t);var r=this._getLineTokens(n.lineNumber);var o=r.getLanguageId(r.findTokenIndexAtOffset(n.column-1));var s=S.LanguageConfigurationRegistry.getBracketsSupport(o);if(!s){return null}var a=s.textIsBracket[i];if(!a){return null}return this._findMatchingBracketUp(a,n)};D.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))};D.prototype._matchBracket=function(e){var t=e.lineNumber;var i=this._getLineTokens(t);var n=this._buffer.getLineContent(t);var r=i.findTokenIndexAtOffset(e.column-1);if(r<0){return null}var o=S.LanguageConfigurationRegistry.getBracketsSupport(i.getLanguageId(r));if(o&&!_.ignoreBracketsInToken(i.getStandardTokenType(r))){var s=Math.max(i.getStartOffset(r),e.column-1-o.maxBracketLength);var a=Math.min(i.getEndOffset(r),e.column-1+o.maxBracketLength);var u=C.BracketsUtils.findNextBracketInToken(o.forwardRegex,t,n,e.column-1,a);if(u&&u.startColumn===e.column){var l=n.substring(u.startColumn-1,u.endColumn-1);l=l.toLowerCase();var c=this._matchFoundBracket(u,o.textIsBracket[l],o.textIsOpenBracket[l]);if(c){return c}}while(true){var d=C.BracketsUtils.findNextBracketInToken(o.forwardRegex,t,n,s,a);if(!d){break}if(d.startColumn<=e.column&&e.column<=d.endColumn){var l=n.substring(d.startColumn-1,d.endColumn-1);l=l.toLowerCase();var c=this._matchFoundBracket(d,o.textIsBracket[l],o.textIsOpenBracket[l]);if(c){return c}}s=d.endColumn-1}}if(r>0&&i.getStartOffset(r)===e.column-1){var a=i.getStartOffset(r);r--;var h=S.LanguageConfigurationRegistry.getBracketsSupport(i.getLanguageId(r));if(h&&!_.ignoreBracketsInToken(i.getStandardTokenType(r))){var s=Math.max(i.getStartOffset(r),e.column-1-h.maxBracketLength);var u=C.BracketsUtils.findPrevBracketInToken(h.reversedRegex,t,n,s,a);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn){var l=n.substring(u.startColumn-1,u.endColumn-1);l=l.toLowerCase();var c=this._matchFoundBracket(u,h.textIsBracket[l],h.textIsOpenBracket[l]);if(c){return c}}}}return null};D.prototype._matchFoundBracket=function(e,t,i){if(i){var n=this._findMatchingBracketDown(t,e.getEndPosition());if(n){return[e,n]}}else{var n=this._findMatchingBracketUp(t,e.getStartPosition());if(n){return[e,n]}}return null};D.prototype._findMatchingBracketUp=function(e,t){var i=e.languageIdentifier.id;var n=e.reversedRegex;var r=-1;for(var o=t.lineNumber;o>=1;o--){var s=this._getLineTokens(o);var a=s.getCount();var u=this._buffer.getLineContent(o);var l=a-1;var c=-1;if(o===t.lineNumber){l=s.findTokenIndexAtOffset(t.column-1);c=t.column-1}for(;l>=0;l--){var d=s.getLanguageId(l);var h=s.getStandardTokenType(l);var f=s.getStartOffset(l);var p=s.getEndOffset(l);if(c===-1){c=p}if(d===i&&!_.ignoreBracketsInToken(h)){while(true){var g=C.BracketsUtils.findPrevBracketInToken(n,o,u,f,c);if(!g){break}var v=u.substring(g.startColumn-1,g.endColumn-1);v=v.toLowerCase();if(v===e.open){r++}else if(v===e.close){r--}if(r===0){return g}c=g.startColumn-1}}c=-1}}return null};D.prototype._findMatchingBracketDown=function(e,t){var i=e.languageIdentifier.id;var n=e.forwardRegex;var r=1;for(var o=t.lineNumber,s=this.getLineCount();o<=s;o++){var a=this._getLineTokens(o);var u=a.getCount();var l=this._buffer.getLineContent(o);var c=0;var d=0;if(o===t.lineNumber){c=a.findTokenIndexAtOffset(t.column-1);d=t.column-1}for(;c<u;c++){var h=a.getLanguageId(c);var f=a.getStandardTokenType(c);var p=a.getStartOffset(c);var g=a.getEndOffset(c);if(d===0){d=p}if(h===i&&!_.ignoreBracketsInToken(f)){while(true){var v=C.BracketsUtils.findNextBracketInToken(n,o,l,d,g);if(!v){break}var m=l.substring(v.startColumn-1,v.endColumn-1);m=m.toLowerCase();if(m===e.open){r++}else if(m===e.close){r--}if(r===0){return v}d=v.endColumn-1}}d=0}}return null};D.prototype.findPrevBracket=function(e){var t=this.validatePosition(e);var i=-1;var n=null;for(var r=t.lineNumber;r>=1;r--){var o=this._getLineTokens(r);var s=o.getCount();var a=this._buffer.getLineContent(r);var u=s-1;var l=-1;if(r===t.lineNumber){u=o.findTokenIndexAtOffset(t.column-1);l=t.column-1}for(;u>=0;u--){var c=o.getLanguageId(u);var d=o.getStandardTokenType(u);var h=o.getStartOffset(u);var f=o.getEndOffset(u);if(l===-1){l=f}if(i!==c){i=c;n=S.LanguageConfigurationRegistry.getBracketsSupport(i)}if(n&&!_.ignoreBracketsInToken(d)){var p=C.BracketsUtils.findPrevBracketInToken(n.reversedRegex,r,a,h,l);if(p){return this._toFoundBracket(n,p)}}l=-1}}return null};D.prototype.findNextBracket=function(e){var t=this.validatePosition(e);var i=-1;var n=null;for(var r=t.lineNumber,o=this.getLineCount();r<=o;r++){var s=this._getLineTokens(r);var a=s.getCount();var u=this._buffer.getLineContent(r);var l=0;var c=0;if(r===t.lineNumber){l=s.findTokenIndexAtOffset(t.column-1);c=t.column-1}for(;l<a;l++){var d=s.getLanguageId(l);var h=s.getStandardTokenType(l);var f=s.getStartOffset(l);var p=s.getEndOffset(l);if(c===0){c=f}if(i!==d){i=d;n=S.LanguageConfigurationRegistry.getBracketsSupport(i)}if(n&&!_.ignoreBracketsInToken(h)){var g=C.BracketsUtils.findNextBracketInToken(n.forwardRegex,r,u,c,p);if(g){return this._toFoundBracket(n,g)}}c=0}}return null};D.prototype._toFoundBracket=function(e,t){if(!t){return null}var i=this.getValueInRange(t);i=i.toLowerCase();var n=e.textIsBracket[i];if(!n){return null}return{range:t,open:n.open,close:n.close,isOpen:e.textIsOpenBracket[i]}};D.computeIndentLevel=function(e,t){var i=0;var n=0;var r=e.length;while(n<r){var o=e.charCodeAt(n);if(o===32){i++}else if(o===9){i=i-i%t+t}else{break}n++}if(n===r){return-1}return i};D.prototype._computeIndentLevel=function(e){return D.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)};D.prototype.getLinesIndentGuides=function(e,t){this._assertNotDisposed();var i=this.getLineCount();if(e<1||e>i){throw new Error("Illegal value for startLineNumber")}if(t<1||t>i){throw new Error("Illegal value for endLineNumber")}var n=S.LanguageConfigurationRegistry.getFoldingRules(this._languageIdentifier.id);var r=n&&n.offSide;var o=new Array(t-e+1);var s=-2;var a=-1;var u=-2;var l=-1;for(var c=e;c<=t;c++){var d=c-e;var h=this._computeIndentLevel(c-1);if(h>=0){s=c-1;a=h;o[d]=Math.ceil(h/this._options.tabSize);continue}if(s===-2){s=-1;a=-1;for(var f=c-2;f>=0;f--){var p=this._computeIndentLevel(f);if(p>=0){s=f;a=p;break}}}if(u!==-1&&(u===-2||u<c-1)){u=-1;l=-1;for(var f=c;f<i;f++){var p=this._computeIndentLevel(f);if(p>=0){u=f;l=p;break}}}if(a===-1||l===-1){o[d]=0}else if(a<l){o[d]=1+Math.floor(a/this._options.tabSize)}else if(a===l){o[d]=Math.ceil(l/this._options.tabSize)}else{if(r){o[d]=Math.ceil(l/this._options.tabSize)}else{o[d]=1+Math.floor(l/this._options.tabSize)}}}return o};D.MODEL_SYNC_LIMIT=50*1024*1024;D.MODEL_TOKENIZATION_LIMIT=20*1024*1024;D.MANY_MANY_LINES=300*1e3;D.DEFAULT_CREATION_OPTIONS={tabSize:i.EDITOR_MODEL_DEFAULTS.tabSize,insertSpaces:i.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:false,defaultEOL:c.DefaultEndOfLine.LF,trimAutoWhitespace:i.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace};return D}(t.Disposable);o.TextModel=B;var V=function(){function e(){this._decorationsTree0=new m.IntervalTree;this._decorationsTree1=new m.IntervalTree}e.prototype.intervalSearch=function(e,t,i,n,r){var o=this._decorationsTree0.intervalSearch(e,t,i,n,r);var s=this._decorationsTree1.intervalSearch(e,t,i,n,r);return o.concat(s)};e.prototype.search=function(e,t,i,n){if(i){return this._decorationsTree1.search(e,t,n)}else{var r=this._decorationsTree0.search(e,t,n);var o=this._decorationsTree1.search(e,t,n);return r.concat(o)}};e.prototype.collectNodesFromOwner=function(e){var t=this._decorationsTree0.collectNodesFromOwner(e);var i=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(i)};e.prototype.collectNodesPostOrder=function(){var e=this._decorationsTree0.collectNodesPostOrder();var t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)};e.prototype.insert=function(e){if(m.getNodeIsInOverviewRuler(e)){this._decorationsTree1.insert(e)}else{this._decorationsTree0.insert(e)}};e.prototype.delete=function(e){if(m.getNodeIsInOverviewRuler(e)){this._decorationsTree1.delete(e)}else{this._decorationsTree0.delete(e)}};e.prototype.resolveNode=function(e,t){if(m.getNodeIsInOverviewRuler(e)){this._decorationsTree1.resolveNode(e,t)}else{this._decorationsTree0.resolveNode(e,t)}};e.prototype.acceptReplace=function(e,t,i,n){this._decorationsTree0.acceptReplace(e,t,i,n);this._decorationsTree1.acceptReplace(e,t,i,n)};return e}();function H(e){return e.replace(/[^a-z0-9\-]/gi," ")}var z=function(){function e(e){this.color=p.empty;this.darkColor=p.empty;this.hcColor=p.empty;this.position=c.OverviewRulerLane.Center;this._resolvedColor=null;if(e&&e.color){this.color=e.color}if(e&&e.darkColor){this.darkColor=e.darkColor;this.hcColor=e.darkColor}if(e&&e.hcColor){this.hcColor=e.hcColor}if(e&&e.hasOwnProperty("position")){this.position=e.position}}return e}();o.ModelDecorationOverviewRulerOptions=z;var K=0;var U=function(){function t(e,t){this.staticId=e;this.stickiness=t.stickiness||c.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges;this.className=t.className?H(t.className):p.empty;this.hoverMessage=t.hoverMessage||[];this.glyphMarginHoverMessage=t.glyphMarginHoverMessage||[];this.isWholeLine=t.isWholeLine||false;this.showIfCollapsed=t.showIfCollapsed||false;this.overviewRuler=new z(t.overviewRuler);this.glyphMarginClassName=t.glyphMarginClassName?H(t.glyphMarginClassName):p.empty;this.linesDecorationsClassName=t.linesDecorationsClassName?H(t.linesDecorationsClassName):p.empty;this.marginClassName=t.marginClassName?H(t.marginClassName):p.empty;this.inlineClassName=t.inlineClassName?H(t.inlineClassName):p.empty;this.beforeContentClassName=t.beforeContentClassName?H(t.beforeContentClassName):p.empty;this.afterContentClassName=t.afterContentClassName?H(t.afterContentClassName):p.empty}t.register=function(e){return new t(++K,e)};t.createDynamic=function(e){return new t(0,e)};return t}();o.ModelDecorationOptions=U;U.EMPTY=U.register({});var j=[U.register({stickiness:c.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges}),U.register({stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}),U.register({stickiness:c.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}),U.register({stickiness:c.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter})];function q(e){if(e instanceof U){return e}return U.createDynamic(e)}var G=function(t){pe(e,t);function e(){var e=t.call(this)||this;e._actual=e._register(new l.Emitter);e.event=e._actual.event;e._deferredCnt=0;e._shouldFire=false;return e}e.prototype.beginDeferredEmit=function(){this._deferredCnt++};e.prototype.endDeferredEmit=function(){this._deferredCnt--;if(this._deferredCnt===0){if(this._shouldFire){this._shouldFire=false;this._actual.fire({})}}};e.prototype.fire=function(){this._shouldFire=true};return e}(t.Disposable);o.DidChangeDecorationsEmitter=G;var Y=function(t){pe(e,t);function e(){var e=t.call(this)||this;e._actual=e._register(new l.Emitter);e.event=e._actual.event;e._deferredCnt=0;e._deferredEvent=null;return e}e.prototype.beginDeferredEmit=function(){this._deferredCnt++};e.prototype.endDeferredEmit=function(){this._deferredCnt--;if(this._deferredCnt===0){if(this._deferredEvent!==null){var e=this._deferredEvent;this._deferredEvent=null;this._actual.fire(e)}}};e.prototype.fire=function(e){if(this._deferredCnt>0){if(this._deferredEvent){this._deferredEvent=this._deferredEvent.merge(e)}else{this._deferredEvent=e}return}this._actual.fire(e)};return e}(t.Disposable);o.DidChangeContentEmitter=Y});define(r[39],e([0,1,12,5,32,20,3,40,13]),function(e,t,a,c,i,s,u,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o;(function(e){e[e["Primary"]=0]="Primary";e[e["TopMost"]=1]="TopMost";e[e["BottomMost"]=2]="BottomMost"})(o=t.RevealTarget||(t.RevealTarget={}));var l;(function(e){e[e["Other"]=0]="Other";e[e["Typing"]=1]="Typing";e[e["DeletingLeft"]=2]="DeletingLeft";e[e["DeletingRight"]=3]="DeletingRight"})(l=t.EditOperationType||(t.EditOperationType={}));var d=function(){function u(e,t,i,n){this._languageIdentifier=e;var r=n.editor;this.readOnly=r.readOnly;this.tabSize=i.tabSize;this.insertSpaces=i.insertSpaces;this.oneIndent=t;this.pageSize=Math.floor(r.layoutInfo.height/r.fontInfo.lineHeight)-2;this.lineHeight=r.lineHeight;this.useTabStops=r.useTabStops;this.wordSeparators=r.wordSeparators;this.emptySelectionClipboard=r.emptySelectionClipboard;this.autoClosingBrackets=r.autoClosingBrackets;this.autoIndent=r.autoIndent;this.autoClosingPairsOpen={};this.autoClosingPairsClose={};this.surroundingPairs={};this._electricChars=null;var o=u._getAutoClosingPairs(e);if(o){for(var s=0;s<o.length;s++){this.autoClosingPairsOpen[o[s].open]=o[s].close;this.autoClosingPairsClose[o[s].close]=o[s].open}}var a=u._getSurroundingPairs(e);if(a){for(var s=0;s<a.length;s++){this.surroundingPairs[a[s].open]=a[s].close}}}u.shouldRecreate=function(e){return e.layoutInfo||e.wordSeparators||e.emptySelectionClipboard||e.autoClosingBrackets||e.useTabStops||e.lineHeight||e.readOnly};Object.defineProperty(u.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var e=u._getElectricCharacters(this._languageIdentifier);if(e){for(var t=0;t<e.length;t++){this._electricChars[e[t]]=true}}}return this._electricChars},enumerable:true,configurable:true});u.prototype.normalizeIndentation=function(e){return i.TextModel.normalizeIndentation(e,this.tabSize,this.insertSpaces)};u._getElectricCharacters=function(e){try{return n.LanguageConfigurationRegistry.getElectricCharacters(e.id)}catch(e){r.onUnexpectedError(e);return null}};u._getAutoClosingPairs=function(e){try{return n.LanguageConfigurationRegistry.getAutoClosingPairs(e.id)}catch(e){r.onUnexpectedError(e);return null}};u._getSurroundingPairs=function(e){try{return n.LanguageConfigurationRegistry.getSurroundingPairs(e.id)}catch(e){r.onUnexpectedError(e);return null}};return u}();t.CursorConfiguration=d;var h=function(){function r(e,t,i,n){this.selectionStart=e;this.selectionStartLeftoverVisibleColumns=t;this.position=i;this.leftoverVisibleColumns=n;this.selection=r._computeSelection(this.selectionStart,this.position)}r.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)};r.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()};r.prototype.move=function(e,t,i,n){if(e){return new r(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new a.Position(t,i),n)}else{return new r(new u.Range(t,i,t,i),n,new a.Position(t,i),n)}};r._computeSelection=function(e,t){var i,n,r,o;if(e.isEmpty()){i=e.startLineNumber;n=e.startColumn;r=t.lineNumber;o=t.column}else{if(t.isBeforeOrEqual(e.getStartPosition())){i=e.endLineNumber;n=e.endColumn;r=t.lineNumber;o=t.column}else{i=e.startLineNumber;n=e.startColumn;r=t.lineNumber;o=t.column}}return new s.Selection(i,n,r,o)};return r}();t.SingleCursorState=h;var f=function(){function e(e,t,i){this.model=t;this.viewModel=i;this.config=new d(this.model.getLanguageIdentifier(),this.model.getOneIndent(),this.model.getOptions(),e)}e.prototype.validateViewPosition=function(e,t){return this.viewModel.coordinatesConverter.validateViewPosition(e,t)};e.prototype.validateViewRange=function(e,t){return this.viewModel.coordinatesConverter.validateViewRange(e,t)};e.prototype.convertViewRangeToModelRange=function(e){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)};e.prototype.convertViewPositionToModelPosition=function(e,t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new a.Position(e,t))};e.prototype.convertModelPositionToViewPosition=function(e){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e)};e.prototype.convertModelRangeToViewRange=function(e){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(e)};e.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()};e.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()};e.prototype.getCompletelyVisibleModelRange=function(){var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)};e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e)};e.prototype.getVerticalOffsetForViewLine=function(e){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(e)};return e}();t.CursorContext=f;var p=function(){function s(e,t){this.modelState=e;this.viewState=t}s.fromModelState=function(e){return new s(e,null)};s.fromViewState=function(e){return new s(null,e)};s.fromModelSelection=function(e){var t=e.selectionStartLineNumber;var i=e.selectionStartColumn;var n=e.positionLineNumber;var r=e.positionColumn;var o=new h(new u.Range(t,i,t,i),0,new a.Position(n,r),0);return s.fromModelState(o)};s.fromModelSelections=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){t[i]=this.fromModelSelection(e[i])}return t};s.prototype.equals=function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)};return s}();t.CursorState=p;var g=function(){function e(e,t,i){this.type=e;this.commands=t;this.shouldPushStackElementBefore=i.shouldPushStackElementBefore;this.shouldPushStackElementAfter=i.shouldPushStackElementAfter}return e}();t.EditOperationResult=g;var v=function(){function e(){}e.isLowSurrogate=function(e,t,i){var n=e.getLineContent(t);if(i<0||i>=n.length){return false}return c.isLowSurrogate(n.charCodeAt(i))};e.isHighSurrogate=function(e,t,i){var n=e.getLineContent(t);if(i<0||i>=n.length){return false}return c.isHighSurrogate(n.charCodeAt(i))};e.isInsideSurrogatePair=function(e,t,i){return this.isHighSurrogate(e,t,i-2)};e.visibleColumnFromColumn=function(e,t,i){var n=e.length;if(n>t-1){n=t-1}var r=0;for(var o=0;o<n;o++){var s=e.charCodeAt(o);if(s===9){r=this.nextTabStop(r,i)}else if(c.isFullWidthCharacter(s)){r=r+2}else{r=r+1}}return r};e.visibleColumnFromColumn2=function(e,t,i){return this.visibleColumnFromColumn(t.getLineContent(i.lineNumber),i.column,e.tabSize)};e.columnFromVisibleColumn=function(e,t,i){if(t<=0){return 1}var n=e.length;var r=0;for(var o=0;o<n;o++){var s=e.charCodeAt(o);var a=void 0;if(s===9){a=this.nextTabStop(r,i)}else if(c.isFullWidthCharacter(s)){a=r+2}else{a=r+1}if(a>=t){var u=t-r;var l=a-t;if(l<u){return o+2}else{return o+1}}r=a}return n+1};e.columnFromVisibleColumn2=function(e,t,i,n){var r=this.columnFromVisibleColumn(t.getLineContent(i),n,e.tabSize);var o=t.getLineMinColumn(i);if(r<o){return o}var s=t.getLineMaxColumn(i);if(r>s){return s}return r};e.nextTabStop=function(e,t){return e+t-e%t};e.prevTabStop=function(e,t){return e-1-(e-1)%t};return e}();t.CursorColumns=v});define(r[189],e([0,1,5,39,3,20,40]),function(e,t,b,S,w,s,E){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function C(e,t){this._opts=t;this._selection=e;this._useLastEditRangeForCursorEndPosition=false;this._selectionStartColumnStaysPut=false}C.unshiftIndentCount=function(e,t,i){var n=S.CursorColumns.visibleColumnFromColumn(e,t,i);var r=S.CursorColumns.prevTabStop(n,i);return r/i};C.shiftIndentCount=function(e,t,i){var n=S.CursorColumns.visibleColumnFromColumn(e,t,i);var r=S.CursorColumns.nextTabStop(n,i);return r/i};C.prototype._addEditOperation=function(e,t,i){if(this._useLastEditRangeForCursorEndPosition){e.addTrackedEditOperation(t,i)}else{e.addEditOperation(t,i)}};C.prototype.getEditOperations=function(e,t){var i=this._selection.startLineNumber;var n=this._selection.endLineNumber;if(this._selection.endColumn===1&&i!==n){n=n-1}var r=this._opts.tabSize;var o=this._opts.oneIndent;var s=i===n;if(this._selection.isEmpty()){if(/^\s*$/.test(e.getLineContent(i))){this._useLastEditRangeForCursorEndPosition=true}}if(this._opts.useTabStops){var a=["",o];var u=0,l=0;for(var c=i;c<=n;c++,u=l){l=0;var d=e.getLineContent(c);var h=b.firstNonWhitespaceIndex(d);if(this._opts.isUnshift&&(d.length===0||h===0)){continue}if(!s&&!this._opts.isUnshift&&d.length===0){continue}if(h===-1){h=d.length}if(c>1){var f=S.CursorColumns.visibleColumnFromColumn(d,h+1,r);if(f%r!==0){if(e.isCheapToTokenize(c-1)){var p=E.LanguageConfigurationRegistry.getRawEnterActionAtPosition(e,c-1,e.getLineMaxColumn(c-1));if(p){l=u;if(p.appendText){for(var g=0,v=p.appendText.length;g<v&&l<r;g++){if(p.appendText.charCodeAt(g)===32){l++}else{break}}}if(p.removeText){l=Math.max(0,l-p.removeText)}for(var g=0;g<l;g++){if(h===0||d.charCodeAt(h-1)!==32){break}h--}}}}}if(this._opts.isUnshift&&h===0){continue}var m=void 0;if(this._opts.isUnshift){m=C.unshiftIndentCount(d,h+1,r)}else{m=C.shiftIndentCount(d,h+1,r)}for(var g=a.length;g<=m;g++){a[g]=a[g-1]+o}this._addEditOperation(t,new w.Range(c,1,c,h+1),a[m]);if(c===i){this._selectionStartColumnStaysPut=this._selection.startColumn<=h+1}}}else{for(var c=i;c<=n;c++){var d=e.getLineContent(c);var h=b.firstNonWhitespaceIndex(d);if(this._opts.isUnshift&&(d.length===0||h===0)){continue}if(!s&&!this._opts.isUnshift&&d.length===0){continue}if(h===-1){h=d.length}if(this._opts.isUnshift&&h===0){continue}if(this._opts.isUnshift){h=Math.min(h,r);for(var _=0;_<h;_++){var y=d.charCodeAt(_);if(y===9){h=_+1;break}}this._addEditOperation(t,new w.Range(c,1,c,h+1),"")}else{this._addEditOperation(t,new w.Range(c,1,c,1),o);if(c===i){this._selectionStartColumnStaysPut=this._selection.startColumn===1}}}}this._selectionId=t.trackSelection(this._selection)};C.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var i=t.getInverseEditOperations()[0];return new s.Selection(i.range.endLineNumber,i.range.endColumn,i.range.endLineNumber,i.range.endColumn)}var n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var r=this._selection.startColumn;var o=n.startColumn;if(o<=r){return n}if(n.getDirection()===s.SelectionDirection.LTR){return new s.Selection(n.startLineNumber,r,n.endLineNumber,n.endColumn)}return new s.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,r)}return n};return C}();t.ShiftCommand=i});define(r[325],e([0,1,12,3,39]),function(e,t,m,_,y){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function a(){}a._columnSelect=function(e,t,i,n,r,o){var s=Math.abs(r-i)+1;var a=i>r;var u=n>o;var l=n<o;var c=[];for(var d=0;d<s;d++){var h=i+(a?-d:d);var f=y.CursorColumns.columnFromVisibleColumn2(e,t,h,n);var p=y.CursorColumns.columnFromVisibleColumn2(e,t,h,o);var g=y.CursorColumns.visibleColumnFromColumn2(e,t,new m.Position(h,f));var v=y.CursorColumns.visibleColumnFromColumn2(e,t,new m.Position(h,p));if(l){if(g>o){continue}if(v<n){continue}}if(u){if(v>n){continue}if(g<o){continue}}c.push(new y.SingleCursorState(new _.Range(h,f,h,f),0,new m.Position(h,p),0))}return{viewStates:c,reversed:a,toLineNumber:r,toVisualColumn:o}};a.columnSelect=function(e,t,i,n,r){var o=new m.Position(i.selectionStartLineNumber,i.selectionStartColumn);var s=y.CursorColumns.visibleColumnFromColumn2(e,t,o);return a._columnSelect(e,t,o.lineNumber,s,n,r)};a.columnSelectLeft=function(e,t,i,n,r){if(r>1){r--}return this.columnSelect(e,t,i.selection,n,r)};a.columnSelectRight=function(e,t,i,n,r){var o=0;var s=Math.min(i.position.lineNumber,n);var a=Math.max(i.position.lineNumber,n);for(var u=s;u<=a;u++){var l=t.getLineMaxColumn(u);var c=y.CursorColumns.visibleColumnFromColumn2(e,t,new m.Position(u,l));o=Math.max(o,c)}if(r<o){r++}return this.columnSelect(e,t,i.selection,n,r)};a.columnSelectUp=function(e,t,i,n,r,o){var s=n?e.pageSize:1;r-=s;if(r<1){r=1}return this.columnSelect(e,t,i.selection,r,o)};a.columnSelectDown=function(e,t,i,n,r,o){var s=n?e.pageSize:1;r+=s;if(r>t.getLineCount()){r=t.getLineCount()}return this.columnSelect(e,t,i.selection,r,o)};return a}();t.ColumnSelection=i});define(r[190],e([0,1,39,12,3]),function(e,t,l,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(){function e(e,t,i){this.lineNumber=e;this.column=t;this.leftoverVisibleColumns=i}return e}();t.CursorPosition=c;var i=function(){function u(){}u.left=function(e,t,i,n){if(n>t.getLineMinColumn(i)){if(l.CursorColumns.isLowSurrogate(t,i,n-2)){n=n-2}else{n=n-1}}else if(i>1){i=i-1;n=t.getLineMaxColumn(i)}return new c(i,n,0)};u.moveLeft=function(e,t,i,n,r){var o,s;if(i.hasSelection()&&!n){o=i.selection.startLineNumber;s=i.selection.startColumn}else{var a=u.left(e,t,i.position.lineNumber,i.position.column-(r-1));o=a.lineNumber;s=a.column}return i.move(n,o,s,0)};u.right=function(e,t,i,n){if(n<t.getLineMaxColumn(i)){if(l.CursorColumns.isHighSurrogate(t,i,n-1)){n=n+2}else{n=n+1}}else if(i<t.getLineCount()){i=i+1;n=t.getLineMinColumn(i)}return new c(i,n,0)};u.moveRight=function(e,t,i,n,r){var o,s;if(i.hasSelection()&&!n){o=i.selection.endLineNumber;s=i.selection.endColumn}else{var a=u.right(e,t,i.position.lineNumber,i.position.column+(r-1));o=a.lineNumber;s=a.column}return i.move(n,o,s,0)};u.down=function(e,t,i,n,r,o,s){var a=l.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+r;i=i+o;var u=t.getLineCount();if(i>u){i=u;if(s){n=t.getLineMaxColumn(i)}else{n=Math.min(t.getLineMaxColumn(i),n);if(l.CursorColumns.isInsideSurrogatePair(t,i,n)){n=n-1}}}else{n=l.CursorColumns.columnFromVisibleColumn2(e,t,i,a);if(l.CursorColumns.isInsideSurrogatePair(t,i,n)){n=n-1}}r=a-l.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize);return new c(i,n,r)};u.moveDown=function(e,t,i,n,r){var o,s;if(i.hasSelection()&&!n){o=i.selection.endLineNumber;s=i.selection.endColumn}else{o=i.position.lineNumber;s=i.position.column}var a=u.down(e,t,o,s,i.leftoverVisibleColumns,r,true);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)};u.translateDown=function(e,t,i){var n=i.selection;var r=u.down(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,false);var o=u.down(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,false);return new l.SingleCursorState(new a.Range(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new s.Position(o.lineNumber,o.column),o.leftoverVisibleColumns)};u.up=function(e,t,i,n,r,o,s){var a=l.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize)+r;i=i-o;if(i<1){i=1;if(s){n=t.getLineMinColumn(i)}else{n=Math.min(t.getLineMaxColumn(i),n);if(l.CursorColumns.isInsideSurrogatePair(t,i,n)){n=n-1}}}else{n=l.CursorColumns.columnFromVisibleColumn2(e,t,i,a);if(l.CursorColumns.isInsideSurrogatePair(t,i,n)){n=n-1}}r=a-l.CursorColumns.visibleColumnFromColumn(t.getLineContent(i),n,e.tabSize);return new c(i,n,r)};u.moveUp=function(e,t,i,n,r){var o,s;if(i.hasSelection()&&!n){o=i.selection.startLineNumber;s=i.selection.startColumn}else{o=i.position.lineNumber;s=i.position.column}var a=u.up(e,t,o,s,i.leftoverVisibleColumns,r,true);return i.move(n,a.lineNumber,a.column,a.leftoverVisibleColumns)};u.translateUp=function(e,t,i){var n=i.selection;var r=u.up(e,t,n.selectionStartLineNumber,n.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,false);var o=u.up(e,t,n.positionLineNumber,n.positionColumn,i.leftoverVisibleColumns,1,false);return new l.SingleCursorState(new a.Range(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new s.Position(o.lineNumber,o.column),o.leftoverVisibleColumns)};u.moveToBeginningOfLine=function(e,t,i,n){var r=i.position.lineNumber;var o=t.getLineMinColumn(r);var s=t.getLineFirstNonWhitespaceColumn(r)||o;var a;var u=i.position.column;if(u===s){a=o}else{a=s}return i.move(n,r,a,0)};u.moveToEndOfLine=function(e,t,i,n){var r=i.position.lineNumber;var o=t.getLineMaxColumn(r);return i.move(n,r,o,0)};u.moveToBeginningOfBuffer=function(e,t,i,n){return i.move(n,1,1,0)};u.moveToEndOfBuffer=function(e,t,i,n){var r=t.getLineCount();var o=t.getLineMaxColumn(r);return i.move(n,r,o,0)};return u}();t.MoveOperations=i});define(r[191],e([0,1,79,39,3,190,5]),function(e,t,_,y,C,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){}e.deleteRight=function(e,t,i,n){var r=[];var o=e!==3;for(var s=0,a=n.length;s<a;s++){var u=n[s];var l=u;if(l.isEmpty()){var c=u.getPosition();var d=b.MoveOperations.right(t,i,c.lineNumber,c.column);l=new C.Range(d.lineNumber,d.column,c.lineNumber,c.column)}if(l.isEmpty()){r[s]=null;continue}if(l.startLineNumber!==l.endLineNumber){o=true}r[s]=new _.ReplaceCommand(l,"")}return[o,r]};e._isAutoClosingPairDelete=function(e,t,i){if(!e.autoClosingBrackets){return false}for(var n=0,r=i.length;n<r;n++){var o=i[n];var s=o.getPosition();if(!o.isEmpty()){return false}var a=t.getLineContent(s.lineNumber);var u=a[s.column-2];if(!e.autoClosingPairsOpen.hasOwnProperty(u)){return false}var l=a[s.column-1];var c=e.autoClosingPairsOpen[u];if(l!==c){return false}}return true};e._runAutoClosingPairDelete=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){var s=i[r].getPosition();var a=new C.Range(s.lineNumber,s.column-1,s.lineNumber,s.column+1);n[r]=new _.ReplaceCommand(a,"")}return[true,n]};e.deleteLeft=function(e,t,i,n){if(this._isAutoClosingPairDelete(t,i,n)){return this._runAutoClosingPairDelete(t,i,n)}var r=[];var o=e!==2;for(var s=0,a=n.length;s<a;s++){var u=n[s];var l=u;if(l.isEmpty()){var c=u.getPosition();if(t.useTabStops&&c.column>1){var d=i.getLineContent(c.lineNumber);var h=S.firstNonWhitespaceIndex(d);var f=h===-1?d.length+1:h+1;if(c.column<=f){var p=y.CursorColumns.visibleColumnFromColumn2(t,i,c);var g=y.CursorColumns.prevTabStop(p,t.tabSize);var v=y.CursorColumns.columnFromVisibleColumn2(t,i,c.lineNumber,g);l=new C.Range(c.lineNumber,v,c.lineNumber,c.column)}else{l=new C.Range(c.lineNumber,c.column-1,c.lineNumber,c.column)}}else{var m=b.MoveOperations.left(t,i,c.lineNumber,c.column);l=new C.Range(m.lineNumber,m.column,c.lineNumber,c.column)}}if(l.isEmpty()){r[s]=null;continue}if(l.startLineNumber!==l.endLineNumber){o=true}r[s]=new _.ReplaceCommand(l,"")}return[o,r]};e.cut=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.isEmpty()){if(e.emptySelectionClipboard){var a=s.getPosition();var u=void 0,l=void 0,c=void 0,d=void 0;if(a.lineNumber<t.getLineCount()){u=a.lineNumber;l=1;c=a.lineNumber+1;d=1}else if(a.lineNumber>1){u=a.lineNumber-1;l=t.getLineMaxColumn(a.lineNumber-1);c=a.lineNumber;d=t.getLineMaxColumn(a.lineNumber)}else{u=a.lineNumber;l=1;c=a.lineNumber;d=t.getLineMaxColumn(a.lineNumber)}var h=new C.Range(u,l,c,d);if(!h.isEmpty()){n[r]=new _.ReplaceCommand(h,"")}else{n[r]=null}}else{n[r]=null}}else{n[r]=new _.ReplaceCommand(s,"")}}return new y.EditOperationResult(0,n,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:true})};return e}();t.DeleteOperations=i});define(r[123],e([0,1,13,79,39,3,5,189,40,61,436,100]),function(e,t,y,L,x,N,I,d,D,T,c,C){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function E(){}E.indent=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){n[r]=new d.ShiftCommand(i[r],{isUnshift:false,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops})}return n};E.outdent=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){n[r]=new d.ShiftCommand(i[r],{isUnshift:true,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops})}return n};E.shiftIndent=function(e,t,i){i=i||1;var n=d.ShiftCommand.shiftIndentCount(t,t.length+i,e.tabSize);var r="";for(var o=0;o<n;o++){r+="\t"}return r};E.unshiftIndent=function(e,t,i){i=i||1;var n=d.ShiftCommand.unshiftIndentCount(t,t.length+i,e.tabSize);var r="";for(var o=0;o<n;o++){r+="\t"}return r};E._distributedPaste=function(e,t,i,n){var r=[];for(var o=0,s=i.length;o<s;o++){r[o]=new L.ReplaceCommand(i[o],n[o])}return new x.EditOperationResult(0,r,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:true})};E._simplePaste=function(e,t,i,n,r){var o=[];for(var s=0,a=i.length;s<a;s++){var u=i[s];var l=u.getPosition();if(r&&n.indexOf("\n")!==n.length-1){r=false}if(r&&u.startLineNumber!==u.endLineNumber){r=false}if(r&&u.startColumn===t.getLineMinColumn(u.startLineNumber)&&u.endColumn===t.getLineMaxColumn(u.startLineNumber)){r=false}if(r){var c=new N.Range(l.lineNumber,1,l.lineNumber,1);o[s]=new L.ReplaceCommand(c,n)}else{o[s]=new L.ReplaceCommand(u,n)}}return new x.EditOperationResult(0,o,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:true})};E._distributePasteToCursors=function(e,t,i,n){if(i){return null}if(e.length===1){return null}if(n&&n.length===e.length){return n}return null};E.paste=function(e,t,i,n,r,o){var s=this._distributePasteToCursors(i,n,r,o);if(s){i=i.sort(N.Range.compareRangesUsingStarts);return this._distributedPaste(e,t,i,s)}else{return this._simplePaste(e,t,i,n,r)}};E._goodIndentForLine=function(e,t,i){var n;var r;var o=e.autoIndent?D.LanguageConfigurationRegistry.getInheritIndentForLine(t,i,false):null;if(o){n=o.action;r=o.indentation}else if(i>1){var s=i-1;for(s=i-1;s>=1;s--){var a=t.getLineContent(s);var u=I.lastNonWhitespaceIndex(a);if(u>=0){break}}if(s<1){return null}var l=t.getLineMaxColumn(s);var c=D.LanguageConfigurationRegistry.getEnterAction(t,new N.Range(s,l,s,l));if(c){r=c.indentation;n=c.enterAction;if(n){r+=n.appendText}}}if(n){if(n===T.IndentAction.Indent){r=E.shiftIndent(e,r)}if(n===T.IndentAction.Outdent){r=E.unshiftIndent(e,r)}r=e.normalizeIndentation(r)}if(!r){return null}return r};E._replaceJumpToNextIndent=function(e,t,i,n){var r="";var o=i.getStartPosition();if(e.insertSpaces){var s=x.CursorColumns.visibleColumnFromColumn2(e,t,o);var a=e.tabSize;var u=a-s%a;for(var l=0;l<u;l++){r+=" "}}else{r="\t"}return new L.ReplaceCommand(i,r,n)};E.tab=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.isEmpty()){var a=t.getLineContent(s.startLineNumber);if(/^\s*$/.test(a)&&t.isCheapToTokenize(s.startLineNumber)){var u=this._goodIndentForLine(e,t,s.startLineNumber);u=u||"\t";var l=e.normalizeIndentation(u);if(!I.startsWith(a,l)){n[r]=new L.ReplaceCommand(new N.Range(s.startLineNumber,1,s.startLineNumber,a.length+1),l,true);continue}}n[r]=this._replaceJumpToNextIndent(e,t,s,true)}else{if(s.startLineNumber===s.endLineNumber){var c=t.getLineMaxColumn(s.startLineNumber);if(s.startColumn!==1||s.endColumn!==c){n[r]=this._replaceJumpToNextIndent(e,t,s,false);continue}}n[r]=new d.ShiftCommand(s,{isUnshift:false,tabSize:e.tabSize,oneIndent:e.oneIndent,useTabStops:e.useTabStops})}}return n};E.replacePreviousChar=function(e,t,i,n,r,o){var s=[];for(var a=0,u=n.length;a<u;a++){var l=n[a];if(!l.isEmpty()){s[a]=null;continue}var c=l.getPosition();var d=Math.max(1,c.column-o);var h=new N.Range(c.lineNumber,d,c.lineNumber,c.column);s[a]=new L.ReplaceCommand(h,r)}return new x.EditOperationResult(1,s,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:false})};E._typeCommand=function(e,t,i){if(i){return new L.ReplaceCommandWithoutChangingPosition(e,t,true)}else{return new L.ReplaceCommand(e,t,true)}};E._enter=function(t,e,i,n){if(!e.isCheapToTokenize(n.getStartPosition().lineNumber)){var r=e.getLineContent(n.startLineNumber);var o=I.getLeadingWhitespace(r).substring(0,n.startColumn-1);return E._typeCommand(n,"\n"+t.normalizeIndentation(o),i)}var s=D.LanguageConfigurationRegistry.getEnterAction(e,n);if(s){var a=s.enterAction;var u=s.indentation;if(a.indentAction===T.IndentAction.None){return E._typeCommand(n,"\n"+t.normalizeIndentation(u+a.appendText),i)}else if(a.indentAction===T.IndentAction.Indent){return E._typeCommand(n,"\n"+t.normalizeIndentation(u+a.appendText),i)}else if(a.indentAction===T.IndentAction.IndentOutdent){var l=t.normalizeIndentation(u);var c=t.normalizeIndentation(u+a.appendText);var d="\n"+c+"\n"+l;if(i){return new L.ReplaceCommandWithoutChangingPosition(n,d,true)}else{return new L.ReplaceCommandWithOffsetCursorState(n,d,-1,c.length-l.length,true)}}else if(a.indentAction===T.IndentAction.Outdent){var h=E.unshiftIndent(t,u);return E._typeCommand(n,"\n"+t.normalizeIndentation(h+a.appendText),i)}}if(!t.autoIndent){var f=e.getLineContent(n.startLineNumber);var p=I.getLeadingWhitespace(f).substring(0,n.startColumn-1);return E._typeCommand(n,"\n"+t.normalizeIndentation(p),i)}var g=D.LanguageConfigurationRegistry.getIndentForEnter(e,n,{unshiftIndent:function(e){return E.unshiftIndent(t,e)},shiftIndent:function(e){return E.shiftIndent(t,e)},normalizeIndentation:function(e){return t.normalizeIndentation(e)}},t.autoIndent);var v=e.getLineContent(n.startLineNumber);var m=I.getLeadingWhitespace(v).substring(0,n.startColumn-1);if(g){var _=x.CursorColumns.visibleColumnFromColumn2(t,e,n.getEndPosition());var y=n.endColumn;var C="\n";if(m!==t.normalizeIndentation(g.beforeEnter)){C=t.normalizeIndentation(g.beforeEnter)+v.substring(m.length,n.startColumn-1)+"\n";n=new N.Range(n.startLineNumber,1,n.endLineNumber,n.endColumn)}var b=e.getLineContent(n.endLineNumber);var S=I.firstNonWhitespaceIndex(b);if(S>=0){n=n.setEndPosition(n.endLineNumber,Math.max(n.endColumn,S+1))}else{n=n.setEndPosition(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber))}if(i){return new L.ReplaceCommandWithoutChangingPosition(n,C+t.normalizeIndentation(g.afterEnter),true)}else{var w=0;if(y<=S+1){if(!t.insertSpaces){_=Math.ceil(_/t.tabSize)}w=Math.min(_+1-t.normalizeIndentation(g.afterEnter).length-1,0)}return new L.ReplaceCommandWithOffsetCursorState(n,C+t.normalizeIndentation(g.afterEnter),0,w,true)}}else{return E._typeCommand(n,"\n"+t.normalizeIndentation(m),i)}};E._isAutoIndentType=function(e,t,i){if(!e.autoIndent){return false}for(var n=0,r=i.length;n<r;n++){if(!t.isCheapToTokenize(i[n].getEndPosition().lineNumber)){return false}}return true};E._runAutoIndentType=function(t,e,i,n){var r=D.LanguageConfigurationRegistry.getIndentationAtPosition(e,i.startLineNumber,i.startColumn);var o=D.LanguageConfigurationRegistry.getIndentActionForType(e,i,n,{shiftIndent:function(e){return E.shiftIndent(t,e)},unshiftIndent:function(e){return E.unshiftIndent(t,e)}});if(o===null){return null}if(o!==t.normalizeIndentation(r)){var s=e.getLineFirstNonWhitespaceColumn(i.startLineNumber);if(s===0){return E._typeCommand(new N.Range(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(o)+n,false)}else{return E._typeCommand(new N.Range(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(o)+e.getLineContent(i.startLineNumber).substring(s-1,i.startColumn-1)+n,false)}}return null};E._isAutoClosingCloseCharType=function(e,t,i,n){if(!e.autoClosingBrackets||!e.autoClosingPairsClose.hasOwnProperty(n)){return false}var r=n===e.autoClosingPairsClose[n];for(var o=0,s=i.length;o<s;o++){var a=i[o];if(!a.isEmpty()){return false}var u=a.getPosition();var l=t.getLineContent(u.lineNumber);var c=l.charAt(u.column-1);if(c!==n){return false}if(r){var d=l.substr(0,u.column-1);var h=this._countNeedlesInHaystack(d,n);if(h%2===0){return false}}}return true};E._countNeedlesInHaystack=function(e,t){var i=0;var n=-1;while((n=e.indexOf(t,n+1))!==-1){i++}return i};E._runAutoClosingCloseCharType=function(e,t,i,n,r){var o=[];for(var s=0,a=n.length;s<a;s++){var u=n[s];var l=u.getPosition();var c=new N.Range(l.lineNumber,l.column,l.lineNumber,l.column+1);o[s]=new L.ReplaceCommand(c,r)}return new x.EditOperationResult(1,o,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:false})};E._isAutoClosingOpenCharType=function(e,t,i,n){if(!e.autoClosingBrackets||!e.autoClosingPairsOpen.hasOwnProperty(n)){return false}for(var r=0,o=i.length;r<o;r++){var s=i[r];if(!s.isEmpty()){return false}var a=s.getPosition();var u=t.getLineContent(a.lineNumber);if((n==="'"||n==='"')&&a.column>1){var l=C.getMapForWordSeparators(e.wordSeparators);var c=u.charCodeAt(a.column-2);var d=l.get(c);if(d===0){return false}}var h=u.charAt(a.column-1);if(h){var f=e.autoClosingPairsOpen[n]===n;var p=false;for(var g in e.autoClosingPairsClose){var v=e.autoClosingPairsOpen[g]===g;if(!f&&v){continue}if(h===g){p=true;break}}if(!p&&!/\s/.test(h)){return false}}if(!t.isCheapToTokenize(a.lineNumber)){return false}t.forceTokenization(a.lineNumber);var m=t.getLineTokens(a.lineNumber);var _=false;try{_=D.LanguageConfigurationRegistry.shouldAutoClosePair(n,m,a.column)}catch(e){y.onUnexpectedError(e)}if(!_){return false}}return true};E._runAutoClosingOpenCharType=function(e,t,i,n,r){var o=[];for(var s=0,a=n.length;s<a;s++){var u=n[s];var l=t.autoClosingPairsOpen[r];o[s]=new L.ReplaceCommandWithOffsetCursorState(u,r+l,0,-l.length)}return new x.EditOperationResult(1,o,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:false})};E._isSurroundSelectionType=function(e,t,i,n){if(!e.autoClosingBrackets||!e.surroundingPairs.hasOwnProperty(n)){return false}for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.isEmpty()){return false}var a=true;for(var u=s.startLineNumber;u<=s.endLineNumber;u++){var l=t.getLineContent(u);var c=u===s.startLineNumber?s.startColumn-1:0;var d=u===s.endLineNumber?s.endColumn-1:l.length;var h=l.substring(c,d);if(/[^ \t]/.test(h)){a=false;break}}if(a){return false}}return true};E._runSurroundSelectionType=function(e,t,i,n,r){var o=[];for(var s=0,a=n.length;s<a;s++){var u=n[s];var l=t.surroundingPairs[r];o[s]=new c.SurroundSelectionCommand(u,r,l)}return new x.EditOperationResult(0,o,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:true})};E._isTypeInterceptorElectricChar=function(e,t,i){if(i.length===1&&t.isCheapToTokenize(i[0].getEndPosition().lineNumber)){return true}return false};E._typeInterceptorElectricChar=function(e,t,i,n,r){if(!t.electricChars.hasOwnProperty(r)||!n.isEmpty()){return null}var o=n.getPosition();i.forceTokenization(o.lineNumber);var s=i.getLineTokens(o.lineNumber);var a;try{a=D.LanguageConfigurationRegistry.onElectricCharacter(r,s,o.column)}catch(e){y.onUnexpectedError(e)}if(!a){return null}if(a.appendText){var u=new L.ReplaceCommandWithOffsetCursorState(n,r+a.appendText,0,-a.appendText.length);return new x.EditOperationResult(1,[u],{shouldPushStackElementBefore:false,shouldPushStackElementAfter:true})}if(a.matchOpenBracket){var l=(s.getLineContent()+r).lastIndexOf(a.matchOpenBracket)+1;var c=i.findMatchingBracketUp(a.matchOpenBracket,{lineNumber:o.lineNumber,column:l});if(c){if(c.startLineNumber===o.lineNumber){return null}var d=i.getLineContent(c.startLineNumber);var h=I.getLeadingWhitespace(d);var f=t.normalizeIndentation(h);var p=i.getLineContent(o.lineNumber);var g=i.getLineFirstNonWhitespaceColumn(o.lineNumber)||o.column;var v=p.substring(g-1,o.column-1);var m=f+v+r;var _=new N.Range(o.lineNumber,1,o.lineNumber,o.column);var u=new L.ReplaceCommand(_,m);return new x.EditOperationResult(1,[u],{shouldPushStackElementBefore:false,shouldPushStackElementAfter:true})}}return null};E.typeWithInterceptors=function(e,t,i,n,r){if(r==="\n"){var o=[];for(var s=0,a=n.length;s<a;s++){o[s]=E._enter(t,i,false,n[s])}return new x.EditOperationResult(1,o,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:false})}if(this._isAutoIndentType(t,i,n)){var u=[];var l=false;for(var s=0,a=n.length;s<a;s++){u[s]=this._runAutoIndentType(t,i,n[s],r);if(!u[s]){l=true;break}}if(!l){return new x.EditOperationResult(1,u,{shouldPushStackElementBefore:true,shouldPushStackElementAfter:false})}}if(this._isAutoClosingCloseCharType(t,i,n,r)){return this._runAutoClosingCloseCharType(e,t,i,n,r)}if(this._isAutoClosingOpenCharType(t,i,n,r)){return this._runAutoClosingOpenCharType(e,t,i,n,r)}if(this._isSurroundSelectionType(t,i,n,r)){return this._runSurroundSelectionType(e,t,i,n,r)}if(this._isTypeInterceptorElectricChar(t,i,n)){var c=this._typeInterceptorElectricChar(e,t,i,n[0],r);if(c){return c}}var d=[];for(var s=0,a=n.length;s<a;s++){d[s]=new L.ReplaceCommand(n[s],r)}var h=e!==1;if(r===" "){h=true}return new x.EditOperationResult(1,d,{shouldPushStackElementBefore:h,shouldPushStackElementAfter:false})};E.typeWithoutInterceptors=function(e,t,i,n,r){var o=[];for(var s=0,a=n.length;s<a;s++){o[s]=new L.ReplaceCommand(n[s],r)}return new x.EditOperationResult(1,o,{shouldPushStackElementBefore:e!==1,shouldPushStackElementAfter:false})};E.lineInsertBefore=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){var s=i[r].positionLineNumber;if(s===1){n[r]=new L.ReplaceCommandWithoutChangingPosition(new N.Range(1,1,1,1),"\n")}else{s--;var a=t.getLineMaxColumn(s);n[r]=this._enter(e,t,false,new N.Range(s,a,s,a))}}return n};E.lineInsertAfter=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){var s=i[r].positionLineNumber;var a=t.getLineMaxColumn(s);n[r]=this._enter(e,t,false,new N.Range(s,a,s,a))}return n};E.lineBreakInsert=function(e,t,i){var n=[];for(var r=0,o=i.length;r<o;r++){n[r]=this._enter(e,t,true,i[r])}return n};return E}();t.TypeOperations=i});define(r[197],e([0,1,39,12,100,5,3]),function(e,t,_,y,C,o,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i;(function(e){e[e["None"]=0]="None";e[e["Regular"]=1]="Regular";e[e["Separator"]=2]="Separator"})(i||(i={}));var n;(function(e){e[e["WordStart"]=0]="WordStart";e[e["WordEnd"]=1]="WordEnd"})(n=t.WordNavigationType||(t.WordNavigationType={}));var r=function(){function m(){}m._createWord=function(e,t,i,n){return{start:i,end:n,wordType:t}};m._findPreviousWordOnLine=function(e,t,i){var n=t.getLineContent(i.lineNumber);return this._doFindPreviousWordOnLine(n,e,i)};m._doFindPreviousWordOnLine=function(e,t,i){var n=0;for(var r=i.column-2;r>=0;r--){var o=e.charCodeAt(r);var s=t.get(o);if(s===0){if(n===2){return this._createWord(e,n,r+1,this._findEndOfWord(e,t,n,r+1))}n=1}else if(s===2){if(n===1){return this._createWord(e,n,r+1,this._findEndOfWord(e,t,n,r+1))}n=2}else if(s===1){if(n!==0){return this._createWord(e,n,r+1,this._findEndOfWord(e,t,n,r+1))}}}if(n!==0){return this._createWord(e,n,0,this._findEndOfWord(e,t,n,0))}return null};m._findEndOfWord=function(e,t,i,n){var r=e.length;for(var o=n;o<r;o++){var s=e.charCodeAt(o);var a=t.get(s);if(a===1){return o}if(i===1&&a===2){return o}if(i===2&&a===0){return o}}return r};m._findNextWordOnLine=function(e,t,i){var n=t.getLineContent(i.lineNumber);return this._doFindNextWordOnLine(n,e,i)};m._doFindNextWordOnLine=function(e,t,i){var n=0;var r=e.length;for(var o=i.column-1;o<r;o++){var s=e.charCodeAt(o);var a=t.get(s);if(a===0){if(n===2){return this._createWord(e,n,this._findStartOfWord(e,t,n,o-1),o)}n=1}else if(a===2){if(n===1){return this._createWord(e,n,this._findStartOfWord(e,t,n,o-1),o)}n=2}else if(a===1){if(n!==0){return this._createWord(e,n,this._findStartOfWord(e,t,n,o-1),o)}}}if(n!==0){return this._createWord(e,n,this._findStartOfWord(e,t,n,r-1),r)}return null};m._findStartOfWord=function(e,t,i,n){for(var r=n;r>=0;r--){var o=e.charCodeAt(r);var s=t.get(o);if(s===1){return r+1}if(i===1&&s===2){return r+1}if(i===2&&s===0){return r+1}}return 0};m.moveWordLeft=function(e,t,i,n){var r=i.lineNumber;var o=i.column;if(o===1){if(r>1){r=r-1;o=t.getLineMaxColumn(r)}}var s=m._findPreviousWordOnLine(e,t,new y.Position(r,o));if(n===0){if(s){o=s.start+1}else{o=1}}else{if(s&&o<=s.end+1){s=m._findPreviousWordOnLine(e,t,new y.Position(r,s.start+1))}if(s){o=s.end+1}else{o=1}}return new y.Position(r,o)};m.moveWordRight=function(e,t,i,n){var r=i.lineNumber;var o=i.column;if(o===t.getLineMaxColumn(r)){if(r<t.getLineCount()){r=r+1;o=1}}var s=m._findNextWordOnLine(e,t,new y.Position(r,o));if(n===1){if(s){o=s.end+1}else{o=t.getLineMaxColumn(r)}}else{if(s&&o>=s.start+1){s=m._findNextWordOnLine(e,t,new y.Position(r,s.end+1))}if(s){o=s.start+1}else{o=t.getLineMaxColumn(r)}}return new y.Position(r,o)};m._deleteWordLeftWhitespace=function(e,t){var i=e.getLineContent(t.lineNumber);var n=t.column-2;var r=o.lastNonWhitespaceIndex(i,n);if(r+1<n){return new b.Range(t.lineNumber,r+2,t.lineNumber,t.column)}return null};m.deleteWordLeft=function(e,t,i,n,r){if(!i.isEmpty()){return i}var o=new y.Position(i.positionLineNumber,i.positionColumn);var s=o.lineNumber;var a=o.column;if(s===1&&a===1){return null}if(n){var u=this._deleteWordLeftWhitespace(t,o);if(u){return u}}var l=m._findPreviousWordOnLine(e,t,o);if(r===0){if(l){a=l.start+1}else{if(a>1){a=1}else{s--;a=t.getLineMaxColumn(s)}}}else{if(l&&a<=l.end+1){l=m._findPreviousWordOnLine(e,t,new y.Position(s,l.start+1))}if(l){a=l.end+1}else{if(a>1){a=1}else{s--;a=t.getLineMaxColumn(s)}}}return new b.Range(s,a,o.lineNumber,o.column)};m._findFirstNonWhitespaceChar=function(e,t){var i=e.length;for(var n=t;n<i;n++){var r=e.charAt(n);if(r!==" "&&r!=="\t"){return n}}return i};m._deleteWordRightWhitespace=function(e,t){var i=e.getLineContent(t.lineNumber);var n=t.column-1;var r=this._findFirstNonWhitespaceChar(i,n);if(n+1<r){return new b.Range(t.lineNumber,t.column,t.lineNumber,r+1)}return null};m.deleteWordRight=function(e,t,i,n,r){if(!i.isEmpty()){return i}var o=new y.Position(i.positionLineNumber,i.positionColumn);var s=o.lineNumber;var a=o.column;var u=t.getLineCount();var l=t.getLineMaxColumn(s);if(s===u&&a===l){return null}if(n){var c=this._deleteWordRightWhitespace(t,o);if(c){return c}}var d=m._findNextWordOnLine(e,t,o);if(r===1){if(d){a=d.end+1}else{if(a<l||s===u){a=l}else{s++;d=m._findNextWordOnLine(e,t,new y.Position(s,1));if(d){a=d.start+1}else{a=t.getLineMaxColumn(s)}}}}else{if(d&&a>=d.start+1){d=m._findNextWordOnLine(e,t,new y.Position(s,d.end+1))}if(d){a=d.start+1}else{if(a<l||s===u){a=l}else{s++;d=m._findNextWordOnLine(e,t,new y.Position(s,1));if(d){a=d.start+1}else{a=t.getLineMaxColumn(s)}}}}return new b.Range(s,a,o.lineNumber,o.column)};m.word=function(e,t,i,n,r){var o=C.getMapForWordSeparators(e.wordSeparators);var s=m._findPreviousWordOnLine(o,t,r);var a=s&&s.wordType===1&&s.start<r.column-1&&r.column-1<=s.end;var u=m._findNextWordOnLine(o,t,r);var l=u&&u.wordType===1&&u.start<r.column-1&&r.column-1<=u.end;if(!n){var c;var d;if(a){c=s.start+1;d=s.end+1}else if(l){c=u.start+1;d=u.end+1}else{if(s){c=s.end+1}else{c=1}if(u){d=u.start+1}else{d=t.getLineMaxColumn(r.lineNumber)}}return new _.SingleCursorState(new b.Range(r.lineNumber,c,r.lineNumber,d),0,new y.Position(r.lineNumber,d),0)}var h;var f;if(a){h=s.start+1;f=s.end+1}else if(l){h=u.start+1;f=u.end+1}else{h=r.column;f=r.column}var p=r.lineNumber;var g;if(i.selectionStart.containsPosition(r)){g=i.selectionStart.endColumn}else if(r.isBeforeOrEqual(i.selectionStart.getStartPosition())){g=h;var v=new y.Position(p,g);if(i.selectionStart.containsPosition(v)){g=i.selectionStart.endColumn}}else{g=f;var v=new y.Position(p,g);if(i.selectionStart.containsPosition(v)){g=i.selectionStart.startColumn}}return i.move(true,p,g,0)};return m}();t.WordOperations=r});define(r[198],e([0,1,39,12,3,190,197,29]),function(e,t,p,g,v,c,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){}e.addCursorDown=function(e,t){var i=[],n=0;for(var r=0,o=t.length;r<o;r++){var s=t[r];i[n++]=new p.CursorState(s.modelState,s.viewState);i[n++]=p.CursorState.fromViewState(c.MoveOperations.translateDown(e.config,e.viewModel,s.viewState))}return i};e.addCursorUp=function(e,t){var i=[],n=0;for(var r=0,o=t.length;r<o;r++){var s=t[r];i[n++]=new p.CursorState(s.modelState,s.viewState);i[n++]=p.CursorState.fromViewState(c.MoveOperations.translateUp(e.config,e.viewModel,s.viewState))}return i};e.moveToBeginningOfLine=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];n[r]=this._moveToLineStart(e,s,i)}return n};e._moveToLineStart=function(e,t,i){var n=t.viewState.position.column;var r=t.modelState.position.column;var o=n===r;var s=t.viewState.position.lineNumber;var a=e.viewModel.getLineFirstNonWhitespaceColumn(s);var u=n===a;if(!o&&!u){return this._moveToLineStartByView(e,t,i)}else{return this._moveToLineStartByModel(e,t,i)}};e._moveToLineStartByView=function(e,t,i){return p.CursorState.fromViewState(c.MoveOperations.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,i))};e._moveToLineStartByModel=function(e,t,i){return p.CursorState.fromModelState(c.MoveOperations.moveToBeginningOfLine(e.config,e.model,t.modelState,i))};e.moveToEndOfLine=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];n[r]=this._moveToLineEnd(e,s,i)}return n};e._moveToLineEnd=function(e,t,i){var n=t.viewState.position;var r=e.viewModel.getLineMaxColumn(n.lineNumber);var o=n.column===r;var s=t.modelState.position;var a=e.model.getLineMaxColumn(s.lineNumber);var u=r-n.column===a-s.column;if(o||u){return this._moveToLineEndByModel(e,t,i)}else{return this._moveToLineEndByView(e,t,i)}};e._moveToLineEndByView=function(e,t,i){return p.CursorState.fromViewState(c.MoveOperations.moveToEndOfLine(e.config,e.viewModel,t.viewState,i))};e._moveToLineEndByModel=function(e,t,i){return p.CursorState.fromModelState(c.MoveOperations.moveToEndOfLine(e.config,e.model,t.modelState,i))};e.expandLineSelection=function(e,t){var i=[];for(var n=0,r=t.length;n<r;n++){var o=t[n];var s=o.viewState.selection;var a=s.startLineNumber;var u=e.viewModel.getLineCount();var l=s.endLineNumber;var c=void 0;if(l===u){c=e.viewModel.getLineMaxColumn(u)}else{l++;c=1}i[n]=p.CursorState.fromViewState(new p.SingleCursorState(new v.Range(a,1,a,1),0,new g.Position(l,c),0))}return i};e.moveToBeginningOfBuffer=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];n[r]=p.CursorState.fromModelState(c.MoveOperations.moveToBeginningOfBuffer(e.config,e.model,s.modelState,i))}return n};e.moveToEndOfBuffer=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];n[r]=p.CursorState.fromModelState(c.MoveOperations.moveToEndOfBuffer(e.config,e.model,s.modelState,i))}return n};e.selectAll=function(e,t){var i=e.model.getLineCount();var n=e.model.getLineMaxColumn(i);return p.CursorState.fromModelState(new p.SingleCursorState(new v.Range(1,1,1,1),0,new g.Position(i,n),0))};e.line=function(e,t,i,n,r){var o=e.model.validatePosition(n);var s=r?e.validateViewPosition(new g.Position(r.lineNumber,r.column),o):e.convertModelPositionToViewPosition(o);if(!i||!t.modelState.hasSelection()){var a=e.model.getLineCount();var u=o.lineNumber+1;var l=1;if(u>a){u=a;l=e.model.getLineMaxColumn(u)}return p.CursorState.fromModelState(new p.SingleCursorState(new v.Range(o.lineNumber,1,u,l),0,new g.Position(u,l),0))}var c=t.modelState.selectionStart.getStartPosition().lineNumber;if(o.lineNumber<c){return p.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),s.lineNumber,1,0))}else if(o.lineNumber>c){var a=e.viewModel.getLineCount();var d=s.lineNumber+1;var h=1;if(d>a){d=a;h=e.viewModel.getLineMaxColumn(d)}return p.CursorState.fromViewState(t.viewState.move(t.modelState.hasSelection(),d,h,0))}else{var f=t.modelState.selectionStart.getEndPosition();return p.CursorState.fromModelState(t.modelState.move(t.modelState.hasSelection(),f.lineNumber,f.column,0))}};e.word=function(e,t,i,n){var r=e.model.validatePosition(n);return p.CursorState.fromModelState(o.WordOperations.word(e.config,e.model,t.modelState,i,r))};e.cancelSelection=function(e,t){if(!t.modelState.hasSelection()){return new p.CursorState(t.modelState,t.viewState)}var i=t.viewState.position.lineNumber;var n=t.viewState.position.column;return p.CursorState.fromViewState(new p.SingleCursorState(new v.Range(i,n,i,n),0,new g.Position(i,n),0))};e.moveTo=function(e,t,i,n,r){var o=e.model.validatePosition(n);var s=r?e.validateViewPosition(new g.Position(r.lineNumber,r.column),o):e.convertModelPositionToViewPosition(o);return p.CursorState.fromViewState(t.viewState.move(i,s.lineNumber,s.column,0))};e.move=function(e,t,i){var n=i.select;var r=i.value;switch(i.direction){case 0:{if(i.unit===4){return this._moveHalfLineLeft(e,t,n)}else{return this._moveLeft(e,t,n,r)}}case 1:{if(i.unit===4){return this._moveHalfLineRight(e,t,n)}else{return this._moveRight(e,t,n,r)}}case 2:{if(i.unit===2){return this._moveUpByViewLines(e,t,n,r)}else{return this._moveUpByModelLines(e,t,n,r)}}case 3:{if(i.unit===2){return this._moveDownByViewLines(e,t,n,r)}else{return this._moveDownByModelLines(e,t,n,r)}}case 4:{return this._moveToViewMinColumn(e,t,n)}case 5:{return this._moveToViewFirstNonWhitespaceColumn(e,t,n)}case 6:{return this._moveToViewCenterColumn(e,t,n)}case 7:{return this._moveToViewMaxColumn(e,t,n)}case 8:{return this._moveToViewLastNonWhitespaceColumn(e,t,n)}case 9:{var o=t[0];var s=e.getCompletelyVisibleModelRange();var a=this._firstLineNumberInRange(e.model,s,r);var u=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,o,n,a,u)]}case 11:{var o=t[0];var s=e.getCompletelyVisibleModelRange();var a=this._lastLineNumberInRange(e.model,s,r);var u=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,o,n,a,u)]}case 10:{var o=t[0];var s=e.getCompletelyVisibleModelRange();var a=Math.round((s.startLineNumber+s.endLineNumber)/2);var u=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,o,n,a,u)]}case 12:{var l=e.getCompletelyVisibleViewRange();var c=[];for(var d=0,h=t.length;d<h;d++){var o=t[d];c[d]=this.findPositionInViewportIfOutside(e,o,l,n)}return c}}return null};e.findPositionInViewportIfOutside=function(e,t,i,n){var r=t.viewState.position.lineNumber;if(i.startLineNumber<=r&&r<=i.endLineNumber-1){return new p.CursorState(t.modelState,t.viewState)}else{if(r>i.endLineNumber-1){r=i.endLineNumber-1}if(r<i.startLineNumber){r=i.startLineNumber}var o=e.viewModel.getLineFirstNonWhitespaceColumn(r);return this._moveToViewPosition(e,t,n,r,o)}};e._firstLineNumberInRange=function(e,t,i){var n=t.startLineNumber;if(t.startColumn!==e.getLineMinColumn(n)){n++}return Math.min(t.endLineNumber,n+i-1)};e._lastLineNumberInRange=function(e,t,i){var n=t.startLineNumber;if(t.startColumn!==e.getLineMinColumn(n)){n++}return Math.max(n,t.endLineNumber-i+1)};e._moveLeft=function(e,t,i,n){var r=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];var u=c.MoveOperations.moveLeft(e.config,e.viewModel,a.viewState,i,n);if(n===1&&u.position.lineNumber!==a.viewState.position.lineNumber){var l=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(u.position);if(l.lineNumber===a.modelState.position.lineNumber){u=c.MoveOperations.moveLeft(e.config,e.viewModel,u,i,1)}}r[o]=p.CursorState.fromViewState(u)}return r};e._moveHalfLineLeft=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=Math.round(e.viewModel.getLineContent(a).length/2);n[r]=p.CursorState.fromViewState(c.MoveOperations.moveLeft(e.config,e.viewModel,s.viewState,i,u))}return n};e._moveRight=function(e,t,i,n){var r=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];var u=c.MoveOperations.moveRight(e.config,e.viewModel,a.viewState,i,n);if(n===1&&u.position.lineNumber!==a.viewState.position.lineNumber){var l=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(u.position);if(l.lineNumber===a.modelState.position.lineNumber){u=c.MoveOperations.moveRight(e.config,e.viewModel,u,i,1)}}r[o]=p.CursorState.fromViewState(u)}return r};e._moveHalfLineRight=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=Math.round(e.viewModel.getLineContent(a).length/2);n[r]=p.CursorState.fromViewState(c.MoveOperations.moveRight(e.config,e.viewModel,s.viewState,i,u))}return n};e._moveDownByViewLines=function(e,t,i,n){var r=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];r[o]=p.CursorState.fromViewState(c.MoveOperations.moveDown(e.config,e.viewModel,a.viewState,i,n))}return r};e._moveDownByModelLines=function(e,t,i,n){var r=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];r[o]=p.CursorState.fromModelState(c.MoveOperations.moveDown(e.config,e.model,a.modelState,i,n))}return r};e._moveUpByViewLines=function(e,t,i,n){var r=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];r[o]=p.CursorState.fromViewState(c.MoveOperations.moveUp(e.config,e.viewModel,a.viewState,i,n))}return r};e._moveUpByModelLines=function(e,t,i,n){var r=[];for(var o=0,s=t.length;o<s;o++){var a=t[o];r[o]=p.CursorState.fromModelState(c.MoveOperations.moveUp(e.config,e.model,a.modelState,i,n))}return r};e._moveToViewPosition=function(e,t,i,n,r){return p.CursorState.fromViewState(t.viewState.move(i,n,r,0))};e._moveToModelPosition=function(e,t,i,n,r){return p.CursorState.fromModelState(t.modelState.move(i,n,r,0))};e._moveToViewMinColumn=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=e.viewModel.getLineMinColumn(a);n[r]=this._moveToViewPosition(e,s,i,a,u)}return n};e._moveToViewFirstNonWhitespaceColumn=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=e.viewModel.getLineFirstNonWhitespaceColumn(a);n[r]=this._moveToViewPosition(e,s,i,a,u)}return n};e._moveToViewCenterColumn=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=Math.round((e.viewModel.getLineMaxColumn(a)+e.viewModel.getLineMinColumn(a))/2);n[r]=this._moveToViewPosition(e,s,i,a,u)}return n};e._moveToViewMaxColumn=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=e.viewModel.getLineMaxColumn(a);n[r]=this._moveToViewPosition(e,s,i,a,u)}return n};e._moveToViewLastNonWhitespaceColumn=function(e,t,i){var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.viewState.position.lineNumber;var u=e.viewModel.getLineLastNonWhitespaceColumn(a);n[r]=this._moveToViewPosition(e,s,i,a,u)}return n};return e}();t.CursorMoveCommands=i;var n;(function(n){var e=function(e){if(!s.isObject(e)){return false}var t=e;if(!s.isString(t.to)){return false}if(!s.isUndefined(t.select)&&!s.isBoolean(t.select)){return false}if(!s.isUndefined(t.by)&&!s.isString(t.by)){return false}if(!s.isUndefined(t.value)&&!s.isNumber(t.value)){return false}return true};n.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter',\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:e}]};n.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"};n.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function t(e){if(!e.to){return null}var t;switch(e.to){case n.RawDirection.Left:t=0;break;case n.RawDirection.Right:t=1;break;case n.RawDirection.Up:t=2;break;case n.RawDirection.Down:t=3;break;case n.RawDirection.WrappedLineStart:t=4;break;case n.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=5;break;case n.RawDirection.WrappedLineColumnCenter:t=6;break;case n.RawDirection.WrappedLineEnd:t=7;break;case n.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=8;break;case n.RawDirection.ViewPortTop:t=9;break;case n.RawDirection.ViewPortBottom:t=11;break;case n.RawDirection.ViewPortCenter:t=10;break;case n.RawDirection.ViewPortIfOutside:t=12;break;default:return null}var i=0;switch(e.by){case n.RawUnit.Line:i=1;break;case n.RawUnit.WrappedLine:i=2;break;case n.RawUnit.Character:i=3;break;case n.RawUnit.HalfLine:i=4;break}return{direction:t,unit:i,select:!!e.select,value:e.value||1}}n.parse=t;var i;(function(e){e[e["Left"]=0]="Left";e[e["Right"]=1]="Right";e[e["Up"]=2]="Up";e[e["Down"]=3]="Down";e[e["WrappedLineStart"]=4]="WrappedLineStart";e[e["WrappedLineFirstNonWhitespaceCharacter"]=5]="WrappedLineFirstNonWhitespaceCharacter";e[e["WrappedLineColumnCenter"]=6]="WrappedLineColumnCenter";e[e["WrappedLineEnd"]=7]="WrappedLineEnd";e[e["WrappedLineLastNonWhitespaceCharacter"]=8]="WrappedLineLastNonWhitespaceCharacter";e[e["ViewPortTop"]=9]="ViewPortTop";e[e["ViewPortCenter"]=10]="ViewPortCenter";e[e["ViewPortBottom"]=11]="ViewPortBottom";e[e["ViewPortIfOutside"]=12]="ViewPortIfOutside"})(i=n.Direction||(n.Direction={}));var r;(function(e){e[e["None"]=0]="None";e[e["Line"]=1]="Line";e[e["WrappedLine"]=2]="WrappedLine";e[e["Character"]=3]="Character";e[e["HalfLine"]=4]="HalfLine"})(r=n.Unit||(n.Unit={}))})(n=t.CursorMove||(t.CursorMove={}))});define(r[331],e([0,1,39,12,3,20,25]),function(e,t,d,h,f,i,p){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){this.modelState=null;this.viewState=null;this._selTrackedRange=null;this._setState(e,new d.SingleCursorState(new f.Range(1,1,1,1),0,new h.Position(1,1),0),new d.SingleCursorState(new f.Range(1,1,1,1),0,new h.Position(1,1),0))}e.prototype.dispose=function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,p.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges)};e.prototype.asCursorState=function(){return new d.CursorState(this.modelState,this.viewState)};e.prototype.readSelectionFromMarkers=function(e){var t=e.model._getTrackedRange(this._selTrackedRange);if(this.modelState.selection.getDirection()===i.SelectionDirection.LTR){return new i.Selection(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn)}return new i.Selection(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)};e.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)};e.prototype.setState=function(e,t,i){this._setState(e,t,i)};e.prototype._setState=function(e,t,i){if(!t){var n=e.model.validateRange(e.convertViewRangeToModelRange(i.selectionStart));var r=e.model.validatePosition(e.convertViewPositionToModelPosition(i.position.lineNumber,i.position.column));t=new d.SingleCursorState(n,i.selectionStartLeftoverVisibleColumns,r,i.leftoverVisibleColumns)}else{var n=e.model.validateRange(t.selectionStart);var o=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0;var r=e.model.validatePosition(t.position);var s=t.position.equals(r)?t.leftoverVisibleColumns:0;t=new d.SingleCursorState(n,o,r,s)}if(!i){var a=e.convertModelPositionToViewPosition(new h.Position(t.selectionStart.startLineNumber,t.selectionStart.startColumn));var u=e.convertModelPositionToViewPosition(new h.Position(t.selectionStart.endLineNumber,t.selectionStart.endColumn));var l=new f.Range(a.lineNumber,a.column,u.lineNumber,u.column);var c=e.convertModelPositionToViewPosition(t.position);i=new d.SingleCursorState(l,t.selectionStartLeftoverVisibleColumns,c,t.leftoverVisibleColumns)}else{var l=e.validateViewRange(i.selectionStart,t.selectionStart);var c=e.validateViewPosition(i.position,t.position);i=new d.SingleCursorState(l,t.selectionStartLeftoverVisibleColumns,c,t.leftoverVisibleColumns)}if(this.modelState&&this.viewState&&this.modelState.equals(t)&&this.viewState.equals(i)){return}this.modelState=t;this.viewState=i;this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,p.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges)};return e}();t.OneCursor=n});define(r[332],e([0,1,331,20,39]),function(e,t,i,w,E){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){this.context=e;this.primaryCursor=new i.OneCursor(e);this.secondaryCursors=[];this.lastAddedCursorIndex=0}e.prototype.dispose=function(){this.primaryCursor.dispose(this.context);this.killSecondaryCursors()};e.prototype.updateContext=function(e){this.context=e};e.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++){this.secondaryCursors[e].ensureValidState(this.context)}};e.prototype.readSelectionFromMarkers=function(){var e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var t=0,i=this.secondaryCursors.length;t<i;t++){e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context)}return e};e.prototype.getAll=function(){var e=[];e[0]=this.primaryCursor.asCursorState();for(var t=0,i=this.secondaryCursors.length;t<i;t++){e[t+1]=this.secondaryCursors[t].asCursorState()}return e};e.prototype.getViewPositions=function(){var e=[];e[0]=this.primaryCursor.viewState.position;for(var t=0,i=this.secondaryCursors.length;t<i;t++){e[t+1]=this.secondaryCursors[t].viewState.position}return e};e.prototype.getSelections=function(){var e=[];e[0]=this.primaryCursor.modelState.selection;for(var t=0,i=this.secondaryCursors.length;t<i;t++){e[t+1]=this.secondaryCursors[t].modelState.selection}return e};e.prototype.getViewSelections=function(){var e=[];e[0]=this.primaryCursor.viewState.selection;for(var t=0,i=this.secondaryCursors.length;t<i;t++){e[t+1]=this.secondaryCursors[t].viewState.selection}return e};e.prototype.setSelections=function(e){this.setStates(E.CursorState.fromModelSelections(e))};e.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()};e.prototype.setStates=function(e){if(e===null){return}this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState);this._setSecondaryStates(e.slice(1))};e.prototype._setSecondaryStates=function(e){var t=this.secondaryCursors.length;var i=e.length;if(t<i){var n=i-t;for(var r=0;r<n;r++){this._addSecondaryCursor()}}else if(t>i){var o=t-i;for(var r=0;r<o;r++){this._removeSecondaryCursor(this.secondaryCursors.length-1)}}for(var r=0;r<i;r++){this.secondaryCursors[r].setState(this.context,e[r].modelState,e[r].viewState)}};e.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])};e.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new i.OneCursor(this.context));this.lastAddedCursorIndex=this.secondaryCursors.length};e.prototype.getLastAddedCursorIndex=function(){if(this.secondaryCursors.length===0||this.lastAddedCursorIndex===0){return 0}return this.lastAddedCursorIndex};e.prototype._removeSecondaryCursor=function(e){if(this.lastAddedCursorIndex>=e+1){this.lastAddedCursorIndex--}this.secondaryCursors[e].dispose(this.context);this.secondaryCursors.splice(e,1)};e.prototype._getAll=function(){var e=[];e[0]=this.primaryCursor;for(var t=0,i=this.secondaryCursors.length;t<i;t++){e[t+1]=this.secondaryCursors[t]}return e};e.prototype.normalize=function(){if(this.secondaryCursors.length===0){return}var e=this._getAll();var t=[];for(var i=0,n=e.length;i<n;i++){t.push({index:i,selection:e[i].modelState.selection,viewSelection:e[i].viewState.selection})}t.sort(function(e,t){if(e.viewSelection.startLineNumber===t.viewSelection.startLineNumber){return e.viewSelection.startColumn-t.viewSelection.startColumn}return e.viewSelection.startLineNumber-t.viewSelection.startLineNumber});for(var r=0;r<t.length-1;r++){var o=t[r];var s=t[r+1];var a=o.viewSelection;var u=s.viewSelection;var l=void 0;if(u.isEmpty()||a.isEmpty()){l=u.getStartPosition().isBeforeOrEqual(a.getEndPosition())}else{l=u.getStartPosition().isBefore(a.getEndPosition())}if(l){var c=o.index<s.index?r:r+1;var d=o.index<s.index?r+1:r;var h=t[d].index;var f=t[c].index;var p=t[d].selection;var g=t[c].selection;if(!p.equalsSelection(g)){var v=p.plusRange(g);var m=p.selectionStartLineNumber===p.startLineNumber&&p.selectionStartColumn===p.startColumn;var _=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn;var y=void 0;if(h===this.lastAddedCursorIndex){y=m;this.lastAddedCursorIndex=f}else{y=_}var C=void 0;if(y){C=new w.Selection(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn)}else{C=new w.Selection(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}t[c].selection=C;var b=E.CursorState.fromModelSelection(C);e[f].setState(this.context,b.modelState,b.viewState)}for(var S=0;S<t.length;S++){if(t[S].index>h){t[S].index--}}e.splice(h,1);t.splice(d,1);this._removeSecondaryCursor(h-1);r--}}};return e}();t.CursorCollection=n});define(r[199],e([0,1,12,3,101,84,57,32,26]),function(e,t,b,v,p,c,_,m,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){this.outputLineIndex=e;this.outputOffset=t}return e}();t.OutputPosition=i;var r=function(){function e(e){this._lines=e}e.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)};e.prototype.convertViewRangeToModelRange=function(e){var t=this._lines.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn);var i=this._lines.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new v.Range(t.lineNumber,t.column,i.lineNumber,i.column)};e.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)};e.prototype.validateViewRange=function(e,t){var i=this._lines.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition());var n=this._lines.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new v.Range(i.lineNumber,i.column,n.lineNumber,n.column)};e.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)};e.prototype.convertModelRangeToViewRange=function(e){var t=this._lines.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn);var i=this._lines.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return new v.Range(t.lineNumber,t.column,i.lineNumber,i.column)};e.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)};return e}();t.CoordinatesConverter=r;var o=function(){function e(e,t,i,n,r,o){this.model=e;this._validModelVersionId=-1;this.tabSize=i;this.wrappingColumn=n;this.columnsForFullWidthChar=r;this.wrappingIndent=o;this.linePositionMapperFactory=t;this._constructLines(true)}e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])};e.prototype.createCoordinatesConverter=function(){return new r(this)};e.prototype._ensureValidState=function(){var e=this.model.getVersionId();if(e!==this._validModelVersionId){throw new Error("ViewModel is out of sync with Model!")}};e.prototype._constructLines=function(e){var t=this;this.lines=[];if(e){this.hiddenAreasIds=[]}var i=this.model.getLinesContent();var n=i.length;var r=new Uint32Array(n);var o=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(v.Range.compareRangesUsingStarts);var s=1,a=0;var u=-1;var l=u+1<o.length?a+1:n+2;for(var c=0;c<n;c++){var d=c+1;if(d===l){u++;s=o[u].startLineNumber;a=o[u].endLineNumber;l=u+1<o.length?a+1:n+2}var h=d>=s&&d<=a;var f=y(this.linePositionMapperFactory,i[c],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!h);r[c]=f.getViewLineCount();this.lines[c]=f}this._validModelVersionId=this.model.getVersionId();this.prefixSumComputer=new p.PrefixSumComputerWithCache(r)};e.prototype.getHiddenAreas=function(){var t=this;return this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)})};e.prototype._reduceRanges=function(e){var t=this;if(e.length===0){return[]}var i=e.map(function(e){return t.model.validateRange(e)}).sort(v.Range.compareRangesUsingStarts);var n=[];var r=i[0].startLineNumber;var o=i[0].endLineNumber;for(var s=1,a=i.length;s<a;s++){var u=i[s];if(u.startLineNumber>o+1){n.push(new v.Range(r,1,o,1));r=u.startLineNumber;o=u.endLineNumber}else if(u.endLineNumber>o){o=u.endLineNumber}}n.push(new v.Range(r,1,o,1));return n};e.prototype.setHiddenAreas=function(e){var t=this;var i=this._reduceRanges(e);var n=this.hiddenAreasIds.map(function(e){return t.model.getDecorationRange(e)}).sort(v.Range.compareRangesUsingStarts);if(i.length===n.length){var r=false;for(var o=0;o<i.length;o++){if(!i[o].equalsRange(n[o])){r=true;break}}if(!r){return false}}var s=[];for(var o=0;o<i.length;o++){s.push({range:i[o],options:m.ModelDecorationOptions.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,s);var a=i;var u=1,l=0;var c=-1;var d=c+1<a.length?l+1:this.lines.length+2;var h=false;for(var o=0;o<this.lines.length;o++){var f=o+1;if(f===d){c++;u=a[c].startLineNumber;l=a[c].endLineNumber;d=c+1<a.length?l+1:this.lines.length+2}var p=false;if(f>=u&&f<=l){if(this.lines[o].isVisible()){this.lines[o]=this.lines[o].setVisible(false);p=true}}else{h=true;if(!this.lines[o].isVisible()){this.lines[o]=this.lines[o].setVisible(true);p=true}}if(p){var g=this.lines[o].getViewLineCount();this.prefixSumComputer.changeValue(o,g)}}if(!h){this.setHiddenAreas([])}return true};e.prototype.modelPositionIsVisible=function(e,t){if(e<1||e>this.lines.length){return false}return this.lines[e-1].isVisible()};e.prototype.setTabSize=function(e){if(this.tabSize===e){return false}this.tabSize=e;this._constructLines(false);return true};e.prototype.setWrappingSettings=function(e,t,i){if(this.wrappingIndent===e&&this.wrappingColumn===t&&this.columnsForFullWidthChar===i){return false}this.wrappingIndent=e;this.wrappingColumn=t;this.columnsForFullWidthChar=i;this._constructLines(false);return true};e.prototype.onModelFlushed=function(){this._constructLines(true)};e.prototype.onModelLinesDeleted=function(e,t,i){if(e<=this._validModelVersionId){return null}var n=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;var r=this.prefixSumComputer.getAccumulatedValue(i-1);this.lines.splice(t-1,i-t+1);this.prefixSumComputer.removeValues(t-1,i-t+1);return new _.ViewLinesDeletedEvent(n,r)};e.prototype.onModelLinesInserted=function(e,t,i,n){if(e<=this._validModelVersionId){return null}var r=this.getHiddenAreas();var o=false;var s=new b.Position(t,1);for(var a=0;a<r.length;a++){if(r[a].containsPosition(s)){o=true;break}}var u=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;var l=0;var c=[];var d=new Uint32Array(n.length);for(var a=0,h=n.length;a<h;a++){var f=y(this.linePositionMapperFactory,n[a],this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,!o);c.push(f);var p=f.getViewLineCount();l+=p;d[a]=p}this.lines=this.lines.slice(0,t-1).concat(c).concat(this.lines.slice(t-1));this.prefixSumComputer.insertValues(t-1,d);return new _.ViewLinesInsertedEvent(u,u+l-1)};e.prototype.onModelLineChanged=function(e,t,i){if(e<=this._validModelVersionId){return[false,null,null,null]}var n=t-1;var r=this.lines[n].getViewLineCount();var o=this.lines[n].isVisible();var s=y(this.linePositionMapperFactory,i,this.tabSize,this.wrappingColumn,this.columnsForFullWidthChar,this.wrappingIndent,o);this.lines[n]=s;var a=this.lines[n].getViewLineCount();var u=false;var l=0;var c=-1;var d=0;var h=-1;var f=0;var p=-1;if(r>a){l=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;c=l+a-1;f=c+1;p=f+(r-a)-1;u=true}else if(r<a){l=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;c=l+r-1;d=c+1;h=d+(a-r)-1;u=true}else{l=t===1?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1;c=l+a-1}this.prefixSumComputer.changeValue(n,a);var g=l<=c?new _.ViewLinesChangedEvent(l,c):null;var v=d<=h?new _.ViewLinesInsertedEvent(d,h):null;var m=f<=p?new _.ViewLinesDeletedEvent(f,p):null;return[u,g,v,m]};e.prototype.acceptVersionId=function(e){this._validModelVersionId=e;if(this.lines.length===1&&!this.lines[0].isVisible()){this.setHiddenAreas([])}};e.prototype.getViewLineCount=function(){this._ensureValidState();return this.prefixSumComputer.getTotalValue()};e.prototype._toValidViewLineNumber=function(e){if(e<1){return 1}var t=this.getViewLineCount();if(e>t){return t}return e};e.prototype.warmUpLookupCache=function(e,t){this.prefixSumComputer.warmUpCache(e-1,t-1)};e.prototype.getViewLinesIndentGuides=function(e,t){this._ensureValidState();e=this._toValidViewLineNumber(e);t=this._toValidViewLineNumber(t);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e));var n=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t));var r=[];var o=[];var s=i.lineNumber-1;var a=n.lineNumber-1;var u=null;for(var l=s;l<=a;l++){var c=this.lines[l];if(c.isVisible()){var d=0;if(l===s){var h=c.getViewLineNumberOfModelPosition(0,i.column);var f=c.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(l+1));d=f-h+1}else{var h=c.getViewLineNumberOfModelPosition(0,1);var f=c.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(l+1));d=f-h+1}o.push(d);if(u===null){u=new b.Position(l+1,0)}}else{if(u!==null){r=r.concat(this.model.getLinesIndentGuides(u.lineNumber,l));u=null}}}if(u!==null){r=r.concat(this.model.getLinesIndentGuides(u.lineNumber,n.lineNumber));u=null}var p=t-e+1;var g=new Array(p);var v=0;for(var m=0,_=r.length;m<_;m++){var y=r[m];var d=Math.min(p-v,o[m]);for(var C=0;C<d;C++){g[v++]=y}}return g};e.prototype.getViewLineContent=function(e){this._ensureValidState();e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);var i=t.index;var n=t.remainder;return this.lines[i].getViewLineContent(this.model,i+1,n)};e.prototype.getViewLineMinColumn=function(e){this._ensureValidState();e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);var i=t.index;var n=t.remainder;return this.lines[i].getViewLineMinColumn(this.model,i+1,n)};e.prototype.getViewLineMaxColumn=function(e){this._ensureValidState();e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);var i=t.index;var n=t.remainder;return this.lines[i].getViewLineMaxColumn(this.model,i+1,n)};e.prototype.getViewLineData=function(e){this._ensureValidState();e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1);var i=t.index;var n=t.remainder;return this.lines[i].getViewLineData(this.model,i+1,n)};e.prototype.getViewLinesData=function(e,t,i){this._ensureValidState();e=this._toValidViewLineNumber(e);t=this._toValidViewLineNumber(t);var n=this.prefixSumComputer.getIndexOf(e-1);var r=e;var o=n.index;var s=n.remainder;var a=[];for(var u=o,l=this.model.getLineCount();u<l;u++){var c=this.lines[u];if(!c.isVisible()){continue}var d=u===o?s:0;var h=c.getViewLineCount()-d;var f=false;if(r+h>t){f=true;h=t-r+1}var p=d+h;c.getViewLinesData(this.model,u+1,d,p,r-e,i,a);r+=h;if(f){break}}return a};e.prototype.validateViewPosition=function(e,t,i){this._ensureValidState();e=this._toValidViewLineNumber(e);var n=this.prefixSumComputer.getIndexOf(e-1);var r=n.index;var o=n.remainder;var s=this.lines[r];var a=s.getViewLineMinColumn(this.model,r+1,o);var u=s.getViewLineMaxColumn(this.model,r+1,o);if(t<a){t=a}if(t>u){t=u}var l=s.getModelColumnOfViewPosition(o,t);var c=this.model.validatePosition(new b.Position(r+1,l));if(c.equals(i)){return new b.Position(e,t)}return this.convertModelPositionToViewPosition(i.lineNumber,i.column)};e.prototype.convertViewPositionToModelPosition=function(e,t){this._ensureValidState();e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1);var n=i.index;var r=i.remainder;var o=this.lines[n].getModelColumnOfViewPosition(r,t);return this.model.validatePosition(new b.Position(n+1,o))};e.prototype.convertModelPositionToViewPosition=function(e,t){this._ensureValidState();var i=this.model.validatePosition(new b.Position(e,t));var n=i.lineNumber;var r=i.column;var o=n-1,s=false;while(o>0&&!this.lines[o].isVisible()){o--;s=true}if(o===0&&!this.lines[o].isVisible()){return new b.Position(1,1)}var a=1+(o===0?0:this.prefixSumComputer.getAccumulatedValue(o-1));var u;if(s){u=this.lines[o].getViewPositionOfModelPosition(a,this.model.getLineMaxColumn(o+1))}else{u=this.lines[n-1].getViewPositionOfModelPosition(a,r)}return u};e.prototype._getViewLineNumberForModelPosition=function(e,t){var i=e-1;if(this.lines[i].isVisible()){var n=1+(i===0?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(n,t)}while(i>0&&!this.lines[i].isVisible()){i--}if(i===0&&!this.lines[i].isVisible()){return 1}var r=1+(i===0?0:this.prefixSumComputer.getAccumulatedValue(i-1));return this.lines[i].getViewLineNumberOfModelPosition(r,this.model.getLineMaxColumn(i+1))};e.prototype.getAllOverviewRulerDecorations=function(e,t,i){var n=this.model.getOverviewRulerDecorations(e,t);var r=new f;for(var o=0,s=n.length;o<s;o++){var a=n[o];var u=a.options.overviewRuler;var l=u.position;if(l===0){continue}var c=g(u,i);var d=this._getViewLineNumberForModelPosition(a.range.startLineNumber,a.range.startColumn);var h=this._getViewLineNumberForModelPosition(a.range.endLineNumber,a.range.endColumn);r.accept(c,d,h,l)}return r.result};e.prototype.getDecorationsInRange=function(e,t,i){var n=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn);var r=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(r.lineNumber-n.lineNumber<=e.endLineNumber-e.startLineNumber){return this.model.getDecorationsInRange(new v.Range(n.lineNumber,n.column,r.lineNumber,r.column),t,i)}var o=[];var s=n.lineNumber-1;var a=r.lineNumber-1;var u=null;for(var l=s;l<=a;l++){var c=this.lines[l];if(c.isVisible()){if(u===null){u=new b.Position(l+1,l===s?n.column:1)}}else{if(u!==null){var d=this.model.getLineMaxColumn(l);o=o.concat(this.model.getDecorationsInRange(new v.Range(u.lineNumber,u.column,l,d),t,i));u=null}}}if(u!==null){o=o.concat(this.model.getDecorationsInRange(new v.Range(u.lineNumber,u.column,r.lineNumber,r.column),t,i));u=null}return o};return e}();t.SplitLinesCollection=o;var u=function(){function e(){}e.prototype.isVisible=function(){return true};e.prototype.setVisible=function(e){if(e){return this}return l.INSTANCE};e.prototype.getViewLineCount=function(){return 1};e.prototype.getViewLineContent=function(e,t,i){return e.getLineContent(t)};e.prototype.getViewLineMinColumn=function(e,t,i){return e.getLineMinColumn(t)};e.prototype.getViewLineMaxColumn=function(e,t,i){return e.getLineMaxColumn(t)};e.prototype.getViewLineData=function(e,t,i){var n=e.getLineTokens(t);var r=n.getLineContent();return new c.ViewLineData(r,1,r.length+1,n.inflate())};e.prototype.getViewLinesData=function(e,t,i,n,r,o,s){if(!o[r]){s[r]=null;return}s[r]=this.getViewLineData(e,t,0)};e.prototype.getModelColumnOfViewPosition=function(e,t){return t};e.prototype.getViewPositionOfModelPosition=function(e,t){return new b.Position(e,t)};e.prototype.getViewLineNumberOfModelPosition=function(e,t){return e};e.INSTANCE=new e;return e}();var l=function(){function e(){}e.prototype.isVisible=function(){return false};e.prototype.setVisible=function(e){if(!e){return this}return u.INSTANCE};e.prototype.getViewLineCount=function(){return 0};e.prototype.getViewLineContent=function(e,t,i){throw new Error("Not supported")};e.prototype.getViewLineMinColumn=function(e,t,i){throw new Error("Not supported")};e.prototype.getViewLineMaxColumn=function(e,t,i){throw new Error("Not supported")};e.prototype.getViewLineData=function(e,t,i){throw new Error("Not supported")};e.prototype.getViewLinesData=function(e,t,i,n,r,o,s){throw new Error("Not supported")};e.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")};e.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")};e.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error("Not supported")};e.INSTANCE=new e;return e}();var d=function(){function e(e,t){this.positionMapper=e;this.wrappedIndent=this.positionMapper.getWrappedLinesIndent();this.wrappedIndentLength=this.wrappedIndent.length;this.outputLineCount=this.positionMapper.getOutputLineCount();this._isVisible=t}e.prototype.isVisible=function(){return this._isVisible};e.prototype.setVisible=function(e){this._isVisible=e;return this};e.prototype.getViewLineCount=function(){if(!this._isVisible){return 0}return this.outputLineCount};e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return this.positionMapper.getInputOffsetOfOutputPosition(e,0)};e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,i){if(i+1===this.outputLineCount){return e.getLineMaxColumn(t)-1}return this.positionMapper.getInputOffsetOfOutputPosition(i+1,0)};e.prototype.getViewLineContent=function(e,t,i){if(!this._isVisible){throw new Error("Not supported")}var n=this.getInputStartOffsetOfOutputLineIndex(i);var r=this.getInputEndOffsetOfOutputLineIndex(e,t,i);var o=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1});if(i>0){o=this.wrappedIndent+o}return o};e.prototype.getViewLineMinColumn=function(e,t,i){if(!this._isVisible){throw new Error("Not supported")}if(i>0){return this.wrappedIndentLength+1}return 1};e.prototype.getViewLineMaxColumn=function(e,t,i){if(!this._isVisible){throw new Error("Not supported")}return this.getViewLineContent(e,t,i).length+1};e.prototype.getViewLineData=function(e,t,i){if(!this._isVisible){throw new Error("Not supported")}var n=this.getInputStartOffsetOfOutputLineIndex(i);var r=this.getInputEndOffsetOfOutputLineIndex(e,t,i);var o=e.getValueInRange({startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:r+1});if(i>0){o=this.wrappedIndent+o}var s=i>0?this.wrappedIndentLength+1:1;var a=o.length+1;var u=0;if(i>0){u=this.wrappedIndentLength}var l=e.getLineTokens(t);return new c.ViewLineData(o,s,a,l.sliceAndInflate(n,r,u))};e.prototype.getViewLinesData=function(e,t,i,n,r,o,s){if(!this._isVisible){throw new Error("Not supported")}for(var a=i;a<n;a++){var u=r+a-i;if(!o[u]){s[u]=null;continue}s[u]=this.getViewLineData(e,t,a)}};e.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible){throw new Error("Not supported")}var i=t-1;if(e>0){if(i<this.wrappedIndentLength){i=0}else{i-=this.wrappedIndentLength}}return this.positionMapper.getInputOffsetOfOutputPosition(e,i)+1};e.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible){throw new Error("Not supported")}var i=this.positionMapper.getOutputPositionOfInputOffset(t-1);var n=i.outputLineIndex;var r=i.outputOffset+1;if(n>0){r+=this.wrappedIndentLength}return new b.Position(e+n,r)};e.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible){throw new Error("Not supported")}var i=this.positionMapper.getOutputPositionOfInputOffset(t-1);return e+i.outputLineIndex};return e}();t.SplitLine=d;function y(e,t,i,n,r,o,s){var a=e.createLineMapping(t,i,n,r,o);if(a===null){if(s){return u.INSTANCE}return l.INSTANCE}else{return new d(a,s)}}var s=function(){function e(e){this._lines=e}e.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)};e.prototype._validRange=function(e){return this._lines.model.validateRange(e)};e.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)};e.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)};e.prototype.validateViewPosition=function(e,t){return this._validPosition(t)};e.prototype.validateViewRange=function(e,t){return this._validRange(t)};e.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)};e.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)};e.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();if(e.lineNumber<1||e.lineNumber>t){return false}return true};return e}();t.IdentityCoordinatesConverter=s;var a=function(){function e(e){this.model=e}e.prototype.dispose=function(){};e.prototype.createCoordinatesConverter=function(){return new s(this)};e.prototype.getHiddenAreas=function(){return[]};e.prototype.setHiddenAreas=function(e){return false};e.prototype.setTabSize=function(e){return false};e.prototype.setWrappingSettings=function(e,t,i){return false};e.prototype.onModelFlushed=function(){};e.prototype.onModelLinesDeleted=function(e,t,i){return new _.ViewLinesDeletedEvent(t,i)};e.prototype.onModelLinesInserted=function(e,t,i,n){return new _.ViewLinesInsertedEvent(t,i)};e.prototype.onModelLineChanged=function(e,t,i){return[false,new _.ViewLinesChangedEvent(t,t),null,null]};e.prototype.acceptVersionId=function(e){};e.prototype.getViewLineCount=function(){return this.model.getLineCount()};e.prototype.warmUpLookupCache=function(e,t){};e.prototype.getViewLinesIndentGuides=function(e,t){var i=t-e+1;var n=new Array(i);for(var r=0;r<i;r++){n[r]=0}return n};e.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)};e.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)};e.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)};e.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e);var i=t.getLineContent();return new c.ViewLineData(i,1,i.length+1,t.inflate())};e.prototype.getViewLinesData=function(e,t,i){var n=this.model.getLineCount();e=Math.min(Math.max(1,e),n);t=Math.min(Math.max(1,t),n);var r=[];for(var o=e;o<=t;o++){var s=o-e;if(!i[s]){r[s]=null}r[s]=this.getViewLineData(o)}return r};e.prototype.getAllOverviewRulerDecorations=function(e,t,i){var n=this.model.getOverviewRulerDecorations(e,t);var r=new f;for(var o=0,s=n.length;o<s;o++){var a=n[o];var u=a.options.overviewRuler;var l=u.position;if(l===0){continue}var c=g(u,i);var d=a.range.startLineNumber;var h=a.range.endLineNumber;r.accept(c,d,h,l)}return r.result};e.prototype.getDecorationsInRange=function(e,t,i){return this.model.getDecorationsInRange(e,t,i)};return e}();t.IdentityLinesCollection=a;var f=function(){function e(){this.result=Object.create(null)}e.prototype.accept=function(e,t,i,n){var r=this.result[e];if(r){var o=r[r.length-3];var s=r[r.length-1];if(o===n&&s+1>=t){if(i>s){r[r.length-1]=i}return}r.push(n,t,i)}else{this.result[e]=[n,t,i]}};return e}();function g(e,t){if(!e._resolvedColor){var i=t.type;var n=i==="dark"?e.darkColor:i==="light"?e.color:e.hcColor;e._resolvedColor=h(n,t)}return e._resolvedColor}function h(e,t){if(typeof e==="string"){return e}var i=e?t.getColor(e.id):null;if(!i){i=n.Color.transparent}return i.toString()}});define(r[334],e([0,1,5,101,199,88,90,50]),function(e,t,T,M,i,n,k,O){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){e[e["NONE"]=0]="NONE";e[e["BREAK_BEFORE"]=1]="BREAK_BEFORE";e[e["BREAK_AFTER"]=2]="BREAK_AFTER";e[e["BREAK_OBTRUSIVE"]=3]="BREAK_OBTRUSIVE";e[e["BREAK_IDEOGRAPHIC"]=4]="BREAK_IDEOGRAPHIC"})(r||(r={}));var o=function(o){pe(e,o);function e(e,t,i){var n=o.call(this,0)||this;for(var r=0;r<e.length;r++){n.set(e.charCodeAt(r),1)}for(var r=0;r<t.length;r++){n.set(t.charCodeAt(r),2)}for(var r=0;r<i.length;r++){n.set(i.charCodeAt(r),3)}return n}e.prototype.get=function(e){if(e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959){return 4}return o.prototype.get.call(this,e)};return e}(n.CharacterClassifier);var s=function(){function D(e,t,i){this.classifier=new o(e,t,i)}D.nextVisibleColumn=function(e,t,i,n){e=+e;t=+t;n=+n;if(i){return e+(t-e%t)}return e+n};D.prototype.createLineMapping=function(e,t,i,n,r){if(i===-1){return null}t=+t;i=+i;n=+n;r=+r;var o=0;var s="";var a=-1;if(r!==O.WrappingIndent.None){a=T.firstNonWhitespaceIndex(e);if(a!==-1){s=e.substring(0,a);for(var u=0;u<a;u++){o=D.nextVisibleColumn(o,t,e.charCodeAt(u)===9,1)}if(r===O.WrappingIndent.Indent){s+="\t";o=D.nextVisibleColumn(o,t,true,1)}if(o+n>i){s="";o=0}}}var l=this.classifier;var c=0;var d=[];var h=0;var f=0;var p=-1;var g=0;var v=-1;var m=0;var _=e.length;for(var u=0;u<_;u++){var y=e.charCodeAt(u);var C=y===9;var b=l.get(y);if(b===1){p=u;g=o}if(b===4&&u>0){var S=e.charCodeAt(u-1);var w=l.get(S);if(w!==1){p=u;g=o}}var E=1;if(T.isFullWidthCharacter(y)){E=n}f=D.nextVisibleColumn(f,t,C,E);if(f>i&&u!==0){var L=void 0;var x=void 0;if(p!==-1&&g<=i){L=p;x=g}else if(v!==-1&&m<=i){L=v;x=m}else{L=u;x=o}d[h++]=L-c;c=L;f=D.nextVisibleColumn(x,t,C,E);p=-1;g=0;v=-1;m=0}if(p!==-1){g=D.nextVisibleColumn(g,t,C,E)}if(v!==-1){m=D.nextVisibleColumn(m,t,C,E)}if(b===2&&(r===O.WrappingIndent.None||u>=a)){p=u+1;g=o}if(b===4&&u<_-1){var N=e.charCodeAt(u+1);var I=l.get(N);if(I!==2){p=u+1;g=o}}if(b===3){v=u+1;m=o}}if(h===0){return null}d[h++]=_-c;return new R(new M.PrefixSumComputer(k.toUint32Array(d)),s)};return D}();t.CharacterHardWrappingLineMapperFactory=s;var R=function(){function e(e,t){this._prefixSums=e;this._wrappedLinesIndent=t}e.prototype.getOutputLineCount=function(){return this._prefixSums.getCount()};e.prototype.getWrappedLinesIndent=function(){return this._wrappedLinesIndent};e.prototype.getInputOffsetOfOutputPosition=function(e,t){if(e===0){return t}else{return this._prefixSums.getAccumulatedValue(e-1)+t}};e.prototype.getOutputPositionOfInputOffset=function(e){var t=this._prefixSums.getIndexOf(e);return new i.OutputPosition(t.index,t.remainder)};return e}();t.CharacterHardWrappingLineMapping=R});define(r[335],e([0,1,5,12,3,33,17,180,253,84,199,57,145,163,334,252,26,25]),function(e,t,i,l,f,n,r,p,u,c,d,g,h,o,v,m,s,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});var y=true;var a=function(a){pe(e,a);function e(e,t,i,n){var r=a.call(this)||this;r.editorId=e;r.configuration=t;r.model=i;if(y&&r.model.isTooLargeForTokenization()){r.lines=new d.IdentityLinesCollection(r.model)}else{var o=r.configuration.editor;var s=new v.CharacterHardWrappingLineMapperFactory(o.wrappingInfo.wordWrapBreakBeforeCharacters,o.wrappingInfo.wordWrapBreakAfterCharacters,o.wrappingInfo.wordWrapBreakObtrusiveCharacters);r.lines=new d.SplitLinesCollection(r.model,s,r.model.getOptions().tabSize,o.wrappingInfo.wrappingColumn,o.fontInfo.typicalFullwidthCharacterWidth/o.fontInfo.typicalHalfwidthCharacterWidth,o.wrappingInfo.wrappingIndent)}r.coordinatesConverter=r.lines.createCoordinatesConverter();r.viewLayout=r._register(new m.ViewLayout(r.configuration,r.getLineCount(),n));r._register(r.viewLayout.onDidScroll(function(e){try{var t=r._beginEmit();t.emit(new g.ViewScrollChangedEvent(e))}finally{r._endEmit()}}));r._centeredViewLine=-1;r.decorations=new u.ViewModelDecorations(r.editorId,r.model,r.configuration,r.lines,r.coordinatesConverter);r._registerModelEvents();r._register(r.configuration.onDidChange(function(e){try{var t=r._beginEmit();r._onConfigurationChanged(t,e)}finally{r._endEmit()}}));r._register(h.MinimapTokensColorTracker.getInstance().onDidChange(function(){try{var e=r._beginEmit();e.emit(new g.ViewTokensColorsChangedEvent)}finally{r._endEmit()}}));return r}e.prototype.dispose=function(){a.prototype.dispose.call(this);this.decorations.dispose();this.lines.dispose()};e.prototype._onConfigurationChanged=function(e,t){var i=this.getCenteredRangeInViewport();var n=false;var r=this.configuration.editor;if(this.lines.setWrappingSettings(r.wrappingInfo.wrappingIndent,r.wrappingInfo.wrappingColumn,r.fontInfo.typicalFullwidthCharacterWidth/r.fontInfo.typicalHalfwidthCharacterWidth)){e.emit(new g.ViewFlushedEvent);e.emit(new g.ViewLineMappingChangedEvent);e.emit(new g.ViewDecorationsChangedEvent);this.decorations.onLineMappingChanged();this.viewLayout.onFlushed(this.getLineCount());if(this.viewLayout.getCurrentScrollTop()!==0){n=true}}if(t.readOnly){this.decorations.reset();e.emit(new g.ViewDecorationsChangedEvent)}e.emit(new g.ViewConfigurationChangedEvent(t));this.viewLayout.onConfigurationChanged(t);if(n&&i){var o=this.coordinatesConverter.convertModelRangeToViewRange(i);e.emit(new g.ViewRevealRangeRequestEvent(o,1,false,1))}};e.prototype._registerModelEvents=function(){var p=this;this._register(this.model.onDidChangeRawContent(function(e){try{var t=p._beginEmit();var i=false;var n=false;var r=e.changes;var o=e.versionId;for(var s=0,a=r.length;s<a;s++){var u=r[s];switch(u.changeType){case 1:{p.lines.onModelFlushed();t.emit(new g.ViewFlushedEvent);p.decorations.reset();p.viewLayout.onFlushed(p.getLineCount());i=true;break}case 3:{var l=p.lines.onModelLinesDeleted(o,u.fromLineNumber,u.toLineNumber);if(l!==null){t.emit(l);p.viewLayout.onLinesDeleted(l.fromLineNumber,l.toLineNumber)}i=true;break}case 4:{var c=p.lines.onModelLinesInserted(o,u.fromLineNumber,u.toLineNumber,u.detail);if(c!==null){t.emit(c);p.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)}i=true;break}case 2:{var d=p.lines.onModelLineChanged(o,u.lineNumber,u.detail),h=d[0],f=d[1],c=d[2],l=d[3];n=h;if(f){t.emit(f)}if(c){t.emit(c);p.viewLayout.onLinesInserted(c.fromLineNumber,c.toLineNumber)}if(l){t.emit(l);p.viewLayout.onLinesDeleted(l.fromLineNumber,l.toLineNumber)}break}case 5:{break}}}p.lines.acceptVersionId(o);if(!i&&n){t.emit(new g.ViewLineMappingChangedEvent);t.emit(new g.ViewDecorationsChangedEvent);p.decorations.onLineMappingChanged()}}finally{p._endEmit()}p._centeredViewLine=-1;p.configuration.setMaxLineNumber(p.model.getLineCount())}));this._register(this.model.onDidChangeTokens(function(e){var t=[];for(var i=0,n=e.ranges.length;i<n;i++){var r=e.ranges[i];var o=p.coordinatesConverter.convertModelPositionToViewPosition(new l.Position(r.fromLineNumber,1)).lineNumber;var s=p.coordinatesConverter.convertModelPositionToViewPosition(new l.Position(r.toLineNumber,p.model.getLineMaxColumn(r.toLineNumber))).lineNumber;t[i]={fromLineNumber:o,toLineNumber:s}}try{var a=p._beginEmit();a.emit(new g.ViewTokensChangedEvent(t))}finally{p._endEmit()}}));this._register(this.model.onDidChangeLanguageConfiguration(function(e){try{var t=p._beginEmit();t.emit(new g.ViewLanguageConfigurationEvent)}finally{p._endEmit()}}));this._register(this.model.onDidChangeOptions(function(e){if(p.lines.setTabSize(p.model.getOptions().tabSize)){p.decorations.onLineMappingChanged();p.viewLayout.onFlushed(p.getLineCount());try{var t=p._beginEmit();t.emit(new g.ViewFlushedEvent);t.emit(new g.ViewLineMappingChangedEvent);t.emit(new g.ViewDecorationsChangedEvent)}finally{p._endEmit()}}}));this._register(this.model.onDidChangeDecorations(function(e){p.decorations.onModelDecorationsChanged();try{var t=p._beginEmit();t.emit(new g.ViewDecorationsChangedEvent)}finally{p._endEmit()}}))};e.prototype.setHiddenAreas=function(e){try{var t=this._beginEmit();var i=this.lines.setHiddenAreas(e);if(i){t.emit(new g.ViewFlushedEvent);t.emit(new g.ViewLineMappingChangedEvent);t.emit(new g.ViewDecorationsChangedEvent);this.decorations.onLineMappingChanged();this.viewLayout.onFlushed(this.getLineCount())}}finally{this._endEmit()}};e.prototype.getCenteredRangeInViewport=function(){if(this._centeredViewLine===-1){return null}var e=this._centeredViewLine;var t=new f.Range(e,this.getLineMinColumn(e),e,this.getLineMaxColumn(e));return this.coordinatesConverter.convertViewRangeToModelRange(t)};e.prototype.getVisibleRanges=function(){var e=this.getCompletelyVisibleViewRange();var t=this.coordinatesConverter.convertViewRangeToModelRange(e);var i=this.lines.getHiddenAreas();if(i.length===0){return[t]}var n=[],r=0;var o=t.startLineNumber;var s=t.startColumn;var a=t.endLineNumber;var u=t.endColumn;for(var l=0,c=i.length;l<c;l++){var d=i[l].startLineNumber;var h=i[l].endLineNumber;if(h<o){continue}if(d>a){continue}if(o<d){n[r++]=new f.Range(o,s,d-1,this.model.getLineMaxColumn(d-1))}o=h+1;s=1}if(o<a||o===a&&s<u){n[r++]=new f.Range(o,s,a,u)}return n};e.prototype.getCompletelyVisibleViewRange=function(){var e=this.viewLayout.getLinesViewportData();var t=e.completelyVisibleStartLineNumber;var i=e.completelyVisibleEndLineNumber;return new f.Range(t,this.getLineMinColumn(t),i,this.getLineMaxColumn(i))};e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){var t=this.viewLayout.getLinesViewportDataAtScrollTop(e);var i=t.completelyVisibleStartLineNumber;var n=t.completelyVisibleEndLineNumber;return new f.Range(i,this.getLineMinColumn(i),n,this.getLineMaxColumn(n))};e.prototype.getTabSize=function(){return this.model.getOptions().tabSize};e.prototype.getLineCount=function(){return this.lines.getViewLineCount()};e.prototype.setViewport=function(e,t,i){this._centeredViewLine=i;this.lines.warmUpLookupCache(e,t)};e.prototype.getLinesIndentGuides=function(e,t){return this.lines.getViewLinesIndentGuides(e,t)};e.prototype.getLineContent=function(e){return this.lines.getViewLineContent(e)};e.prototype.getLineMinColumn=function(e){return this.lines.getViewLineMinColumn(e)};e.prototype.getLineMaxColumn=function(e){return this.lines.getViewLineMaxColumn(e)};e.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=i.firstNonWhitespaceIndex(this.getLineContent(e));if(t===-1){return 0}return t+1};e.prototype.getLineLastNonWhitespaceColumn=function(e){var t=i.lastNonWhitespaceIndex(this.getLineContent(e));if(t===-1){return 0}return t+2};e.prototype.getDecorationsInViewport=function(e){return this.decorations.getDecorationsViewportData(e).decorations};e.prototype.getViewLineRenderingData=function(e,t){var i=this.model.mightContainRTL();var n=this.model.mightContainNonBasicASCII();var r=this.getTabSize();var o=this.lines.getViewLineData(t);var s=this.decorations.getDecorationsViewportData(e).inlineDecorations;var a=s[t-e.startLineNumber];return new c.ViewLineRenderingData(o.minColumn,o.maxColumn,o.content,i,n,o.tokens,a,r)};e.prototype.getMinimapLinesRenderingData=function(e,t,i){var n=this.lines.getViewLinesData(e,t,i);return new c.MinimapLinesRenderingData(this.getTabSize(),n)};e.prototype.getAllOverviewRulerDecorations=function(e){return this.lines.getAllOverviewRulerDecorations(this.editorId,this.configuration.editor.readOnly,e)};e.prototype.invalidateOverviewRulerColorCache=function(){var e=this.model.getOverviewRulerDecorations();for(var t=0,i=e.length;t<i;t++){var n=e[t];var r=n.options.overviewRuler;r._resolvedColor=null}};e.prototype.getValueInRange=function(e,t){var i=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(i,t)};e.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)};e.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)};e.prototype.deduceModelPositionRelativeToViewPosition=function(e,t,i){var n=this.coordinatesConverter.convertViewPositionToModelPosition(e);if(this.model.getEOL().length===2){if(t<0){t-=i}else{t+=i}}var r=this.model.getOffsetAt(n);var o=r+t;return this.model.getPositionAt(o)};e.prototype.getEOL=function(){return this.model.getEOL()};e.prototype.getPlainTextToCopy=function(e,t){var i=this;var n=this.model.getEOL();e=e.slice(0);e.sort(f.Range.compareRangesUsingStarts);var r=e.filter(function(e){return!e.isEmpty()});if(r.length===0){if(!t){return""}var o=e.map(function(e){var t=new l.Position(e.startLineNumber,1);return i.coordinatesConverter.convertViewPositionToModelPosition(t).lineNumber});var s="";for(var a=0;a<o.length;a++){if(a>0&&o[a-1]===o[a]){continue}s+=this.model.getLineContent(o[a])+n}return s}var u=[];for(var a=0;a<r.length;a++){u.push(this.getValueInRange(r[a],_.EndOfLinePreference.TextDefined))}return u.length===1?u[0]:u};e.prototype.getHTMLToCopy=function(e,t){if(this.model.getLanguageIdentifier().id===1){return null}if(e.length!==1){return null}var i=this.coordinatesConverter.convertViewRangeToModelRange(e[0]);if(i.isEmpty()){if(!t){return null}var n=i.startLineNumber;i=new f.Range(n,this.model.getLineMinColumn(n),n,this.model.getLineMaxColumn(n))}var r=this.configuration.editor.fontInfo;var o=this._getColorMap();return'<div style="'+("color: "+o[1]+";")+("background-color: "+o[2]+";")+("font-family: "+r.fontFamily+";")+("font-weight: "+r.fontWeight+";")+("font-size: "+r.fontSize+"px;")+("line-height: "+r.lineHeight+"px;")+"white-space: pre;"+'">'+this._getHTMLToCopy(i,o)+"</div>"};e.prototype._getHTMLToCopy=function(e,t){var i=e.startLineNumber;var n=e.startColumn;var r=e.endLineNumber;var o=e.endColumn;var s=this.getTabSize();var a="";for(var u=i;u<=r;u++){var l=this.model.getLineTokens(u);var c=l.getLineContent();var d=u===i?n-1:0;var h=u===r?o-1:c.length;if(c===""){a+="<br>"}else{a+=p.tokenizeLineToHTML(c,l.inflate(),t,d,h,s)}}return a};e.prototype._getColorMap=function(){var e=r.TokenizationRegistry.getColorMap();var t=[null];for(var i=1,n=e.length;i<n;i++){t[i]=s.Color.Format.CSS.formatHex(e[i])}return t};return e}(g.ViewEventEmitter);t.ViewModel=a});define(r[336],e([0,1,25,32]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e){this.editor=e;this.COLLAPSED_VISUAL_DECORATION=n.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,afterContentClassName:"inline-folded",linesDecorationsClassName:"folding collapsed"});this.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=n.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding"});this.EXPANDED_VISUAL_DECORATION=n.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,linesDecorationsClassName:"folding alwaysShowFoldIcons"});this.autoHideFoldingControls=true}e.prototype.getDecorationOption=function(e){if(e){return this.COLLAPSED_VISUAL_DECORATION}else if(this.autoHideFoldingControls){return this.EXPANDED_AUTO_HIDE_VISUAL_DECORATION}else{return this.EXPANDED_VISUAL_DECORATION}};e.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)};e.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)};return e}();t.FoldingDecorationProvider=r});define(r[337],e([0,1,131,32,7,40]),function(e,t,h,g,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var v=5e3;var i=function(){function e(){}e.prototype.compute=function(e){var t=o.LanguageConfigurationRegistry.getFoldingRules(e.getLanguageIdentifier().id);var i=t&&t.offSide;var n=t&&t.markers;return r.TPromise.as(s(e,i,n))};return e}();t.IndentRangeProvider=i;var m=function(){function e(e){this._startIndexes=[];this._endIndexes=[];this._indentOccurrences=[];this._length=0;this._foldingRangesLimit=e}e.prototype.insertFirst=function(e,t,i){if(e>h.MAX_LINE_NUMBER||t>h.MAX_LINE_NUMBER){return}var n=this._length;this._startIndexes[n]=e;this._endIndexes[n]=t;this._length++;if(i<1e3){this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1}};e.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){var t=new Uint32Array(this._length);var i=new Uint32Array(this._length);for(var n=this._length-1,r=0;n>=0;n--,r++){t[r]=this._startIndexes[n];i[r]=this._endIndexes[n]}return new h.FoldingRegions(t,i)}else{var o=0;var s=this._indentOccurrences.length;for(var n=0;n<this._indentOccurrences.length;n++){var a=this._indentOccurrences[n];if(a){if(a+o>this._foldingRangesLimit){s=n;break}o+=a}}var u=e.getOptions().tabSize;var t=new Uint32Array(o);var i=new Uint32Array(o);for(var n=this._length-1,r=0;n>=0;n--){var l=this._startIndexes[n];var c=e.getLineContent(l);var d=g.TextModel.computeIndentLevel(c,u);if(d<s){t[r]=l;i[r]=this._endIndexes[n];r++}}return new h.FoldingRegions(t,i)}};return e}();t.RangesCollector=m;function s(e,t,i,n){if(n===void 0){n=v}var r=e.getOptions().tabSize;var o=new m(n);var s=void 0;if(i){s=new RegExp("("+i.start.source+")|(?:"+i.end.source+")")}var a=[];a.push({indent:-1,line:e.getLineCount()+1,marker:false});for(var u=e.getLineCount();u>0;u--){var l=e.getLineContent(u);var c=g.TextModel.computeIndentLevel(l,r);var d=a[a.length-1];if(c===-1){if(t&&!d.marker){d.line=u}continue}var h=void 0;if(s&&(h=l.match(s))){if(h[1]){var f=a.length-1;while(f>0&&!a[f].marker){f--}if(f>0){a.length=f+1;d=a[f];o.insertFirst(u,d.line,c);d.marker=false;d.indent=c;d.line=u;continue}else{}}else{a.push({indent:-2,line:u,marker:true});continue}}if(d.indent>c){do{a.pop();d=a[a.length-1]}while(d.indent>c);var p=d.line-1;if(p-u>=1){o.insertFirst(u,p,c)}}if(d.indent===c){d.line=u}else{a.push({indent:c,line:u,marker:false})}}return o.toIndentRanges(e)}t.computeRanges=s});define(r[338],e([0,1,5,3,20,40,189,273,61]),function(e,t,E,L,x,N,o,I,y){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i){this._selection=e;this._isMovingDown=t;this._autoIndent=i;this._moveEndLineSelectionShrink=false}e.prototype.getEditOperations=function(i,e){var t=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===t){return}if(!this._isMovingDown&&this._selection.startLineNumber===1){return}this._moveEndPositionDown=false;var n=this._selection;if(n.startLineNumber<n.endLineNumber&&n.endColumn===1){this._moveEndPositionDown=true;n=n.setEndPosition(n.endLineNumber-1,i.getLineMaxColumn(n.endLineNumber-1))}var r=i.getOptions().tabSize;var o=i.getOptions().insertSpaces;var s=this.buildIndentConverter(r);var a={getLineTokens:function(e){return i.getLineTokens(e)},getLanguageIdentifier:function(){return i.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,t){return i.getLanguageIdAtPosition(e,t)},getLineContent:null};if(n.startLineNumber===n.endLineNumber&&i.getLineMaxColumn(n.startLineNumber)===1){var u=n.startLineNumber;var l=this._isMovingDown?u+1:u-1;if(i.getLineMaxColumn(l)===1){e.addEditOperation(new L.Range(1,1,1,1),null)}else{e.addEditOperation(new L.Range(u,1,u,1),i.getLineContent(l));e.addEditOperation(new L.Range(l,1,l,i.getLineMaxColumn(l)),null)}n=new x.Selection(l,1,l,1)}else{var c,d;if(this._isMovingDown){c=n.endLineNumber+1;d=i.getLineContent(c);e.addEditOperation(new L.Range(c-1,i.getLineMaxColumn(c-1),c,i.getLineMaxColumn(c)),null);var h=d;if(this.shouldAutoIndent(i,n)){var f=this.matchEnterRule(i,s,r,c,n.startLineNumber-1);if(f!==null){var p=E.getLeadingWhitespace(i.getLineContent(c));var g=f+I.getSpaceCnt(p,r);var v=I.generateIndent(g,r,o);h=v+this.trimLeft(d)}else{a.getLineContent=function(e){if(e===n.startLineNumber){return i.getLineContent(c)}else{return i.getLineContent(e)}};var m=N.LanguageConfigurationRegistry.getGoodIndentForLine(a,i.getLanguageIdAtPosition(c,1),n.startLineNumber,s);if(m!==null){var p=E.getLeadingWhitespace(i.getLineContent(c));var g=I.getSpaceCnt(m,r);var _=I.getSpaceCnt(p,r);if(g!==_){var v=I.generateIndent(g,r,o);h=v+this.trimLeft(d)}}}e.addEditOperation(new L.Range(n.startLineNumber,1,n.startLineNumber,1),h+"\n");var y=this.matchEnterRule(i,s,r,n.startLineNumber,n.startLineNumber,h);if(y!==null){if(y!==0){this.getIndentEditsOfMovingBlock(i,e,n,r,o,y)}}else{a.getLineContent=function(e){if(e===n.startLineNumber){return h}else if(e>=n.startLineNumber+1&&e<=n.endLineNumber+1){return i.getLineContent(e-1)}else{return i.getLineContent(e)}};var C=N.LanguageConfigurationRegistry.getGoodIndentForLine(a,i.getLanguageIdAtPosition(c,1),n.startLineNumber+1,s);if(C!==null){var p=E.getLeadingWhitespace(i.getLineContent(n.startLineNumber));var g=I.getSpaceCnt(C,r);var _=I.getSpaceCnt(p,r);if(g!==_){var b=g-_;this.getIndentEditsOfMovingBlock(i,e,n,r,o,b)}}}}else{e.addEditOperation(new L.Range(n.startLineNumber,1,n.startLineNumber,1),h+"\n")}}else{c=n.startLineNumber-1;d=i.getLineContent(c);e.addEditOperation(new L.Range(c,1,c+1,1),null);e.addEditOperation(new L.Range(n.endLineNumber,i.getLineMaxColumn(n.endLineNumber),n.endLineNumber,i.getLineMaxColumn(n.endLineNumber)),"\n"+d);if(this.shouldAutoIndent(i,n)){a.getLineContent=function(e){if(e===c){return i.getLineContent(n.startLineNumber)}else{return i.getLineContent(e)}};var y=this.matchEnterRule(i,s,r,n.startLineNumber,n.startLineNumber-2);if(y!==null){if(y!==0){this.getIndentEditsOfMovingBlock(i,e,n,r,o,y)}}else{var S=N.LanguageConfigurationRegistry.getGoodIndentForLine(a,i.getLanguageIdAtPosition(n.startLineNumber,1),c,s);if(S!==null){var w=E.getLeadingWhitespace(i.getLineContent(n.startLineNumber));var g=I.getSpaceCnt(S,r);var _=I.getSpaceCnt(w,r);if(g!==_){var b=g-_;this.getIndentEditsOfMovingBlock(i,e,n,r,o,b)}}}}}}this._selectionId=e.trackSelection(n)};e.prototype.buildIndentConverter=function(r){return{shiftIndent:function(e){var t=o.ShiftCommand.shiftIndentCount(e,e.length+1,r);var i="";for(var n=0;n<t;n++){i+="\t"}return i},unshiftIndent:function(e){var t=o.ShiftCommand.unshiftIndentCount(e,e.length+1,r);var i="";for(var n=0;n<t;n++){i+="\t"}return i}}};e.prototype.matchEnterRule=function(e,t,i,n,r,o){var s=r;while(s>=1){var a=void 0;if(s===r&&o!==undefined){a=o}else{a=e.getLineContent(s)}var u=E.lastNonWhitespaceIndex(a);if(u>=0){break}s--}if(s<1||n>e.getLineCount()){return null}var l=e.getLineMaxColumn(s);var c=N.LanguageConfigurationRegistry.getEnterAction(e,new L.Range(s,l,s,l));if(c){var d=c.indentation;var h=c.enterAction;if(h.indentAction===y.IndentAction.None){d=c.indentation+h.appendText}else if(h.indentAction===y.IndentAction.Indent){d=c.indentation+h.appendText}else if(h.indentAction===y.IndentAction.IndentOutdent){d=c.indentation}else if(h.indentAction===y.IndentAction.Outdent){d=t.unshiftIndent(c.indentation)+h.appendText}var f=e.getLineContent(n);if(this.trimLeft(f).indexOf(this.trimLeft(d))>=0){var p=E.getLeadingWhitespace(e.getLineContent(n));var g=E.getLeadingWhitespace(d);var v=N.LanguageConfigurationRegistry.getIndentMetadata(e,n);if(v&2){g=t.unshiftIndent(g)}var m=I.getSpaceCnt(g,i);var _=I.getSpaceCnt(p,i);return m-_}}return null};e.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")};e.prototype.shouldAutoIndent=function(e,t){if(!this._autoIndent){return false}if(!e.isCheapToTokenize(t.startLineNumber)){return false}var i=e.getLanguageIdAtPosition(t.startLineNumber,1);var n=e.getLanguageIdAtPosition(t.endLineNumber,1);if(i!==n){return false}if(N.LanguageConfigurationRegistry.getIndentRulesSupport(i)===null){return false}return true};e.prototype.getIndentEditsOfMovingBlock=function(e,t,i,n,r,o){for(var s=i.startLineNumber;s<=i.endLineNumber;s++){var a=e.getLineContent(s);var u=E.getLeadingWhitespace(a);var l=I.getSpaceCnt(u,n);var c=l+o;var d=I.generateIndent(c,n,r);if(d!==u){t.addEditOperation(new L.Range(s,1,s,u.length+1),d);if(s===i.endLineNumber&&i.endColumn<=u.length+1&&d===""){this._moveEndLineSelectionShrink=true}}}};e.prototype.computeCursorState=function(e,t){var i=t.getTrackedSelection(this._selectionId);if(this._moveEndPositionDown){i=i.setEndPosition(i.endLineNumber+1,1)}if(this._moveEndLineSelectionShrink&&i.startLineNumber<i.endLineNumber){i=i.setEndPosition(i.endLineNumber,2)}return i};return e}();t.MoveLinesCommand=i});define(r[339],e([0,1,120,2,4,78,10,24,32,395]),function(e,t,n,i,r,o,a,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(){function u(e){var s=this;this._disposables=[];this._onClick=new r.Emitter;this.onClick=this._onClick.event;this._futureFixes=new n.CancellationTokenSource;this._domNode=document.createElement("div");this._domNode.className="lightbulb-glyph";this._editor=e;this._editor.addContentWidget(this);this._disposables.push(this._editor.onDidChangeModel(function(e){return s._futureFixes.cancel()}));this._disposables.push(this._editor.onDidChangeModelLanguage(function(e){return s._futureFixes.cancel()}));this._disposables.push(this._editor.onDidChangeModelContent(function(e){if(s._model&&s.model.position.lineNumber>=s._editor.getModel().getLineCount()){s._futureFixes.cancel()}}));this._disposables.push(a.addStandardDisposableListener(this._domNode,"click",function(e){var t=a.getDomNodePagePosition(s._domNode),i=t.top,n=t.height;var r=s._editor.getConfiguration().lineHeight;var o=Math.floor(r/3);if(s._position.position.lineNumber<s._model.position.lineNumber){o+=r}s._onClick.fire({x:e.posx,y:i+n+o})}));this._disposables.push(a.addDisposableListener(this._domNode,"mouseenter",function(e){if((e.buttons&1)!==1){return}s.hide();var t=new o.GlobalMouseMoveMonitor;t.startMonitoring(o.standardMouseMoveMerger,function(){},function(){t.dispose()})}));this._disposables.push(this._editor.onDidChangeConfiguration(function(e){if(e.contribInfo&&!s._editor.getConfiguration().contribInfo.lightbulbEnabled){s.hide()}}))}u.prototype.dispose=function(){i.dispose(this._disposables);this._editor.removeContentWidget(this)};u.prototype.getId=function(){return"LightBulbWidget"};u.prototype.getDomNode=function(){return this._domNode};u.prototype.getPosition=function(){return this._position};Object.defineProperty(u.prototype,"model",{get:function(){return this._model},set:function(e){var t=this;if(this._position&&(!e.position||this._position.position.lineNumber!==e.position.lineNumber)){this.hide()}else if(this._futureFixes){this._futureFixes.cancel()}this._futureFixes=new n.CancellationTokenSource;var i=this._futureFixes.token;this._model=e;this._model.fixes.done(function(e){if(!i.isCancellationRequested&&e&&e.length>0){t._show()}else{t.hide()}},function(e){t.hide()})},enumerable:true,configurable:true});Object.defineProperty(u.prototype,"title",{get:function(){return this._domNode.title},set:function(e){this._domNode.title=e},enumerable:true,configurable:true});u.prototype._show=function(){var e=this._editor.getConfiguration();if(!e.contribInfo.lightbulbEnabled){return}var t=this._model.position.lineNumber;var i=this._editor.getModel();var n=i.getOptions().tabSize;var r=i.getLineContent(t);var o=l.TextModel.computeIndentLevel(r,n);var s=e.fontInfo.spaceWidth*o>22;var a=t;if(!s){if(t>1){a-=1}else{a+=1}}this._position={position:{lineNumber:a,column:1},preference:u._posPref};this._editor.layoutContentWidget(this)};u.prototype.hide=function(){this._position=null;this._model=null;this._futureFixes.cancel();this._editor.layoutContentWidget(this)};u._posPref=[s.ContentWidgetPositionPreference.EXACT];return u}();t.LightBulbWidget=u});define(r[200],e([0,1,2,27,10,105,3,26,32,135,25,401]),function(e,t,i,n,r,s,o,a,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=new a.Color(new a.RGBA(0,122,204));var h={showArrow:true,showFrame:true,className:"",frameColor:d,arrowColor:d,keepEditorSelection:false};var p="vs.editor.contrib.zoneWidget";var g=function(){function e(e,t,i,n,r,o){this.domNode=e;this.afterLineNumber=t;this.afterColumn=i;this.heightInLines=n;this._onDomNodeTop=r;this._onComputedHeight=o}e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)};e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)};return e}();t.ViewZoneDelegate=g;var v=function(){function e(e,t){this._id=e;this._domNode=t}e.prototype.getId=function(){return this._id};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){return null};return e}();t.OverlayWidgetDelegate=v;var f=function(){function t(e){this._editor=e;this._ruleName=t._IdGenerator.nextId();this._decorations=[]}t.prototype.dispose=function(){this.hide();r.removeCSSRulesContainingSelector(this._ruleName)};Object.defineProperty(t.prototype,"color",{set:function(e){if(this._color!==e){this._color=e;this._updateStyle()}},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"height",{set:function(e){if(this._height!==e){this._height=e;this._updateStyle()}},enumerable:true,configurable:true});t.prototype._updateStyle=function(){r.removeCSSRulesContainingSelector(this._ruleName);r.createCSSRule(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")};t.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:o.Range.fromPositions(e),options:{className:this._ruleName,stickiness:c.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}}])};t.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])};t._IdGenerator=new l.IdGenerator(".arrow-decoration-");return t}();var m=function(){function e(e,t){if(t===void 0){t={}}var i=this;this._positionMarkerId=[];this._disposables=[];this._isShowing=false;this.editor=e;this.options=n.deepClone(t);n.mixin(this.options,h,false);this.domNode=document.createElement("div");if(!this.options.isAccessible){this.domNode.setAttribute("aria-hidden","true");this.domNode.setAttribute("role","presentation")}this._disposables.push(this.editor.onDidLayoutChange(function(e){var t=i._getWidth(e);i.domNode.style.width=t+"px";i.domNode.style.left=i._getLeft(e)+"px";i._onWidth(t)}))}e.prototype.dispose=function(){var t=this;i.dispose(this._disposables);if(this._overlayWidget){this.editor.removeOverlayWidget(this._overlayWidget);this._overlayWidget=null}if(this._viewZone){this.editor.changeViewZones(function(e){e.removeZone(t._viewZone.id);t._viewZone=null})}this.editor.deltaDecorations(this._positionMarkerId,[])};e.prototype.create=function(){r.addClass(this.domNode,"zone-widget");r.addClass(this.domNode,this.options.className);this.container=document.createElement("div");r.addClass(this.container,"zone-widget-container");this.domNode.appendChild(this.container);if(this.options.showArrow){this._arrow=new f(this.editor);this._disposables.push(this._arrow)}this._fillContainer(this.container);this._initSash();this._applyStyles()};e.prototype.style=function(e){if(e.frameColor){this.options.frameColor=e.frameColor}if(e.arrowColor){this.options.arrowColor=e.arrowColor}this._applyStyles()};e.prototype._applyStyles=function(){if(this.container){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e;this.container.style.borderBottomColor=e}if(this._arrow){var t=this.options.arrowColor.toString();this._arrow.color=t}};e.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth};e.prototype._getLeft=function(e){if(e.minimapWidth>0&&e.minimapLeft===0){return e.minimapWidth}return 0};e.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"};e.prototype._onViewZoneHeight=function(e){this.domNode.style.height=e+"px";var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var i=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(i));this._resizeSash.layout()};Object.defineProperty(e.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){return this.editor.getModel().getDecorationRange(e).getStartPosition()}return undefined},enumerable:true,configurable:true});e.prototype.show=function(e,t){var i=o.Range.isIRange(e)?e:new o.Range(e.lineNumber,e.column,e.lineNumber,e.column);this._isShowing=true;this._showImpl(i,t);this._isShowing=false;this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:i,options:u.ModelDecorationOptions.EMPTY}])};e.prototype.hide=function(){var t=this;if(this._viewZone){this.editor.changeViewZones(function(e){e.removeZone(t._viewZone.id)});this._viewZone=null}if(this._overlayWidget){this.editor.removeOverlayWidget(this._overlayWidget);this._overlayWidget=null}if(this._arrow){this._arrow.hide()}};e.prototype._decoratingElementsHeight=function(){var e=this.editor.getConfiguration().lineHeight;var t=0;if(this.options.showArrow){var i=Math.round(e/3);t+=2*i}if(this.options.showFrame){var n=Math.round(e/9);t+=2*n}return t};e.prototype._showImpl=function(e,t){var i=this;var n={lineNumber:e.startLineNumber,column:e.startColumn};var r=this.editor.getLayoutInfo();var o=this._getWidth(r);this.domNode.style.width=o+"px";this.domNode.style.left=this._getLeft(r)+"px";var s=document.createElement("div");s.style.overflow="hidden";var a=this.editor.getConfiguration().lineHeight;var u=this.editor.getLayoutInfo().height/a*.8;if(t>=u){t=u}var l=0;var c=0;if(this.options.showArrow){l=Math.round(a/3);this._arrow.height=l;this._arrow.show(n)}if(this.options.showFrame){c=Math.round(a/9)}this.editor.changeViewZones(function(e){if(i._viewZone){e.removeZone(i._viewZone.id)}if(i._overlayWidget){i.editor.removeOverlayWidget(i._overlayWidget);i._overlayWidget=null}i.domNode.style.top="-1000px";i._viewZone=new g(s,n.lineNumber,n.column,t,function(e){return i._onViewZoneTop(e)},function(e){return i._onViewZoneHeight(e)});i._viewZone.id=e.addZone(i._viewZone);i._overlayWidget=new v(p+i._viewZone.id,i.domNode);i.editor.addOverlayWidget(i._overlayWidget)});if(this.options.showFrame){var d=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=d+"px";this.container.style.borderBottomWidth=d+"px"}var h=t*a-this._decoratingElementsHeight();this.container.style.top=l+"px";this.container.style.height=h+"px";this.container.style.overflow="hidden";this._doLayout(h,o);if(!this.options.keepEditorSelection){this.editor.setSelection(e)}var f=Math.min(this.editor.getModel().getLineCount(),Math.max(1,e.endLineNumber+1));this.revealLine(f)};e.prototype.revealLine=function(e){this.editor.revealLine(e,0)};e.prototype.setCssClass=function(e,t){if(t){this.container.classList.remove(t)}r.addClass(this.container,e)};e.prototype._onWidth=function(e){};e.prototype._doLayout=function(e,t){};e.prototype._relayout=function(t){var i=this;if(this._viewZone.heightInLines!==t){this.editor.changeViewZones(function(e){i._viewZone.heightInLines=t;e.layoutZone(i._viewZone.id)})}};e.prototype._initSash=function(){var r=this;this._resizeSash=new s.Sash(this.domNode,this,{orientation:s.Orientation.HORIZONTAL});if(!this.options.isResizeable){this._resizeSash.hide();this._resizeSash.disable()}var o;this._disposables.push(this._resizeSash.onDidStart(function(e){if(r._viewZone){o={startY:e.startY,heightInLines:r._viewZone.heightInLines}}}));this._disposables.push(this._resizeSash.onDidEnd(function(){o=undefined}));this._disposables.push(this._resizeSash.onDidChange(function(e){if(o){var t=(e.currentY-o.startY)/r.editor.getConfiguration().lineHeight;var i=t<0?Math.ceil(t):Math.floor(t);var n=o.heightInLines+i;if(n>5&&n<35){r._relayout(n)}}}))};e.prototype.getHorizontalSashLeft=function(){return 0};e.prototype.getHorizontalSashTop=function(){return parseInt(this.domNode.style.height)-this._decoratingElementsHeight()/2};e.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth};return e}();t.ZoneWidget=m});define(r[341],e([8,9]),function(e,t){return e.create("vs/editor/common/controller/cursor",t)});define(r[342],e([0,1,341,5,13,332,3,20,33,39,191,123,58,57,4,25]),function(e,t,c,s,d,a,u,h,l,f,i,p,g,v,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});function y(e){for(var t=0,i=e.length;t<i;t++){if(e[t].type===6){return true}}return false}var C=function(){function e(e,t,i){this.selections=e;this.source=t;this.reason=i}return e}();t.CursorStateChangedEvent=C;var b=function(){function e(e,t){this.modelVersionId=e.getVersionId();this.cursorState=t.getAll()}e.prototype.equals=function(e){if(!e){return false}if(this.modelVersionId!==e.modelVersionId){return false}if(this.cursorState.length!==e.cursorState.length){return false}for(var t=0,i=this.cursorState.length;t<i;t++){if(!this.cursorState[t].equals(e.cursorState[t])){return false}}return true};return e}();t.CursorModelState=b;var n=function(o){pe(e,o);function e(e,t,i){var n=o.call(this)||this;n._onDidChange=n._register(new m.Emitter);n.onDidChange=n._onDidChange.event;n._configuration=e;n._model=t;n._knownModelVersionId=n._model.getVersionId();n._viewModel=i;n.context=new f.CursorContext(n._configuration,n._model,n._viewModel);n._cursors=new a.CursorCollection(n.context);n._isHandling=false;n._isDoingComposition=false;n._columnSelectData=null;n._prevEditOperationType=0;n._register(n._model.onDidChangeRawContent(function(e){n._knownModelVersionId=e.versionId;if(n._isHandling){return}var t=e.containsEvent(1);n._onModelContentChanged(t)}));n._register(i.addEventListener(function(e){if(!y(e)){return}if(n._knownModelVersionId!==n._model.getVersionId()){return}n.setStates("viewModel",g.CursorChangeReason.NotSet,n.getAll())}));var r=function(){n.context=new f.CursorContext(n._configuration,n._model,n._viewModel);n._cursors.updateContext(n.context)};n._register(n._model.onDidChangeLanguage(function(e){r()}));n._register(n._model.onDidChangeLanguageConfiguration(function(){r()}));n._register(n._model.onDidChangeOptions(function(){r()}));n._register(n._configuration.onDidChange(function(e){if(f.CursorConfiguration.shouldRecreate(e)){r()}}));return n}e.prototype.dispose=function(){this._cursors.dispose();o.prototype.dispose.call(this)};e.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()};e.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()};e.prototype.getAll=function(){return this._cursors.getAll()};e.prototype.setStates=function(e,t,i){var n=new b(this._model,this);this._cursors.setStates(i);this._cursors.normalize();this._columnSelectData=null;this._emitStateChangedIfNecessary(e,t,n)};e.prototype.setColumnSelectData=function(e){this._columnSelectData=e};e.prototype.reveal=function(e,t,i){this._revealRange(t,0,e,i)};e.prototype.revealRange=function(e,t,i,n){this.emitCursorRevealRange(t,i,e,n)};e.prototype.scrollTo=function(e){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:e})};e.prototype.saveState=function(){var e=[];var t=this._cursors.getSelections();for(var i=0,n=t.length;i<n;i++){var r=t[i];e.push({inSelectionMode:!r.isEmpty(),selectionStart:{lineNumber:r.selectionStartLineNumber,column:r.selectionStartColumn},position:{lineNumber:r.positionLineNumber,column:r.positionColumn}})}return e};e.prototype.restoreState=function(e){var t=[];for(var i=0,n=e.length;i<n;i++){var r=e[i];var o=1;var s=1;if(r.position&&r.position.lineNumber){o=r.position.lineNumber}if(r.position&&r.position.column){s=r.position.column}var a=o;var u=s;if(r.selectionStart&&r.selectionStart.lineNumber){a=r.selectionStart.lineNumber}if(r.selectionStart&&r.selectionStart.column){u=r.selectionStart.column}t.push({selectionStartLineNumber:a,selectionStartColumn:u,positionLineNumber:o,positionColumn:s})}this.setStates("restoreState",g.CursorChangeReason.NotSet,f.CursorState.fromModelSelections(t));this.reveal(true,0,1)};e.prototype._onModelContentChanged=function(e){this._prevEditOperationType=0;if(e){this._cursors.dispose();this._cursors=new a.CursorCollection(this.context);this._emitStateChangedIfNecessary("model",g.CursorChangeReason.ContentFlush,null)}else{var t=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",g.CursorChangeReason.RecoverFromMarkers,f.CursorState.fromModelSelections(t))}};e.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection};e.prototype.getColumnSelectData=function(){if(this._columnSelectData){return this._columnSelectData}var e=this._cursors.getPrimaryCursor();var t=e.viewState.position;return{toViewLineNumber:t.lineNumber,toViewVisualColumn:f.CursorColumns.visibleColumnFromColumn2(this.context.config,this.context.viewModel,t)}};e.prototype.getSelections=function(){return this._cursors.getSelections()};e.prototype.getViewSelections=function(){return this._cursors.getViewSelections()};e.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position};e.prototype.setSelections=function(e,t){this.setStates(e,g.CursorChangeReason.NotSet,f.CursorState.fromModelSelections(t))};e.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType};e.prototype.setPrevEditOperationType=function(e){this._prevEditOperationType=e};e.prototype._executeEditOperation=function(e){if(!e){return}if(e.shouldPushStackElementBefore){this._model.pushStackElement()}var t=r.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);this._prevEditOperationType=e.type}if(e.shouldPushStackElementAfter){this._model.pushStackElement()}};e.prototype._interpretCommandResult=function(e){if(!e||e.length===0){return}this._columnSelectData=null;this._cursors.setSelections(e);this._cursors.normalize()};e.prototype._emitStateChangedIfNecessary=function(e,t,i){var n=new b(this._model,this);if(n.equals(i)){return false}var r=this._cursors.getSelections();var o=this._cursors.getViewSelections();try{var s=this._beginEmit();s.emit(new v.ViewCursorStateChangedEvent(o))}finally{this._endEmit()}if(!i||i.cursorState.length!==n.cursorState.length||n.cursorState.some(function(e,t){return!e.modelState.equals(i.cursorState[t].modelState)})){this._onDidChange.fire(new C(r,e||"keyboard",t))}return true};e.prototype._revealRange=function(e,t,i,n){var r=this._cursors.getViewPositions();var o=r[0];if(e===1){for(var s=1;s<r.length;s++){if(r[s].isBefore(o)){o=r[s]}}}else if(e===2){for(var s=1;s<r.length;s++){if(o.isBeforeOrEqual(r[s])){o=r[s]}}}else{if(r.length>1){return}}var a=new u.Range(o.lineNumber,o.column,o.lineNumber,o.column);this.emitCursorRevealRange(a,t,i,n)};e.prototype.emitCursorRevealRange=function(e,t,i,n){try{var r=this._beginEmit();r.emit(new v.ViewRevealRangeRequestEvent(e,t,i,n))}finally{this._endEmit()}};e.prototype.trigger=function(e,t,i){var n=l.Handler;if(t===n.CompositionStart){this._isDoingComposition=true;return}if(t===n.CompositionEnd){this._isDoingComposition=false;return}if(this._configuration.editor.readOnly){return}var r=new b(this._model,this);var o=g.CursorChangeReason.NotSet;this._cursors.ensureValidState();this._isHandling=true;try{switch(t){case n.Type:this._type(e,i.text);break;case n.ReplacePreviousChar:this._replacePreviousChar(i.text,i.replaceCharCnt);break;case n.Paste:o=g.CursorChangeReason.Paste;this._paste(i.text,i.pasteOnNewLine,i.multicursorText);break;case n.Cut:this._cut();break;case n.Undo:o=g.CursorChangeReason.Undo;this._interpretCommandResult(this._model.undo());break;case n.Redo:o=g.CursorChangeReason.Redo;this._interpretCommandResult(this._model.redo());break;case n.ExecuteCommand:this._externalExecuteCommand(i);break;case n.ExecuteCommands:this._externalExecuteCommands(i);break}}catch(e){d.onUnexpectedError(e)}this._isHandling=false;if(this._emitStateChangedIfNecessary(e,o,r)){this._revealRange(0,0,true,0)}};e.prototype._type=function(e,t){if(!this._isDoingComposition&&e==="keyboard"){for(var i=0,n=t.length;i<n;i++){var r=t.charCodeAt(i);var o=void 0;if(s.isHighSurrogate(r)&&i+1<n){o=t.charAt(i)+t.charAt(i+1);i++}else{o=t.charAt(i)}this._executeEditOperation(p.TypeOperations.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),o))}}else{this._executeEditOperation(p.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t))}};e.prototype._replacePreviousChar=function(e,t){this._executeEditOperation(p.TypeOperations.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),e,t))};e.prototype._paste=function(e,t,i){this._executeEditOperation(p.TypeOperations.paste(this.context.config,this.context.model,this.getSelections(),e,t,i))};e.prototype._cut=function(){this._executeEditOperation(i.DeleteOperations.cut(this.context.config,this.context.model,this.getSelections()))};e.prototype._externalExecuteCommand=function(e){this._cursors.killSecondaryCursors();this._executeEditOperation(new f.EditOperationResult(0,[e],{shouldPushStackElementBefore:false,shouldPushStackElementAfter:false}))};e.prototype._externalExecuteCommands=function(e){this._executeEditOperation(new f.EditOperationResult(0,e,{shouldPushStackElementBefore:false,shouldPushStackElementAfter:false}))};return e}(v.ViewEventEmitter);t.Cursor=n;var r=function(){function e(){}e.executeCommands=function(e,t,i){var n={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]};var r=this._innerExecuteCommands(n,i);for(var o=0,s=n.trackedRanges.length;o<s;o++){n.model._setTrackedRange(n.trackedRanges[o],null,_.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges)}return r};e._innerExecuteCommands=function(a,u){if(this._arrayIsEmpty(u)){return null}var e=this._getEditOperations(a,u);if(e.operations.length===0){return null}var t=e.operations;var i=this._getLoserCursorMap(t);if(i.hasOwnProperty("0")){console.warn("Ignoring commands");return null}var n=[];for(var r=0,o=t.length;r<o;r++){if(!i.hasOwnProperty(t[r].identifier.major.toString())){n.push(t[r])}}if(e.hadTrackedEditOperation&&n.length>0){n[0]._isTracked=true}var s=a.model.pushEditOperations(a.selectionsBefore,n,function(e){var t=[];for(var i=0;i<a.selectionsBefore.length;i++){t[i]=[]}for(var i=0;i<e.length;i++){var n=e[i];if(!n.identifier){continue}t[n.identifier.major].push(n)}var r=function(e,t){return e.identifier.minor-t.identifier.minor};var o=[];var s=function(e){if(t[e].length>0){t[e].sort(r);o[e]=u[e].computeCursorState(a.model,{getInverseEditOperations:function(){return t[e]},getTrackedSelection:function(e){var t=parseInt(e,10);var i=a.model._getTrackedRange(a.trackedRanges[t]);if(a.trackedRangesDirection[t]===h.SelectionDirection.LTR){return new h.Selection(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)}return new h.Selection(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})}else{o[e]=a.selectionsBefore[e]}};for(var i=0;i<a.selectionsBefore.length;i++){s(i)}return o});var l=[];for(var c in i){if(i.hasOwnProperty(c)){l.push(parseInt(c,10))}}l.sort(function(e,t){return t-e});for(var r=0;r<l.length;r++){s.splice(l[r],1)}return s};e._arrayIsEmpty=function(e){for(var t=0,i=e.length;t<i;t++){if(e[t]){return false}}return true};e._getEditOperations=function(e,t){var i=[];var n=false;for(var r=0,o=t.length;r<o;r++){if(t[r]){var s=this._getEditOperationsFromCommand(e,r,t[r]);i=i.concat(s.operations);n=n||s.hadTrackedEditOperation}}return{operations:i,hadTrackedEditOperation:n}};e._getEditOperationsFromCommand=function(s,i,n){var r=[];var o=0;var a=function(e,t){if(e.isEmpty()&&t===""){return}r.push({identifier:{major:i,minor:o++},range:e,text:t,forceMoveMarkers:false,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};var u=false;var e=function(e,t){u=true;a(e,t)};var t=function(e,t){var i;if(e.isEmpty()){if(typeof t==="boolean"){if(t){i=_.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}else{i=_.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter}}else{var n=s.model.getLineMaxColumn(e.startLineNumber);if(e.startColumn===n){i=_.TrackedRangeStickiness.GrowsOnlyWhenTypingBefore}else{i=_.TrackedRangeStickiness.GrowsOnlyWhenTypingAfter}}}else{i=_.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges}var r=s.trackedRanges.length;var o=s.model._setTrackedRange(null,e,i);s.trackedRanges[r]=o;s.trackedRangesDirection[r]=e.getDirection();return r.toString()};var l={addEditOperation:a,addTrackedEditOperation:e,trackSelection:t};try{n.getEditOperations(s.model,l)}catch(e){e.friendlyMessage=c.localize(0,null);d.onUnexpectedError(e);return{operations:[],hadTrackedEditOperation:false}}return{operations:r,hadTrackedEditOperation:u}};e._getLoserCursorMap=function(e){e=e.slice(0);e.sort(function(e,t){return-u.Range.compareRangesUsingEnds(e.range,t.range)});var t={};for(var i=1;i<e.length;i++){var n=e[i-1];var r=e[i];if(n.range.getStartPosition().isBefore(r.range.getEndPosition())){var o=void 0;if(n.identifier.major>r.identifier.major){o=n.identifier.major}else{o=r.identifier.major}t[o.toString()]=true;for(var s=0;s<e.length;s++){if(e[s].identifier.major===o){e.splice(s,1);if(s<i){i--}s--}}if(i>0){i--}}}return t};return e}()});define(r[343],e([8,9]),function(e,t){return e.create("vs/editor/common/modes/modesRegistry",t)});define(r[344],e([8,9]),function(e,t){return e.create("vs/editor/common/services/modelServiceImpl",t)});define(r[345],e([8,9]),function(e,t){return e.create("vs/editor/common/view/editorColorRegistry",t)});define(r[346],e([8,9]),function(e,t){return e.create("vs/editor/contrib/bracketMatching/bracketMatching",t)});define(r[347],e([8,9]),function(e,t){return e.create("vs/editor/contrib/caretOperations/caretOperations",t)});define(r[348],e([8,9]),function(e,t){return e.create("vs/editor/contrib/caretOperations/transpose",t)});define(r[349],e([8,9]),function(e,t){return e.create("vs/editor/contrib/clipboard/clipboard",t)});define(r[350],e([8,9]),function(e,t){return e.create("vs/editor/contrib/comment/comment",t)});define(r[351],e([8,9]),function(e,t){return e.create("vs/editor/contrib/contextmenu/contextmenu",t)});define(r[352],e([8,9]),function(e,t){return e.create("vs/editor/contrib/find/findController",t)});define(r[353],e([8,9]),function(e,t){return e.create("vs/editor/contrib/find/findWidget",t)});define(r[354],e([8,9]),function(e,t){return e.create("vs/editor/contrib/folding/folding",t)});define(r[355],e([8,9]),function(e,t){return e.create("vs/editor/contrib/format/formatActions",t)});define(r[356],e([8,9]),function(e,t){return e.create("vs/editor/contrib/goToDeclaration/goToDeclarationCommands",t)});define(r[357],e([8,9]),function(e,t){return e.create("vs/editor/contrib/goToDeclaration/goToDeclarationMouse",t)});define(r[358],e([8,9]),function(e,t){return e.create("vs/editor/contrib/gotoError/gotoError",t)});define(r[359],e([8,9]),function(e,t){return e.create("vs/editor/contrib/hover/hover",t)});define(r[360],e([8,9]),function(e,t){return e.create("vs/editor/contrib/hover/modesContentHover",t)});define(r[361],e([8,9]),function(e,t){return e.create("vs/editor/contrib/inPlaceReplace/inPlaceReplace",t)});define(r[362],e([8,9]),function(e,t){return e.create("vs/editor/contrib/linesOperations/linesOperations",t)});define(r[363],e([8,9]),function(e,t){return e.create("vs/editor/contrib/links/links",t)});define(r[364],e([8,9]),function(e,t){return e.create("vs/editor/contrib/multicursor/multicursor",t)});define(r[365],e([8,9]),function(e,t){return e.create("vs/editor/contrib/parameterHints/parameterHints",t)});define(r[366],e([8,9]),function(e,t){return e.create("vs/editor/contrib/parameterHints/parameterHintsWidget",t)});define(r[367],e([8,9]),function(e,t){return e.create("vs/editor/contrib/quickFix/quickFixCommands",t)});define(r[368],e([8,9]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/peekViewWidget",t)});define(r[369],e([8,9]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/referenceSearch",t)});define(r[370],e([8,9]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/referencesController",t)});define(r[371],e([8,9]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/referencesModel",t)});define(r[125],e([0,1,371,4,41,2,5,135,7,3]),function(e,t,i,u,n,r,d,o,s,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function e(e,t){this._parent=e;this._range=t;this._onRefChanged=new u.Emitter;this.onRefChanged=this._onRefChanged.event;this._id=o.defaultGenerator.nextId()}Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"model",{get:function(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"uri",{get:function(){return this._parent.uri},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){return this._parent.name},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"directory",{get:function(){return this._parent.directory},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e;this._onRefChanged.fire(this)},enumerable:true,configurable:true});e.prototype.getAriaMessage=function(){return i.localize(0,null,n.basename(this.uri.fsPath),this.range.startLineNumber,this.range.startColumn)};return e}();t.OneReference=l;var a=function(){function e(e){this._modelReference=e}Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:true,configurable:true});e.prototype.preview=function(e,t){if(t===void 0){t=8}var i=this._model;if(!i){return undefined}var n=e.startLineNumber,r=e.startColumn,o=e.endLineNumber,s=e.endColumn;var a=i.getWordUntilPosition({lineNumber:n,column:r-t});var u=new h.Range(n,a.startColumn,n,r);var l=new h.Range(o,s,o,Number.MAX_VALUE);var c={before:i.getValueInRange(u).replace(/^\s+/,d.empty),inside:i.getValueInRange(e),after:i.getValueInRange(l).replace(/\s+$/,d.empty)};return c};e.prototype.dispose=function(){if(this._modelReference){this._modelReference.dispose();this._modelReference=null}};return e}();t.FilePreview=a;var c=function(){function e(e,t){this._parent=e;this._uri=t;this._children=[]}Object.defineProperty(e.prototype,"id",{get:function(){return this._uri.toString()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){return n.basename(this.uri.fsPath)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"directory",{get:function(){return n.dirname(this.uri.fsPath)},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:true,configurable:true});e.prototype.getAriaMessage=function(){var e=this.children.length;if(e===1){return i.localize(1,null,n.basename(this.uri.fsPath),this.uri.fsPath)}else{return i.localize(2,null,e,n.basename(this.uri.fsPath),this.uri.fsPath)}};e.prototype.resolve=function(e){var i=this;if(this._resolved){return s.TPromise.as(this)}return e.createModelReference(this._uri).then(function(e){var t=e.object;if(!t){e.dispose();throw new Error}i._preview=new a(e);i._resolved=true;return i},function(e){i._children=[];i._resolved=true;i._loadFailure=e;return i})};e.prototype.dispose=function(){if(this._preview){this._preview.dispose();this._preview=null}};return e}();t.FileReferences=c;var f=function(){function a(e){var t=this;this._groups=[];this._references=[];this._onDidChangeReferenceRange=new u.Emitter;this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event;this._disposables=[];e.sort(a._compareReferences);var i;for(var n=0,r=e;n<r.length;n++){var o=r[n];if(!i||i.uri.toString()!==o.uri.toString()){i=new c(this,o.uri);this.groups.push(i)}if(i.children.length===0||!h.Range.equalsRange(o.range,i.children[i.children.length-1].range)){var s=new l(i,o.range);this._disposables.push(s.onRefChanged(function(e){return t._onDidChangeReferenceRange.fire(e)}));this._references.push(s);i.children.push(s)}}}Object.defineProperty(a.prototype,"empty",{get:function(){return this._groups.length===0},enumerable:true,configurable:true});Object.defineProperty(a.prototype,"references",{get:function(){return this._references},enumerable:true,configurable:true});Object.defineProperty(a.prototype,"groups",{get:function(){return this._groups},enumerable:true,configurable:true});a.prototype.getAriaMessage=function(){if(this.empty){return i.localize(3,null)}else if(this.references.length===1){return i.localize(4,null,this.references[0].uri.fsPath)}else if(this.groups.length===1){return i.localize(5,null,this.references.length,this.groups[0].uri.fsPath)}else{return i.localize(6,null,this.references.length,this.groups.length)}};a.prototype.nextReference=function(e){var t=e.parent.children.indexOf(e),i=e.parent.children.length,n=e.parent.parent.groups.length;if(t+1<i||n===1){return e.parent.children[(t+1)%i]}t=e.parent.parent.groups.indexOf(e.parent);t=(t+1)%n;return e.parent.parent.groups[t].children[0]};a.prototype.nearestReference=function(i,n){var e=this._references.map(function(e,t){return{idx:t,prefixLen:d.commonPrefixLength(e.uri.toString(),i.toString()),offsetDist:Math.abs(e.range.startLineNumber-n.lineNumber)*100+Math.abs(e.range.startColumn-n.column)}}).sort(function(e,t){if(e.prefixLen>t.prefixLen){return-1}else if(e.prefixLen<t.prefixLen){return 1}else if(e.offsetDist<t.offsetDist){return-1}else if(e.offsetDist>t.offsetDist){return 1}else{return 0}})[0];if(e){return this._references[e.idx]}return undefined};a.prototype.dispose=function(){this._groups=r.dispose(this._groups);r.dispose(this._disposables);this._disposables.length=0};a._compareReferences=function(e,t){var i=e.uri.toString();var n=t.uri.toString();if(i<n){return-1}else if(i>n){return 1}else{return h.Range.compareRangesUsingStarts(e.range,t.range)}};return a}();t.ReferencesModel=f});define(r[373],e([8,9]),function(e,t){return e.create("vs/editor/contrib/referenceSearch/referencesWidget",t)});define(r[374],e([8,9]),function(e,t){return e.create("vs/editor/contrib/rename/rename",t)});define(r[375],e([8,9]),function(e,t){return e.create("vs/editor/contrib/rename/renameInputField",t)});define(r[376],e([8,9]),function(e,t){return e.create("vs/editor/contrib/smartSelect/smartSelect",t)});define(r[377],e([8,9]),function(e,t){return e.create("vs/editor/contrib/suggest/suggestController",t)});define(r[378],e([8,9]),function(e,t){return e.create("vs/editor/contrib/suggest/suggestWidget",t)});define(r[379],e([8,9]),function(e,t){return e.create("vs/editor/contrib/toggleTabFocusMode/toggleTabFocusMode",t)});define(r[380],e([8,9]),function(e,t){return e.create("vs/editor/contrib/wordHighlighter/wordHighlighter",t)});define(r[381],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/accessibilityHelp/accessibilityHelp",t)});define(r[382],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/inspectTokens/inspectTokens",t)});define(r[383],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/quickOpen/gotoLine",t)});define(r[384],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/quickOpen/quickCommand",t)});define(r[385],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/quickOpen/quickOutline",t)});define(r[386],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/standaloneCodeEditor",t)});define(r[387],e([8,9]),function(e,t){return e.create("vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast",t)});define(r[388],e([8,9]),function(e,t){return e.create("vs/platform/configuration/common/configurationRegistry",t)});define(r[389],e([8,9]),function(e,t){return e.create("vs/platform/keybinding/common/abstractKeybindingService",t)});define(r[390],e([8,9]),function(e,t){return e.create("vs/platform/list/browser/listService",t)});define(r[391],e([8,9]),function(e,t){return e.create("vs/platform/theme/common/colorRegistry",t)});define(r[392],e([8,9]),function(e,t){return e.create("vs/platform/workspaces/common/workspaces",t)});define(r[393],e([0,1,48,2,42,68,302,412]),function(e,t,i,u,n,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t,i,n){var r=this;this.setContainer(e);this.contextViewService=t;this.telemetryService=i;this.notificationService=n;this.actionRunner=new s.ActionRunner;this.menuContainerElement=null;this.toDispose=[];var o=false;this.toDispose.push(this.actionRunner.onDidBeforeRun(function(e){if(r.telemetryService){r.telemetryService.publicLog("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"})}o=!!e.retainActionItem;if(!o){r.contextViewService.hideContextView(false)}}));this.toDispose.push(this.actionRunner.onDidRun(function(e){if(o){r.contextViewService.hideContextView(false)}o=false;if(e.error&&r.notificationService){r.notificationService.error(e.error)}}))}e.prototype.setContainer=function(e){var t=this;if(this.$el){this.$el.off(["click","mousedown"]);this.$el=null}if(e){this.$el=i.$(e);this.$el.on("mousedown",function(e){return t.onMouseDown(e)})}};e.prototype.showContextMenu=function(s){var a=this;s.getActions().done(function(o){a.contextViewService.showContextView({getAnchor:function(){return s.getAnchor()},canRelayout:false,render:function(e){a.menuContainerElement=e;var t=s.getMenuClassName?s.getMenuClassName():"";if(t){e.className+=" "+t}var i=new l.Menu(e,o,{actionItemProvider:s.getActionItem,context:s.getActionsContext?s.getActionsContext():null,actionRunner:a.actionRunner});var n=i.onDidCancel(function(){a.contextViewService.hideContextView(true)});var r=i.onDidBlur(function(){a.contextViewService.hideContextView(true)});i.focus();return u.combinedDisposable([n,r,i])},onHide:function(e){if(s.onHide){s.onHide(e)}a.menuContainerElement=null}})})};e.prototype.onMouseDown=function(e){if(!this.menuContainerElement){return}var t=new n.StandardMouseEvent(e);var i=t.target;while(i){if(i===this.menuContainerElement){return}i=i.parentElement}this.contextViewService.hideContextView()};e.prototype.dispose=function(){this.setContainer(null)};return e}();t.ContextMenuHandler=r});define(r[394],e([0,1,393,4]),function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n){this._onDidContextMenu=new o.Emitter;this.contextMenuHandler=new r.ContextMenuHandler(e,n,t,i)}e.prototype.dispose=function(){this.contextMenuHandler.dispose()};e.prototype.setContainer=function(e){this.contextMenuHandler.setContainer(e)};e.prototype.showContextMenu=function(e){this.contextMenuHandler.showContextMenu(e);this._onDidContextMenu.fire()};Object.defineProperty(e.prototype,"onDidContextMenu",{get:function(){return this._onDidContextMenu.event},enumerable:true,configurable:true});return e}();t.ContextMenuService=i});define(r[204],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}this.ctor=e;this.staticArguments=t}return e}();t.SyncDescriptor=n;t.createSyncDescriptor=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}return new(n.bind.apply(n,[void 0,e].concat(t)))}});define(r[14],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(t){t.serviceIds=new Map;t.DI_TARGET="$di$target";t.DI_DEPENDENCIES="$di$dependencies";function e(e){return e[t.DI_DEPENDENCIES]||[]}t.getServiceDependencies=e})(r=t._util||(t._util={}));t.IInstantiationService=i("instantiationService");function o(e,t,i,n){if(t[r.DI_TARGET]===t){t[r.DI_DEPENDENCIES].push({id:e,index:i,optional:n})}else{t[r.DI_DEPENDENCIES]=[{id:e,index:i,optional:n}];t[r.DI_TARGET]=t}}function i(e){if(r.serviceIds.has(e)){return r.serviceIds.get(e)}var n=function(e,t,i){if(arguments.length!==3){throw new Error("@IServiceName-decorator can only be used to decorate a parameter")}o(n,e,i,false)};n.toString=function(){return e};r.serviceIds.set(e,n);return n}t.createDecorator=i;function n(n){return function(e,t,i){if(arguments.length!==3){throw new Error("@optional-decorator can only be used to decorate a parameter")}o(n,e,i,true)}}t.optional=n});define(r[38],e([0,1,14,24]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ICodeEditorService=i.createDecorator("codeEditorService");function r(e){if(e){var t=e.getControl();if(t){if(n.isCodeEditor(t)){return{codeEditor:t,diffEditor:null}}if(n.isDiffEditor(t)){return{codeEditor:null,diffEditor:t}}}}return{codeEditor:null,diffEditor:null}}t.getCodeOrDiffEditor=r;function o(e){var t=r(e);return t.codeEditor||t.diffEditor&&t.diffEditor.getModifiedEditor()||null}t.getCodeEditor=o});define(r[62],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ID_EDITOR_WORKER_SERVICE="editorWorkerService";t.IEditorWorkerService=i.createDecorator(t.ID_EDITOR_WORKER_SERVICE)});define(r[60],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IModeService=i.createDecorator("modeService")});define(r[53],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IModelService=i.createDecorator("modelService")});define(r[64],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ITextModelService=i.createDecorator("textModelService")});define(r[150],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ITextResourceConfigurationService=i.createDecorator("textResourceConfigurationService")});var G=this&&this.__param||function(i,n){return function(e,t){n(e,t,i)}};define(r[151],e([0,1,18,2,7,147,447,17,53,238,40,150]),function(e,t,s,i,r,o,a,u,l,c,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=60*1e3;var p=5*60*1e3;function g(e,t){var i=e.getModel(t);if(!i){return false}if(i.isTooLargeForTokenization()){return false}return true}var n=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i._modelService=e;i._workerManager=i._register(new m(i._modelService));i._register(u.LinkProviderRegistry.register("*",{provideLinks:function(t,e){if(!g(i._modelService,t.uri)){return r.TPromise.as([])}return s.wireCancellationToken(e,i._workerManager.withWorker().then(function(e){return e.computeLinks(t.uri)}))}}));i._register(u.SuggestRegistry.register("*",new v(i._workerManager,t,i._modelService)));return i}e.prototype.dispose=function(){n.prototype.dispose.call(this)};e.prototype.canComputeDiff=function(e,t){return g(this._modelService,e)&&g(this._modelService,t)};e.prototype.computeDiff=function(t,i,n){return this._workerManager.withWorker().then(function(e){return e.computeDiff(t,i,n)})};e.prototype.canComputeDirtyDiff=function(e,t){return g(this._modelService,e)&&g(this._modelService,t)};e.prototype.computeDirtyDiff=function(t,i,n){return this._workerManager.withWorker().then(function(e){return e.computeDirtyDiff(t,i,n)})};e.prototype.computeMoreMinimalEdits=function(t,i){if(!Array.isArray(i)||i.length===0){return r.TPromise.as(i)}else{if(!g(this._modelService,t)){return r.TPromise.as(i)}return this._workerManager.withWorker().then(function(e){return e.computeMoreMinimalEdits(t,i)})}};e.prototype.canNavigateValueSet=function(e){return g(this._modelService,e)};e.prototype.navigateValueSet=function(t,i,n){return this._workerManager.withWorker().then(function(e){return e.navigateValueSet(t,i,n)})};e=q([G(0,l.IModelService),G(1,h.ITextResourceConfigurationService)],e);return e}(i.Disposable);t.EditorWorkerServiceImpl=n;var v=function(){function e(e,t,i){this._workerManager=e;this._configurationService=t;this._modelService=i}e.prototype.provideCompletionItems=function(t,i){var e=this._configurationService.getValue(t.uri,i,"editor").wordBasedSuggestions;if(!e){return undefined}if(!g(this._modelService,t.uri)){return undefined}return this._workerManager.withWorker().then(function(e){return e.textualSuggest(t.uri,i)})};return e}();var m=function(n){pe(e,n);function e(e){var t=n.call(this)||this;t._modelService=e;t._editorWorkerClient=null;var i=t._register(new s.IntervalTimer);i.cancelAndSet(function(){return t._checkStopIdleWorker()},Math.round(p/2));t._register(t._modelService.onModelRemoved(function(e){return t._checkStopEmptyWorker()}));return t}e.prototype.dispose=function(){if(this._editorWorkerClient){this._editorWorkerClient.dispose();this._editorWorkerClient=null}n.prototype.dispose.call(this)};e.prototype._checkStopEmptyWorker=function(){if(!this._editorWorkerClient){return}var e=this._modelService.getModels();if(e.length===0){this._editorWorkerClient.dispose();this._editorWorkerClient=null}};e.prototype._checkStopIdleWorker=function(){if(!this._editorWorkerClient){return}var e=(new Date).getTime()-this._lastWorkerUsedTime;if(e>p){this._editorWorkerClient.dispose();this._editorWorkerClient=null}};e.prototype.withWorker=function(){this._lastWorkerUsedTime=(new Date).getTime();if(!this._editorWorkerClient){this._editorWorkerClient=new C(this._modelService,"editorWorkerService")}return r.TPromise.as(this._editorWorkerClient)};return e}(i.Disposable);var _=function(o){pe(e,o);function e(e,t,i){var n=o.call(this)||this;n._syncedModels=Object.create(null);n._syncedModelsLastUsedTime=Object.create(null);n._proxy=e;n._modelService=t;if(!i){var r=new s.IntervalTimer;r.cancelAndSet(function(){return n._checkStopModelSync()},Math.round(f/2));n._register(r)}return n}e.prototype.dispose=function(){for(var e in this._syncedModels){i.dispose(this._syncedModels[e])}this._syncedModels=Object.create(null);this._syncedModelsLastUsedTime=Object.create(null);o.prototype.dispose.call(this)};e.prototype.esureSyncedResources=function(e){for(var t=0;t<e.length;t++){var i=e[t];var n=i.toString();if(!this._syncedModels[n]){this._beginModelSync(i)}if(this._syncedModels[n]){this._syncedModelsLastUsedTime[n]=(new Date).getTime()}}};e.prototype._checkStopModelSync=function(){var e=(new Date).getTime();var t=[];for(var i in this._syncedModelsLastUsedTime){var n=e-this._syncedModelsLastUsedTime[i];if(n>f){t.push(i)}}for(var r=0;r<t.length;r++){this._stopModelSync(t[r])}};e.prototype._beginModelSync=function(e){var t=this;var i=this._modelService.getModel(e);if(!i){return}if(i.isTooLargeForTokenization()){return}var n=e.toString();this._proxy.acceptNewModel({url:i.uri.toString(),lines:i.getLinesContent(),EOL:i.getEOL(),versionId:i.getVersionId()});var r=[];r.push(i.onDidChangeContent(function(e){t._proxy.acceptModelChanged(n.toString(),e)}));r.push(i.onWillDispose(function(){t._stopModelSync(n)}));r.push({dispose:function(){t._proxy.acceptRemovedModel(n)}});this._syncedModels[n]=r};e.prototype._stopModelSync=function(e){var t=this._syncedModels[e];delete this._syncedModels[e];delete this._syncedModelsLastUsedTime[e];i.dispose(t)};return e}(i.Disposable);var y=function(){function e(e){this._instance=e;this._proxyObj=r.TPromise.as(this._instance)}e.prototype.dispose=function(){this._instance.dispose();this._instance=null;this._proxyObj=null};e.prototype.getProxyObject=function(){return new s.ShallowCancelThenPromise(this._proxyObj)};return e}();var C=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i._modelService=e;i._workerFactory=new a.DefaultWorkerFactory(t);i._worker=null;i._modelManager=null;return i}e.prototype._getOrCreateWorker=function(){if(!this._worker){try{this._worker=this._register(new o.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker"))}catch(e){o.logOnceWebWorkerWarning(e);this._worker=new y(new c.EditorSimpleWorkerImpl(null))}}return this._worker};e.prototype._getProxy=function(){var t=this;return new s.ShallowCancelThenPromise(this._getOrCreateWorker().getProxyObject().then(null,function(e){o.logOnceWebWorkerWarning(e);t._worker=new y(new c.EditorSimpleWorkerImpl(null));return t._getOrCreateWorker().getProxyObject()}))};e.prototype._getOrCreateModelManager=function(e){if(!this._modelManager){this._modelManager=this._register(new _(e,this._modelService,false))}return this._modelManager};e.prototype._withSyncedResources=function(t){var i=this;return this._getProxy().then(function(e){i._getOrCreateModelManager(e).esureSyncedResources(t);return e})};e.prototype.computeDiff=function(t,i,n){return this._withSyncedResources([t,i]).then(function(e){return e.computeDiff(t.toString(),i.toString(),n)})};e.prototype.computeDirtyDiff=function(t,i,n){return this._withSyncedResources([t,i]).then(function(e){return e.computeDirtyDiff(t.toString(),i.toString(),n)})};e.prototype.computeMoreMinimalEdits=function(t,i){return this._withSyncedResources([t]).then(function(e){return e.computeMoreMinimalEdits(t.toString(),i)})};e.prototype.computeLinks=function(t){return this._withSyncedResources([t]).then(function(e){return e.computeLinks(t.toString())})};e.prototype.textualSuggest=function(o,s){var a=this;return this._withSyncedResources([o]).then(function(e){var t=a._modelService.getModel(o);if(!t){return null}var i=d.LanguageConfigurationRegistry.getWordDefinition(t.getLanguageIdentifier().id);var n=i.source;var r=(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"");return e.textualSuggest(o.toString(),s,n,r)})};e.prototype.navigateValueSet=function(o,s,a){var u=this;return this._withSyncedResources([o]).then(function(e){var t=u._modelService.getModel(o);if(!t){return null}var i=d.LanguageConfigurationRegistry.getWordDefinition(t.getLanguageIdentifier().id);var n=i.source;var r=(i.global?"g":"")+(i.ignoreCase?"i":"")+(i.multiline?"m":"");return e.navigateValueSet(o.toString(),s,a,n,r)})};return e}(i.Disposable);t.EditorWorkerClient=C});define(r[404],e([0,1,18,151]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,t){return new o(e,t)}t.createWebWorker=r;var o=function(n){pe(e,n);function e(e,t){var i=n.call(this,e,t.label)||this;i._foreignModuleId=t.moduleId;i._foreignModuleCreateData=t.createData||null;i._foreignProxy=null;return i}e.prototype._getForeignProxy=function(){var s=this;if(!this._foreignProxy){this._foreignProxy=new i.ShallowCancelThenPromise(this._getProxy().then(function(o){return o.loadForeignModule(s._foreignModuleId,s._foreignModuleCreateData).then(function(e){s._foreignModuleId=null;s._foreignModuleCreateData=null;var t=function(e,t){return o.fmr(e,t)};var i=function(t,i){return function(){var e=Array.prototype.slice.call(arguments,0);return i(t,e)}};var n={};for(var r=0;r<e.length;r++){n[e[r]]=i(e[r],t)}return n})}))}return this._foreignProxy};e.prototype.getProxy=function(){return this._getForeignProxy()};e.prototype.withSyncedResources=function(e){var t=this;return this._withSyncedResources(e).then(function(e){return t.getProxy()})};return e}(n.EditorWorkerClient)});define(r[405],e([0,1,7,3,53,279]),function(e,t,i,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e){this._modelService=e}e.prototype.getRangesToPosition=function(e,t){return i.TPromise.as(this.getRangesToPositionSync(e,t))};e.prototype.getRangesToPositionSync=function(e,t){var i=this._modelService.getModel(e),n=[];if(i){this._doGetRangesToPosition(i,t).forEach(function(e){n.push({type:void 0,range:e})})}return n};e.prototype._doGetRangesToPosition=function(e,t){var i=a.build(e),n,r;n=a.find(i,t);var o=[];while(n){if(!r||!s.Range.equalsRange(r,n.range)){o.push(n.range)}r=n.range;n=n.parent}o=o.reverse();return o};e=q([G(0,n.IModelService)],e);return e}();t.TokenSelectionSupport=r});define(r[85],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IStandaloneThemeService=i.createDecorator("themeService")});define(r[153],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IClipboardService=i.createDecorator("clipboardService")});define(r[408],e([0,1,5,25,51,133,20,3,23,2,281,32,153,14,399]),function(e,t,u,i,N,I,f,D,C,n,T,r,M,k){"use strict";Object.defineProperty(t,"__esModule",{value:true});var O=function(){function y(e,t,i){this._nestingLevel=1;this._editor=e;this._snippet=t;this._offset=i;this._placeholderGroups=C.groupBy(t.placeholders,I.Placeholder.compareByIndex);this._placeholderGroupsIdx=-1}y.prototype.dispose=function(){var e=this;if(this._placeholderDecorations){this._editor.changeDecorations(function(t){return e._placeholderDecorations.forEach(function(e){return t.removeDecoration(e)})})}this._placeholderGroups.length=0};y.prototype._initDecorations=function(){var l=this;if(this._placeholderDecorations){return}this._placeholderDecorations=new Map;var c=this._editor.getModel();this._editor.changeDecorations(function(e){for(var t=0,i=l._snippet.placeholders;t<i.length;t++){var n=i[t];var r=l._snippet.offset(n);var o=l._snippet.fullLen(n);var s=D.Range.fromPositions(c.getPositionAt(l._offset+r),c.getPositionAt(l._offset+r+o));var a=n.isFinalTabstop?y._decor.inactiveFinal:y._decor.inactive;var u=e.addDecoration(s,a);l._placeholderDecorations.set(n,u)}})};y.prototype.move=function(e){var h=this;this._initDecorations();if(e===true&&this._placeholderGroupsIdx<this._placeholderGroups.length-1){this._placeholderGroupsIdx+=1}else if(e===false&&this._placeholderGroupsIdx>0){this._placeholderGroupsIdx-=1}else{}return this._editor.getModel().changeDecorations(function(i){var n=new Set;var e=[];for(var t=0,r=h._placeholderGroups[h._placeholderGroupsIdx];t<r.length;t++){var o=r[t];var s=h._placeholderDecorations.get(o);var a=h._editor.getModel().getDecorationRange(s);e.push(new f.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn));i.changeDecorationOptions(s,o.isFinalTabstop?y._decor.activeFinal:y._decor.active);n.add(o);for(var u=0,l=h._snippet.enclosingPlaceholders(o);u<l.length;u++){var c=l[u];var d=h._placeholderDecorations.get(c);i.changeDecorationOptions(d,c.isFinalTabstop?y._decor.activeFinal:y._decor.active);n.add(c)}}h._placeholderDecorations.forEach(function(e,t){if(!n.has(t)){i.changeDecorationOptions(e,t.isFinalTabstop?y._decor.inactiveFinal:y._decor.inactive)}});return e})};Object.defineProperty(y.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0},enumerable:true,configurable:true});Object.defineProperty(y.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:true,configurable:true});Object.defineProperty(y.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:true,configurable:true});y.prototype.computePossibleSelections=function(){var e=new Map;for(var t=0,i=this._placeholderGroups;t<i.length;t++){var n=i[t];var r=void 0;for(var o=0,s=n;o<s.length;o++){var a=s[o];if(a.isFinalTabstop){break}if(!r){r=[];e.set(a.index,r)}var u=this._placeholderDecorations.get(a);var l=this._editor.getModel().getDecorationRange(u);r.push(l)}}return e};Object.defineProperty(y.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:true,configurable:true});y.prototype.merge=function(v){var m=this;var _=this._editor.getModel();this._nestingLevel*=10;this._editor.changeDecorations(function(e){for(var t=0,i=m._placeholderGroups[m._placeholderGroupsIdx];t<i.length;t++){var n=i[t];var r=v.shift();console.assert(!r._placeholderDecorations);for(var o=0,s=r._snippet.placeholderInfo.all;o<s.length;o++){var a=s[o];if(a.isFinalTabstop){a.index=n.index+(r._snippet.placeholderInfo.last.index+1)/m._nestingLevel}else{a.index=n.index+a.index/m._nestingLevel}}m._snippet.replace(n,r._snippet.children);var u=m._placeholderDecorations.get(n);e.removeDecoration(u);m._placeholderDecorations.delete(n);for(var l=0,c=r._snippet.placeholders;l<c.length;l++){var d=c[l];var h=r._snippet.offset(d);var f=r._snippet.fullLen(d);var p=D.Range.fromPositions(_.getPositionAt(r._offset+h),_.getPositionAt(r._offset+h+f));var g=e.addDecoration(p,y._decor.inactive);m._placeholderDecorations.set(d,g)}}m._placeholderGroups=C.groupBy(m._snippet.placeholders,I.Placeholder.compareByIndex)})};y._decor={active:r.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.AlwaysGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),inactive:r.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"snippet-placeholder"}),activeFinal:r.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"}),inactiveFinal:r.ModelDecorationOptions.register({stickiness:i.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"finish-snippet-placeholder"})};return y}();t.OneSnippet=O;var o=function(){function x(e,t,i,n){if(i===void 0){i=0}if(n===void 0){n=0}this._templateMerges=[];this._snippets=[];this._editor=e;this._template=t;this._overwriteBefore=i;this._overwriteAfter=n}x.adjustWhitespace=function(e,t,i){var n=e.getLineContent(t.lineNumber);var r=u.getLeadingWhitespace(n,0,t.column-1);var o=i.split(/\r\n|\r|\n/);for(var s=1;s<o.length;s++){var a=u.getLeadingWhitespace(o[s]);o[s]=e.normalizeIndentation(r+a)+o[s].substr(a.length)}return o.join(e.getEOL())};x.adjustSelection=function(e,t,i,n){if(i!==0||n!==0){var r=t.positionLineNumber,o=t.positionColumn;var s=o-i;var a=o+n;var u=e.validateRange({startLineNumber:r,startColumn:s,endLineNumber:r,endColumn:a});t=f.Selection.createWithDirection(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn,t.getDirection())}return t};x.createEditsAndSnippets=function(e,t,i,n,r){var o=e.getModel();var s=[];var a=[];var u=new T.ModelBasedVariableResolver(o);var l=e.invokeWithinContext(function(e){return e.get(M.IClipboardService,k.optional)});var c=0;var d=o.getValueInRange(x.adjustSelection(o,e.getSelection(),i,0));var h=o.getValueInRange(x.adjustSelection(o,e.getSelection(),0,n));var f=e.getSelections().map(function(e,t){return{selection:e,idx:t}}).sort(function(e,t){return D.Range.compareRangesUsingStarts(e.selection,t.selection)});for(var p=0,g=f;p<g.length;p++){var v=g[p],m=v.selection,_=v.idx;var y=x.adjustSelection(o,m,i,0);var C=x.adjustSelection(o,m,0,n);if(d!==o.getValueInRange(y)){y=m}if(h!==o.getValueInRange(C)){C=m}var b=m.setStartPosition(y.startLineNumber,y.startColumn).setEndPosition(C.endLineNumber,C.endColumn);var S=b.getStartPosition();var w=x.adjustWhitespace(o,S,t);var E=(new I.SnippetParser).parse(w,true,r).resolveVariables(new T.CompositeSnippetVariableResolver([u,new T.ClipboardBasedVariableResolver(l,_,f.length),new T.SelectionBasedVariableResolver(o,m),new T.TimeBasedVariableResolver]));var L=o.getOffsetAt(S)+c;c+=E.toString().length-o.getValueLengthInRange(b);s[_]=N.EditOperation.replace(b,E.toString());a[_]=new O(e,E,L)}return{edits:s,snippets:a}};x.prototype.dispose=function(){n.dispose(this._snippets)};x.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'};x.prototype.insert=function(){var t=this;var e=this._editor.getModel();var i=x.createEditsAndSnippets(this._editor,this._template,this._overwriteBefore,this._overwriteAfter,false),n=i.edits,r=i.snippets;this._snippets=r;this._editor.setSelections(e.pushEditOperations(this._editor.getSelections(),n,function(e){if(t._snippets[0].hasPlaceholder){return t._move(true)}else{return e.map(function(e){return f.Selection.fromPositions(e.range.getEndPosition())})}}))};x.prototype.merge=function(e,t,i){var r=this;if(t===void 0){t=0}if(i===void 0){i=0}this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);var n=x.createEditsAndSnippets(this._editor,e,t,i,true),o=n.edits,s=n.snippets;this._editor.setSelections(this._editor.getModel().pushEditOperations(this._editor.getSelections(),o,function(e){for(var t=0,i=r._snippets;t<i.length;t++){var n=i[t];n.merge(s)}console.assert(s.length===0);if(r._snippets[0].hasPlaceholder){return r._move(undefined)}else{return e.map(function(e){return f.Selection.fromPositions(e.range.getEndPosition())})}}))};x.prototype.next=function(){var e=this._move(true);this._editor.setSelections(e);this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())};x.prototype.prev=function(){var e=this._move(false);this._editor.setSelections(e);this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())};x.prototype._move=function(e){var t=[];for(var i=0,n=this._snippets;i<n.length;i++){var r=n[i];var o=r.move(e);t.push.apply(t,o)}return t};Object.defineProperty(x.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:true,configurable:true});Object.defineProperty(x.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:true,configurable:true});Object.defineProperty(x.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:true,configurable:true});Object.defineProperty(x.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:true,configurable:true});x.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder){return false}var o=this._editor.getSelections();if(o.length<this._snippets.length){return false}var s;var e=function(e){var i=e.computePossibleSelections();if(!s){s=new Map;i.forEach(function(e,t){e.sort(D.Range.compareRangesUsingStarts);for(var i=0,n=o;i<n.length;i++){var r=n[i];if(e[0].containsRange(r)){s.set(t,[]);break}}})}if(s.size===0){return{value:false}}s.forEach(function(e,t){e.push.apply(e,i.get(t))})};for(var t=0,i=this._snippets;t<i.length;t++){var n=i[t];var r=e(n);if(typeof r==="object")return r.value}o.sort(D.Range.compareRangesUsingStarts);s.forEach(function(e,t){if(e.length!==o.length){s.delete(t);return}e.sort(D.Range.compareRangesUsingStarts);for(var i=0;i<e.length;i++){if(!e[i].containsRange(o[i])){s.delete(t);return}}});return s.size>0};return x}();t.SnippetSession=o});define(r[34],e([0,1,7,29,14,167]),function(e,t,i,d,n,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ICommandService=n.createDecorator("commandService");t.CommandsRegistry=new(function(){function e(){this._commands=new Map}e.prototype.registerCommand=function(e,t){var i=this;if(!e){throw new Error("invalid command")}if(typeof e==="string"){if(!t){throw new Error("invalid command")}return this.registerCommand({id:e,handler:t})}if(e.description){var n=[];for(var r=0,o=e.description.args;r<o.length;r++){var s=o[r];n.push(s.constraint)}var a=e.handler;e.handler=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}d.validateConstraints(t,n);return a.apply(void 0,[e].concat(t))}}var u=e.id;var l=this._commands.get(u);if(!l){l=new h.LinkedList;this._commands.set(u,l)}var c=l.unshift(e);return{dispose:function(){c();if(i._commands.get(u).isEmpty()){i._commands.delete(u)}}}};e.prototype.getCommand=function(e){var t=this._commands.get(e);if(!t||t.isEmpty()){return undefined}return t.iterator().next().value};e.prototype.getCommands=function(){var i=this;var n=Object.create(null);this._commands.forEach(function(e,t){n[t]=i.getCommand(t)});return n};return e}());t.NullCommandService={_serviceBrand:undefined,onWillExecuteCommand:function(){return{dispose:function(){}}},executeCommand:function(){return i.TPromise.as(undefined)}}});define(r[410],e([0,1,13,30,7,3,17,18,34,53]),function(e,t,r,o,i,c,s,a,n,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function e(e,t){this._link=e;this._provider=t}e.prototype.toJSON=function(){return{range:this.range,url:this.url}};Object.defineProperty(e.prototype,"range",{get:function(){return this._link.range},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"url",{get:function(){return this._link.url},enumerable:true,configurable:true});e.prototype.resolve=function(){var t=this;if(this._link.url){try{return i.TPromise.as(o.default.parse(this._link.url))}catch(e){return i.TPromise.wrapError(new Error("invalid"))}}if(typeof this._provider.resolveLink==="function"){return a.asWinJsPromise(function(e){return t._provider.resolveLink(t._link,e)}).then(function(e){t._link=e||t._link;if(t._link.url){return t.resolve()}return i.TPromise.wrapError(new Error("missing"))})}return i.TPromise.wrapError(new Error("missing"))};return e}();t.Link=l;function d(t){var n=[];var e=s.LinkProviderRegistry.ordered(t).reverse().map(function(i){return a.asWinJsPromise(function(e){return i.provideLinks(t,e)}).then(function(e){if(Array.isArray(e)){var t=e.map(function(e){return new l(e,i)});n=h(n,t)}},r.onUnexpectedExternalError)});return i.TPromise.join(e).then(function(){return n})}t.getLinks=d;function h(e,t){var i=[],n,r,o,s,a,u,l;for(n=0,o=0,r=e.length,s=t.length;n<r&&o<s;){a=e[n];u=t[o];if(c.Range.areIntersectingOrTouching(a.range,u.range)){n++;continue}l=c.Range.compareRangesUsingStarts(a.range,u.range);if(l<0){i.push(a);n++}else{i.push(u);o++}}for(;n<r;n++){i.push(e[n])}for(;o<s;o++){i.push(t[o])}return i}n.CommandsRegistry.registerCommand("_executeLinkProvider",function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}var n=t[0];if(!(n instanceof o.default)){return undefined}var r=e.get(u.IModelService).getModel(n);if(!r){return undefined}return d(r)})});define(r[19],e([0,1,14,5]),function(e,t,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s;(function(e){e[e["Defined"]=1]="Defined";e[e["Not"]=2]="Not";e[e["Equals"]=3]="Equals";e[e["NotEquals"]=4]="NotEquals";e[e["And"]=5]="And";e[e["Regex"]=6]="Regex"})(s=t.ContextKeyExprType||(t.ContextKeyExprType={}));var o=function(){function e(){}e.has=function(e){return new n(e)};e.equals=function(e,t){return new u(e,t)};e.notEquals=function(e,t){return new l(e,t)};e.regex=function(e,t){return new d(e,t)};e.not=function(e){return new c(e)};e.and=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return new h(e)};e.deserialize=function(e){var t=this;if(!e){return null}var i=e.split("&&");var n=new h(i.map(function(e){return t._deserializeOne(e)}));return n.normalize()};e._deserializeOne=function(e){e=e.trim();if(e.indexOf("!=")>=0){var t=e.split("!=");return new l(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("==")>=0){var t=e.split("==");return new u(t[0].trim(),this._deserializeValue(t[1]))}if(e.indexOf("=~")>=0){var t=e.split("=~");return new d(t[0].trim(),this._deserializeRegexValue(t[1]))}if(/^\!\s*/.test(e)){return new c(e.substr(1).trim())}return new n(e)};e._deserializeValue=function(e){e=e.trim();if(e==="true"){return true}if(e==="false"){return false}var t=/^'([^']*)'$/.exec(e);if(t){return t[1].trim()}return e};e._deserializeRegexValue=function(t){if(r.isFalsyOrWhitespace(t)){console.warn("missing regexp-value for =~-expression");return null}var e=t.indexOf("/");var i=t.lastIndexOf("/");if(e===i||e<0){console.warn("bad regexp-value '"+t+"', missing /-enclosure");return null}var n=t.slice(e+1,i);try{return new RegExp(n)}catch(e){console.warn("bad regexp-value '"+t+"', parse error: "+e);return null}};return e}();t.ContextKeyExpr=o;function a(e,t){var i=e.getType();var n=t.getType();if(i!==n){return i-n}switch(i){case s.Defined:return e.cmp(t);case s.Not:return e.cmp(t);case s.Equals:return e.cmp(t);case s.NotEquals:return e.cmp(t);case s.Regex:return e.cmp(t);default:throw new Error("Unknown ContextKeyExpr!")}}var n=function(){function t(e){this.key=e}t.prototype.getType=function(){return s.Defined};t.prototype.cmp=function(e){if(this.key<e.key){return-1}if(this.key>e.key){return 1}return 0};t.prototype.equals=function(e){if(e instanceof t){return this.key===e.key}return false};t.prototype.evaluate=function(e){return!!e.getValue(this.key)};t.prototype.normalize=function(){return this};t.prototype.serialize=function(){return this.key};t.prototype.keys=function(){return[this.key]};return t}();t.ContextKeyDefinedExpr=n;var u=function(){function t(e,t){this.key=e;this.value=t}t.prototype.getType=function(){return s.Equals};t.prototype.cmp=function(e){if(this.key<e.key){return-1}if(this.key>e.key){return 1}if(this.value<e.value){return-1}if(this.value>e.value){return 1}return 0};t.prototype.equals=function(e){if(e instanceof t){return this.key===e.key&&this.value===e.value}return false};t.prototype.evaluate=function(e){return e.getValue(this.key)==this.value};t.prototype.normalize=function(){if(typeof this.value==="boolean"){if(this.value){return new n(this.key)}return new c(this.key)}return this};t.prototype.serialize=function(){if(typeof this.value==="boolean"){return this.normalize().serialize()}return this.key+" == '"+this.value+"'"};t.prototype.keys=function(){return[this.key]};return t}();t.ContextKeyEqualsExpr=u;var l=function(){function t(e,t){this.key=e;this.value=t}t.prototype.getType=function(){return s.NotEquals};t.prototype.cmp=function(e){if(this.key<e.key){return-1}if(this.key>e.key){return 1}if(this.value<e.value){return-1}if(this.value>e.value){return 1}return 0};t.prototype.equals=function(e){if(e instanceof t){return this.key===e.key&&this.value===e.value}return false};t.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value};t.prototype.normalize=function(){if(typeof this.value==="boolean"){if(this.value){return new c(this.key)}return new n(this.key)}return this};t.prototype.serialize=function(){if(typeof this.value==="boolean"){return this.normalize().serialize()}return this.key+" != '"+this.value+"'"};t.prototype.keys=function(){return[this.key]};return t}();t.ContextKeyNotEqualsExpr=l;var c=function(){function t(e){this.key=e}t.prototype.getType=function(){return s.Not};t.prototype.cmp=function(e){if(this.key<e.key){return-1}if(this.key>e.key){return 1}return 0};t.prototype.equals=function(e){if(e instanceof t){return this.key===e.key}return false};t.prototype.evaluate=function(e){return!e.getValue(this.key)};t.prototype.normalize=function(){return this};t.prototype.serialize=function(){return"!"+this.key};t.prototype.keys=function(){return[this.key]};return t}();t.ContextKeyNotExpr=c;var d=function(){function i(e,t){this.key=e;this.regexp=t}i.prototype.getType=function(){return s.Regex};i.prototype.cmp=function(e){if(this.key<e.key){return-1}if(this.key>e.key){return 1}var t=this.regexp?this.regexp.source:undefined;if(t<e.regexp.source){return-1}if(t>e.regexp.source){return 1}return 0};i.prototype.equals=function(e){if(e instanceof i){var t=this.regexp?this.regexp.source:undefined;return this.key===e.key&&t===e.regexp.source}return false};i.prototype.evaluate=function(e){return this.regexp?this.regexp.test(e.getValue(this.key)):false};i.prototype.normalize=function(){return this};i.prototype.serialize=function(){return this.key+" =~ /"+(this.regexp?this.regexp.source:"<invalid>")+"/"};i.prototype.keys=function(){return[this.key]};return i}();t.ContextKeyRegexExpr=d;var h=function(){function o(e){this.expr=o._normalizeArr(e)}o.prototype.getType=function(){return s.And};o.prototype.equals=function(e){if(e instanceof o){if(this.expr.length!==e.expr.length){return false}for(var t=0,i=this.expr.length;t<i;t++){if(!this.expr[t].equals(e.expr[t])){return false}}return true}return false};o.prototype.evaluate=function(e){for(var t=0,i=this.expr.length;t<i;t++){if(!this.expr[t].evaluate(e)){return false}}return true};o._normalizeArr=function(e){var t=[];if(e){for(var i=0,n=e.length;i<n;i++){var r=e[i];if(!r){continue}r=r.normalize();if(!r){continue}if(r instanceof o){t=t.concat(r.expr);continue}t.push(r)}t.sort(a)}return t};o.prototype.normalize=function(){if(this.expr.length===0){return null}if(this.expr.length===1){return this.expr[0]}return this};o.prototype.serialize=function(){if(this.expr.length===0){return""}if(this.expr.length===1){return this.normalize().serialize()}return this.expr.map(function(e){return e.serialize()}).join(" && ")};o.prototype.keys=function(){var e=[];for(var t=0,i=this.expr;t<i.length;t++){var n=i[t];e.push.apply(e,n.keys())}return e};return o}();t.ContextKeyAndExpr=h;var f=function(n){pe(e,n);function e(e,t){var i=n.call(this,e)||this;i._defaultValue=t;return i}e.prototype.bindTo=function(e){return e.createKey(this.key,this._defaultValue)};e.prototype.getValue=function(e){return e.getContextKeyValue(this.key)};e.prototype.toNegated=function(){return o.not(this.key)};e.prototype.isEqualTo=function(e){return o.equals(this.key,e)};e.prototype.notEqualsTo=function(e){return o.notEquals(this.key,e)};return e}(n);t.RawContextKey=f;t.IContextKeyService=i.createDecorator("contextKeyService");t.SET_CONTEXT_COMMAND_ID="setContext"});define(r[21],e([0,1,19]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e.textFocus=new i.RawContextKey("editorTextFocus",false);e.focus=new i.RawContextKey("editorFocus",false);e.readOnly=new i.RawContextKey("editorReadonly",false);e.writable=e.readOnly.toNegated();e.hasNonEmptySelection=new i.RawContextKey("editorHasSelection",false);e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated();e.hasMultipleSelections=new i.RawContextKey("editorHasMultipleSelections",false);e.hasSingleSelection=e.hasMultipleSelections.toNegated();e.tabMovesFocus=new i.RawContextKey("editorTabMovesFocus",false);e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated();e.isInEmbeddedEditor=new i.RawContextKey("isInEmbeddedEditor",undefined);e.languageId=new i.RawContextKey("editorLangId",undefined);e.hasCompletionItemProvider=new i.RawContextKey("editorHasCompletionItemProvider",undefined);e.hasCodeActionsProvider=new i.RawContextKey("editorHasCodeActionsProvider",undefined);e.hasCodeLensProvider=new i.RawContextKey("editorHasCodeLensProvider",undefined);e.hasDefinitionProvider=new i.RawContextKey("editorHasDefinitionProvider",undefined);e.hasImplementationProvider=new i.RawContextKey("editorHasImplementationProvider",undefined);e.hasTypeDefinitionProvider=new i.RawContextKey("editorHasTypeDefinitionProvider",undefined);e.hasHoverProvider=new i.RawContextKey("editorHasHoverProvider",undefined);e.hasDocumentHighlightProvider=new i.RawContextKey("editorHasDocumentHighlightProvider",undefined);e.hasDocumentSymbolProvider=new i.RawContextKey("editorHasDocumentSymbolProvider",undefined);e.hasReferenceProvider=new i.RawContextKey("editorHasReferenceProvider",undefined);e.hasRenameProvider=new i.RawContextKey("editorHasRenameProvider",undefined);e.hasDocumentFormattingProvider=new i.RawContextKey("editorHasDocumentFormattingProvider",undefined);e.hasDocumentSelectionFormattingProvider=new i.RawContextKey("editorHasDocumentSelectionFormattingProvider",undefined);e.hasSignatureHelpProvider=new i.RawContextKey("editorHasSignatureHelpProvider",undefined)})(n=t.EditorContextKeys||(t.EditorContextKeys={}))});define(r[89],e([0,1,68,204,14,19,34]),function(e,t,i,s,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(){this.id=String(e.ID++)}e.ID=1;e.EditorTitle=new e;e.EditorTitleContext=new e;e.EditorContext=new e;e.ExplorerContext=new e;e.OpenEditorsContext=new e;e.ProblemsPanelContext=new e;e.DebugVariablesContext=new e;e.DebugWatchContext=new e;e.DebugCallStackContext=new e;e.DebugBreakpointsContext=new e;e.DebugConsoleContext=new e;e.SCMTitle=new e;e.SCMSourceControl=new e;e.SCMResourceGroupContext=new e;e.SCMResourceContext=new e;e.SCMChangeContext=new e;e.CommandPalette=new e;e.ViewTitle=new e;e.ViewItemContext=new e;e.TouchBarContext=new e;return e}();t.MenuId=a;t.IMenuService=n.createDecorator("menuService");t.MenuRegistry=new(function(){function e(){this._commands=Object.create(null);this._menuItems=Object.create(null)}e.prototype.addCommand=function(e){var t=this._commands[e.id];this._commands[e.id]=e;return t!==void 0};e.prototype.getCommand=function(e){return this._commands[e]};e.prototype.appendMenuItem=function(e,t){var i=e.id;var n=this._menuItems[i];if(!n){this._menuItems[i]=n=[t]}else{n.push(t)}return{dispose:function(){var e=n.indexOf(t);if(e>=0){n.splice(e,1)}}}};e.prototype.getMenuItems=function(e){var t=e.id;var i=this._menuItems[t]||[];if(t===a.CommandPalette.id){this._appendImplicitItems(i)}return i};e.prototype._appendImplicitItems=function(e){var t=new Set;for(var i=0,n=e;i<n.length;i++){var r=n[i],o=r.command,s=r.alt;t.add(o.id);if(s){t.add(s.id)}}for(var a in this._commands){if(!t.has(a)){e.push({command:this._commands[a]})}}};return e}());var u=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,t)||this;n._commandService=i;return n}e.prototype.run=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return(i=this._commandService).executeCommand.apply(i,[this.id].concat(e));var i};e=q([G(2,o.ICommandService)],e);return e}(i.Action);t.ExecuteCommandAction=u;var l=function(s){pe(a,s);function a(e,t,i,n,r){var o=this;typeof e.title==="string"?o=s.call(this,e.id,e.title,r)||this:o=s.call(this,e.id,e.title.value,r)||this;o._cssClass=undefined;o._enabled=!e.precondition||n.contextMatchesRules(e.precondition);o._options=i||{};o.item=e;o.alt=t?new a(t,undefined,o._options,n,r):undefined;return o}a.prototype.run=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=[];if(this._options.arg){i=i.concat([this._options.arg])}if(this._options.shouldForwardArgs){i=i.concat(e)}return s.prototype.run.apply(this,i)};a=q([G(3,r.IContextKeyService),G(4,o.ICommandService)],a);return a}(u);t.MenuItemAction=l;var c=function(){function e(e,t,i,n,r,o){this._id=t;this._label=i;this._keybindings=n;this._keybindingContext=r;this._keybindingWeight=o;this._descriptor=s.createSyncDescriptor(e,this._id,this._label)}Object.defineProperty(e.prototype,"syncDescriptor",{get:function(){return this._descriptor},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keybindings",{get:function(){return this._keybindings},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keybindingContext",{get:function(){return this._keybindingContext},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"keybindingWeight",{get:function(){return this._keybindingWeight},enumerable:true,configurable:true});return e}();t.SyncActionDescriptor=c});define(r[414],e([0,1,4,2,19,89,34]),function(e,t,n,i,r,h,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function c(u,e,t,i){var l=this;this._commandService=t;this._contextKeyService=i;this._menuGroups=[];this._disposables=[];this._onDidChange=new n.Emitter;e.then(function(e){var t=h.MenuRegistry.getMenuItems(u);var i=new Set;var n;t.sort(c._compareMenuItems);for(var r=0,o=t;r<o.length;r++){var s=o[r];var a=s.group;if(!n||n[0]!==a){n=[a,[]];l._menuGroups.push(n)}n[1].push(s);c._fillInKbExprKeys(s.when,i)}l._disposables.push(l._contextKeyService.onDidChangeContext(function(e){if(e.affectsSome(i)){l._onDidChange.fire()}}));l._onDidChange.fire(l)})}c.prototype.dispose=function(){this._disposables=i.dispose(this._disposables);this._onDidChange.dispose()};Object.defineProperty(c.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});c.prototype.getActions=function(e){var t=[];for(var i=0,n=this._menuGroups;i<n.length;i++){var r=n[i];var o=r[0],s=r[1];var a=[];for(var u=0,l=s;u<l.length;u++){var c=l[u];if(this._contextKeyService.contextMatchesRules(c.when)){var d=new h.MenuItemAction(c.command,c.alt,e,this._contextKeyService,this._commandService);d.order=c.order;a.push(d)}}if(a.length>0){t.push([o,a])}}return t};c._fillInKbExprKeys=function(e,t){if(e){for(var i=0,n=e.keys();i<n.length;i++){var r=n[i];t.add(r)}}};c._compareMenuItems=function(e,t){var i=e.group;var n=t.group;if(i!==n){if(!i){return 1}else if(!n){return-1}if(i==="navigation"){return-1}else if(n==="navigation"){return 1}var r=i.localeCompare(n);if(r!==0){return r}}var o=e.order||0;var s=t.order||0;if(o<s){return-1}else if(o>s){return 1}var a=typeof e.command.title==="string"?e.command.title:e.command.title.value;var u=typeof t.command.title==="string"?t.command.title:t.command.title.value;return a.localeCompare(u)};c=q([G(2,o.ICommandService),G(3,r.IContextKeyService)],c);return c}();t.Menu=s});define(r[72],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IContextViewService=i.createDecorator("contextViewService");t.IContextMenuService=i.createDecorator("contextMenuService")});define(r[416],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IConfirmationService=i.createDecorator("confirmationService");t.IChoiceService=i.createDecorator("choiceService")});define(r[70],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IEditorService=i.createDecorator("editorService");var n;(function(e){e[e["ONE"]=0]="ONE";e[e["TWO"]=1]="TWO";e[e["THREE"]=2]="THREE"})(n=t.Position||(t.Position={}));t.POSITIONS=[n.ONE,n.TWO,n.THREE];var r;(function(e){e[e["LEFT"]=0]="LEFT";e[e["RIGHT"]=1]="RIGHT"})(r=t.Direction||(t.Direction={}));var o;(function(e){e[e["SHORT"]=0]="SHORT";e[e["MEDIUM"]=1]="MEDIUM";e[e["LONG"]=2]="LONG"})(o=t.Verbosity||(t.Verbosity={}))});define(r[160],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IEnvironmentService=i.createDecorator("environmentService")});define(r[92],e([0,1,41,15,14,5,169,29]),function(e,t,n,r,i,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IFileService=i.createDecorator("fileService");var u;(function(e){e[e["File"]=0]="File";e[e["Dir"]=1]="Dir";e[e["Symlink"]=2]="Symlink"})(u=t.FileType||(t.FileType={}));var l;(function(e){e[e["CREATE"]=0]="CREATE";e[e["DELETE"]=1]="DELETE";e[e["MOVE"]=2]="MOVE";e[e["COPY"]=3]="COPY";e[e["IMPORT"]=4]="IMPORT"})(l=t.FileOperation||(t.FileOperation={}));var c=function(){function e(e,t,i){this._resource=e;this._operation=t;this._target=i}Object.defineProperty(e.prototype,"resource",{get:function(){return this._resource},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"operation",{get:function(){return this._operation},enumerable:true,configurable:true});return e}();t.FileOperationEvent=c;var d;(function(e){e[e["UPDATED"]=0]="UPDATED";e[e["ADDED"]=1]="ADDED";e[e["DELETED"]=2]="DELETED"})(d=t.FileChangeType||(t.FileChangeType={}));var h=function(){function e(e){this._changes=e}Object.defineProperty(e.prototype,"changes",{get:function(){return this._changes},enumerable:true,configurable:true});e.prototype.contains=function(t,i){if(!t){return false}return this._changes.some(function(e){if(e.type!==i){return false}if(i===d.DELETED){return s.isEqualOrParent(t,e.resource,!r.isLinux)}return s.isEqual(t,e.resource,!r.isLinux)})};e.prototype.getAdded=function(){return this.getOfType(d.ADDED)};e.prototype.gotAdded=function(){return this.hasType(d.ADDED)};e.prototype.getDeleted=function(){return this.getOfType(d.DELETED)};e.prototype.gotDeleted=function(){return this.hasType(d.DELETED)};e.prototype.getUpdated=function(){return this.getOfType(d.UPDATED)};e.prototype.gotUpdated=function(){return this.hasType(d.UPDATED)};e.prototype.getOfType=function(t){return this._changes.filter(function(e){return e.type===t})};e.prototype.hasType=function(t){return this._changes.some(function(e){return e.type===t})};return e}();t.FileChangesEvent=h;function f(e,t,i){if(!e||!t||e===t){return false}if(t.length>e.length){return false}if(t.charAt(t.length-1)!==n.nativeSep){t+=n.nativeSep}if(i){return o.beginsWithIgnoreCase(e,t)}return e.indexOf(t)===0}t.isParent=f;function p(e,t,i){if(t.length>e.length){return-1}if(e===t){return 0}if(i){e=e.toLowerCase();t=t.toLowerCase()}return e.indexOf(t)}t.indexOf=p;function g(e){var t=[];var i;while(typeof(i=e.read())==="string"){t.push(i)}return t.join("")}t.snapshotToString=g;var v=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e)||this;n.fileOperationResult=t;n.options=i;return n}e.isFileOperationError=function(e){return e instanceof Error&&!a.isUndefinedOrNull(e.fileOperationResult)};return e}(Error);t.FileOperationError=v;var m;(function(e){e[e["FILE_IS_BINARY"]=0]="FILE_IS_BINARY";e[e["FILE_IS_DIRECTORY"]=1]="FILE_IS_DIRECTORY";e[e["FILE_NOT_FOUND"]=2]="FILE_NOT_FOUND";e[e["FILE_NOT_MODIFIED_SINCE"]=3]="FILE_NOT_MODIFIED_SINCE";e[e["FILE_MODIFIED_SINCE"]=4]="FILE_MODIFIED_SINCE";e[e["FILE_MOVE_CONFLICT"]=5]="FILE_MOVE_CONFLICT";e[e["FILE_READ_ONLY"]=6]="FILE_READ_ONLY";e[e["FILE_PERMISSION_DENIED"]=7]="FILE_PERMISSION_DENIED";e[e["FILE_TOO_LARGE"]=8]="FILE_TOO_LARGE";e[e["FILE_INVALID_PATH"]=9]="FILE_INVALID_PATH";e[e["FILE_EXCEED_MEMORY_LIMIT"]=10]="FILE_EXCEED_MEMORY_LIMIT"})(m=t.FileOperationResult||(t.FileOperationResult={}));t.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"};t.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"};t.CONTENT_CHANGE_EVENT_BUFFER_DELAY=1e3;t.FILES_ASSOCIATIONS_CONFIG="files.associations";t.FILES_EXCLUDE_CONFIG="files.exclude";t.SUPPORTED_ENCODINGS={utf8:{labelLong:"UTF-8",labelShort:"UTF-8",order:1,alias:"utf8bom"},utf8bom:{labelLong:"UTF-8 with BOM",labelShort:"UTF-8 with BOM",encodeOnly:true,order:2,alias:"utf8"},utf16le:{labelLong:"UTF-16 LE",labelShort:"UTF-16 LE",order:3},utf16be:{labelLong:"UTF-16 BE",labelShort:"UTF-16 BE",order:4},windows1252:{labelLong:"Western (Windows 1252)",labelShort:"Windows 1252",order:5},iso88591:{labelLong:"Western (ISO 8859-1)",labelShort:"ISO 8859-1",order:6},iso88593:{labelLong:"Western (ISO 8859-3)",labelShort:"ISO 8859-3",order:7},iso885915:{labelLong:"Western (ISO 8859-15)",labelShort:"ISO 8859-15",order:8},macroman:{labelLong:"Western (Mac Roman)",labelShort:"Mac Roman",order:9},cp437:{labelLong:"DOS (CP 437)",labelShort:"CP437",order:10},windows1256:{labelLong:"Arabic (Windows 1256)",labelShort:"Windows 1256",order:11},iso88596:{labelLong:"Arabic (ISO 8859-6)",labelShort:"ISO 8859-6",order:12},windows1257:{labelLong:"Baltic (Windows 1257)",labelShort:"Windows 1257",order:13},iso88594:{labelLong:"Baltic (ISO 8859-4)",labelShort:"ISO 8859-4",order:14},iso885914:{labelLong:"Celtic (ISO 8859-14)",labelShort:"ISO 8859-14",order:15},windows1250:{labelLong:"Central European (Windows 1250)",labelShort:"Windows 1250",order:16},iso88592:{labelLong:"Central European (ISO 8859-2)",labelShort:"ISO 8859-2",order:17},cp852:{labelLong:"Central European (CP 852)",labelShort:"CP 852",order:18},windows1251:{labelLong:"Cyrillic (Windows 1251)",labelShort:"Windows 1251",order:19},cp866:{labelLong:"Cyrillic (CP 866)",labelShort:"CP 866",order:20},iso88595:{labelLong:"Cyrillic (ISO 8859-5)",labelShort:"ISO 8859-5",order:21},koi8r:{labelLong:"Cyrillic (KOI8-R)",labelShort:"KOI8-R",order:22},koi8u:{labelLong:"Cyrillic (KOI8-U)",labelShort:"KOI8-U",order:23},iso885913:{labelLong:"Estonian (ISO 8859-13)",labelShort:"ISO 8859-13",order:24},windows1253:{labelLong:"Greek (Windows 1253)",labelShort:"Windows 1253",order:25},iso88597:{labelLong:"Greek (ISO 8859-7)",labelShort:"ISO 8859-7",order:26},windows1255:{labelLong:"Hebrew (Windows 1255)",labelShort:"Windows 1255",order:27},iso88598:{labelLong:"Hebrew (ISO 8859-8)",labelShort:"ISO 8859-8",order:28},iso885910:{labelLong:"Nordic (ISO 8859-10)",labelShort:"ISO 8859-10",order:29},iso885916:{labelLong:"Romanian (ISO 8859-16)",labelShort:"ISO 8859-16",order:30},windows1254:{labelLong:"Turkish (Windows 1254)",labelShort:"Windows 1254",order:31},iso88599:{labelLong:"Turkish (ISO 8859-9)",labelShort:"ISO 8859-9",order:32},windows1258:{labelLong:"Vietnamese (Windows 1258)",labelShort:"Windows 1258",order:33},gbk:{labelLong:"Chinese (GBK)",labelShort:"GBK",order:34},gb18030:{labelLong:"Chinese (GB18030)",labelShort:"GB18030",order:35},cp950:{labelLong:"Traditional Chinese (Big5)",labelShort:"Big5",order:36},big5hkscs:{labelLong:"Traditional Chinese (Big5-HKSCS)",labelShort:"Big5-HKSCS",order:37},shiftjis:{labelLong:"Japanese (Shift JIS)",labelShort:"Shift JIS",order:38},eucjp:{labelLong:"Japanese (EUC-JP)",labelShort:"EUC-JP",order:39},euckr:{labelLong:"Korean (EUC-KR)",labelShort:"EUC-KR",order:40},windows874:{labelLong:"Thai (Windows 874)",labelShort:"Windows 874",order:41},iso885911:{labelLong:"Latin/Thai (ISO 8859-11)",labelShort:"ISO 8859-11",order:42},koi8ru:{labelLong:"Cyrillic (KOI8-RU)",labelShort:"KOI8-RU",order:43},koi8t:{labelLong:"Tajik (KOI8-T)",labelShort:"KOI8-T",order:44},gb2312:{labelLong:"Simplified Chinese (GB 2312)",labelShort:"GB 2312",order:45},cp865:{labelLong:"Nordic DOS (CP 865)",labelShort:"CP 865",order:46},cp850:{labelLong:"Western European DOS (CP 850)",labelShort:"CP 850",order:47}};var _;(function(e){e[e["FILE"]=0]="FILE";e[e["FOLDER"]=1]="FOLDER";e[e["ROOT_FOLDER"]=2]="ROOT_FOLDER"})(_=t.FileKind||(t.FileKind={}))});define(r[93],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}this._entries=new Map;for(var i=0,n=e;i<n.length;i++){var r=n[i],o=r[0],s=r[1];this.set(o,s)}}e.prototype.set=function(e,t){var i=this._entries.get(e);this._entries.set(e,t);return i};e.prototype.forEach=function(i){this._entries.forEach(function(e,t){return i(t,e)})};e.prototype.has=function(e){return this._entries.has(e)};e.prototype.get=function(e){return this._entries.get(e)};return e}();t.ServiceCollection=i});define(r[421],e([0,1,13,4,2,7,93,19,342,39,12,3,20,33,335,155,21,32,17,67,25]),function(e,t,s,a,i,u,l,c,n,r,d,h,f,p,g,v,o,m,_,y,C){"use strict";Object.defineProperty(t,"__esModule",{value:true});var b=0;var S=function(o){pe(e,o);function e(e,t,i,n){var r=o.call(this)||this;r._onDidDispose=r._register(new a.Emitter);r.onDidDispose=r._onDidDispose.event;r._onDidChangeModelContent=r._register(new a.Emitter);r.onDidChangeModelContent=r._onDidChangeModelContent.event;r._onDidChangeModelLanguage=r._register(new a.Emitter);r.onDidChangeModelLanguage=r._onDidChangeModelLanguage.event;r._onDidChangeModelLanguageConfiguration=r._register(new a.Emitter);r.onDidChangeModelLanguageConfiguration=r._onDidChangeModelLanguageConfiguration.event;r._onDidChangeModelOptions=r._register(new a.Emitter);r.onDidChangeModelOptions=r._onDidChangeModelOptions.event;r._onDidChangeModelDecorations=r._register(new a.Emitter);r.onDidChangeModelDecorations=r._onDidChangeModelDecorations.event;r._onDidChangeConfiguration=r._register(new a.Emitter);r.onDidChangeConfiguration=r._onDidChangeConfiguration.event;r._onDidChangeModel=r._register(new a.Emitter);r.onDidChangeModel=r._onDidChangeModel.event;r._onDidChangeCursorPosition=r._register(new a.Emitter);r.onDidChangeCursorPosition=r._onDidChangeCursorPosition.event;r._onDidChangeCursorSelection=r._register(new a.Emitter);r.onDidChangeCursorSelection=r._onDidChangeCursorSelection.event;r._onDidLayoutChange=r._register(new a.Emitter);r.onDidLayoutChange=r._onDidLayoutChange.event;r._onDidFocusEditorText=r._register(new a.Emitter);r.onDidFocusEditorText=r._onDidFocusEditorText.event;r._onDidBlurEditorText=r._register(new a.Emitter);r.onDidBlurEditorText=r._onDidBlurEditorText.event;r._onDidFocusEditor=r._register(new a.Emitter);r.onDidFocusEditor=r._onDidFocusEditor.event;r._onDidBlurEditor=r._register(new a.Emitter);r.onDidBlurEditor=r._onDidBlurEditor.event;r._onWillType=r._register(new a.Emitter);r.onWillType=r._onWillType.event;r._onDidType=r._register(new a.Emitter);r.onDidType=r._onDidType.event;r._onDidPaste=r._register(new a.Emitter);r.onDidPaste=r._onDidPaste.event;r.domElement=e;r.id=++b;r._decorationTypeKeysToIds={};r._decorationTypeSubtypes={};t=t||{};r._configuration=r._register(r._createConfiguration(t));r._register(r._configuration.onDidChange(function(e){r._onDidChangeConfiguration.fire(e);if(e.layoutInfo){r._onDidLayoutChange.fire(r._configuration.editor.layoutInfo)}}));r._contextKeyService=r._register(n.createScoped(r.domElement));r._register(new w(r,r._contextKeyService));r._register(new E(r,r._contextKeyService));r._instantiationService=i.createChild(new l.ServiceCollection([c.IContextKeyService,r._contextKeyService]));r._attachModel(null);r._contributions={};r._actions={};return r}e.prototype.getId=function(){return this.getEditorType()+":"+this.id};e.prototype.getEditorType=function(){return p.EditorType.ICodeEditor};e.prototype.dispose=function(){var e=Object.keys(this._contributions);for(var t=0,i=e.length;t<i;t++){var n=e[t];this._contributions[n].dispose()}this._contributions={};this._actions={};this._removeDecorationTypes();this._postDetachModelCleanup(this._detachModel());this._onDidDispose.fire();o.prototype.dispose.call(this)};e.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)};e.prototype.updateOptions=function(e){this._configuration.updateOptions(e)};e.prototype.getConfiguration=function(){return this._configuration.editor};e.prototype.getRawConfiguration=function(){return this._configuration.getRawOptions()};e.prototype.getValue=function(e){if(e===void 0){e=null}if(this.model){var t=e&&e.preserveBOM?true:false;var i=C.EndOfLinePreference.TextDefined;if(e&&e.lineEnding&&e.lineEnding==="\n"){i=C.EndOfLinePreference.LF}else if(e&&e.lineEnding&&e.lineEnding==="\r\n"){i=C.EndOfLinePreference.CRLF}return this.model.getValue(i,t)}return""};e.prototype.setValue=function(e){if(this.model){this.model.setValue(e)}};e.prototype.getModel=function(){return this.model};e.prototype.setModel=function(e){if(e===void 0){e=null}if(this.model===e){return}var t=this._detachModel();this._attachModel(e);var i={oldModelUrl:t?t.uri:null,newModelUrl:e?e.uri:null};this._removeDecorationTypes();this._onDidChangeModel.fire(i);this._postDetachModelCleanup(t)};e.prototype._removeDecorationTypes=function(){this._decorationTypeKeysToIds={};if(this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var i in t){this._removeDecorationType(e+"-"+i)}}this._decorationTypeSubtypes={}}};e.prototype.getCenteredRangeInViewport=function(){if(!this.hasView){return null}return this.viewModel.getCenteredRangeInViewport()};e.prototype.getVisibleRanges=function(){if(!this.hasView){return[]}return this.viewModel.getVisibleRanges()};e.prototype.getWhitespaces=function(){if(!this.hasView){return[]}return this.viewModel.viewLayout.getWhitespaces()};e.prototype._getVerticalOffsetForPosition=function(e,t){var i=this.model.validatePosition({lineNumber:e,column:t});var n=this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)};e.prototype.getTopForLineNumber=function(e){if(!this.hasView){return-1}return this._getVerticalOffsetForPosition(e,1)};e.prototype.getTopForPosition=function(e,t){if(!this.hasView){return-1}return this._getVerticalOffsetForPosition(e,t)};e.prototype.setHiddenAreas=function(e){if(this.viewModel){this.viewModel.setHiddenAreas(e.map(function(e){return h.Range.lift(e)}))}};e.prototype.getVisibleColumnFromPosition=function(e){if(!this.model){return e.column}var t=this.model.validatePosition(e);var i=this.model.getOptions().tabSize;return r.CursorColumns.visibleColumnFromColumn(this.model.getLineContent(t.lineNumber),t.column,i)+1};e.prototype.getPosition=function(){if(!this.cursor){return null}return this.cursor.getPosition().clone()};e.prototype.setPosition=function(e){if(!this.cursor){return}if(!d.Position.isIPosition(e)){throw new Error("Invalid arguments")}this.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])};e.prototype._sendRevealRange=function(e,t,i,n){if(!this.model||!this.cursor){return}if(!h.Range.isIRange(e)){throw new Error("Invalid arguments")}var r=this.model.validateRange(e);var o=this.viewModel.coordinatesConverter.convertModelRangeToViewRange(r);this.cursor.emitCursorRevealRange(o,t,i,n)};e.prototype.revealLine=function(e,t){if(t===void 0){t=0}this._revealLine(e,0,t)};e.prototype.revealLineInCenter=function(e,t){if(t===void 0){t=0}this._revealLine(e,1,t)};e.prototype.revealLineInCenterIfOutsideViewport=function(e,t){if(t===void 0){t=0}this._revealLine(e,2,t)};e.prototype._revealLine=function(e,t,i){if(typeof e!=="number"){throw new Error("Invalid arguments")}this._sendRevealRange(new h.Range(e,1,e,1),t,false,i)};e.prototype.revealPosition=function(e,t){if(t===void 0){t=0}this._revealPosition(e,0,true,t)};e.prototype.revealPositionInCenter=function(e,t){if(t===void 0){t=0}this._revealPosition(e,1,true,t)};e.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){if(t===void 0){t=0}this._revealPosition(e,2,true,t)};e.prototype._revealPosition=function(e,t,i,n){if(!d.Position.isIPosition(e)){throw new Error("Invalid arguments")}this._sendRevealRange(new h.Range(e.lineNumber,e.column,e.lineNumber,e.column),t,i,n)};e.prototype.getSelection=function(){if(!this.cursor){return null}return this.cursor.getSelection().clone()};e.prototype.getSelections=function(){if(!this.cursor){return null}var e=this.cursor.getSelections();var t=[];for(var i=0,n=e.length;i<n;i++){t[i]=e[i].clone()}return t};e.prototype.setSelection=function(e){var t=f.Selection.isISelection(e);var i=h.Range.isIRange(e);if(!t&&!i){throw new Error("Invalid arguments")}if(t){this._setSelectionImpl(e)}else if(i){var n={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(n)}};e.prototype._setSelectionImpl=function(e){if(!this.cursor){return}var t=new f.Selection(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this.cursor.setSelections("api",[t])};e.prototype.revealLines=function(e,t,i){if(i===void 0){i=0}this._revealLines(e,t,0,i)};e.prototype.revealLinesInCenter=function(e,t,i){if(i===void 0){i=0}this._revealLines(e,t,1,i)};e.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){if(i===void 0){i=0}this._revealLines(e,t,2,i)};e.prototype._revealLines=function(e,t,i,n){if(typeof e!=="number"||typeof t!=="number"){throw new Error("Invalid arguments")}this._sendRevealRange(new h.Range(e,1,t,1),i,false,n)};e.prototype.revealRange=function(e,t,i,n){if(t===void 0){t=0}if(i===void 0){i=false}if(n===void 0){n=true}this._revealRange(e,i?1:0,n,t)};e.prototype.revealRangeInCenter=function(e,t){if(t===void 0){t=0}this._revealRange(e,1,true,t)};e.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){if(t===void 0){t=0}this._revealRange(e,2,true,t)};e.prototype.revealRangeAtTop=function(e,t){if(t===void 0){t=0}this._revealRange(e,3,true,t)};e.prototype._revealRange=function(e,t,i,n){if(!h.Range.isIRange(e)){throw new Error("Invalid arguments")}this._sendRevealRange(h.Range.lift(e),t,i,n)};e.prototype.setSelections=function(e){if(!this.cursor){return}if(!e||e.length===0){throw new Error("Invalid arguments")}for(var t=0,i=e.length;t<i;t++){if(!f.Selection.isISelection(e[t])){throw new Error("Invalid arguments")}}this.cursor.setSelections("api",e)};e.prototype.getScrollWidth=function(){if(!this.hasView){return-1}return this.viewModel.viewLayout.getScrollWidth()};e.prototype.getScrollLeft=function(){if(!this.hasView){return-1}return this.viewModel.viewLayout.getCurrentScrollLeft()};e.prototype.getScrollHeight=function(){if(!this.hasView){return-1}return this.viewModel.viewLayout.getScrollHeight()};e.prototype.getScrollTop=function(){if(!this.hasView){return-1}return this.viewModel.viewLayout.getCurrentScrollTop()};e.prototype.setScrollLeft=function(e){if(!this.hasView){return}if(typeof e!=="number"){throw new Error("Invalid arguments")}this.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})};e.prototype.setScrollTop=function(e){if(!this.hasView){return}if(typeof e!=="number"){throw new Error("Invalid arguments")}this.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})};e.prototype.setScrollPosition=function(e){if(!this.hasView){return}this.viewModel.viewLayout.setScrollPositionNow(e)};e.prototype.saveViewState=function(){if(!this.cursor||!this.hasView){return null}var e={};var t=Object.keys(this._contributions);for(var i=0,n=t.length;i<n;i++){var r=t[i];var o=this._contributions[r];if(typeof o.saveViewState==="function"){e[r]=o.saveViewState()}}var s=this.cursor.saveState();var a=this.viewModel.viewLayout.saveState();return{cursorState:s,viewState:a,contributionsState:e}};e.prototype.restoreViewState=function(e){if(!this.cursor||!this.hasView){return}if(e&&e.cursorState&&e.viewState){var t=e;var i=t.cursorState;if(Array.isArray(i)){this.cursor.restoreState(i)}else{this.cursor.restoreState([i])}var n=e.contributionsState||{};var r=Object.keys(this._contributions);for(var o=0,s=r.length;o<s;o++){var a=r[o];var u=this._contributions[a];if(typeof u.restoreViewState==="function"){u.restoreViewState(n[a])}}}};e.prototype.onVisible=function(){};e.prototype.onHide=function(){};e.prototype.getContribution=function(e){return this._contributions[e]||null};e.prototype.getActions=function(){var e=[];var t=Object.keys(this._actions);for(var i=0,n=t.length;i<n;i++){var r=t[i];e.push(this._actions[r])}return e};e.prototype.getSupportedActions=function(){var e=this.getActions();e=e.filter(function(e){return e.isSupported()});return e};e.prototype.getAction=function(e){return this._actions[e]||null};e.prototype.trigger=function(e,t,i){i=i||{};if(t===p.Handler.Type){if(!this.cursor||typeof i.text!=="string"||i.text.length===0){return}if(e==="keyboard"){this._onWillType.fire(i.text)}this.cursor.trigger(e,t,i);if(e==="keyboard"){this._onDidType.fire(i.text)}return}if(t===p.Handler.Paste){if(!this.cursor||typeof i.text!=="string"||i.text.length===0){return}var n=this.cursor.getSelection().getStartPosition();this.cursor.trigger(e,t,i);var r=this.cursor.getSelection().getStartPosition();if(e==="keyboard"){this._onDidPaste.fire(new h.Range(n.lineNumber,n.column,r.lineNumber,r.column))}return}var o=this.getAction(t);if(o){u.TPromise.as(o.run()).then(null,s.onUnexpectedError);return}if(!this.cursor){return}if(this._triggerEditorCommand(e,t,i)){return}this.cursor.trigger(e,t,i)};e.prototype._getCursors=function(){return this.cursor};e.prototype._getCursorConfiguration=function(){return this.cursor.context.config};e.prototype.pushUndoStop=function(){if(!this.model){return false}if(this._configuration.editor.readOnly){return false}this.model.pushStackElement();return true};e.prototype.executeEdits=function(e,t,i){var n=this;if(!this.cursor){return false}if(this._configuration.editor.readOnly){return false}this.model.pushEditOperations(this.cursor.getSelections(),t,function(){return i?i:n.cursor.getSelections()});if(i){this.cursor.setSelections(e,i)}return true};e.prototype.executeCommand=function(e,t){if(!this.cursor){return}this.cursor.trigger(e,p.Handler.ExecuteCommand,t)};e.prototype.executeCommands=function(e,t){if(!this.cursor){return}this.cursor.trigger(e,p.Handler.ExecuteCommands,t)};e.prototype.changeDecorations=function(e){if(!this.model){return null}return this.model.changeDecorations(e,this.id)};e.prototype.getLineDecorations=function(e){if(!this.model){return null}return this.model.getLineDecorations(e,this.id,this._configuration.editor.readOnly)};e.prototype.deltaDecorations=function(e,t){if(!this.model){return[]}if(e.length===0&&t.length===0){return e}return this.model.deltaDecorations(e,t,this.id)};e.prototype.setDecorations=function(e,t){var i={};var n=this._decorationTypeSubtypes[e]||{};this._decorationTypeSubtypes[e]=i;var r=[];for(var o=0,s=t;o<s.length;o++){var a=s[o];var u=e;if(a.renderOptions){var l=v.hash(a.renderOptions).toString(16);u=e+"-"+l;if(!n[l]&&!i[l]){this._registerDecorationType(u,a.renderOptions,e)}i[l]=true}var c=this._resolveDecorationOptions(u,!!a.hoverMessage);if(a.hoverMessage){c.hoverMessage=a.hoverMessage}r.push({range:a.range,options:c})}for(var l in n){if(!i[l]){this._removeDecorationType(e+"-"+l)}}var d=this._decorationTypeKeysToIds[e]||[];this._decorationTypeKeysToIds[e]=this.deltaDecorations(d,r)};e.prototype.setDecorationsFast=function(e,t){var i=this._decorationTypeSubtypes[e]||{};for(var n in i){this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes[e]={};var r=m.ModelDecorationOptions.createDynamic(this._resolveDecorationOptions(e,false));var o=new Array(t.length);for(var s=0,a=t.length;s<a;s++){o[s]={range:t[s],options:r}}var u=this._decorationTypeKeysToIds[e]||[];this._decorationTypeKeysToIds[e]=this.deltaDecorations(u,o)};e.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];if(t){this.deltaDecorations(t,[])}if(this._decorationTypeKeysToIds.hasOwnProperty(e)){delete this._decorationTypeKeysToIds[e]}if(this._decorationTypeSubtypes.hasOwnProperty(e)){delete this._decorationTypeSubtypes[e]}};e.prototype.getLayoutInfo=function(){return this._configuration.editor.layoutInfo};e.prototype._attachModel=function(e){var s=this;this.model=e?e:null;this.listenersToRemove=[];this.viewModel=null;this.cursor=null;if(this.model){this.domElement.setAttribute("data-mode-id",this.model.getLanguageIdentifier().language);this._configuration.setIsDominatedByLongLines(this.model.isDominatedByLongLines());this._configuration.setMaxLineNumber(this.model.getLineCount());this.model.onBeforeAttached();this.viewModel=new g.ViewModel(this.id,this._configuration,this.model,function(e){return s._scheduleAtNextAnimationFrame(e)});this.listenersToRemove.push(this.model.onDidChangeDecorations(function(e){return s._onDidChangeModelDecorations.fire(e)}));this.listenersToRemove.push(this.model.onDidChangeLanguage(function(e){if(!s.model){return}s.domElement.setAttribute("data-mode-id",s.model.getLanguageIdentifier().language);s._onDidChangeModelLanguage.fire(e)}));this.listenersToRemove.push(this.model.onDidChangeLanguageConfiguration(function(e){return s._onDidChangeModelLanguageConfiguration.fire(e)}));this.listenersToRemove.push(this.model.onDidChangeContent(function(e){return s._onDidChangeModelContent.fire(e)}));this.listenersToRemove.push(this.model.onDidChangeOptions(function(e){return s._onDidChangeModelOptions.fire(e)}));this.listenersToRemove.push(this.model.onWillDispose(function(){return s.setModel(null)}));this.cursor=new n.Cursor(this._configuration,this.model,this.viewModel);this._createView();this.listenersToRemove.push(this.cursor.onDidChange(function(e){var t=[];for(var i=0,n=e.selections.length;i<n;i++){t[i]=e.selections[i].getPosition()}var r={position:t[0],secondaryPositions:t.slice(1),reason:e.reason,source:e.source};s._onDidChangeCursorPosition.fire(r);var o={selection:e.selections[0],secondarySelections:e.selections.slice(1),source:e.source,reason:e.reason};s._onDidChangeCursorSelection.fire(o)}))}else{this.hasView=false}};e.prototype._postDetachModelCleanup=function(e){if(e){e.removeAllDecorationsWithOwnerId(this.id)}};e.prototype._detachModel=function(){if(this.model){this.model.onBeforeDetached()}this.hasView=false;this.listenersToRemove=i.dispose(this.listenersToRemove);if(this.cursor){this.cursor.dispose();this.cursor=null}if(this.viewModel){this.viewModel.dispose();this.viewModel=null}var e=this.model;this.model=null;this.domElement.removeAttribute("data-mode-id");return e};e.prototype.getTelemetryData=function(){return null};return e}(i.Disposable);t.CommonCodeEditor=S;var w=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i._editor=e;t.createKey("editorId",e.getId());i._editorFocus=o.EditorContextKeys.focus.bindTo(t);i._editorTextFocus=o.EditorContextKeys.textFocus.bindTo(t);i._editorTabMovesFocus=o.EditorContextKeys.tabMovesFocus.bindTo(t);i._editorReadonly=o.EditorContextKeys.readOnly.bindTo(t);i._hasMultipleSelections=o.EditorContextKeys.hasMultipleSelections.bindTo(t);i._hasNonEmptySelection=o.EditorContextKeys.hasNonEmptySelection.bindTo(t);i._register(i._editor.onDidChangeConfiguration(function(){return i._updateFromConfig()}));i._register(i._editor.onDidChangeCursorSelection(function(){return i._updateFromSelection()}));i._register(i._editor.onDidFocusEditor(function(){return i._updateFromFocus()}));i._register(i._editor.onDidBlurEditor(function(){return i._updateFromFocus()}));i._register(i._editor.onDidFocusEditorText(function(){return i._updateFromFocus()}));i._register(i._editor.onDidBlurEditorText(function(){return i._updateFromFocus()}));i._updateFromConfig();i._updateFromSelection();i._updateFromFocus();return i}e.prototype._updateFromConfig=function(){var e=this._editor.getConfiguration();this._editorTabMovesFocus.set(e.tabFocusMode);this._editorReadonly.set(e.readOnly)};e.prototype._updateFromSelection=function(){var e=this._editor.getSelections();if(!e){this._hasMultipleSelections.reset();this._hasNonEmptySelection.reset()}else{this._hasMultipleSelections.set(e.length>1);this._hasNonEmptySelection.set(e.some(function(e){return!e.isEmpty()}))}};e.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus());this._editorTextFocus.set(this._editor.isFocused())};return e}(i.Disposable);var E=function(r){pe(e,r);function e(e,t){var i=r.call(this)||this;i._editor=e;i._langId=o.EditorContextKeys.languageId.bindTo(t);i._hasCompletionItemProvider=o.EditorContextKeys.hasCompletionItemProvider.bindTo(t);i._hasCodeActionsProvider=o.EditorContextKeys.hasCodeActionsProvider.bindTo(t);i._hasCodeLensProvider=o.EditorContextKeys.hasCodeLensProvider.bindTo(t);i._hasDefinitionProvider=o.EditorContextKeys.hasDefinitionProvider.bindTo(t);i._hasImplementationProvider=o.EditorContextKeys.hasImplementationProvider.bindTo(t);i._hasTypeDefinitionProvider=o.EditorContextKeys.hasTypeDefinitionProvider.bindTo(t);i._hasHoverProvider=o.EditorContextKeys.hasHoverProvider.bindTo(t);i._hasDocumentHighlightProvider=o.EditorContextKeys.hasDocumentHighlightProvider.bindTo(t);i._hasDocumentSymbolProvider=o.EditorContextKeys.hasDocumentSymbolProvider.bindTo(t);i._hasReferenceProvider=o.EditorContextKeys.hasReferenceProvider.bindTo(t);i._hasRenameProvider=o.EditorContextKeys.hasRenameProvider.bindTo(t);i._hasDocumentFormattingProvider=o.EditorContextKeys.hasDocumentFormattingProvider.bindTo(t);i._hasDocumentSelectionFormattingProvider=o.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(t);i._hasSignatureHelpProvider=o.EditorContextKeys.hasSignatureHelpProvider.bindTo(t);i._isInWalkThrough=o.EditorContextKeys.isInEmbeddedEditor.bindTo(t);var n=function(){return i._update()};i._register(e.onDidChangeModel(n));i._register(e.onDidChangeModelLanguage(n));i._register(_.SuggestRegistry.onDidChange(n));i._register(_.CodeActionProviderRegistry.onDidChange(n));i._register(_.CodeLensProviderRegistry.onDidChange(n));i._register(_.DefinitionProviderRegistry.onDidChange(n));i._register(_.ImplementationProviderRegistry.onDidChange(n));i._register(_.TypeDefinitionProviderRegistry.onDidChange(n));i._register(_.HoverProviderRegistry.onDidChange(n));i._register(_.DocumentHighlightProviderRegistry.onDidChange(n));i._register(_.DocumentSymbolProviderRegistry.onDidChange(n));i._register(_.ReferenceProviderRegistry.onDidChange(n));i._register(_.RenameProviderRegistry.onDidChange(n));i._register(_.DocumentFormattingEditProviderRegistry.onDidChange(n));i._register(_.DocumentRangeFormattingEditProviderRegistry.onDidChange(n));i._register(_.SignatureHelpProviderRegistry.onDidChange(n));n();return i}e.prototype.dispose=function(){r.prototype.dispose.call(this)};e.prototype.reset=function(){this._langId.reset();this._hasCompletionItemProvider.reset();this._hasCodeActionsProvider.reset();this._hasCodeLensProvider.reset();this._hasDefinitionProvider.reset();this._hasImplementationProvider.reset();this._hasTypeDefinitionProvider.reset();this._hasHoverProvider.reset();this._hasDocumentHighlightProvider.reset();this._hasDocumentSymbolProvider.reset();this._hasReferenceProvider.reset();this._hasRenameProvider.reset();this._hasDocumentFormattingProvider.reset();this._hasDocumentSelectionFormattingProvider.reset();this._hasSignatureHelpProvider.reset();this._isInWalkThrough.reset()};e.prototype._update=function(){var e=this._editor.getModel();if(!e){this.reset();return}this._langId.set(e.getLanguageIdentifier().language);this._hasCompletionItemProvider.set(_.SuggestRegistry.has(e));this._hasCodeActionsProvider.set(_.CodeActionProviderRegistry.has(e));this._hasCodeLensProvider.set(_.CodeLensProviderRegistry.has(e));this._hasDefinitionProvider.set(_.DefinitionProviderRegistry.has(e));this._hasImplementationProvider.set(_.ImplementationProviderRegistry.has(e));this._hasTypeDefinitionProvider.set(_.TypeDefinitionProviderRegistry.has(e));this._hasHoverProvider.set(_.HoverProviderRegistry.has(e));this._hasDocumentHighlightProvider.set(_.DocumentHighlightProviderRegistry.has(e));this._hasDocumentSymbolProvider.set(_.DocumentSymbolProviderRegistry.has(e));this._hasReferenceProvider.set(_.ReferenceProviderRegistry.has(e));this._hasRenameProvider.set(_.RenameProviderRegistry.has(e));this._hasSignatureHelpProvider.set(_.SignatureHelpProviderRegistry.has(e));this._hasDocumentFormattingProvider.set(_.DocumentFormattingEditProviderRegistry.has(e)||_.DocumentRangeFormattingEditProviderRegistry.has(e));this._hasDocumentSelectionFormattingProvider.set(_.DocumentRangeFormattingEditProviderRegistry.has(e));this._isInWalkThrough.set(e.uri.scheme===y.Schemas.walkThroughSnippet)};return e}(i.Disposable);t.EditorModeContext=E});define(r[422],e([0,1,13,29,77,434,204,14,93]),function(e,t,o,h,_,y,C,b,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){if(e===void 0){e=new i.ServiceCollection}if(t===void 0){t=false}this._services=e;this._strict=t;this._services.set(b.IInstantiationService,this)}e.prototype.createChild=function(i){var n=this;this._services.forEach(function(e,t){if(i.has(e)){return}if(t instanceof C.SyncDescriptor){t=n._createAndCacheServiceInstance(e,t)}i.set(e,t)});return new e(i,this._strict)};e.prototype.invokeFunction=function(e){var n=this;var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}var r;try{r={get:function(e,t){var i=n._getOrCreateServiceInstance(e);if(!i&&t!==b.optional){throw new Error("[invokeFunction] unkown service '"+e+"'")}return i}};return e.apply(undefined,[r].concat(t))}finally{r.get=function(){throw o.illegalState("service accessor is only valid during the invocation of its target method")}}};e.prototype.createInstance=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(e instanceof C.SyncDescriptor){return this._createInstance(e,t)}else{return this._createInstance(new C.SyncDescriptor(e),t)}};e.prototype._createInstance=function(e,t){var i=e.staticArguments.concat(t);var n=b._util.getServiceDependencies(e.ctor).sort(function(e,t){return e.index-t.index});var r=[];for(var o=0,s=n;o<s.length;o++){var a=s[o];var u=this._getOrCreateServiceInstance(a.id);if(!u&&this._strict&&!a.optional){throw new Error("[createInstance] "+e.ctor.name+" depends on UNKNOWN service "+a.id+".")}r.push(u)}var l=n.length>0?n[0].index:i.length;if(i.length!==l){console.warn("[createInstance] First service dependency of "+e.ctor.name+" at position "+(l+1)+" conflicts with "+i.length+" static arguments");var c=l-i.length;if(c>0){i=i.concat(new Array(c))}else{i=i.slice(0,l)}}var d=[e.ctor];d.push.apply(d,i);d.push.apply(d,r);return h.create.apply(null,d)};e.prototype._getOrCreateServiceInstance=function(e){var t=this._services.get(e);if(t instanceof C.SyncDescriptor){return this._createAndCacheServiceInstance(e,t)}else{return t}};e.prototype._createAndCacheServiceInstance=function(e,t){_.ok(this._services.get(e)instanceof C.SyncDescriptor);var i=new y.Graph(function(e){return e.id.toString()});function n(){var e=new Error("[createInstance] cyclic dependency between services");e.message=i.toString();throw e}var r=0;var o=[{id:e,desc:t}];while(o.length){var s=o.pop();i.lookupOrInsertNode(s);if(r++>100){n()}var a=b._util.getServiceDependencies(s.desc.ctor);for(var u=0,l=a;u<l.length;u++){var c=l[u];var d=this._services.get(c.id);if(!d){console.warn("[createInstance] "+e+" depends on "+c.id+" which is NOT registered.")}if(d instanceof C.SyncDescriptor){var h={id:c.id,desc:d};i.insertEdge(s,h);o.push(h)}}}while(true){var f=i.roots();if(f.length===0){if(i.length!==0){n()}break}for(var p=0,g=f;p<g.length;p++){var v=g[p];var m=this._createInstance(v.data.desc,[]);this._services.set(v.data.id,m);i.removeNode(v.data)}}return this._services.get(e)};return e}();t.InstantiationService=n});define(r[423],e([0,1,389,2,4]),function(e,t,c,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t,i,n,r){this.toDispose=[];this._contextKeyService=e;this._commandService=t;this._telemetryService=i;this._statusService=r;this._notificationService=n;this._currentChord=null;this._currentChordStatusMessage=null;this._onDidUpdateKeybindings=new o.Emitter;this.toDispose.push(this._onDidUpdateKeybindings)}e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose)};Object.defineProperty(e.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:o.default.None},enumerable:true,configurable:true});e.prototype.getDefaultKeybindingsContent=function(){return""};e.prototype.getDefaultKeybindings=function(){return this._getResolver().getDefaultKeybindings()};e.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()};e.prototype.customKeybindingsCount=function(){return 0};e.prototype.lookupKeybindings=function(e){return this._getResolver().lookupKeybindings(e).map(function(e){return e.resolvedKeybinding})};e.prototype.lookupKeybinding=function(e){var t=this._getResolver().lookupPrimaryKeybinding(e);if(!t){return null}return t.resolvedKeybinding};e.prototype.softDispatch=function(e,t){var i=this.resolveKeyboardEvent(e);if(i.isChord()){console.warn("Unexpected keyboard event mapped to a chord");return null}var n=i.getDispatchParts()[0];if(n===null){return null}var r=this._contextKeyService.getContext(t);var o=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(r,o,n)};e.prototype._dispatch=function(e,t){var i=this;var n=false;var r=this.resolveKeyboardEvent(e);if(r.isChord()){console.warn("Unexpected keyboard event mapped to a chord");return null}var o=r.getDispatchParts()[0];if(o===null){return n}var s=this._contextKeyService.getContext(t);var a=this._currentChord?this._currentChord.keypress:null;var u=r.getLabel();var l=this._getResolver().resolve(s,a,o);if(l&&l.enterChord){n=true;this._currentChord={keypress:o,label:u};if(this._statusService){this._currentChordStatusMessage=this._statusService.setStatusMessage(c.localize(0,null,u))}return n}if(this._statusService&&this._currentChord){if(!l||!l.commandId){this._statusService.setStatusMessage(c.localize(1,null,this._currentChord.label,u),10*1e3);n=true}}if(this._currentChordStatusMessage){this._currentChordStatusMessage.dispose();this._currentChordStatusMessage=null}this._currentChord=null;if(l&&l.commandId){if(!l.bubble){n=true}this._commandService.executeCommand(l.commandId,l.commandArgs||{}).done(undefined,function(e){i._notificationService.warn(e)});this._telemetryService.publicLog("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})}return n};return e}();t.AbstractKeybindingService=n});define(r[49],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;(function(e){e[e["Default"]=1]="Default";e[e["User"]=2]="User"})(n=t.KeybindingSource||(t.KeybindingSource={}));t.IKeybindingService=i.createDecorator("keybindingService")});define(r[164],e([0,1,23,19,34]),function(e,t,r,l,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function a(e,t){this._defaultKeybindings=e;this._defaultBoundCommands=new Map;for(var i=0,n=e.length;i<n;i++){var r=e[i].command;this._defaultBoundCommands.set(r,true)}this._map=new Map;this._lookupMap=new Map;this._keybindings=a.combine(e,t);for(var i=0,n=this._keybindings.length;i<n;i++){var o=this._keybindings[i];if(o.keypressFirstPart===null){continue}this._addKeyPress(o.keypressFirstPart,o)}}a._isTargetedForRemoval=function(e,t,i,n,r){if(e.command!==n){return false}if(t&&e.keypressFirstPart!==t){return false}if(i&&e.keypressChordPart!==i){return false}if(r){if(!e.when){return false}if(!r.equals(e.when)){return false}}return true};a.combine=function(e,t){e=e.slice(0);var i=[];for(var n=0,r=t.length;n<r;n++){var o=t[n];if(!o.command||o.command.length===0||o.command.charAt(0)!=="-"){i.push(o);continue}var s=o.command.substr(1);var a=o.keypressFirstPart;var u=o.keypressChordPart;var l=o.when;for(var c=e.length-1;c>=0;c--){if(this._isTargetedForRemoval(e[c],a,u,s,l)){e.splice(c,1)}}}return e.concat(i)};a.prototype._addKeyPress=function(e,t){var i=this._map.get(e);if(typeof i==="undefined"){this._map.set(e,[t]);this._addToLookupMap(t);return}for(var n=i.length-1;n>=0;n--){var r=i[n];if(r.command===t.command){continue}var o=r.keypressChordPart!==null;var s=t.keypressChordPart!==null;if(o&&s&&r.keypressChordPart!==t.keypressChordPart){continue}if(a.whenIsEntirelyIncluded(r.when,t.when)){this._removeFromLookupMap(r)}}i.push(t);this._addToLookupMap(t)};a.prototype._addToLookupMap=function(e){if(!e.command){return}var t=this._lookupMap.get(e.command);if(typeof t==="undefined"){t=[e];this._lookupMap.set(e.command,t)}else{t.push(e)}};a.prototype._removeFromLookupMap=function(e){var t=this._lookupMap.get(e.command);if(typeof t==="undefined"){return}for(var i=0,n=t.length;i<n;i++){if(t[i]===e){t.splice(i,1);return}}};a.whenIsEntirelyIncluded=function(e,t){if(!t){return true}if(!e){return false}var i=e instanceof l.ContextKeyAndExpr?e.expr:[e];var n=t instanceof l.ContextKeyAndExpr?t.expr:[t];var r=0;for(var o=0;o<n.length;o++){var s=n[o];var a=false;while(!a&&r<i.length){var u=i[r];if(u.equals(s)){a=true}r++}if(!a){return false}}return true};a.prototype.getDefaultBoundCommands=function(){return this._defaultBoundCommands};a.prototype.getDefaultKeybindings=function(){return this._defaultKeybindings};a.prototype.getKeybindings=function(){return this._keybindings};a.prototype.lookupKeybindings=function(e){var t=this._lookupMap.get(e);if(typeof t==="undefined"||t.length===0){return[]}var i=[],n=0;for(var r=t.length-1;r>=0;r--){i[n++]=t[r]}return i};a.prototype.lookupPrimaryKeybinding=function(e){var t=this._lookupMap.get(e);if(typeof t==="undefined"||t.length===0){return null}return t[t.length-1]};a.prototype.resolve=function(e,t,i){var n=null;if(t!==null){var r=this._map.get(t);if(typeof r==="undefined"){return null}n=[];for(var o=0,s=r.length;o<s;o++){var a=r[o];if(a.keypressChordPart===i){n.push(a)}}}else{var r=this._map.get(i);if(typeof r==="undefined"){return null}n=r}var u=this._findCommand(e,n);if(!u){return null}if(t===null&&u.keypressChordPart!==null){return{enterChord:true,commandId:null,commandArgs:null,bubble:false}}return{enterChord:false,commandId:u.command,commandArgs:u.commandArgs,bubble:u.bubble}};a.prototype._findCommand=function(e,t){for(var i=t.length-1;i>=0;i--){var n=t[i];if(!a.contextMatchesRules(e,n.when)){continue}return n}return null};a.contextMatchesRules=function(e,t){if(!t){return true}return t.evaluate(e)};a.getAllUnboundCommands=function(e){var t=o.CommandsRegistry.getCommands();var i=[];for(var n in t){if(n[0]==="_"||n.indexOf("vscode.")===0){continue}if(typeof t[n].description==="object"&&!r.isFalsyOrEmpty(t[n].description.args)){continue}if(e.get(n)===true){continue}i.push(n)}return i};return a}();t.KeybindingResolver=i});define(r[426],e([0,1]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t,i,n,r){this.resolvedKeybinding=e;if(e){var o=e.getDispatchParts(),s=o[0],a=o[1];this.keypressFirstPart=s;this.keypressChordPart=a}else{this.keypressFirstPart=null;this.keypressChordPart=null}this.bubble=t?t.charCodeAt(0)===94:false;this.command=this.bubble?t.substr(1):t;this.commandArgs=i;this.when=n;this.isDefault=r}return e}();t.ResolvedKeybindingItem=i});define(r[427],e([0,1,37,174]),function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(n){pe(i,n);function i(e,t){var i=n.call(this)||this;i._os=t;if(e===null){i._firstPart=null;i._chordPart=null}else if(e.type===2){i._firstPart=e.firstPart;i._chordPart=e.chordPart}else{i._firstPart=e;i._chordPart=null}return i}i.prototype._keyCodeToUILabel=function(e){if(this._os===2){switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}}return r.KeyCodeUtils.toString(e)};i.prototype._getUILabelForKeybinding=function(e){if(!e){return null}if(e.isDuplicateModifierCase()){return""}return this._keyCodeToUILabel(e.keyCode)};i.prototype.getLabel=function(){var e=this._getUILabelForKeybinding(this._firstPart);var t=this._getUILabelForKeybinding(this._chordPart);return o.UILabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._os)};i.prototype._getAriaLabelForKeybinding=function(e){if(!e){return null}if(e.isDuplicateModifierCase()){return""}return r.KeyCodeUtils.toString(e.keyCode)};i.prototype.getAriaLabel=function(){var e=this._getAriaLabelForKeybinding(this._firstPart);var t=this._getAriaLabelForKeybinding(this._chordPart);return o.AriaLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._os)};i.prototype._keyCodeToElectronAccelerator=function(e){if(e>=93&&e<=108){return null}switch(e){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return r.KeyCodeUtils.toString(e)};i.prototype._getElectronAcceleratorLabelForKeybinding=function(e){if(!e){return null}if(e.isDuplicateModifierCase()){return null}return this._keyCodeToElectronAccelerator(e.keyCode)};i.prototype.getElectronAccelerator=function(){if(this._chordPart!==null){return null}var e=this._getElectronAcceleratorLabelForKeybinding(this._firstPart);return o.ElectronAcceleratorLabelProvider.toLabel(this._firstPart,e,null,null,this._os)};i.prototype._getUserSettingsLabelForKeybinding=function(e){if(!e){return null}if(e.isDuplicateModifierCase()){return""}return r.KeyCodeUtils.toUserSettingsUS(e.keyCode)};i.prototype.getUserSettingsLabel=function(){var e=this._getUserSettingsLabelForKeybinding(this._firstPart);var t=this._getUserSettingsLabelForKeybinding(this._chordPart);var i=o.UserSettingsLabelProvider.toLabel(this._firstPart,e,this._chordPart,t,this._os);return i?i.toLowerCase():i};i.prototype.isWYSIWYG=function(){return true};i.prototype.isChord=function(){return this._chordPart?true:false};i.prototype.getParts=function(){return[this._toResolvedKeybindingPart(this._firstPart),this._toResolvedKeybindingPart(this._chordPart)]};i.prototype._toResolvedKeybindingPart=function(e){if(!e){return null}return new r.ResolvedKeybindingPart(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getUILabelForKeybinding(e),this._getAriaLabelForKeybinding(e))};i.prototype.getDispatchParts=function(){var e=this._firstPart?i.getDispatchStr(this._firstPart):null;var t=this._chordPart?i.getDispatchStr(this._chordPart):null;return[e,t]};i.getDispatchStr=function(e){if(e.isModifierKey()){return null}var t="";if(e.ctrlKey){t+="ctrl+"}if(e.shiftKey){t+="shift+"}if(e.altKey){t+="alt+"}if(e.metaKey){t+="meta+"}t+=r.KeyCodeUtils.toString(e.keyCode);return t};return i}(r.ResolvedKeybinding);t.USLayoutResolvedKeybinding=i});define(r[117],e([0,1,14,2,15,4]),function(e,n,t,i,r,o){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.ILogService=t.createDecorator("logService");var s;(function(e){e[e["Trace"]=0]="Trace";e[e["Debug"]=1]="Debug";e[e["Info"]=2]="Info";e[e["Warning"]=3]="Warning";e[e["Error"]=4]="Error";e[e["Critical"]=5]="Critical";e[e["Off"]=6]="Off"})(s=n.LogLevel||(n.LogLevel={}));n.DEFAULT_LOG_LEVEL=s.Info;var a=function(t){pe(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.level=n.DEFAULT_LOG_LEVEL;e._onDidChangeLogLevel=e._register(new o.Emitter);e.onDidChangeLogLevel=e._onDidChangeLogLevel.event;return e}e.prototype.setLevel=function(e){if(this.level!==e){this.level=e;this._onDidChangeLogLevel.fire(this.level)}};e.prototype.getLevel=function(){return this.level};return e}(i.Disposable);n.AbstractLogService=a;var u=function(i){pe(e,i);function e(e){if(e===void 0){e=n.DEFAULT_LOG_LEVEL}var t=i.call(this)||this;t.setLevel(e);t.useColors=!r.isWindows;return t}e.prototype.trace=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Trace){if(this.useColors){console.log.apply(console,["[90m[main "+(new Date).toLocaleTimeString()+"][0m",e].concat(t))}else{console.log.apply(console,["[main "+(new Date).toLocaleTimeString()+"]",e].concat(t))}}};e.prototype.debug=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Debug){if(this.useColors){console.log.apply(console,["[90m[main "+(new Date).toLocaleTimeString()+"][0m",e].concat(t))}else{console.log.apply(console,["[main "+(new Date).toLocaleTimeString()+"]",e].concat(t))}}};e.prototype.info=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Info){if(this.useColors){console.log.apply(console,["[90m[main "+(new Date).toLocaleTimeString()+"][0m",e].concat(t))}else{console.log.apply(console,["[main "+(new Date).toLocaleTimeString()+"]",e].concat(t))}}};e.prototype.warn=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Warning){if(this.useColors){console.warn.apply(console,["[93m[main "+(new Date).toLocaleTimeString()+"][0m",e].concat(t))}else{console.warn.apply(console,["[main "+(new Date).toLocaleTimeString()+"]",e].concat(t))}}};e.prototype.error=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Error){if(this.useColors){console.error.apply(console,["[91m[main "+(new Date).toLocaleTimeString()+"][0m",e].concat(t))}else{console.error.apply(console,["[main "+(new Date).toLocaleTimeString()+"]",e].concat(t))}}};e.prototype.critical=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Critical){if(this.useColors){console.error.apply(console,["[90m[main "+(new Date).toLocaleTimeString()+"][0m",e].concat(t))}else{console.error.apply(console,["[main "+(new Date).toLocaleTimeString()+"]",e].concat(t))}}};e.prototype.dispose=function(){};return e}(a);n.ConsoleLogMainService=u;var l=function(i){pe(e,i);function e(e){if(e===void 0){e=n.DEFAULT_LOG_LEVEL}var t=i.call(this)||this;t.setLevel(e);return t}e.prototype.trace=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Trace){console.log.apply(console,["%cTRACE","color: #888",e].concat(t))}};e.prototype.debug=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Debug){console.log.apply(console,["%cDEBUG","background: #eee; color: #888",e].concat(t))}};e.prototype.info=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Info){console.log.apply(console,["%c INFO","color: #33f",e].concat(t))}};e.prototype.warn=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Warning){console.log.apply(console,["%c WARN","color: #993",e].concat(t))}};e.prototype.error=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Error){console.log.apply(console,["%c  ERR","color: #f33",e].concat(t))}};e.prototype.critical=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}if(this.getLevel()<=s.Critical){console.log.apply(console,["%cCRITI","background: #f33; color: white",e].concat(t))}};e.prototype.dispose=function(){};return e}(a);n.ConsoleLogService=l;var c=function(r){pe(e,r);function e(e){var t=r.call(this)||this;t.logServices=e;if(e.length){t.setLevel(e[0].getLevel())}return t}e.prototype.setLevel=function(e){for(var t=0,i=this.logServices;t<i.length;t++){var n=i[t];n.setLevel(e)}r.prototype.setLevel.call(this,e)};e.prototype.trace=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}for(var n=0,r=this.logServices;n<r.length;n++){var o=r[n];o.trace.apply(o,[e].concat(t))}};e.prototype.debug=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}for(var n=0,r=this.logServices;n<r.length;n++){var o=r[n];o.debug.apply(o,[e].concat(t))}};e.prototype.info=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}for(var n=0,r=this.logServices;n<r.length;n++){var o=r[n];o.info.apply(o,[e].concat(t))}};e.prototype.warn=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}for(var n=0,r=this.logServices;n<r.length;n++){var o=r[n];o.warn.apply(o,[e].concat(t))}};e.prototype.error=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}for(var n=0,r=this.logServices;n<r.length;n++){var o=r[n];o.error.apply(o,[e].concat(t))}};e.prototype.critical=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}for(var n=0,r=this.logServices;n<r.length;n++){var o=r[n];o.critical.apply(o,[e].concat(t))}};e.prototype.dispose=function(){for(var e=0,t=this.logServices;e<t.length;e++){var i=t[e];i.dispose()}};return e}(a);n.MultiplexLogService=c;var d=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t.logService=e;t._register(e);return t}Object.defineProperty(e.prototype,"onDidChangeLogLevel",{get:function(){return this.logService.onDidChangeLogLevel},enumerable:true,configurable:true});e.prototype.setLevel=function(e){this.logService.setLevel(e)};e.prototype.getLevel=function(){return this.logService.getLevel()};e.prototype.trace=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}(n=this.logService).trace.apply(n,[e].concat(t));var n};e.prototype.debug=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}(n=this.logService).debug.apply(n,[e].concat(t));var n};e.prototype.info=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}(n=this.logService).info.apply(n,[e].concat(t));var n};e.prototype.warn=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}(n=this.logService).warn.apply(n,[e].concat(t));var n};e.prototype.error=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}(n=this.logService).error.apply(n,[e].concat(t));var n};e.prototype.critical=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}(n=this.logService).critical.apply(n,[e].concat(t));var n};return e}(i.Disposable);n.DelegatedLogService=d;var h=function(){function e(){this.onDidChangeLogLevel=(new o.Emitter).event}e.prototype.setLevel=function(e){};e.prototype.getLevel=function(){return s.Info};e.prototype.trace=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}};e.prototype.debug=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}};e.prototype.info=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}};e.prototype.warn=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}};e.prototype.error=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}};e.prototype.critical=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}};e.prototype.dispose=function(){};return e}();n.NullLogService=h;function f(e){if(e.verbose){return s.Trace}if(typeof e.args.log==="string"){var t=e.args.log.toLowerCase();switch(t){case"trace":return s.Trace;case"debug":return s.Debug;case"info":return s.Info;case"warn":return s.Warning;case"error":return s.Error;case"critical":return s.Critical;case"off":return s.Off}}return n.DEFAULT_LOG_LEVEL}n.getLogLevel=f});define(r[429],e([0,1,23,67,29,4,66]),function(e,t,p,o,r,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var g;(function(e){function t(e,t,i){if(e[t]){return e[t][i]}return undefined}e.get=t;function i(e,t,i,n){if(!e[t]){e[t]=Object.create(null)}e[t][i]=n}e.set=i;function n(e,t,i){if(e[t]&&e[t][i]){delete e[t][i];if(r.isEmptyObject(e[t])){delete e[t]}return true}return false}e.remove=n})(g||(g={}));var n=function(){function e(e){this.errors=0;this.infos=0;this.warnings=0;this.unknowns=0;this._data=Object.create(null);this._service=e;this._subscription=e.onMarkerChanged(this._update,this)}e.prototype.dispose=function(){this._subscription.dispose();this._data=undefined};e.prototype._update=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];var r=n.toString();var o=this._data[r];if(o){this._substract(o)}var s=this._resourceStats(n);this._add(s);this._data[r]=s}};e.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===o.Schemas.inMemory||e.scheme===o.Schemas.walkThrough||e.scheme===o.Schemas.walkThroughSnippet){return t}for(var i=0,n=this._service.read({resource:e});i<n.length;i++){var r=n[i].severity;if(r===s.default.Error){t.errors+=1}else if(r===s.default.Warning){t.warnings+=1}else if(r===s.default.Info){t.infos+=1}else{t.unknowns+=1}}return t};e.prototype._substract=function(e){this.errors-=e.errors;this.warnings-=e.warnings;this.infos-=e.infos;this.unknowns-=e.unknowns};e.prototype._add=function(e){this.errors+=e.errors;this.warnings+=e.warnings;this.infos+=e.infos;this.unknowns+=e.unknowns};return e}();var a=function(){function f(){this._onMarkerChanged=new i.Emitter;this._onMarkerChangedEvent=i.debounceEvent(this._onMarkerChanged.event,f._debouncer,0);this._byResource=Object.create(null);this._byOwner=Object.create(null);this._stats=new n(this)}f.prototype.dispose=function(){this._stats.dispose()};Object.defineProperty(f.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:true,configurable:true});f.prototype.getStatistics=function(){return this._stats};f.prototype.remove=function(e,t){if(!p.isFalsyOrEmpty(t)){for(var i=0,n=t;i<n.length;i++){var r=n[i];this.changeOne(e,r,undefined)}}};f.prototype.changeOne=function(e,t,i){if(p.isFalsyOrEmpty(i)){var n=g.remove(this._byResource,t.toString(),e);var r=g.remove(this._byOwner,e,t.toString());if(n!==r){throw new Error("invalid marker service state")}if(n&&r){this._onMarkerChanged.fire([t])}}else{var o=[];for(var s=0,a=i;s<a.length;s++){var u=a[s];var l=f._toMarker(e,t,u);if(l){o.push(l)}}g.set(this._byResource,t.toString(),e,o);g.set(this._byOwner,e,t.toString(),o);this._onMarkerChanged.fire([t])}};f._toMarker=function(e,t,i){var n=i.code,r=i.severity,o=i.message,s=i.source,a=i.startLineNumber,u=i.startColumn,l=i.endLineNumber,c=i.endColumn;if(!o){return undefined}n=n||null;a=a>0?a:1;u=u>0?u:1;l=l>=a?l:a;c=c>0?c:u;return{resource:t,owner:e,code:n,severity:r,message:o,source:s,startLineNumber:a,startColumn:u,endLineNumber:l,endColumn:c}};f.prototype.changeAll=function(e,t){var i=[];var n=this._byOwner[e];if(n){delete this._byOwner[e];for(var r in n){var o=g.get(this._byResource,r,e)[0];if(o){i.push(o.resource)}g.remove(this._byResource,r,e)}}if(!p.isFalsyOrEmpty(t)){var s=Object.create(null);for(var a=0,u=t;a<u.length;a++){var l=u[a],r=l.resource,c=l.marker;var d=f._toMarker(e,r,c);if(!d){continue}var h=s[r.toString()];if(!h){s[r.toString()]=[d];i.push(r)}else{h.push(d)}}for(var r in s){g.set(this._byResource,r,e,s[r]);g.set(this._byOwner,e,r,s[r])}}if(i.length>0){this._onMarkerChanged.fire(i)}};f.prototype.read=function(e){if(e===void 0){e=Object.create(null)}var t=e.owner,i=e.resource,n=e.take;if(!n||n<0){n=-1}if(t&&i){var r=g.get(this._byResource,i.toString(),t);if(!r){return[]}else{return r.slice(0,n>0?n:undefined)}}else if(!t&&!i){var r=[];for(var o in this._byResource){for(var s in this._byResource[o]){for(var a=0,u=this._byResource[o][s];a<u.length;a++){var l=u[a];var c=r.push(l);if(n>0&&c===n){return r}}}}return r}else{var d=t?this._byOwner[t]:this._byResource[i.toString()];if(!d){return[]}var r=[];for(var h in d){for(var f=0,p=d[h];f<p.length;f++){var l=p[f];var c=r.push(l);if(n>0&&c===n){return r}}}return r}};f._debouncer=function(e,t){if(!e){f._dedupeMap=Object.create(null);e=[]}for(var i=0,n=t;i<n.length;i++){var r=n[i];if(f._dedupeMap[r.toString()]===void 0){f._dedupeMap[r.toString()]=true;e.push(r)}}return e};return f}();t.MarkerService=a});define(r[95],e([0,1,66,14]),function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){var i="";function t(e){var t=[i];if(e.source){t.push(e.source.replace("¦","¦"))}else{t.push(i)}if(e.code){t.push(e.code.replace("¦","¦"))}else{t.push(i)}if(e.severity!==void 0&&e.severity!==null){t.push(n.default.toString(e.severity))}else{t.push(i)}if(e.message){t.push(e.message.replace("¦","¦"))}else{t.push(i)}if(e.startLineNumber!==void 0&&e.startLineNumber!==null){t.push(e.startLineNumber.toString())}else{t.push(i)}if(e.startColumn!==void 0&&e.startColumn!==null){t.push(e.startColumn.toString())}else{t.push(i)}if(e.endLineNumber!==void 0&&e.endLineNumber!==null){t.push(e.endLineNumber.toString())}else{t.push(i)}if(e.endColumn!==void 0&&e.endColumn!==null){t.push(e.endColumn.toString())}else{t.push(i)}t.push(i);return t.join("¦")}e.makeKey=t})(r=t.IMarkerData||(t.IMarkerData={}));t.IMarkerService=i.createDecorator("markerService")});define(r[46],e([0,1,66,14,4]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Severity=i.default;t.INotificationService=n.createDecorator("notificationService");var o=function(){function e(){this.progress=new s;this._onDidDispose=new r.Emitter}Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this._onDidDispose.event},enumerable:true,configurable:true});e.prototype.updateSeverity=function(e){};e.prototype.updateMessage=function(e){};e.prototype.updateActions=function(e){};e.prototype.dispose=function(){this._onDidDispose.dispose()};return e}();t.NoOpNotification=o;var s=function(){function e(){}e.prototype.infinite=function(){};e.prototype.done=function(){};e.prototype.total=function(e){};e.prototype.worked=function(e){};return e}();t.NoOpProgress=s});define(r[63],e([0,1,7,14]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IOpenerService=n.createDecorator("openerService");t.NullOpenerService=Object.freeze({_serviceBrand:undefined,open:function(){return i.TPromise.as(undefined)}})});define(r[121],e([0,1,136,63,60,30,13,180,14,4]),function(e,t,i,o,n,s,a,u,r,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(){function e(n,e,t){if(t===void 0){t=o.NullOpenerService}var r=this;this._modeService=e;this._openerService=t;this._onDidRenderCodeBlock=new l.Emitter;this.onDidRenderCodeBlock=this._onDidRenderCodeBlock.event;this._options={codeBlockRenderer:function(e,t){var i=e?r._modeService.getModeIdForLanguageName(e):n.getModel().getLanguageIdentifier().language;return r._modeService.getOrCreateMode(i).then(function(e){return u.tokenizeToString(t,i)}).then(function(e){return'<span style="font-family: '+n.getConfiguration().fontInfo.fontFamily+'">'+e+"</span>"})},codeBlockRenderCallback:function(){return r._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(e){r._openerService.open(s.default.parse(e)).then(void 0,a.onUnexpectedError)},disposeables:[]}}}e.prototype.render=function(e){if(!e){return document.createElement("span")}return i.renderMarkdown(e,this._options)};e=q([G(1,n.IModeService),G(2,r.optional(o.IOpenerService))],e);return e}();t.MarkdownRenderer=c});define(r[98],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IProgressService=i.createDecorator("progressService");t.emptyProgressRunner=Object.freeze({total:function(){},worked:function(){},done:function(){}});t.emptyProgress=Object.freeze({report:function(){}});var n=function(){function e(e){this._callback=e}Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:true,configurable:true});e.prototype.report=function(e){this._value=e;this._callback(this._value)};return e}();t.Progress=n;var r;(function(e){e[e["Explorer"]=1]="Explorer";e[e["Scm"]=3]="Scm";e[e["Extensions"]=5]="Extensions";e[e["Window"]=10]="Window"})(r=t.ProgressLocation||(t.ProgressLocation={}));t.IProgressService2=i.createDecorator("progressService2")});define(r[171],e([0,1,315,2,30,7,64,92,51,3,20,98,14,17,108]),function(e,t,a,i,s,n,r,u,o,l,c,d,h,p,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var g=function(){function e(){}e.start=function(e){var r=new Set;var t;if(e){t=e.onFileChanges(function(e){for(var t=0,i=e.changes;t<i.length;t++){var n=i[t];if(n.type===u.FileChangeType.UPDATED){r.add(n.resource.toString())}}})}return{stop:function(){return i.dispose(t)},hasChanged:function(e){return r.has(e.toString())}}};return e}();var v=function(){function e(e){this._endCursorSelection=null;this._modelReference=e;this._edits=[]}Object.defineProperty(e.prototype,"_model",{get:function(){return this._modelReference.object.textEditorModel},enumerable:true,configurable:true});e.prototype.dispose=function(){if(this._model){this._modelReference.dispose();this._modelReference=null}};e.prototype.addEdit=function(e){for(var t=0,i=e.edits;t<i.length;t++){var n=i[t];if(typeof n.eol==="number"){this._newEol=n.eol}if(n.range||n.text){var r=void 0;if(!n.range){r=this._model.getFullModelRange()}else{r=l.Range.lift(n.range)}this._edits.push(o.EditOperation.replaceMove(r,n.text))}}};e.prototype.apply=function(){var t=this;if(this._edits.length>0){this._edits=this._edits.map(function(e,t){return{value:e,index:t}}).sort(function(e,t){var i=l.Range.compareRangesUsingStarts(e.value.range,t.value.range);if(i===0){i=e.index-t.index}return i}).map(function(e){return e.value});this._initialSelections=this._getInitialSelections();this._model.pushStackElement();this._model.pushEditOperations(this._initialSelections,this._edits,function(e){return t._getEndCursorSelections(e)});this._model.pushStackElement()}if(this._newEol!==undefined){this._model.pushStackElement();this._model.setEOL(this._newEol);this._model.pushStackElement()}};e.prototype._getInitialSelections=function(){var e=this._edits[0].range;var t=new c.Selection(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn);return[t]};e.prototype._getEndCursorSelections=function(e){var t=0;for(var i=0;i<e.length;i++){var n=e[i].range;for(var r=0;r<this._initialSelections.length;r++){var o=this._initialSelections[r];if(l.Range.areIntersectingOrTouching(n,o)){t=i;break}}}var s=e[t].range;this._endCursorSelection=new c.Selection(s.endLineNumber,s.endColumn,s.endLineNumber,s.endColumn);return[this._endCursorSelection]};e.prototype.getEndCursorSelection=function(){return this._endCursorSelection};return e}();var m=function(n){pe(e,n);function e(e,t){var i=n.call(this,e)||this;i._knownInitialSelections=t;return i}e.prototype._getInitialSelections=function(){return this._knownInitialSelections};return e}(v);var _=function(){function e(e,t,i,n){this._edits=new Map;this._textModelResolverService=e;this._sourceModel=t?t.getModel().uri:undefined;this._sourceSelections=t?t.getSelections():undefined;this._sourceModelTask=undefined;this._progress=n;i.forEach(this.addEdit,this)}e.prototype.dispose=function(){this._tasks=i.dispose(this._tasks)};e.prototype.addEdit=function(e){var t=this._edits.get(e.resource.toString());if(!t){t=[];this._edits.set(e.resource.toString(),t)}t.push(e)};e.prototype.prepare=function(){return T(this,void 0,n.TPromise,function(){var o=this;var t;return M(this,function(e){switch(e.label){case 0:if(this._tasks){throw new Error("illegal state - already prepared")}this._tasks=[];t=[];this._edits.forEach(function(n,r){var e=o._textModelResolverService.createModelReference(s.default.parse(r)).then(function(e){var t=e.object;if(!t||!t.textEditorModel){throw new Error("Cannot load file "+r)}var i;if(o._sourceModel&&t.textEditorModel.uri.toString()===o._sourceModel.toString()){o._sourceModelTask=new m(e,o._sourceSelections);i=o._sourceModelTask}else{i=new v(e)}n.forEach(function(e){return i.addEdit(e)});o._tasks.push(i);o._progress.report(undefined)});t.push(e)});return[4,n.TPromise.join(t)];case 1:e.sent();return[2,this]}})})};e.prototype.apply=function(){for(var e=0,t=this._tasks;e<t.length;e++){var i=t[e];i.apply();this._progress.report(undefined)}return this._sourceModelTask?this._sourceModelTask.getEndCursorSelection():undefined};return e}();var y=function(){function o(e,t,i,n){this._textModelService=i;this._fileService=n;this._edits=[];this._editor=e;this._progress=t||d.emptyProgressRunner}o.perform=function(e,t,i,n){var r=new o(n,null,t,i);r.add(e);return r.perform()};o.prototype.add=function(e){if(Array.isArray(e)){(t=this._edits).push.apply(t,e)}else{this._edits.push(e)}var t};o.prototype.ariaMessage=function(){var e=this._edits.reduce(function(e,t){return p.isResourceFileEdit(t)?e:e+t.edits.length},0);var t=this._edits.length;if(e===0){return a.localize(0,null)}else if(e>1&&t>1){return a.localize(1,null,e,t)}else{return a.localize(2,null,e,t)}};o.prototype.perform=function(){return T(this,void 0,n.TPromise,function(){var t=this;var i,n,r,o,s,a,u,l,c,d,h,f;return M(this,function(e){switch(e.label){case 0:i=new Set;n=0;r=[];for(s=0,a=this._edits;s<a.length;s++){u=a[s];if(!o||p.isResourceFileEdit(o[0])&&!p.isResourceFileEdit(u)||p.isResourceTextEdit(o[0])&&!p.isResourceTextEdit(u)){o=[];r.push(o)}o.push(u);if(p.isResourceFileEdit(u)){n+=1}else if(!i.has(u.resource.toString())){i.add(u.resource.toString());n+=2}}this._progress.total(n);l={report:function(e){return t._progress.worked(1)}};c=undefined;d=0,h=r;e.label=1;case 1:if(!(d<h.length))return[3,6];f=h[d];if(!p.isResourceFileEdit(f[0]))return[3,3];return[4,this._performFileEdits(f,l)];case 2:e.sent();return[3,5];case 3:return[4,this._performTextEdits(f,l)];case 4:c=e.sent()||c;e.label=5;case 5:d++;return[3,1];case 6:return[2,c]}})})};o.prototype._performFileEdits=function(r,o){return T(this,void 0,void 0,function(){var t,i,n;return M(this,function(e){switch(e.label){case 0:t=0,i=r;e.label=1;case 1:if(!(t<i.length))return[3,8];n=i[t];o.report(undefined);if(!(n.newUri&&n.oldUri))return[3,3];return[4,this._fileService.moveFile(n.oldUri,n.newUri,false)];case 2:e.sent();return[3,7];case 3:if(!(!n.newUri&&n.oldUri))return[3,5];return[4,this._fileService.del(n.oldUri,true)];case 4:e.sent();return[3,7];case 5:if(!(n.newUri&&!n.oldUri))return[3,7];return[4,this._fileService.createFile(n.newUri,undefined,{overwrite:false})];case 6:e.sent();e.label=7;case 7:t++;return[3,1];case 8:return[2]}})})};o.prototype._performTextEdits=function(o,s){return T(this,void 0,n.TPromise,function(){var t,i,n,r;return M(this,function(e){switch(e.label){case 0:t=g.start(this._fileService);i=new _(this._textModelService,this._editor,o,s);return[4,i.prepare()];case 1:e.sent();n=o.filter(function(e){return t.hasChanged(e.resource)}).map(function(e){return f.getPathLabel(e.resource)});t.stop();if(n.length>0){i.dispose();throw new Error(a.localize(3,null,n.join(", ")))}return[4,i.apply()];case 2:r=e.sent();i.dispose();return[2,r]}})})};o=q([G(2,r.ITextModelService),G(3,h.optional(u.IFileService))],o);return o}();t.BulkEdit=y});define(r[45],e([0,1,29,77]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(){this.data={}}e.prototype.add=function(e,t){n.ok(i.isString(e));n.ok(i.isObject(t));n.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id");this.data[e]=t};e.prototype.knows=function(e){return this.data.hasOwnProperty(e)};e.prototype.as=function(e){return this.data[e]||null};return e}();t.Registry=new r});define(r[124],e([0,1,343,4,45,40,17]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Extensions={ModesRegistry:"editor.modesRegistry"};var a=function(){function e(){this._onDidAddLanguages=new n.Emitter;this.onDidAddLanguages=this._onDidAddLanguages.event;this._languages=[]}e.prototype.registerLanguage=function(e){this._languages.push(e);this._onDidAddLanguages.fire([e])};e.prototype.registerLanguages=function(e){this._languages=this._languages.concat(e);this._onDidAddLanguages.fire(e)};e.prototype.getLanguages=function(){return this._languages.slice(0)};return e}();t.EditorModesRegistry=a;t.ModesRegistry=new a;r.Registry.add(t.Extensions.ModesRegistry,t.ModesRegistry);t.PLAINTEXT_MODE_ID="plaintext";t.PLAINTEXT_LANGUAGE_IDENTIFIER=new s.LanguageIdentifier(t.PLAINTEXT_MODE_ID,1);t.ModesRegistry.registerLanguage({id:t.PLAINTEXT_MODE_ID,extensions:[".txt",".gitignore"],aliases:[i.localize(0,null),"text"],mimetypes:["text/plain"]});o.LanguageConfigurationRegistry.register(t.PLAINTEXT_LANGUAGE_IDENTIFIER,{brackets:[["(",")"],["[","]"],["{","}"]]})});define(r[438],e([0,1,45,4]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Extensions={JSONContribution:"base.contributions.json"};function r(e){if(e.length>0&&e.charAt(e.length-1)==="#"){return e.substring(0,e.length-1)}return e}var o=function(){function e(){this._onDidChangeSchema=new n.Emitter;this.onDidChangeSchema=this._onDidChangeSchema.event;this.schemasById={}}e.prototype.registerSchema=function(e,t){this.schemasById[r(e)]=t;this._onDidChangeSchema.fire(e)};e.prototype.notifySchemaChanged=function(e){this._onDidChangeSchema.fire(e)};e.prototype.getSchemaContributions=function(){return{schemas:this.schemasById}};return e}();var s=new o;i.Registry.add(t.Extensions.JSONContribution,s)});define(r[80],e([0,1,388,4,45,29,5,438,27]),function(e,a,u,t,i,p,n,r,o){"use strict";Object.defineProperty(a,"__esModule",{value:true});a.Extensions={Configuration:"base.contributions.configuration"};var g;(function(e){e[e["WINDOW"]=1]="WINDOW";e[e["RESOURCE"]=2]="RESOURCE"})(g=a.ConfigurationScope||(a.ConfigurationScope={}));a.settingsSchema={properties:{},patternProperties:{},additionalProperties:false,errorMessage:"Unknown configuration setting"};a.resourceSettingsSchema={properties:{},patternProperties:{},additionalProperties:false,errorMessage:"Unknown configuration setting"};a.editorConfigurationSchemaId="vscode://schemas/settings/editor";var s=i.Registry.as(r.Extensions.JSONContribution);var l=function(){function e(){this.overrideIdentifiers=[];this._onDidRegisterConfiguration=new t.Emitter;this.onDidRegisterConfiguration=this._onDidRegisterConfiguration.event;this.configurationContributors=[];this.editorConfigurationSchema={properties:{},patternProperties:{},additionalProperties:false,errorMessage:"Unknown editor configuration setting"};this.configurationProperties={};this.excludedConfigurationProperties={};this.computeOverridePropertyPattern();s.registerSchema(a.editorConfigurationSchemaId,this.editorConfigurationSchema)}e.prototype.registerConfiguration=function(e,t){if(t===void 0){t=true}this.registerConfigurations([e],[],t)};e.prototype.registerConfigurations=function(e,t,i){var n=this;if(i===void 0){i=true}var r=this.toConfiguration(t);if(r){e.push(r)}var o=[];e.forEach(function(e){o.push.apply(o,n.validateAndRegisterProperties(e,i));n.configurationContributors.push(e);n.registerJSONConfiguration(e);n.updateSchemaForOverrideSettingsConfiguration(e)});this._onDidRegisterConfiguration.fire(o)};e.prototype.notifyConfigurationSchemaUpdated=function(e){s.notifySchemaChanged(a.editorConfigurationSchemaId)};e.prototype.registerOverrideIdentifiers=function(e){(t=this.overrideIdentifiers).push.apply(t,e);this.updateOverridePropertyPatternKey();var t};e.prototype.toConfiguration=function(e){var t={id:"defaultOverrides",title:u.localize(0,null),properties:{}};for(var i=0,n=e;i<n.length;i++){var r=n[i];for(var o in r.defaults){var s=r.defaults[o];if(a.OVERRIDE_PROPERTY_PATTERN.test(o)&&typeof s==="object"){t.properties[o]={type:"object",default:s,description:u.localize(1,null,o),$ref:a.editorConfigurationSchemaId}}}}return Object.keys(t.properties).length?t:null};e.prototype.validateAndRegisterProperties=function(e,t,i,n){if(t===void 0){t=true}if(i===void 0){i=g.WINDOW}if(n===void 0){n=false}i=e.scope!==void 0&&e.scope!==null?e.scope:i;n=e.overridable||n;var r=[];var o=e.properties;if(o){for(var s in o){var a=void 0;if(t&&(a=m(s))){console.warn(a);delete o[s];continue}var u=o[s];var l=u.default;if(p.isUndefined(l)){u.default=v(u.type)}if(n){u.overridable=true}if(u.scope===void 0){u.scope=i}if(o[s].hasOwnProperty("included")&&!o[s].included){this.excludedConfigurationProperties[s]=o[s];delete o[s];continue}else{this.configurationProperties[s]=o[s]}r.push(s)}}var c=e.allOf;if(c){for(var d=0,h=c;d<h.length;d++){var f=h[d];r.push.apply(r,this.validateAndRegisterProperties(f,t,i,n))}}return r};e.prototype.getConfigurations=function(){return this.configurationContributors};e.prototype.getConfigurationProperties=function(){return this.configurationProperties};e.prototype.getExcludedConfigurationProperties=function(){return this.excludedConfigurationProperties};e.prototype.registerJSONConfiguration=function(e){function r(e){var t=e.properties;if(t){for(var i in t){a.settingsSchema.properties[i]=t[i];a.resourceSettingsSchema.properties[i]=o.deepClone(t[i]);if(t[i].scope!==g.RESOURCE){a.resourceSettingsSchema.properties[i].doNotSuggest=true}}}var n=e.allOf;if(n){n.forEach(r)}}r(e)};e.prototype.updateSchemaForOverrideSettingsConfiguration=function(e){if(e.id!==c){this.update(e);s.registerSchema(a.editorConfigurationSchemaId,this.editorConfigurationSchema)}};e.prototype.updateOverridePropertyPatternKey=function(){var e=a.settingsSchema.patternProperties[this.overridePropertyPattern];if(!e){e={type:"object",description:u.localize(2,null),errorMessage:"Unknown Identifier. Use language identifiers",$ref:a.editorConfigurationSchemaId}}delete a.settingsSchema.patternProperties[this.overridePropertyPattern];this.computeOverridePropertyPattern();a.settingsSchema.patternProperties[this.overridePropertyPattern]=e;a.resourceSettingsSchema.patternProperties[this.overridePropertyPattern]=e};e.prototype.update=function(e){var t=this;var i=e.properties;if(i){for(var n in i){if(i[n].overridable){this.editorConfigurationSchema.properties[n]=this.getConfigurationProperties()[n]}}}var r=e.allOf;if(r){r.forEach(function(e){return t.update(e)})}};e.prototype.computeOverridePropertyPattern=function(){this.overridePropertyPattern=this.overrideIdentifiers.length?h.replace("${0}",this.overrideIdentifiers.map(function(e){return n.createRegExp(e,false).source}).join("|")):d};return e}();var c="override";var d="\\[.*\\]$";var h="\\[(${0})\\]$";a.OVERRIDE_PROPERTY_PATTERN=new RegExp(d);function v(e){var t=Array.isArray(e)?e[0]:e;switch(t){case"boolean":return false;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var f=new l;i.Registry.add(a.Extensions.Configuration,f);function m(e){if(a.OVERRIDE_PROPERTY_PATTERN.test(e)){return u.localize(3,null,e)}if(f.getConfigurationProperties()[e]!==void 0){return u.localize(4,null,e)}return null}a.validateProperty=m;function _(){var e={};var t=f.getConfigurationProperties();for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];e[r]=t[r].scope}e["launch"]=g.RESOURCE;e["task"]=g.RESOURCE;return e}a.getScopes=_});define(r[175],e([0,1,318,4,2,27,15,80,45,119,144,50]),function(e,r,t,o,i,s,n,a,u,l,c,d){"use strict";Object.defineProperty(r,"__esModule",{value:true});var h=d.EDITOR_DEFAULTS;var f=d.EDITOR_FONT_DEFAULTS;var p=d.EDITOR_MODEL_DEFAULTS;r.TabFocus=new(function(){function e(){this._tabFocus=false;this._onDidChangeTabFocus=new o.Emitter;this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}e.prototype.getTabFocusMode=function(){return this._tabFocus};e.prototype.setTabFocusMode=function(e){if(this._tabFocus===e){return}this._tabFocus=e;this._onDidChangeTabFocus.fire(this._tabFocus)};return e}());var g=function(i){pe(n,i);function n(e){var t=i.call(this)||this;t._onDidChange=t._register(new o.Emitter);t.onDidChange=t._onDidChange.event;t._rawOptions=s.mixin({},e||{});t._rawOptions.scrollbar=s.mixin({},t._rawOptions.scrollbar||{});t._rawOptions.minimap=s.mixin({},t._rawOptions.minimap||{});t._rawOptions.find=s.mixin({},t._rawOptions.find||{});t._validatedOptions=d.EditorOptionsValidator.validate(t._rawOptions,h);t.editor=null;t._isDominatedByLongLines=false;t._lineNumbersDigitCount=1;t._register(c.EditorZoom.onDidChangeZoomLevel(function(e){return t._recomputeOptions()}));t._register(r.TabFocus.onDidChangeTabFocus(function(e){return t._recomputeOptions()}));return t}n.prototype.dispose=function(){i.prototype.dispose.call(this)};n.prototype._recomputeOptions=function(){var e=this.editor;var t=this._computeInternalOptions();if(e&&e.equals(t)){return}this.editor=t;if(e){this._onDidChange.fire(e.createChangeEvent(t))}};n.prototype.getRawOptions=function(){return this._rawOptions};n.prototype._computeInternalOptions=function(){var e=this._validatedOptions;var t=this._getEnvConfiguration();var i=l.BareFontInfo.createFromRawSettings(this._rawOptions,t.zoomLevel);var n={outerWidth:t.outerWidth,outerHeight:t.outerHeight,fontInfo:this.readConfiguration(i),extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:r.TabFocus.getTabFocusMode(),accessibilitySupport:t.accessibilitySupport};return d.InternalEditorOptionsFactory.createInternalEditorOptions(n,e)};n.prototype.updateOptions=function(e){this._rawOptions=s.mixin(this._rawOptions,e||{});this._validatedOptions=d.EditorOptionsValidator.validate(this._rawOptions,h);this._recomputeOptions()};n.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e;this._recomputeOptions()};n.prototype.setMaxLineNumber=function(e){var t=n._digitCount(e);if(this._lineNumbersDigitCount===t){return}this._lineNumbersDigitCount=t;this._recomputeOptions()};n._digitCount=function(e){var t=0;while(e){e=Math.floor(e/10);t++}return t?t:1};return n}(i.Disposable);r.CommonEditorConfiguration=g;var v=u.Registry.as(a.Extensions.Configuration);var m={id:"editor",order:5,type:"object",title:t.localize(0,null),overridable:true,scope:a.ConfigurationScope.RESOURCE,properties:{"editor.fontFamily":{type:"string",default:f.fontFamily,description:t.localize(1,null)},"editor.fontWeight":{type:"string",enum:["normal","bold","100","200","300","400","500","600","700","800","900"],default:f.fontWeight,description:t.localize(2,null)},"editor.fontSize":{type:"number",default:f.fontSize,description:t.localize(3,null)},"editor.lineHeight":{type:"number",default:f.lineHeight,description:t.localize(4,null)},"editor.letterSpacing":{type:"number",default:f.letterSpacing,description:t.localize(5,null)},"editor.lineNumbers":{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[t.localize(6,null),t.localize(7,null),t.localize(8,null),t.localize(9,null)],default:"on",description:t.localize(10,null)},"editor.rulers":{type:"array",items:{type:"number"},default:h.viewInfo.rulers,description:t.localize(11,null)},"editor.wordSeparators":{type:"string",default:h.wordSeparators,description:t.localize(12,null)},"editor.tabSize":{type:"number",default:p.tabSize,minimum:1,description:t.localize(13,null),errorMessage:t.localize(14,null)},"editor.insertSpaces":{type:"boolean",default:p.insertSpaces,description:t.localize(15,null),errorMessage:t.localize(16,null)},"editor.detectIndentation":{type:"boolean",default:p.detectIndentation,description:t.localize(17,null)},"editor.roundedSelection":{type:"boolean",default:h.viewInfo.roundedSelection,description:t.localize(18,null)},"editor.scrollBeyondLastLine":{type:"boolean",default:h.viewInfo.scrollBeyondLastLine,description:t.localize(19,null)},"editor.smoothScrolling":{type:"boolean",default:h.viewInfo.smoothScrolling,description:t.localize(20,null)},"editor.minimap.enabled":{type:"boolean",default:h.viewInfo.minimap.enabled,description:t.localize(21,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:h.viewInfo.minimap.side,description:t.localize(22,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:h.viewInfo.minimap.showSlider,description:t.localize(23,null)},"editor.minimap.renderCharacters":{type:"boolean",default:h.viewInfo.minimap.renderCharacters,description:t.localize(24,null)},"editor.minimap.maxColumn":{type:"number",default:h.viewInfo.minimap.maxColumn,description:t.localize(25,null)},"editor.find.seedSearchStringFromSelection":{type:"boolean",default:h.contribInfo.find.seedSearchStringFromSelection,description:t.localize(26,null)},"editor.find.autoFindInSelection":{type:"boolean",default:h.contribInfo.find.autoFindInSelection,description:t.localize(27,null)},"editor.find.globalFindClipboard":{type:"boolean",default:h.contribInfo.find.globalFindClipboard,description:t.localize(28,null),included:n.isMacintosh},"editor.wordWrap":{type:"string",enum:["off","on","wordWrapColumn","bounded"],enumDescriptions:[t.localize(29,null),t.localize(30,null),t.localize(31,null),t.localize(32,null)],default:h.wordWrap,description:t.localize(33,null)},"editor.wordWrapColumn":{type:"integer",default:h.wordWrapColumn,minimum:1,description:t.localize(34,null)},"editor.wrappingIndent":{type:"string",enum:["none","same","indent"],default:"same",description:t.localize(35,null)},"editor.mouseWheelScrollSensitivity":{type:"number",default:h.viewInfo.scrollbar.mouseWheelScrollSensitivity,description:t.localize(36,null)},"editor.multiCursorModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[t.localize(37,null),t.localize(38,null)],default:"alt",description:t.localize(39,null)},"editor.quickSuggestions":{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:false,description:t.localize(40,null)},comments:{type:"boolean",default:false,description:t.localize(41,null)},other:{type:"boolean",default:true,description:t.localize(42,null)}}}],default:h.contribInfo.quickSuggestions,description:t.localize(43,null)},"editor.quickSuggestionsDelay":{type:"integer",default:h.contribInfo.quickSuggestionsDelay,minimum:0,description:t.localize(44,null)},"editor.parameterHints":{type:"boolean",default:h.contribInfo.parameterHints,description:t.localize(45,null)},"editor.autoClosingBrackets":{type:"boolean",default:h.autoClosingBrackets,description:t.localize(46,null)},"editor.formatOnType":{type:"boolean",default:h.contribInfo.formatOnType,description:t.localize(47,null)},"editor.formatOnPaste":{type:"boolean",default:h.contribInfo.formatOnPaste,description:t.localize(48,null)},"editor.autoIndent":{type:"boolean",default:h.autoIndent,description:t.localize(49,null)},"editor.suggestOnTriggerCharacters":{type:"boolean",default:h.contribInfo.suggestOnTriggerCharacters,description:t.localize(50,null)},"editor.acceptSuggestionOnEnter":{type:"string",enum:["on","smart","off"],default:h.contribInfo.acceptSuggestionOnEnter,description:t.localize(51,null)},"editor.acceptSuggestionOnCommitCharacter":{type:"boolean",default:h.contribInfo.acceptSuggestionOnCommitCharacter,description:t.localize(52,null)},"editor.snippetSuggestions":{type:"string",enum:["top","bottom","inline","none"],enumDescriptions:[t.localize(53,null),t.localize(54,null),t.localize(55,null),t.localize(56,null)],default:h.contribInfo.snippetSuggestions,description:t.localize(57,null)},"editor.emptySelectionClipboard":{type:"boolean",default:h.emptySelectionClipboard,description:t.localize(58,null)},"editor.wordBasedSuggestions":{type:"boolean",default:h.contribInfo.wordBasedSuggestions,description:t.localize(59,null)},"editor.suggestSelection":{type:"string",enum:["first","recentlyUsed","recentlyUsedByPrefix"],enumDescriptions:[t.localize(60,null),t.localize(61,null),t.localize(62,null)],default:"recentlyUsed",description:t.localize(63,null)},"editor.suggestFontSize":{type:"integer",default:0,minimum:0,description:t.localize(64,null)},"editor.suggestLineHeight":{type:"integer",default:0,minimum:0,description:t.localize(65,null)},"editor.selectionHighlight":{type:"boolean",default:h.contribInfo.selectionHighlight,description:t.localize(66,null)},"editor.occurrencesHighlight":{type:"boolean",default:h.contribInfo.occurrencesHighlight,description:t.localize(67,null)},"editor.overviewRulerLanes":{type:"integer",default:3,description:t.localize(68,null)},"editor.overviewRulerBorder":{type:"boolean",default:h.viewInfo.overviewRulerBorder,description:t.localize(69,null)},"editor.cursorBlinking":{type:"string",enum:["blink","smooth","phase","expand","solid"],default:d.blinkingStyleToString(h.viewInfo.cursorBlinking),description:t.localize(70,null)},"editor.mouseWheelZoom":{type:"boolean",default:h.viewInfo.mouseWheelZoom,description:t.localize(71,null)},"editor.cursorStyle":{type:"string",enum:["block","block-outline","line","line-thin","underline","underline-thin"],default:d.cursorStyleToString(h.viewInfo.cursorStyle),description:t.localize(72,null)},"editor.cursorWidth":{type:"integer",default:h.viewInfo.cursorWidth,description:t.localize(73,null)},"editor.fontLigatures":{type:"boolean",default:h.viewInfo.fontLigatures,description:t.localize(74,null)},"editor.hideCursorInOverviewRuler":{type:"boolean",default:h.viewInfo.hideCursorInOverviewRuler,description:t.localize(75,null)},"editor.renderWhitespace":{type:"string",enum:["none","boundary","all"],default:h.viewInfo.renderWhitespace,description:t.localize(76,null)},"editor.renderControlCharacters":{type:"boolean",default:h.viewInfo.renderControlCharacters,description:t.localize(77,null)},"editor.renderIndentGuides":{type:"boolean",default:h.viewInfo.renderIndentGuides,description:t.localize(78,null)},"editor.renderLineHighlight":{type:"string",enum:["none","gutter","line","all"],default:h.viewInfo.renderLineHighlight,description:t.localize(79,null)},"editor.codeLens":{type:"boolean",default:h.contribInfo.codeLens,description:t.localize(80,null)},"editor.folding":{type:"boolean",default:h.contribInfo.folding,description:t.localize(81,null)},"editor.showFoldingControls":{type:"string",enum:["always","mouseover"],default:h.contribInfo.showFoldingControls,description:t.localize(82,null)},"editor.matchBrackets":{type:"boolean",default:h.contribInfo.matchBrackets,description:t.localize(83,null)},"editor.glyphMargin":{type:"boolean",default:h.viewInfo.glyphMargin,description:t.localize(84,null)},"editor.useTabStops":{type:"boolean",default:h.useTabStops,description:t.localize(85,null)},"editor.trimAutoWhitespace":{type:"boolean",default:p.trimAutoWhitespace,description:t.localize(86,null)},"editor.stablePeek":{type:"boolean",default:false,description:t.localize(87,null)},"editor.dragAndDrop":{type:"boolean",default:h.dragAndDrop,description:t.localize(88,null)},"editor.accessibilitySupport":{type:"string",enum:["auto","on","off"],enumDescriptions:[t.localize(89,null),t.localize(90,null),t.localize(91,null)],default:h.accessibilitySupport,description:t.localize(92,null)},"editor.links":{type:"boolean",default:h.contribInfo.links,description:t.localize(93,null)},"editor.colorDecorators":{type:"boolean",default:h.contribInfo.colorDecorators,description:t.localize(94,null)},"editor.lightbulb.enabled":{type:"boolean",default:h.contribInfo.lightbulbEnabled,description:t.localize(95,null)},"editor.selectionClipboard":{type:"boolean",default:h.contribInfo.selectionClipboard,description:t.localize(96,null),included:n.isLinux},"diffEditor.renderSideBySide":{type:"boolean",default:true,description:t.localize(97,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:true,description:t.localize(98,null)},"diffEditor.renderIndicators":{type:"boolean",default:true,description:t.localize(99,null)}}};v.registerConfiguration(m)});define(r[441],e([0,1,13,203,5,45,124,17,69,80]),function(e,t,y,C,b,n,r,o,i,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=Object.prototype.hasOwnProperty;var u=function(){function e(e,t){if(e===void 0){e=true}if(t===void 0){t=false}var i=this;this._nextLanguageId=1;this._languages={};this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};this._languageIds=[];this._warnOnOverwrite=t;if(e){this._registerLanguages(r.ModesRegistry.getLanguages());r.ModesRegistry.onDidAddLanguages(function(e){return i._registerLanguages(e)})}}e.prototype._registerLanguages=function(e){var i=this;if(e.length===0){return}for(var t=0;t<e.length;t++){this._registerLanguage(e[t])}this._mimeTypesMap={};this._nameMap={};this._lowercaseNameMap={};Object.keys(this._languages).forEach(function(e){var t=i._languages[e];if(t.name){i._nameMap[t.name]=t.identifier}t.aliases.forEach(function(e){i._lowercaseNameMap[e.toLowerCase()]=t.identifier});t.mimetypes.forEach(function(e){i._mimeTypesMap[e]=t.identifier})});n.Registry.as(s.Extensions.Configuration).registerOverrideIdentifiers(r.ModesRegistry.getLanguages().map(function(e){return e.id}))};e.prototype._registerLanguage=function(e){var t=e.id;var i=null;if(a.call(this._languages,t)){i=this._languages[t]}else{var n=this._nextLanguageId++;i={identifier:new o.LanguageIdentifier(t,n),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]};this._languageIds[n]=t;this._languages[t]=i}this._mergeLanguage(i,e)};e.prototype._mergeLanguage=function(e,t){var i=t.id;var n=null;if(typeof t.mimetypes!=="undefined"&&Array.isArray(t.mimetypes)){for(var r=0;r<t.mimetypes.length;r++){if(!n){n=t.mimetypes[r]}e.mimetypes.push(t.mimetypes[r])}}if(!n){n="text/x-"+i;e.mimetypes.push(n)}if(Array.isArray(t.extensions)){for(var o=0,s=t.extensions;o<s.length;o++){var a=s[o];C.registerTextMime({id:i,mime:n,extension:a},this._warnOnOverwrite);e.extensions.push(a)}}if(Array.isArray(t.filenames)){for(var u=0,l=t.filenames;u<l.length;u++){var c=l[u];C.registerTextMime({id:i,mime:n,filename:c},this._warnOnOverwrite);e.filenames.push(c)}}if(Array.isArray(t.filenamePatterns)){for(var d=0,h=t.filenamePatterns;d<h.length;d++){var f=h[d];C.registerTextMime({id:i,mime:n,filepattern:f},this._warnOnOverwrite)}}if(typeof t.firstLine==="string"&&t.firstLine.length>0){var p=t.firstLine;if(p.charAt(0)!=="^"){p="^"+p}try{var g=new RegExp(p);if(!b.regExpLeadsToEndlessLoop(g)){C.registerTextMime({id:i,mime:n,firstline:g},this._warnOnOverwrite)}}catch(e){y.onUnexpectedError(e)}}e.aliases.push(i);var v=null;if(typeof t.aliases!=="undefined"&&Array.isArray(t.aliases)){if(t.aliases.length===0){v=[null]}else{v=t.aliases}}if(v!==null){for(var r=0;r<v.length;r++){if(!v[r]||v[r].length===0){continue}e.aliases.push(v[r])}}var m=v!==null&&v.length>0;if(m&&v[0]===null){}else{var _=(m?v[0]:null)||i;if(m||!e.name){e.name=_}}if(typeof t.configuration==="string"){e.configurationFiles.push(t.configuration)}};e.prototype.isRegisteredMode=function(e){if(a.call(this._mimeTypesMap,e)){return true}return a.call(this._languages,e)};e.prototype.getRegisteredModes=function(){return Object.keys(this._languages)};e.prototype.getRegisteredLanguageNames=function(){return Object.keys(this._nameMap)};e.prototype.getLanguageName=function(e){if(!a.call(this._languages,e)){return null}return this._languages[e].name};e.prototype.getModeIdForLanguageNameLowercase=function(e){if(!a.call(this._lowercaseNameMap,e)){return null}return this._lowercaseNameMap[e].language};e.prototype.getConfigurationFiles=function(e){if(!a.call(this._languages,e)){return[]}return this._languages[e].configurationFiles||[]};e.prototype.getMimeForMode=function(e){if(!a.call(this._languages,e)){return null}var t=this._languages[e];return t.mimetypes[0]||null};e.prototype.extractModeIds=function(e){var t=this;if(!e){return[]}return e.split(",").map(function(e){return e.trim()}).map(function(e){if(a.call(t._mimeTypesMap,e)){return t._mimeTypesMap[e].language}return e}).filter(function(e){return a.call(t._languages,e)})};e.prototype.getLanguageIdentifier=function(e){if(e===i.NULL_MODE_ID||e===0){return i.NULL_LANGUAGE_IDENTIFIER}var t;if(typeof e==="string"){t=e}else{t=this._languageIds[e];if(!t){return null}}if(!a.call(this._languages,t)){return null}return this._languages[t].identifier};e.prototype.getModeIdsFromLanguageName=function(e){if(!e){return[]}if(a.call(this._nameMap,e)){return[this._nameMap[e].language]}return[]};e.prototype.getModeIdsFromFilenameOrFirstLine=function(e,t){if(!e&&!t){return[]}var i=C.guessMimeTypes(e,t);return this.extractModeIds(i.join(","))};e.prototype.getExtensions=function(e){if(!a.call(this._nameMap,e)){return[]}var t=this._nameMap[e];return this._languages[t.language].extensions};e.prototype.getFilenames=function(e){if(!a.call(this._nameMap,e)){return[]}var t=this._nameMap[e];return this._languages[t.language].filenames};return e}();t.LanguagesRegistry=u});define(r[442],e([0,1,13,4,7,523,441]),function(e,t,o,i,n,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e){if(e===void 0){e=false}this._onDidCreateMode=new i.Emitter;this.onDidCreateMode=this._onDidCreateMode.event;this._instantiatedModes={};this._registry=new s.LanguagesRegistry(true,e)}e.prototype._onReady=function(){return n.TPromise.as(true)};e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)};e.prototype.getRegisteredModes=function(){return this._registry.getRegisteredModes()};e.prototype.getRegisteredLanguageNames=function(){return this._registry.getRegisteredLanguageNames()};e.prototype.getExtensions=function(e){return this._registry.getExtensions(e)};e.prototype.getFilenames=function(e){return this._registry.getFilenames(e)};e.prototype.getMimeForMode=function(e){return this._registry.getMimeForMode(e)};e.prototype.getLanguageName=function(e){return this._registry.getLanguageName(e)};e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)};e.prototype.getModeIdByFilenameOrFirstLine=function(e,t){var i=this._registry.getModeIdsFromFilenameOrFirstLine(e,t);if(i.length>0){return i[0]}return null};e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);if(t.length>0){return t[0]}return null};e.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)};e.prototype.getConfigurationFiles=function(e){return this._registry.getConfigurationFiles(e)};e.prototype.getMode=function(e){var t=this._registry.extractModeIds(e);var i=false;for(var n=0;n<t.length;n++){if(this._instantiatedModes.hasOwnProperty(t[n])){return this._instantiatedModes[t[n]]}i=i||t[n]==="plaintext"}if(i){var r=null;this.getOrCreateMode(e).then(function(e){r=e}).done(null,o.onUnexpectedError);return r}return null};e.prototype.getOrCreateMode=function(t){var i=this;return this._onReady().then(function(){var e=i.getModeId(t);return i._getOrCreateMode(e||"plaintext")})};e.prototype.getOrCreateModeByLanguageName=function(t){var i=this;return this._onReady().then(function(){var e=i._getModeIdByLanguageName(t);return i._getOrCreateMode(e||"plaintext")})};e.prototype._getModeIdByLanguageName=function(e){var t=this._registry.getModeIdsFromLanguageName(e);if(t.length>0){return t[0]}return null};e.prototype.getOrCreateModeByFilenameOrFirstLine=function(t,i){var n=this;return this._onReady().then(function(){var e=n.getModeIdByFilenameOrFirstLine(t,i);return n._getOrCreateMode(e||"plaintext")})};e.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e);this._instantiatedModes[e]=new r.FrankensteinMode(t);this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]};return e}();t.ModeServiceImpl=a});define(r[56],e([0,1,27,29,30,45,14,80]),function(e,t,c,r,i,l,n,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IConfigurationService=n.createDecorator("configurationService");function o(e){return e&&typeof e==="object"&&(!e.overrideIdentifier||typeof e.overrideIdentifier==="string")&&(!e.resource||e.resource instanceof i.default)}t.isConfigurationOverrides=o;var s;(function(e){e[e["USER"]=1]="USER";e[e["WORKSPACE"]=2]="WORKSPACE";e[e["WORKSPACE_FOLDER"]=3]="WORKSPACE_FOLDER";e[e["DEFAULT"]=4]="DEFAULT";e[e["MEMORY"]=5]="MEMORY"})(s=t.ConfigurationTarget||(t.ConfigurationTarget={}));function a(t,i){var e=i.keys.filter(function(e){return t.keys.indexOf(e)===-1});var n=t.keys.filter(function(e){return i.keys.indexOf(e)===-1});var r=[];for(var o=0,s=t.keys;o<s.length;o++){var a=s[o];var u=v(t.contents,a);var l=v(i.contents,a);if(!c.equals(u,l)){r.push(a)}}return{added:e,removed:n,updated:r}}t.compare=a;function u(e,t){var i=[];var n=l.Registry.as(d.Extensions.Configuration).getConfigurationProperties();for(var r=0,o=Object.keys(e);r<o.length;r++){var s=o[r];if(d.OVERRIDE_PROPERTY_PATTERN.test(s)){var a={};for(var u in e[s]){if(n[u]&&n[u].overridable){a[u]=e[s][u]}}i.push({identifiers:[C(s).trim()],contents:h(a,t)})}}return i}t.toOverrides=u;function h(e,t){var i=Object.create(null);for(var n in e){f(i,n,e[n],t)}return i}t.toValuesTree=h;function f(e,t,i,n){var r=t.split(".");var o=r.pop();var s=e;for(var a=0;a<r.length;a++){var u=r[a];var l=s[u];switch(typeof l){case"undefined":l=s[u]=Object.create(null);break;case"object":break;default:n("Ignoring "+t+" as "+r.slice(0,a+1).join(".")+" is "+JSON.stringify(l));return}s=l}if(typeof s==="object"){s[o]=i}else{n("Ignoring "+t+" as "+r.join(".")+" is "+JSON.stringify(s))}}t.addToValueTree=f;function p(e,t){var i=t.split(".");g(e,i)}t.removeFromValueTree=p;function g(e,t){var i=t.shift();if(t.length===0){delete e[i];return}if(Object.keys(e).indexOf(i)!==-1){var n=e[i];if(typeof n==="object"&&!Array.isArray(n)){g(n,t);if(Object.keys(n).length===0){delete e[i]}}}}function v(e,t,i){function n(e,t){var i=e;for(var n=0;n<t.length;n++){if(typeof i!=="object"||i===null){return undefined}i=i[t[n]]}return i}var r=t.split(".");var o=n(e,r);return typeof o==="undefined"?i:o}t.getConfigurationValue=v;function m(t,i,n){Object.keys(i).forEach(function(e){if(e in t){if(r.isObject(t[e])&&r.isObject(i[e])){m(t[e],i[e],n)}else if(n){t[e]=i[e]}}else{t[e]=i[e]}})}t.merge=m;function _(){var e=l.Registry.as(d.Extensions.Configuration).getConfigurationProperties();return Object.keys(e)}t.getConfigurationKeys=_;function y(){var e=Object.create(null);var t=l.Registry.as(d.Extensions.Configuration).getConfigurationProperties();for(var i in t){var n=t[i].default;f(e,i,n,function(e){return console.error("Conflict in default settings: "+e)})}return e}t.getDefaultValues=y;function C(e){return e.substring(1,e.length-1)}t.overrideIdentifierFromKey=C;function b(e){return"["+e+"]"}t.keyFromOverrideIdentifier=b});define(r[444],e([0,1,425,75,23,29,27,30,80,56]),function(e,t,u,a,m,o,_,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=function(){function v(e,t,i){if(e===void 0){e={}}if(t===void 0){t=[]}if(i===void 0){i=[]}this._contents=e;this._keys=t;this._overrides=i;this.isFrozen=false}Object.defineProperty(v.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:true,configurable:true});Object.defineProperty(v.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:true,configurable:true});Object.defineProperty(v.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:true,configurable:true});v.prototype.getValue=function(e){return e?c.getConfigurationValue(this.contents,e):this.contents};v.prototype.override=function(e){var t=this.getContentsForOverrideIdentifer(e);if(!t||typeof t!=="object"||!Object.keys(t).length){return this}var i={};for(var n=0,r=m.distinct(Object.keys(this.contents).concat(Object.keys(t)));n<r.length;n++){var o=r[n];var s=this.contents[o];var a=t[o];if(a){if(typeof s==="object"&&typeof a==="object"){s=_.deepClone(s);this.mergeContents(s,a)}else{s=a}}i[o]=s}return new v(i)};v.prototype.merge=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}var i=_.deepClone(this.contents);var n=_.deepClone(this.overrides);var r=this.keys.slice();for(var o=0,s=e;o<s.length;o++){var a=s[o];this.mergeContents(i,a.contents);var u=function(t){var e=n.filter(function(e){return m.equals(e.identifiers,t.identifiers)})[0];if(e){l.mergeContents(e.contents,t.contents)}else{n.push(t)}};var l=this;for(var c=0,d=a.overrides;c<d.length;c++){var h=d[c];u(h)}for(var f=0,p=a.keys;f<p.length;f++){var g=p[f];if(r.indexOf(g)===-1){r.push(g)}}}return new v(i,r,n)};v.prototype.freeze=function(){this.isFrozen=true;return this};v.prototype.mergeContents=function(e,t){for(var i=0,n=Object.keys(t);i<n.length;i++){var r=n[i];if(r in e){if(o.isObject(e[r])&&o.isObject(t[r])){this.mergeContents(e[r],t[r]);continue}}e[r]=_.deepClone(t[r])}};v.prototype.checkAndFreeze=function(e){if(this.isFrozen&&!Object.isFrozen(e)){return _.deepFreeze(e)}return e};v.prototype.getContentsForOverrideIdentifer=function(e){for(var t=0,i=this.overrides;t<i.length;t++){var n=i[t];if(n.identifiers.indexOf(e)!==-1){return n.contents}}return null};v.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}};v.prototype.setValue=function(e,t){this.addKey(e);c.addToValueTree(this.contents,e,t,function(e){throw new Error(e)})};v.prototype.removeValue=function(e){if(this.removeKey(e)){c.removeFromValueTree(this.contents,e)}};v.prototype.addKey=function(e){var t=this.keys.length;for(var i=0;i<t;i++){if(e.indexOf(this.keys[i])===0){t=i}}this.keys.splice(t,1,e)};v.prototype.removeKey=function(e){var t=this.keys.indexOf(e);if(t!==-1){this.keys.splice(t,1);return true}return false};return v}();t.ConfigurationModel=d;var i=function(a){pe(e,a);function e(){var e=this;var t=c.getDefaultValues();var i=c.getConfigurationKeys();var n=[];for(var r=0,o=Object.keys(t);r<o.length;r++){var s=o[r];if(l.OVERRIDE_PROPERTY_PATTERN.test(s)){n.push({identifiers:[c.overrideIdentifierFromKey(s).trim()],contents:c.toValuesTree(t[s],function(e){return console.error("Conflict in default settings file: "+e)})})}}e=a.call(this,t,i,n)||this;return e}return e}(d);t.DefaultConfigurationModel=i;var n=function(){function e(e){this._name=e;this._configurationModel=null;this._parseErrors=[]}Object.defineProperty(e.prototype,"configurationModel",{get:function(){return this._configurationModel||new d},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"errors",{get:function(){return this._parseErrors},enumerable:true,configurable:true});e.prototype.parse=function(e){var t=this.parseContent(e);var i=this.parseRaw(t);this._configurationModel=new d(i.contents,i.keys,i.overrides)};e.prototype.parseContent=function(e){var t={};var i=null;var n=[];var r=[];var o=[];function s(e){if(Array.isArray(n)){n.push(e)}else if(i){n[i]=e}}var a={onObjectBegin:function(){var e={};s(e);r.push(n);n=e;i=null},onObjectProperty:function(e){i=e},onObjectEnd:function(){n=r.pop()},onArrayBegin:function(){var e=[];s(e);r.push(n);n=e;i=null},onArrayEnd:function(){n=r.pop()},onLiteralValue:s,onError:function(e){o.push({error:e})}};if(e){try{u.visit(e,a);t=n[0]||{}}catch(e){console.error("Error while parsing settings file "+this._name+": "+e);this._parseErrors=[e]}}return t};e.prototype.parseRaw=function(e){var t=this;var i=c.toValuesTree(e,function(e){return console.error("Conflict in settings file "+t._name+": "+e)});var n=Object.keys(e);var r=c.toOverrides(e,function(e){return console.error("Conflict in settings file "+t._name+": "+e)});return{contents:i,keys:n,overrides:r}};return e}();t.ConfigurationModelParser=n;var r=function(){function o(e,t,i,n,r,o){if(i===void 0){i=new d}if(n===void 0){n=new a.StrictResourceMap}if(r===void 0){r=new d}if(o===void 0){o=new a.StrictResourceMap}this._defaultConfiguration=e;this._userConfiguration=t;this._workspaceConfiguration=i;this._folderConfigurations=n;this._memoryConfiguration=r;this._memoryConfigurationByResource=o;this._workspaceConsolidatedConfiguration=null;this._foldersConsolidatedConfigurations=new a.StrictResourceMap}o.prototype.getValue=function(e,t,i){var n=this.getConsolidateConfigurationModel(t,i);return n.getValue(e)};o.prototype.updateValue=function(e,t,i){if(i===void 0){i={}}var n;if(i.resource){n=this._memoryConfigurationByResource.get(i.resource);if(!n){n=new d;this._memoryConfigurationByResource.set(i.resource,n)}}else{n=this._memoryConfiguration}if(t===void 0){n.removeValue(e)}else{n.setValue(e,t)}if(!i.resource){this._workspaceConsolidatedConfiguration=null}};o.prototype.inspect=function(e,t,i){var n=this.getConsolidateConfigurationModel(t,i);var r=this.getFolderConfigurationModelForResource(t.resource,i);var o=t.resource?this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration:this._memoryConfiguration;return{default:t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),user:t.overrideIdentifier?this._userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._userConfiguration.freeze().getValue(e),workspace:i?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,workspaceFolder:r?t.overrideIdentifier?r.freeze().override(t.overrideIdentifier).getValue(e):r.freeze().getValue(e):void 0,memory:t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e),value:n.getValue(e)}};o.prototype.keys=function(e){var t=this.getFolderConfigurationModelForResource(null,e);return{default:this._defaultConfiguration.freeze().keys,user:this._userConfiguration.freeze().keys,workspace:this._workspaceConfiguration.freeze().keys,workspaceFolder:t?t.freeze().keys:[]}};o.prototype.updateDefaultConfiguration=function(e){this._defaultConfiguration=e;this._workspaceConsolidatedConfiguration=null;this._foldersConsolidatedConfigurations.clear()};o.prototype.updateUserConfiguration=function(e){this._userConfiguration=e;this._workspaceConsolidatedConfiguration=null;this._foldersConsolidatedConfigurations.clear()};o.prototype.updateWorkspaceConfiguration=function(e){this._workspaceConfiguration=e;this._workspaceConsolidatedConfiguration=null;this._foldersConsolidatedConfigurations.clear()};o.prototype.updateFolderConfiguration=function(e,t){this._folderConfigurations.set(e,t);this._foldersConsolidatedConfigurations.delete(e)};o.prototype.deleteFolderConfiguration=function(e){this.folders.delete(e);this._foldersConsolidatedConfigurations.delete(e)};Object.defineProperty(o.prototype,"defaults",{get:function(){return this._defaultConfiguration},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"user",{get:function(){return this._userConfiguration},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"workspace",{get:function(){return this._workspaceConfiguration},enumerable:true,configurable:true});Object.defineProperty(o.prototype,"folders",{get:function(){return this._folderConfigurations},enumerable:true,configurable:true});o.prototype.getConsolidateConfigurationModel=function(e,t){var i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i};o.prototype.getConsolidatedConfigurationModelForResource=function(e,t){var i=e.resource;var n=this.getWorkspaceConsolidatedConfiguration();if(t&&i){var r=t.getFolder(i);if(r){n=this.getFolderConsolidatedConfiguration(r.uri)||n}var o=this._memoryConfigurationByResource.get(i);if(o){n=n.merge(o)}}return n};o.prototype.getWorkspaceConsolidatedConfiguration=function(){if(!this._workspaceConsolidatedConfiguration){this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this._userConfiguration).merge(this._workspaceConfiguration).merge(this._memoryConfiguration).freeze()}return this._workspaceConsolidatedConfiguration};o.prototype.getFolderConsolidatedConfiguration=function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var i=this.getWorkspaceConsolidatedConfiguration();var n=this._folderConfigurations.get(e);if(n){t=i.merge(n).freeze();this._foldersConsolidatedConfigurations.set(e,t)}else{t=i}}return t};o.prototype.getFolderConfigurationModelForResource=function(e,t){if(t&&e){var i=t.getFolder(e);if(i){return this._folderConfigurations.get(i.uri)}}return null};o.prototype.toData=function(){var s=this;return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this._userConfiguration.contents,overrides:this._userConfiguration.overrides,keys:this._userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:this._folderConfigurations.keys().reduce(function(e,t){var i=s._folderConfigurations.get(t),n=i.contents,r=i.overrides,o=i.keys;e[t.toString()]={contents:n,overrides:r,keys:o};return e},Object.create({}))}};o.prototype.allKeys=function(e){var t=this.keys(e);var r=t.default.slice();var i=function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(r.indexOf(n)===-1){r.push(n)}}};i(t.user);i(t.workspace);for(var n=0,o=this.folders.keys();n<o.length;n++){var s=o[n];i(this.folders.get(s).keys)}return r};o.parse=function(i){var e=o.parseConfigurationModel(i.defaults);var t=o.parseConfigurationModel(i.user);var n=o.parseConfigurationModel(i.workspace);var r=Object.keys(i.folders).reduce(function(e,t){e.set(s.default.parse(t),o.parseConfigurationModel(i.folders[t]));return e},new a.StrictResourceMap);return new o(e,t,n,r)};o.parseConfigurationModel=function(e){return new d(e.contents,e.keys,e.overrides).freeze()};return o}();t.Configuration=r;var h=function(){function e(){}e.prototype.doesConfigurationContains=function(e,t){var i=e.contents;var n=c.toValuesTree((o={},o[t]=true,o),function(){});var r;while(typeof n==="object"&&(r=Object.keys(n)[0])){i=i[r];if(!i){return false}n=n[r]}return true;var o};e.prototype.updateKeys=function(e,t,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];e.setValue(o,{})}};return e}();t.AbstractConfigurationChangeEvent=h;var f=function(n){pe(s,n);function s(e,t){if(e===void 0){e=new d}if(t===void 0){t=new a.StrictResourceMap}var i=n.call(this)||this;i._changedConfiguration=e;i._changedConfigurationByResource=t;return i}Object.defineProperty(s.prototype,"changedConfiguration",{get:function(){return this._changedConfiguration},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"changedConfigurationByResource",{get:function(){return this._changedConfigurationByResource},enumerable:true,configurable:true});s.prototype.change=function(e,t){if(e instanceof s){this._changedConfiguration=this._changedConfiguration.merge(e._changedConfiguration);for(var i=0,n=e._changedConfigurationByResource.keys();i<n.length;i++){var r=n[i];var o=this.getOrSetChangedConfigurationForResource(r);o=o.merge(e._changedConfigurationByResource.get(r));this._changedConfigurationByResource.set(r,o)}}else{this.changeWithKeys(e,t)}return this};s.prototype.telemetryData=function(e,t){this._source=e;this._sourceConfig=t;return this};Object.defineProperty(s.prototype,"affectedKeys",{get:function(){var t=this._changedConfiguration.keys.slice();this._changedConfigurationByResource.forEach(function(e){return t.push.apply(t,e.keys)});return m.distinct(t)},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"source",{get:function(){return this._source},enumerable:true,configurable:true});Object.defineProperty(s.prototype,"sourceConfig",{get:function(){return this._sourceConfig},enumerable:true,configurable:true});s.prototype.affectsConfiguration=function(e,t){var i=[this._changedConfiguration];if(t){var n=this._changedConfigurationByResource.get(t);if(n){i.push(n)}}else{i.push.apply(i,this._changedConfigurationByResource.values())}for(var r=0,o=i;r<o.length;r++){var s=o[r];if(this.doesConfigurationContains(s,e)){return true}}return false};s.prototype.changeWithKeys=function(e,t){var i=t?this.getOrSetChangedConfigurationForResource(t):this._changedConfiguration;this.updateKeys(i,e)};s.prototype.getOrSetChangedConfigurationForResource=function(e){var t=this._changedConfigurationByResource.get(e);if(!t){t=new d;this._changedConfigurationByResource.set(e,t)}return t};return s}(h);t.ConfigurationChangeEvent=f});define(r[445],e([0,1,2,34,164,19,56,4]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u="data-keybinding-context";var l=function(){function e(e,t){this._id=e;this._parent=t;this._value=Object.create(null);this._value["_contextId"]=e}e.prototype.setValue=function(e,t){if(this._value[e]!==t){this._value[e]=t;return true}return false};e.prototype.removeValue=function(e){if(e in this._value){delete this._value[e];return true}return false};e.prototype.getValue=function(e){var t=this._value[e];if(typeof t==="undefined"&&this._parent){return this._parent.getValue(e)}return t};e.prototype.collectAllValues=function(){var e=this._parent?this._parent.collectAllValues():Object.create(null);e=F({},e,this._value);delete e["_contextId"];return e};return e}();t.Context=l;var c=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,null)||this;n._emitter=i;n._configurationService=t;n._subscription=t.onDidChangeConfiguration(n._onConfigurationUpdated,n);n._initFromConfiguration();return n}e.prototype.dispose=function(){this._subscription.dispose()};e.prototype._onConfigurationUpdated=function(e){if(e.source===s.ConfigurationTarget.DEFAULT){this._initFromConfiguration()}else{for(var t=0,i=e.affectedKeys;t<i.length;t++){var n=i[t];var r="config."+n;if(r in this._value){this._value[r]=this._configurationService.getValue(n);this._emitter.fire(n)}}}};e.prototype._initFromConfiguration=function(){var s=this;var e="config.";var t=this._configurationService.getValue();var a=Object.create(null);var u=[];var l=function(e,t){for(var i in e){if(Object.prototype.hasOwnProperty.call(e,i)){t.push(i);var n=e[i];if(typeof n==="boolean"){var r=t.join(".");var o=s._value[r];s._value[r]=n;if(o!==n){u.push(r);a[r]=true}else{a[r]=false}}else if(typeof n==="object"){l(n,t)}t.pop()}}};l(t,["config"]);for(var i in this._value){if(i.indexOf(e)===0&&a[i]===undefined){delete this._value[i];a[i]=true;u.push(i)}}this._emitter.fire(u)};return e}(l);var d=function(){function e(e,t,i){this._parent=e;this._key=t;this._defaultValue=i;this.reset()}e.prototype.set=function(e){this._parent.setContext(this._key,e)};e.prototype.reset=function(){if(typeof this._defaultValue==="undefined"){this._parent.removeContext(this._key)}else{this._parent.setContext(this._key,this._defaultValue)}};e.prototype.get=function(){return this._parent.getContextKeyValue(this._key)};return e}();var h=function(){function e(){this._keys=[]}e.prototype.collect=function(e){this._keys=this._keys.concat(e)};e.prototype.affectsSome=function(e){for(var t=0,i=this._keys;t<i.length;t++){var n=i[t];if(e.has(n)){return true}}return false};return e}();t.ContextKeyChangeEvent=h;var f=function(){function e(e){this._myContextId=e;this._onDidChangeContextKey=new a.Emitter}e.prototype.createKey=function(e,t){return new d(this,e,t)};Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){if(!this._onDidChangeContext){this._onDidChangeContext=a.debounceEvent(this._onDidChangeContextKey.event,function(e,t){if(!e){e=new h}e.collect(t);return e},25)}return this._onDidChangeContext},enumerable:true,configurable:true});e.prototype.createScoped=function(e){return new g(this,this._onDidChangeContextKey,e)};e.prototype.contextMatchesRules=function(e){var t=this.getContextValuesContainer(this._myContextId);var i=r.KeybindingResolver.contextMatchesRules(t,e);return i};e.prototype.getContextKeyValue=function(e){return this.getContextValuesContainer(this._myContextId).getValue(e)};e.prototype.setContext=function(e,t){var i=this.getContextValuesContainer(this._myContextId);if(!i){return}if(i.setValue(e,t)){this._onDidChangeContextKey.fire(e)}};e.prototype.removeContext=function(e){if(this.getContextValuesContainer(this._myContextId).removeValue(e)){this._onDidChangeContextKey.fire(e)}};e.prototype.getContext=function(e){return this.getContextValuesContainer(v(e))};return e}();t.AbstractContextKeyService=f;var p=function(n){pe(e,n);function e(e){var t=n.call(this,0)||this;t._toDispose=[];t._lastContextId=0;t._contexts=Object.create(null);var i=new c(t._myContextId,e,t._onDidChangeContextKey);t._contexts[String(t._myContextId)]=i;t._toDispose.push(i);return t}e.prototype.dispose=function(){this._toDispose=i.dispose(this._toDispose)};e.prototype.getContextValuesContainer=function(e){return this._contexts[String(e)]};e.prototype.createChildContext=function(e){if(e===void 0){e=this._myContextId}var t=++this._lastContextId;this._contexts[String(t)]=new l(t,this.getContextValuesContainer(e));return t};e.prototype.disposeContext=function(e){delete this._contexts[String(e)]};e=q([G(0,s.IConfigurationService)],e);return e}(f);t.ContextKeyService=p;var g=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e.createChildContext())||this;n._parent=e;n._onDidChangeContextKey=t;if(i){n._domNode=i;n._domNode.setAttribute(u,String(n._myContextId))}return n}e.prototype.dispose=function(){this._parent.disposeContext(this._myContextId);if(this._domNode){this._domNode.removeAttribute(u)}};Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._parent.onDidChangeContext},enumerable:true,configurable:true});e.prototype.getContextValuesContainer=function(e){return this._parent.getContextValuesContainer(e)};e.prototype.createChildContext=function(e){if(e===void 0){e=this._myContextId}return this._parent.createChildContext(e)};e.prototype.disposeContext=function(e){this._parent.disposeContext(e)};return e}(f);function v(e){while(e){if(e.hasAttribute(u)){return parseInt(e.getAttribute(u),10)}e=e.parentElement}return 0}n.CommandsRegistry.registerCommand(o.SET_CONTEXT_COMMAND_ID,function(e,t,i){e.get(o.IContextKeyService).createKey(String(t),i)})});define(r[44],e([0,1,37,15,34,45]),function(e,t,a,u,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r;(function(e){e[e["Core"]=0]="Core";e[e["Extension"]=1]="Extension"})(r=t.KeybindingRuleSource||(t.KeybindingRuleSource={}));var o=function(){function s(){this.WEIGHT={editorCore:function(e){if(e===void 0){e=0}return 0+e},editorContrib:function(e){if(e===void 0){e=0}return 100+e},workbenchContrib:function(e){if(e===void 0){e=0}return 200+e},builtinExtension:function(e){if(e===void 0){e=0}return 300+e},externalExtension:function(e){if(e===void 0){e=0}return 400+e}};this._keybindings=[];this._keybindingsSorted=true}s.bindToCurrentPlatform=function(e){if(u.OS===1){if(e&&e.win){return e.win}}else if(u.OS===2){if(e&&e.mac){return e.mac}}else{if(e&&e.linux){return e.linux}}return e};s.bindToCurrentPlatform2=function(e){if(u.OS===1){if(e&&e.win){return e.win}}else if(u.OS===2){if(e&&e.mac){return e.mac}}else{if(e&&e.linux){return e.linux}}return e};s.prototype.registerKeybindingRule=function(e,t){if(t===void 0){t=0}var i=s.bindToCurrentPlatform(e);if(i&&i.primary){this._registerDefaultKeybinding(a.createKeybinding(i.primary,u.OS),e.id,e.weight,0,e.when,t)}if(i&&Array.isArray(i.secondary)){for(var n=0,r=i.secondary.length;n<r;n++){var o=i.secondary[n];this._registerDefaultKeybinding(a.createKeybinding(o,u.OS),e.id,e.weight,-n-1,e.when,t)}}};s.prototype.registerKeybindingRule2=function(e,t){if(t===void 0){t=0}var i=s.bindToCurrentPlatform2(e);if(i&&i.primary){this._registerDefaultKeybinding(i.primary,e.id,e.weight,0,e.when,t)}};s.prototype.registerCommandAndKeybindingRule=function(e,t){if(t===void 0){t=0}this.registerKeybindingRule(e,t);i.CommandsRegistry.registerCommand(e)};s._mightProduceChar=function(e){if(e>=21&&e<=30){return true}if(e>=31&&e<=56){return true}return e===80||e===81||e===82||e===83||e===84||e===85||e===86||e===110||e===111||e===87||e===88||e===89||e===90||e===91||e===92};s.prototype._assertNoCtrlAlt=function(e,t){if(e.ctrlKey&&e.altKey&&!e.metaKey){if(s._mightProduceChar(e.keyCode)){console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}}};s.prototype._registerDefaultKeybinding=function(e,t,i,n,r,o){if(o===0&&u.OS===1){if(e.type===2){this._assertNoCtrlAlt(e.firstPart,t)}else{this._assertNoCtrlAlt(e,t)}}this._keybindings.push({keybinding:e,command:t,commandArgs:null,when:r,weight1:i,weight2:n});this._keybindingsSorted=false};s.prototype.getDefaultKeybindings=function(){if(!this._keybindingsSorted){this._keybindings.sort(l);this._keybindingsSorted=true}return this._keybindings.slice(0)};return s}();t.KeybindingsRegistry=new o;t.Extensions={EditorModes:"platform.keybindingsRegistry"};n.Registry.add(t.Extensions.EditorModes,t.KeybindingsRegistry);function l(e,t){if(e.weight1!==t.weight1){return e.weight1-t.weight1}if(e.command<t.command){return-1}if(e.command>t.command){return 1}return e.weight2-t.weight2}});define(r[76],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ID="storageService";t.IStorageService=i.createDecorator(t.ID);var n;(function(e){e[e["GLOBAL"]=0]="GLOBAL";e[e["WORKSPACE"]=1]="WORKSPACE"})(n=t.StorageScope||(t.StorageScope={}));t.NullStorageService={_serviceBrand:undefined,store:function(){return undefined},remove:function(){return undefined},get:function(e,t,i){return i},getInteger:function(e,t,i){return i},getBoolean:function(e,t,i){return i}}});define(r[65],e([0,1,4,2,15,31,175,119,415,413,76]),function(e,t,n,i,r,w,o,E,s,L,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(){function e(){this._keys=Object.create(null);this._values=Object.create(null)}e.prototype.has=function(e){var t=e.getId();return!!this._values[t]};e.prototype.get=function(e){var t=e.getId();return this._values[t]};e.prototype.put=function(e,t){var i=e.getId();this._keys[i]=e;this._values[i]=t};e.prototype.remove=function(e){var t=e.getId();delete this._keys[t];delete this._values[t]};e.prototype.getValues=function(){var t=this;return Object.keys(this._keys).map(function(e){return t._values[e]})};return e}();function l(e){return h.INSTANCE.readConfiguration(e)}t.readFontInfo=l;function c(e){var t=e.get("editorFontInfo",a.StorageScope.GLOBAL);if(typeof t!=="string"){return}var i=null;try{i=JSON.parse(t)}catch(e){return}if(!Array.isArray(i)){return}h.INSTANCE.restoreFontInfo(i)}t.restoreFontInfo=c;function d(e){var t=h.INSTANCE.saveFontInfo();e.store("editorFontInfo",JSON.stringify(t),a.StorageScope.GLOBAL)}t.saveFontInfo=d;var h=function(t){pe(i,t);function i(){var e=t.call(this)||this;e._onDidChange=e._register(new n.Emitter);e.onDidChange=e._onDidChange.event;e._cache=new u;e._evictUntrustedReadingsTimeout=-1;return e}i.prototype.dispose=function(){if(this._evictUntrustedReadingsTimeout!==-1){clearTimeout(this._evictUntrustedReadingsTimeout);this._evictUntrustedReadingsTimeout=-1}t.prototype.dispose.call(this)};i.prototype._writeToCache=function(e,t){var i=this;this._cache.put(e,t);if(!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1){this._evictUntrustedReadingsTimeout=setTimeout(function(){i._evictUntrustedReadingsTimeout=-1;i._evictUntrustedReadings()},5e3)}};i.prototype._evictUntrustedReadings=function(){var e=this._cache.getValues();var t=false;for(var i=0,n=e.length;i<n;i++){var r=e[i];if(!r.isTrusted){t=true;this._cache.remove(r)}}if(t){this._onDidChange.fire()}};i.prototype.saveFontInfo=function(){return this._cache.getValues().filter(function(e){return e.isTrusted})};i.prototype.restoreFontInfo=function(e){for(var t=0,i=e.length;t<i;t++){var n=new E.FontInfo(e[t],false);this._writeToCache(n,n)}};i.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var t=i._actualReadConfiguration(e);if(t.typicalHalfwidthCharacterWidth<=2||t.typicalFullwidthCharacterWidth<=2||t.spaceWidth<=2||t.maxDigitWidth<=2){t=new E.FontInfo({zoomLevel:w.getZoomLevel(),fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontSize:t.fontSize,lineHeight:t.lineHeight,letterSpacing:t.letterSpacing,isMonospace:t.isMonospace,typicalHalfwidthCharacterWidth:Math.max(t.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(t.typicalFullwidthCharacterWidth,5),spaceWidth:Math.max(t.spaceWidth,5),maxDigitWidth:Math.max(t.maxDigitWidth,5)},false)}this._writeToCache(e,t)}return this._cache.get(e)};i.createRequest=function(e,t,i,n){var r=new L.CharWidthRequest(e,t);i.push(r);if(n){n.push(r)}return r};i._actualReadConfiguration=function(e){var t=[];var i=[];var n=this.createRequest("n",0,t,i);var r=this.createRequest("ｍ",0,t,null);var o=this.createRequest(" ",0,t,i);var s=this.createRequest("0",0,t,i);var a=this.createRequest("1",0,t,i);var u=this.createRequest("2",0,t,i);var l=this.createRequest("3",0,t,i);var c=this.createRequest("4",0,t,i);var d=this.createRequest("5",0,t,i);var h=this.createRequest("6",0,t,i);var f=this.createRequest("7",0,t,i);var p=this.createRequest("8",0,t,i);var g=this.createRequest("9",0,t,i);this.createRequest("→",0,t,i);this.createRequest("·",0,t,i);this.createRequest("|",0,t,i);this.createRequest("/",0,t,i);this.createRequest("-",0,t,i);this.createRequest("_",0,t,i);this.createRequest("i",0,t,i);this.createRequest("l",0,t,i);this.createRequest("m",0,t,i);this.createRequest("|",1,t,i);this.createRequest("_",1,t,i);this.createRequest("i",1,t,i);this.createRequest("l",1,t,i);this.createRequest("m",1,t,i);this.createRequest("n",1,t,i);this.createRequest("|",2,t,i);this.createRequest("_",2,t,i);this.createRequest("i",2,t,i);this.createRequest("l",2,t,i);this.createRequest("m",2,t,i);this.createRequest("n",2,t,i);L.readCharWidths(e,t);var v=Math.max(s.width,a.width,u.width,l.width,c.width,d.width,h.width,f.width,p.width,g.width);var m=true;var _=i[0].width;for(var y=1,C=i.length;y<C;y++){var b=_-i[y].width;if(b<-.001||b>.001){m=false;break}}var S=w.getTimeSinceLastZoomLevelChanged()>2e3;return new E.FontInfo({zoomLevel:w.getZoomLevel(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:m,typicalHalfwidthCharacterWidth:n.width,typicalFullwidthCharacterWidth:r.width,spaceWidth:o.width,maxDigitWidth:v},S)};i.INSTANCE=new i;return i}(i.Disposable);var f=function(n){pe(e,n);function e(e,t){if(t===void 0){t=null}var i=n.call(this,e)||this;i._elementSizeObserver=i._register(new s.ElementSizeObserver(t,function(){return i._onReferenceDomElementSizeChanged()}));i._register(h.INSTANCE.onDidChange(function(){return i._onCSSBasedConfigurationChanged()}));if(i._validatedOptions.automaticLayout){i._elementSizeObserver.startObserving()}i._register(w.onDidChangeZoomLevel(function(e){return i._recomputeOptions()}));i._register(w.onDidChangeAccessibilitySupport(function(){return i._recomputeOptions()}));i._recomputeOptions();return i}e.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.fontFamily;e.style.fontWeight=t.fontWeight;e.style.fontSize=t.fontSize+"px";e.style.lineHeight=t.lineHeight+"px";e.style.letterSpacing=t.letterSpacing+"px"};e.applyFontInfo=function(e,t){e.setFontFamily(t.fontFamily);e.setFontWeight(t.fontWeight);e.setFontSize(t.fontSize);e.setLineHeight(t.lineHeight);e.setLetterSpacing(t.letterSpacing)};e.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()};e.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()};e.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)};e.prototype.dispose=function(){n.prototype.dispose.call(this)};e.prototype._getExtraEditorClassName=function(){var e="";if(w.isIE){e+="ie "}else if(w.isFirefox){e+="ff "}else if(w.isEdge){e+="edge "}else if(w.isSafari){e+="safari "}if(r.isMacintosh){e+="mac "}return e};e.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:w.isWebKit,pixelRatio:w.getPixelRatio(),zoomLevel:w.getZoomLevel(),accessibilitySupport:w.getAccessibilitySupport()}};e.prototype.readConfiguration=function(e){return h.INSTANCE.readConfiguration(e)};return e}(o.CommonEditorConfiguration);t.Configuration=f});define(r[449],e([0,1,28,134,65,35]),function(e,t,i,r,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(n){pe(e,n);function e(e){var t=n.call(this,e)||this;t._visibleLines=new r.VisibleLinesCollection(t);t.domNode=t._visibleLines.domNode;t._dynamicOverlays=[];t._isFocused=false;t.domNode.setClassName("view-overlays");return t}e.prototype.shouldRender=function(){if(n.prototype.shouldRender.call(this)){return true}for(var e=0,t=this._dynamicOverlays.length;e<t;e++){var i=this._dynamicOverlays[e];if(i.shouldRender()){return true}}return false};e.prototype.dispose=function(){n.prototype.dispose.call(this);for(var e=0,t=this._dynamicOverlays.length;e<t;e++){var i=this._dynamicOverlays[e];i.dispose()}this._dynamicOverlays=null};e.prototype.getDomNode=function(){return this.domNode};e.prototype.createVisibleLine=function(){return new a(this._context.configuration,this._dynamicOverlays)};e.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)};e.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);var t=this._visibleLines.getStartLineNumber();var i=this._visibleLines.getEndLineNumber();for(var n=t;n<=i;n++){var r=this._visibleLines.getVisibleLine(n);r.onConfigurationChanged(e)}return true};e.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)};e.prototype.onFocusChanged=function(e){this._isFocused=e.isFocused;return true};e.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)};e.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)};e.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)};e.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||true};e.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)};e.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)};e.prototype.prepareRender=function(e){var t=this._dynamicOverlays.filter(function(e){return e.shouldRender()});for(var i=0,n=t.length;i<n;i++){var r=t[i];r.prepareRender(e);r.onDidRender()}return null};e.prototype.render=function(e){this._viewOverlaysRender(e);this.domNode.toggleClassName("focused",this._isFocused)};e.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)};return e}(o.ViewPart);t.ViewOverlays=s;var a=function(){function e(e,t){this._configuration=e;this._lineHeight=this._configuration.editor.lineHeight;this._dynamicOverlays=t;this._domNode=null;this._renderedContent=null}e.prototype.getDomNode=function(){if(!this._domNode){return null}return this._domNode.domNode};e.prototype.setDomNode=function(e){this._domNode=i.createFastDomNode(e)};e.prototype.onContentChanged=function(){};e.prototype.onTokensChanged=function(){};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._configuration.editor.lineHeight}};e.prototype.renderLine=function(e,t,i,n){var r="";for(var o=0,s=this._dynamicOverlays.length;o<s;o++){var a=this._dynamicOverlays[o];r+=a.render(i.startLineNumber,e)}if(this._renderedContent===r){return false}this._renderedContent=r;n.appendASCIIString('<div style="position:absolute;top:');n.appendASCIIString(String(t));n.appendASCIIString("px;width:100%;height:");n.appendASCIIString(String(this._lineHeight));n.appendASCIIString('px;">');n.appendASCIIString(r);n.appendASCIIString("</div>");return true};e.prototype.layoutLine=function(e,t){if(this._domNode){this._domNode.setTop(t);this._domNode.setHeight(this._lineHeight)}};return e}();t.ViewOverlayLine=a;var u=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._contentWidth=t._context.configuration.editor.layoutInfo.contentWidth;t.domNode.setHeight(0);return t}e.prototype.onConfigurationChanged=function(e){if(e.layoutInfo){this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth}return i.prototype.onConfigurationChanged.call(this,e)};e.prototype.onScrollChanged=function(e){return i.prototype.onScrollChanged.call(this,e)||e.scrollWidthChanged};e.prototype._viewOverlaysRender=function(e){i.prototype._viewOverlaysRender.call(this,e);this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth))};return e}(s);t.ContentViewOverlays=u;var l=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._contentLeft=t._context.configuration.editor.layoutInfo.contentLeft;t.domNode.setClassName("margin-view-overlays");t.domNode.setWidth(1);n.Configuration.applyFontInfo(t.domNode,t._context.configuration.editor.fontInfo);return t}e.prototype.onConfigurationChanged=function(e){var t=false;if(e.fontInfo){n.Configuration.applyFontInfo(this.domNode,this._context.configuration.editor.fontInfo);t=true}if(e.layoutInfo){this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft;t=true}return i.prototype.onConfigurationChanged.call(this,e)||t};e.prototype.onScrollChanged=function(e){return i.prototype.onScrollChanged.call(this,e)||e.scrollHeightChanged};e.prototype._viewOverlaysRender=function(e){i.prototype._viewOverlaysRender.call(this,e);var t=Math.min(e.scrollHeight,1e6);this.domNode.setHeight(t);this.domNode.setWidth(this._contentLeft)};return e}(s);t.MarginViewOverlays=l});define(r[450],e([0,1,28,12,3,50,65,10]),function(e,t,i,n,d,h,r,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=function(){function e(e,t,i,n,r){this.top=e;this.left=t;this.width=i;this.height=n;this.textContent=r}return e}();var o=function(){function e(e){this._context=e;this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle;this._lineHeight=this._context.configuration.editor.lineHeight;this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth);this._isVisible=true;this._domNode=i.createFastDomNode(document.createElement("div"));this._domNode.setClassName("cursor");this._domNode.setHeight(this._lineHeight);this._domNode.setTop(0);this._domNode.setLeft(0);r.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo);this._domNode.setDisplay("none");this.updatePosition(new n.Position(1,1));this._lastRenderedContent="";this._renderData=null}e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){return this._position};e.prototype.show=function(){if(!this._isVisible){this._domNode.setVisibility("inherit");this._isVisible=true}};e.prototype.hide=function(){if(this._isVisible){this._domNode.setVisibility("hidden");this._isVisible=false}};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.fontInfo){r.Configuration.applyFontInfo(this._domNode,this._context.configuration.editor.fontInfo);this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth}if(e.viewInfo){this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle;this._lineCursorWidth=Math.min(this._context.configuration.editor.viewInfo.cursorWidth,this._typicalHalfwidthCharacterWidth)}return true};e.prototype.onCursorPositionChanged=function(e){this.updatePosition(e);return true};e.prototype._prepareRender=function(e){var t="";if(this._cursorStyle===h.TextEditorCursorStyle.Line||this._cursorStyle===h.TextEditorCursorStyle.LineThin){var i=e.visibleRangeForPosition(this._position);if(!i){return null}var n;if(this._cursorStyle===h.TextEditorCursorStyle.Line){n=f.computeScreenAwareSize(this._lineCursorWidth>0?this._lineCursorWidth:2);if(n>2){var r=this._context.model.getLineContent(this._position.lineNumber);t=r.charAt(this._position.column-1)}}else{n=f.computeScreenAwareSize(1)}var o=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new p(o,i.left,n,this._lineHeight,t)}var s=e.linesVisibleRangesForRange(new d.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+1),false);if(!s||s.length===0||s[0].ranges.length===0){return null}var a=s[0].ranges[0];var u=a.width<1?this._typicalHalfwidthCharacterWidth:a.width;if(this._cursorStyle===h.TextEditorCursorStyle.Block){var r=this._context.model.getLineContent(this._position.lineNumber);t=r.charAt(this._position.column-1)}var l=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;var c=this._lineHeight;if(this._cursorStyle===h.TextEditorCursorStyle.Underline||this._cursorStyle===h.TextEditorCursorStyle.UnderlineThin){l+=this._lineHeight-2;c=2}return new p(l,a.left,u,c,t)};e.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)};e.prototype.render=function(e){if(!this._renderData){this._domNode.setDisplay("none");return null}if(this._lastRenderedContent!==this._renderData.textContent){this._lastRenderedContent=this._renderData.textContent;this._domNode.domNode.textContent=this._lastRenderedContent}this._domNode.setDisplay("block");this._domNode.setTop(this._renderData.top);this._domNode.setLeft(this._renderData.left);this._domNode.setWidth(this._renderData.width);this._domNode.setLineHeight(this._renderData.height);this._domNode.setHeight(this._renderData.height);return{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}};e.prototype.updatePosition=function(e){this._position=e};return e}();t.ViewCursor=o});define(r[451],e([0,1,75,76,18]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(){}return e}();t.Memory=o;var s=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.memorize=function(e,t,i){};t.prototype.select=function(e,t,i){return 0};t.prototype.toJSON=function(){return undefined};t.prototype.fromJSON=function(){};return t}(o);t.NoMemory=s;var a=function(t){pe(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._cache=new i.LRUCache(300,.66);e._seq=0;return e}e.prototype.memorize=function(e,t,i){var n=i.suggestion.label;var r=e.getLanguageIdentifier().language+"/"+n;this._cache.set(r,{touch:this._seq++,type:i.suggestion.type,insertText:undefined})};e.prototype.select=function(e,t,i){var n=e.getWordUntilPosition(t).word;var r=0;var o=-1;if(n.length===0){for(var s=0;s<i.length;s++){var a=i[s].suggestion;var u=e.getLanguageIdentifier().language+"/"+a.label;var l=this._cache.get(u);if(l&&l.touch>o&&l.type===a.type){o=l.touch;r=s}}}return r};e.prototype.toJSON=function(){var i=[];this._cache.forEach(function(e,t){i.push([t,e])});return i};e.prototype.fromJSON=function(e){this._cache.clear();var t=0;for(var i=0,n=e;i<n.length;i++){var r=n[i],o=r[0],s=r[1];s.touch=t;this._cache.set(o,s)}this._seq=this._cache.size};return e}(o);t.LRUMemory=a;var u=function(t){pe(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e._trie=i.TernarySearchTree.forStrings();e._seq=0;return e}e.prototype.memorize=function(e,t,i){var n=e.getWordUntilPosition(t).word;var r=e.getLanguageIdentifier().language+"/"+n;this._trie.set(r,{type:i.suggestion.type,insertText:i.suggestion.insertText,touch:this._seq++})};e.prototype.select=function(e,t,i){var n=e.getWordUntilPosition(t).word;if(!n){return 0}var r=e.getLanguageIdentifier().language+"/"+n;var o=this._trie.get(r);if(!o){o=this._trie.findSubstr(r)}if(o){for(var s=0;s<i.length;s++){var a=i[s].suggestion,u=a.type,l=a.insertText;if(u===o.type&&l===o.insertText){return s}}}return 0};e.prototype.toJSON=function(){var i=[];this._trie.forEach(function(e,t){return i.push([t,e])});i.sort(function(e,t){return-(e[1].touch-t[1].touch)}).forEach(function(e,t){return e[1].touch=t});return i.slice(0,200)};e.prototype.fromJSON=function(e){this._trie.clear();if(e.length>0){this._seq=e[0][1].touch+1;for(var t=0,i=e;t<i.length;t++){var n=i[t],r=n[0],o=n[1];this._trie.set(r,o)}}};return e}(o);t.PrefixMemory=u;var l=function(){function e(e,t){var i=this;this._storageService=t;this._storagePrefix="suggest/memories";this._persistSoon=new r.RunOnceScheduler(function(){return i._flush()},3e3);this.setMode(e)}e.prototype.setMode=function(e){if(this._mode===e){return}this._mode=e;this._strategy=e==="recentlyUsedByPrefix"?new u:e==="recentlyUsed"?new a:new s;try{var t=this._storageService.get(this._storagePrefix+"/"+this._mode,n.StorageScope.WORKSPACE);this._strategy.fromJSON(JSON.parse(t))}catch(e){}};e.prototype.memorize=function(e,t,i){this._strategy.memorize(e,t,i);this._persistSoon.schedule()};e.prototype.select=function(e,t,i){return this._strategy.select(e,t,i)};e.prototype._flush=function(){var e=JSON.stringify(this._strategy);this._storageService.store(this._storagePrefix+"/"+this._mode,e,n.StorageScope.WORKSPACE)};e=q([G(1,n.IStorageService)],e);return e}();t.SuggestMemories=l});define(r[82],e([0,1,14]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ITelemetryService=i.createDecorator("telemetryService")});define(r[11],e([0,1,13,30,34,44,45,82,12,53,89,70,19,38]),function(e,t,a,u,n,i,r,o,l,c,s,d,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=function(){function e(e){this.id=e.id;this.precondition=e.precondition;this._kbOpts=e.kbOpts;this._description=e.description}e.prototype.toCommandAndKeybindingRule=function(e){var i=this;var t=this._kbOpts||{primary:0};var n=t.kbExpr;if(this.precondition){if(n){n=h.ContextKeyExpr.and(n,this.precondition)}else{n=this.precondition}}var r=typeof t.weight==="number"?t.weight:e;return{id:this.id,handler:function(e,t){return i.runCommand(e,t)},weight:r,when:n,primary:t.primary,secondary:t.secondary,win:t.win,linux:t.linux,mac:t.mac,description:this._description}};return e}();t.Command=p;function g(e){var t=e.get(d.IEditorService);var i=t.getActiveEditor&&t.getActiveEditor();return f.getCodeEditor(i)}var v=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.bindToContribution=function(r){return function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._callback=e.handler;return t}e.prototype.runEditorCommand=function(e,t,i){var n=r(t);if(n){this._callback(r(t))}};return e}(t)};t.prototype.runCommand=function(e,i){var n=this;var t=e.get(f.ICodeEditorService);var r=t.getFocusedCodeEditor();if(!r){r=g(e)}if(!r){return}return r.invokeWithinContext(function(e){var t=e.get(h.IContextKeyService);if(!t.contextMatchesRules(n.precondition)){return}return n.runEditorCommand(e,r,i)})};return t}(p);t.EditorCommand=v;var m=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t.label=e.label;t.alias=e.alias;t.menuOpts=e.menuOpts;return t}e.prototype.toMenuItem=function(){if(!this.menuOpts){return null}return{command:{id:this.id,title:this.label},when:h.ContextKeyExpr.and(this.precondition,this.menuOpts.when),group:this.menuOpts.group,order:this.menuOpts.order}};e.prototype.runEditorCommand=function(e,t,i){this.reportTelemetry(e,t);return this.run(e,t,i||{})};e.prototype.reportTelemetry=function(e,t){e.get(o.ITelemetryService).publicLog("editorActionInvoked",F({name:this.label,id:this.id},t.getTelemetryData()))};return e}(v);t.EditorAction=m;function _(e,i){n.CommandsRegistry.registerCommand(e,function(e,t){return i(e,t||{})})}t.registerLanguageCommand=_;function y(e,s){_(e,function(e,t){var i=t.resource,n=t.position;if(!(i instanceof u.default)){throw a.illegalArgument("resource")}if(!l.Position.isIPosition(n)){throw a.illegalArgument("position")}var r=e.get(c.IModelService).getModel(i);if(!r){throw a.illegalArgument("Can not find open model for "+i)}var o=l.Position.lift(n);return s(r,o,t)})}t.registerDefaultLanguageCommand=y;function C(e){x.INSTANCE.registerEditorCommand(e);return e}t.registerEditorCommand=C;function b(e){x.INSTANCE.registerEditorAction(new e)}t.registerEditorAction=b;function S(e){x.INSTANCE.registerEditorAction(e)}t.registerInstantiatedEditorAction=S;function w(e){x.INSTANCE.registerEditorContribution(e)}t.registerEditorContribution=w;var E;(function(e){function t(e){return x.INSTANCE.getEditorCommand(e)}e.getEditorCommand=t;function i(){return x.INSTANCE.getEditorActions()}e.getEditorActions=i;function n(){return x.INSTANCE.getEditorContributions()}e.getEditorContributions=n})(E=t.EditorExtensionsRegistry||(t.EditorExtensionsRegistry={}));var L={EditorCommonContributions:"editor.contributions"};var x=function(){function e(){this.editorContributions=[];this.editorActions=[];this.editorCommands=Object.create(null)}e.prototype.registerEditorContribution=function(e){this.editorContributions.push(e)};e.prototype.registerEditorAction=function(e){var t=e.toMenuItem();if(t){s.MenuRegistry.appendMenuItem(s.MenuId.EditorContext,t)}i.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(i.KeybindingsRegistry.WEIGHT.editorContrib()));this.editorActions.push(e)};e.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)};e.prototype.getEditorActions=function(){return this.editorActions.slice(0)};e.prototype.registerEditorCommand=function(e){i.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(i.KeybindingsRegistry.WEIGHT.editorContrib()));this.editorCommands[e.id]=e};e.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null};e.INSTANCE=new e;return e}();r.Registry.add(L.EditorCommonContributions,x.INSTANCE)});define(r[132],e([0,1,12,3,33,39,58,198,11,325,21,44,38,19,29,70,123,191]),function(e,t,v,m,i,_,y,C,b,S,w,n,r,o,s,a,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=i.Handler;var E=n.KeybindingsRegistry.WEIGHT.editorCore();var L=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.runEditorCommand=function(e,t,i){var n=t._getCursors();if(!n){return}this.runCoreEditorCommand(n,i||{})};return t}(b.EditorCommand);t.CoreEditorCommand=L;var x;(function(o){var e=function(e){if(!s.isObject(e)){return false}var t=e;if(!s.isString(t.to)){return false}if(!s.isUndefined(t.by)&&!s.isString(t.by)){return false}if(!s.isUndefined(t.value)&&!s.isNumber(t.value)){return false}if(!s.isUndefined(t.revealCursor)&&!s.isBoolean(t.revealCursor)){return false}return true};o.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:e}]};o.RawDirection={Up:"up",Down:"down"};o.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"};function t(e){var t;switch(e.to){case o.RawDirection.Up:t=1;break;case o.RawDirection.Down:t=2;break;default:return null}var i;switch(e.by){case o.RawUnit.Line:i=1;break;case o.RawUnit.WrappedLine:i=2;break;case o.RawUnit.Page:i=3;break;case o.RawUnit.HalfPage:i=4;break;default:i=2}var n=Math.floor(e.value||1);var r=!!e.revealCursor;return{direction:t,unit:i,value:n,revealCursor:r,select:!!e.select}}o.parse=t;var i;(function(e){e[e["Up"]=1]="Up";e[e["Down"]=2]="Down"})(i=o.Direction||(o.Direction={}));var n;(function(e){e[e["Line"]=1]="Line";e[e["WrappedLine"]=2]="WrappedLine";e[e["Page"]=3]="Page";e[e["HalfPage"]=4]="HalfPage"})(n=o.Unit||(o.Unit={}))})(x=t.EditorScroll_||(t.EditorScroll_={}));var N;(function(e){var t=function(e){if(!s.isObject(e)){return false}var t=e;if(!s.isNumber(t.lineNumber)){return false}if(!s.isUndefined(t.at)&&!s.isString(t.at)){return false}return true};e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:t}]};e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(N=t.RevealLine_||(t.RevealLine_={}));var d;(function(n){var e=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[C.CursorMoveCommands.moveTo(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]);e.reveal(true,0,0)};return e}(L);n.MoveTo=b.registerEditorCommand(new e({id:"_moveTo",inSelectionMode:false,precondition:null}));n.MoveToSelect=b.registerEditorCommand(new e({id:"_moveToSelect",inSelectionMode:true,precondition:null}));var t=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();var i=this._getColumnSelectResult(e.context,e.getPrimaryCursor(),e.getColumnSelectData(),t);e.setStates(t.source,y.CursorChangeReason.Explicit,i.viewStates.map(function(e){return _.CursorState.fromViewState(e)}));e.setColumnSelectData({toViewLineNumber:i.toLineNumber,toViewVisualColumn:i.toVisualColumn});e.reveal(true,i.reversed?1:2,0)};return t}(L);n.ColumnSelect=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"columnSelect",precondition:null})||this}t.prototype._getColumnSelectResult=function(e,t,i,n){var r=e.model.validatePosition(n.position);var o;if(n.viewPosition){o=e.validateViewPosition(new v.Position(n.viewPosition.lineNumber,n.viewPosition.column),r)}else{o=e.convertModelPositionToViewPosition(r)}return S.ColumnSelection.columnSelect(e.config,e.viewModel,t.viewState.selection,o.lineNumber,n.mouseColumn-1)};return t}(t)));n.CursorColumnSelectLeft=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"cursorColumnSelectLeft",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|512|15,linux:{primary:0}}})||this}t.prototype._getColumnSelectResult=function(e,t,i,n){return S.ColumnSelection.columnSelectLeft(e.config,e.viewModel,t.viewState,i.toViewLineNumber,i.toViewVisualColumn)};return t}(t)));n.CursorColumnSelectRight=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"cursorColumnSelectRight",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|512|17,linux:{primary:0}}})||this}t.prototype._getColumnSelectResult=function(e,t,i,n){return S.ColumnSelection.columnSelectRight(e.config,e.viewModel,t.viewState,i.toViewLineNumber,i.toViewVisualColumn)};return t}(t)));var i=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._isPaged=e.isPaged;return t}e.prototype._getColumnSelectResult=function(e,t,i,n){return S.ColumnSelection.columnSelectUp(e.config,e.viewModel,t.viewState,this._isPaged,i.toViewLineNumber,i.toViewVisualColumn)};return e}(t);n.CursorColumnSelectUp=b.registerEditorCommand(new i({isPaged:false,id:"cursorColumnSelectUp",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|512|16,linux:{primary:0}}}));n.CursorColumnSelectPageUp=b.registerEditorCommand(new i({isPaged:true,id:"cursorColumnSelectPageUp",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|512|11,linux:{primary:0}}}));var r=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._isPaged=e.isPaged;return t}e.prototype._getColumnSelectResult=function(e,t,i,n){return S.ColumnSelection.columnSelectDown(e.config,e.viewModel,t.viewState,this._isPaged,i.toViewLineNumber,i.toViewVisualColumn)};return e}(t);n.CursorColumnSelectDown=b.registerEditorCommand(new r({isPaged:false,id:"cursorColumnSelectDown",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|512|18,linux:{primary:0}}}));n.CursorColumnSelectPageDown=b.registerEditorCommand(new r({isPaged:true,id:"cursorColumnSelectPageDown",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|512|12,linux:{primary:0}}}));var o=function(e){pe(t,e);function t(){return e.call(this,{id:"cursorMove",precondition:null,description:C.CursorMove.description})||this}t.prototype.runCoreEditorCommand=function(e,t){var i=C.CursorMove.parse(t);if(!i){return}this._runCursorMove(e,t.source,i)};t.prototype._runCursorMove=function(e,t,i){e.context.model.pushStackElement();e.setStates(t,y.CursorChangeReason.Explicit,C.CursorMoveCommands.move(e.context,e.getAll(),i));e.reveal(true,0,0)};return t}(L);n.CursorMoveImpl=o;n.CursorMove=b.registerEditorCommand(new o);var s;(function(e){e[e["PAGE_SIZE_MARKER"]=-1]="PAGE_SIZE_MARKER"})(s||(s={}));var a=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._staticArgs=e.args;return t}e.prototype.runCoreEditorCommand=function(e,t){var i=this._staticArgs;if(this._staticArgs.value===-1){i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:e.context.config.pageSize}}n.CursorMove._runCursorMove(e,t.source,i)};return e}(L);n.CursorLeft=b.registerEditorCommand(new a({args:{direction:0,unit:0,select:false,value:1},id:"cursorLeft",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:15,mac:{primary:15,secondary:[256|32]}}}));n.CursorLeftSelect=b.registerEditorCommand(new a({args:{direction:0,unit:0,select:true,value:1},id:"cursorLeftSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|15}}));n.CursorRight=b.registerEditorCommand(new a({args:{direction:1,unit:0,select:false,value:1},id:"cursorRight",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:17,mac:{primary:17,secondary:[256|36]}}}));n.CursorRightSelect=b.registerEditorCommand(new a({args:{direction:1,unit:0,select:true,value:1},id:"cursorRightSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|17}}));n.CursorUp=b.registerEditorCommand(new a({args:{direction:2,unit:2,select:false,value:1},id:"cursorUp",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:16,mac:{primary:16,secondary:[256|46]}}}));n.CursorUpSelect=b.registerEditorCommand(new a({args:{direction:2,unit:2,select:true,value:1},id:"cursorUpSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|16,secondary:[2048|1024|16],mac:{primary:1024|16},linux:{primary:1024|16}}}));n.CursorPageUp=b.registerEditorCommand(new a({args:{direction:2,unit:2,select:false,value:-1},id:"cursorPageUp",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:11}}));n.CursorPageUpSelect=b.registerEditorCommand(new a({args:{direction:2,unit:2,select:true,value:-1},id:"cursorPageUpSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|11}}));n.CursorDown=b.registerEditorCommand(new a({args:{direction:3,unit:2,select:false,value:1},id:"cursorDown",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:18,mac:{primary:18,secondary:[256|44]}}}));n.CursorDownSelect=b.registerEditorCommand(new a({args:{direction:3,unit:2,select:true,value:1},id:"cursorDownSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|18,secondary:[2048|1024|18],mac:{primary:1024|18},linux:{primary:1024|18}}}));n.CursorPageDown=b.registerEditorCommand(new a({args:{direction:3,unit:2,select:false,value:-1},id:"cursorPageDown",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:12}}));n.CursorPageDownSelect=b.registerEditorCommand(new a({args:{direction:3,unit:2,select:true,value:-1},id:"cursorPageDownSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|12}}));n.CreateCursor=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"createCursor",precondition:null})||this}t.prototype.runCoreEditorCommand=function(e,t){var i=e.context;if(i.config.readOnly){return}var n;if(t.wholeLine){n=C.CursorMoveCommands.line(i,e.getPrimaryCursor(),false,t.position,t.viewPosition)}else{n=C.CursorMoveCommands.moveTo(i,e.getPrimaryCursor(),false,t.position,t.viewPosition)}var r=e.getAll();if(r.length>1){var o=n.modelState?n.modelState.position:null;var s=n.viewState?n.viewState.position:null;for(var a=0,u=r.length;a<u;a++){var l=r[a];if(o&&!l.modelState.selection.containsPosition(o)){continue}if(s&&!l.viewState.selection.containsPosition(s)){continue}r.splice(a,1);e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,r);return}}r.push(n);e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,r)};return t}(L)));n.LastCursorMoveToSelect=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"_lastCursorMoveToSelect",precondition:null})||this}t.prototype.runCoreEditorCommand=function(e,t){var i=e.context;if(i.config.readOnly){return}var n=e.getLastAddedCursorIndex();var r=e.getAll().slice(0);r[n]=C.CursorMoveCommands.moveTo(i,r[n],true,t.position,t.viewPosition);e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,r)};return t}(L)));var u=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,C.CursorMoveCommands.moveToBeginningOfLine(e.context,e.getAll(),this._inSelectionMode));e.reveal(true,0,0)};return e}(L);n.CursorHome=b.registerEditorCommand(new u({inSelectionMode:false,id:"cursorHome",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:14,mac:{primary:14,secondary:[2048|15]}}}));n.CursorHomeSelect=b.registerEditorCommand(new u({inSelectionMode:true,id:"cursorHomeSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|14,mac:{primary:1024|14,secondary:[2048|1024|15]}}}));n.CursorLineStart=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"cursorLineStart",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:0,mac:{primary:256|31}}})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,this._exec(e.context,e.getAll()));e.reveal(true,0,0)};t.prototype._exec=function(e,t){var i=[];for(var n=0,r=t.length;n<r;n++){var o=t[n];var s=o.modelState.position.lineNumber;i[n]=_.CursorState.fromModelState(o.modelState.move(false,s,1,0))}return i};return t}(L)));var l=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,C.CursorMoveCommands.moveToEndOfLine(e.context,e.getAll(),this._inSelectionMode));e.reveal(true,0,0)};return e}(L);n.CursorEnd=b.registerEditorCommand(new l({inSelectionMode:false,id:"cursorEnd",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:13,mac:{primary:13,secondary:[2048|17]}}}));n.CursorEndSelect=b.registerEditorCommand(new l({inSelectionMode:true,id:"cursorEndSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1024|13,mac:{primary:1024|13,secondary:[2048|1024|17]}}}));n.CursorLineEnd=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"cursorLineEnd",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:0,mac:{primary:256|35}}})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,this._exec(e.context,e.getAll()));e.reveal(true,0,0)};t.prototype._exec=function(e,t){var i=[];for(var n=0,r=t.length;n<r;n++){var o=t[n];var s=o.modelState.position.lineNumber;var a=e.model.getLineMaxColumn(s);i[n]=_.CursorState.fromModelState(o.modelState.move(false,s,a,0))}return i};return t}(L)));var c=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,C.CursorMoveCommands.moveToBeginningOfBuffer(e.context,e.getAll(),this._inSelectionMode));e.reveal(true,0,0)};return e}(L);n.CursorTop=b.registerEditorCommand(new c({inSelectionMode:false,id:"cursorTop",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|14,mac:{primary:2048|16}}}));n.CursorTopSelect=b.registerEditorCommand(new c({inSelectionMode:true,id:"cursorTopSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|14,mac:{primary:2048|1024|16}}}));var d=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,C.CursorMoveCommands.moveToEndOfBuffer(e.context,e.getAll(),this._inSelectionMode));e.reveal(true,0,0)};return e}(L);n.CursorBottom=b.registerEditorCommand(new d({inSelectionMode:false,id:"cursorBottom",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|13,mac:{primary:2048|18}}}));n.CursorBottomSelect=b.registerEditorCommand(new d({inSelectionMode:true,id:"cursorBottomSelect",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|1024|13,mac:{primary:2048|1024|18}}}));var h=function(e){pe(t,e);function t(){return e.call(this,{id:"editorScroll",precondition:null,description:x.description})||this}t.prototype.runCoreEditorCommand=function(e,t){var i=x.parse(t);if(!i){return}this._runEditorScroll(e,t.source,i)};t.prototype._runEditorScroll=function(e,t,i){var n=this._computeDesiredScrollTop(e.context,i);if(i.revealCursor){var r=e.context.getCompletelyVisibleViewRangeAtScrollTop(n);e.setStates(t,y.CursorChangeReason.Explicit,[C.CursorMoveCommands.findPositionInViewportIfOutside(e.context,e.getPrimaryCursor(),r,i.select)])}e.scrollTo(n)};t.prototype._computeDesiredScrollTop=function(e,t){if(t.unit===1){var i=e.getCompletelyVisibleModelRange();var n=void 0;if(t.direction===1){n=Math.max(1,i.startLineNumber-t.value)}else{n=Math.min(e.model.getLineCount(),i.startLineNumber+t.value)}var r=e.convertModelPositionToViewPosition(new v.Position(n,1));return e.getVerticalOffsetForViewLine(r.lineNumber)}var o;if(t.unit===3){o=e.config.pageSize*t.value}else if(t.unit===4){o=Math.round(e.config.pageSize/2)*t.value}else{o=t.value}var s=(t.direction===1?-1:1)*o;return e.getCurrentScrollTop()+s*e.config.lineHeight};return t}(L);n.EditorScrollImpl=h;n.EditorScroll=b.registerEditorCommand(new h);n.ScrollLineUp=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"scrollLineUp",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|16,mac:{primary:256|11}}})||this}t.prototype.runCoreEditorCommand=function(e,t){n.EditorScroll._runEditorScroll(e,t.source,{direction:1,unit:2,value:1,revealCursor:false,select:false})};return t}(L)));n.ScrollPageUp=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"scrollPageUp",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|11,win:{primary:512|11},linux:{primary:512|11}}})||this}t.prototype.runCoreEditorCommand=function(e,t){n.EditorScroll._runEditorScroll(e,t.source,{direction:1,unit:3,value:1,revealCursor:false,select:false})};return t}(L)));n.ScrollLineDown=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"scrollLineDown",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|18,mac:{primary:256|12}}})||this}t.prototype.runCoreEditorCommand=function(e,t){n.EditorScroll._runEditorScroll(e,t.source,{direction:2,unit:2,value:1,revealCursor:false,select:false})};return t}(L)));n.ScrollPageDown=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"scrollPageDown",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|12,win:{primary:512|12},linux:{primary:512|12}}})||this}t.prototype.runCoreEditorCommand=function(e,t){n.EditorScroll._runEditorScroll(e,t.source,{direction:2,unit:3,value:1,revealCursor:false,select:false})};return t}(L)));var f=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[C.CursorMoveCommands.word(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position)]);e.reveal(true,0,0)};return e}(L);n.WordSelect=b.registerEditorCommand(new f({inSelectionMode:false,id:"_wordSelect",precondition:null}));n.WordSelectDrag=b.registerEditorCommand(new f({inSelectionMode:true,id:"_wordSelectDrag",precondition:null}));n.LastCursorWordSelect=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"lastCursorWordSelect",precondition:null})||this}t.prototype.runCoreEditorCommand=function(e,t){var i=e.context;if(i.config.readOnly){return}var n=e.getLastAddedCursorIndex();var r=e.getAll().slice(0);var o=r[n];r[n]=C.CursorMoveCommands.word(i,o,o.modelState.hasSelection(),t.position);i.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,r)};return t}(L)));var p=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[C.CursorMoveCommands.line(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]);e.reveal(false,0,0)};return e}(L);n.LineSelect=b.registerEditorCommand(new p({inSelectionMode:false,id:"_lineSelect",precondition:null}));n.LineSelectDrag=b.registerEditorCommand(new p({inSelectionMode:true,id:"_lineSelectDrag",precondition:null}));var g=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;return t}e.prototype.runCoreEditorCommand=function(e,t){var i=e.context;if(i.config.readOnly){return}var n=e.getLastAddedCursorIndex();var r=e.getAll().slice(0);r[n]=C.CursorMoveCommands.line(e.context,r[n],this._inSelectionMode,t.position,t.viewPosition);e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,r)};return e}(L);n.LastCursorLineSelect=b.registerEditorCommand(new g({inSelectionMode:false,id:"lastCursorLineSelect",precondition:null}));n.LastCursorLineSelectDrag=b.registerEditorCommand(new g({inSelectionMode:true,id:"lastCursorLineSelectDrag",precondition:null}));n.ExpandLineSelection=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"expandLineSelection",precondition:null,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|39}})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,C.CursorMoveCommands.expandLineSelection(e.context,e.getAll()));e.reveal(true,0,0)};return t}(L)));n.CancelSelection=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"cancelSelection",precondition:w.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:9,secondary:[1024|9]}})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[C.CursorMoveCommands.cancelSelection(e.context,e.getPrimaryCursor())]);e.reveal(true,0,0)};return t}(L)));n.RemoveSecondaryCursors=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"removeSecondaryCursors",precondition:w.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:E+1,kbExpr:w.EditorContextKeys.textFocus,primary:9,secondary:[1024|9]}})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[e.getPrimaryCursor()]);e.reveal(true,0,0)};return t}(L)));n.RevealLine=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"revealLine",precondition:null,description:N.description})||this}t.prototype.runCoreEditorCommand=function(e,t){var i=t;var n=i.lineNumber+1;if(n<1){n=1}var r=e.context.model.getLineCount();if(n>r){n=r}var o=new m.Range(n,1,n,e.context.model.getLineMaxColumn(n));var s=0;if(i.at){switch(i.at){case N.RawAtArgument.Top:s=3;break;case N.RawAtArgument.Center:s=1;break;case N.RawAtArgument.Bottom:s=4;break;default:break}}var a=e.context.convertModelRangeToViewRange(o);e.revealRange(false,a,s,0)};return t}(L)));n.SelectAll=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"selectAll",precondition:null})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[C.CursorMoveCommands.selectAll(e.context,e.getPrimaryCursor())])};return t}(L)));n.SetSelection=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"setSelection",precondition:null})||this}t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();e.setStates(t.source,y.CursorChangeReason.Explicit,[_.CursorState.fromModelSelection(t.selection)])};return t}(L)))})(d=t.CoreNavigationCommands||(t.CoreNavigationCommands={}));var h;(function(e){e.LineBreakInsert=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"lineBreakInsert",precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:null,mac:{primary:256|45}}})||this}t.prototype.runEditorCommand=function(e,t,i){t.pushUndoStop();t.executeCommands(this.id,u.TypeOperations.lineBreakInsert(t._getCursorConfiguration(),t.getModel(),t.getSelections()))};return t}(b.EditorCommand)));e.Outdent=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"outdent",precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:o.ContextKeyExpr.and(w.EditorContextKeys.textFocus,w.EditorContextKeys.tabDoesNotMoveFocus),primary:1024|2}})||this}t.prototype.runEditorCommand=function(e,t,i){t.pushUndoStop();t.executeCommands(this.id,u.TypeOperations.outdent(t._getCursorConfiguration(),t.getModel(),t.getSelections()));t.pushUndoStop()};return t}(b.EditorCommand)));e.Tab=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"tab",precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:o.ContextKeyExpr.and(w.EditorContextKeys.textFocus,w.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})||this}t.prototype.runEditorCommand=function(e,t,i){t.pushUndoStop();t.executeCommands(this.id,u.TypeOperations.tab(t._getCursorConfiguration(),t.getModel(),t.getSelections()));t.pushUndoStop()};return t}(b.EditorCommand)));e.DeleteLeft=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"deleteLeft",precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:1,secondary:[1024|1],mac:{primary:1,secondary:[1024|1,256|38,256|1]}}})||this}t.prototype.runEditorCommand=function(e,t,i){var n=t._getCursors();var r=l.DeleteOperations.deleteLeft(n.getPrevEditOperationType(),t._getCursorConfiguration(),t.getModel(),t.getSelections()),o=r[0],s=r[1];if(o){t.pushUndoStop()}t.executeCommands(this.id,s);n.setPrevEditOperationType(2)};return t}(b.EditorCommand)));e.DeleteRight=b.registerEditorCommand(new(function(e){pe(t,e);function t(){return e.call(this,{id:"deleteRight",precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:20,mac:{primary:20,secondary:[256|34,256|20]}}})||this}t.prototype.runEditorCommand=function(e,t,i){var n=t._getCursors();var r=l.DeleteOperations.deleteRight(n.getPrevEditOperationType(),t._getCursorConfiguration(),t.getModel(),t.getSelections()),o=r[0],s=r[1];if(o){t.pushUndoStop()}t.executeCommands(this.id,s);n.setPrevEditOperationType(3)};return t}(b.EditorCommand)))})(h=t.CoreEditingCommands||(t.CoreEditingCommands={}));function f(e){return e.get(r.ICodeEditorService).getFocusedCodeEditor()}function p(e){var t=e.get(a.IEditorService);var i=t.getActiveEditor&&t.getActiveEditor();return r.getCodeEditor(i)}function g(e){n.KeybindingsRegistry.registerCommandAndKeybindingRule(e.toCommandAndKeybindingRule(E))}var I=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._editorHandler=e.editorHandler;t._inputHandler=e.inputHandler;return t}e.prototype.runCommand=function(e,t){var i=f(e);if(i&&i.isFocused()){return this._runEditorHandler(i,t)}var n=document.activeElement;if(n&&["input","textarea"].indexOf(n.tagName.toLowerCase())>=0){document.execCommand(this._inputHandler);return}var r=p(e);if(r){r.focus();return this._runEditorHandler(r,t)}};e.prototype._runEditorHandler=function(e,t){var i=this._editorHandler;if(typeof i==="string"){e.trigger("keyboard",i,t)}else{t=t||{};t.source="keyboard";i.runEditorCommand(null,e,t)}};return e}(b.Command);var D=function(n){pe(e,n);function e(e,t){var i=n.call(this,{id:e,precondition:null})||this;i._handlerId=t;return i}e.prototype.runCommand=function(e,t){var i=f(e);if(!i){return}i.trigger("keyboard",this._handlerId,t)};return e}(b.Command);g(new I({editorHandler:d.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:null,kbOpts:{weight:E,kbExpr:null,primary:2048|31}}));g(new I({editorHandler:c.Undo,inputHandler:"undo",id:c.Undo,precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|56}}));g(new D("default:"+c.Undo,c.Undo));g(new I({editorHandler:c.Redo,inputHandler:"redo",id:c.Redo,precondition:w.EditorContextKeys.writable,kbOpts:{weight:E,kbExpr:w.EditorContextKeys.textFocus,primary:2048|55,secondary:[2048|1024|56],mac:{primary:2048|1024|56}}}));g(new D("default:"+c.Redo,c.Redo));function T(e){g(new D("default:"+e,e));g(new D(e,e))}T(c.Type);T(c.ReplacePreviousChar);T(c.CompositionStart);T(c.CompositionEnd);T(c.Paste);T(c.Cut)});define(r[455],e([0,1,12,33,132]),function(e,t,i,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e,t,i,n,r){this.configuration=e;this.viewModel=t;this._execCoreEditorCommandFunc=i;this.outgoingEvents=n;this.commandService=r}e.prototype._execMouseCommand=function(e,t){t.source="mouse";this._execCoreEditorCommandFunc(e,t)};e.prototype.paste=function(e,t,i,n){this.commandService.executeCommand(r.Handler.Paste,{text:t,pasteOnNewLine:i,multicursorText:n})};e.prototype.type=function(e,t){this.commandService.executeCommand(r.Handler.Type,{text:t})};e.prototype.replacePreviousChar=function(e,t,i){this.commandService.executeCommand(r.Handler.ReplacePreviousChar,{text:t,replaceCharCnt:i})};e.prototype.compositionStart=function(e){this.commandService.executeCommand(r.Handler.CompositionStart,{})};e.prototype.compositionEnd=function(e){this.commandService.executeCommand(r.Handler.CompositionEnd,{})};e.prototype.cut=function(e){this.commandService.executeCommand(r.Handler.Cut,{})};e.prototype.setSelection=function(e,t){this._execCoreEditorCommandFunc(n.CoreNavigationCommands.SetSelection,{source:e,selection:t})};e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);if(e.column<t){return new i.Position(e.lineNumber,t)}return e};e.prototype._hasMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return false};e.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.editor.multiCursorModifier){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return false};e.prototype.dispatchMouse=function(e){if(e.startedOnLineNumbers){if(this._hasMulticursorModifier(e)){if(e.inSelectionMode){this.lastCursorLineSelect(e.position)}else{this.createCursor(e.position,true)}}else{if(e.inSelectionMode){this.lineSelectDrag(e.position)}else{this.lineSelect(e.position)}}}else if(e.mouseDownCount>=4){this.selectAll()}else if(e.mouseDownCount===3){if(this._hasMulticursorModifier(e)){if(e.inSelectionMode){this.lastCursorLineSelectDrag(e.position)}else{this.lastCursorLineSelect(e.position)}}else{if(e.inSelectionMode){this.lineSelectDrag(e.position)}else{this.lineSelect(e.position)}}}else if(e.mouseDownCount===2){if(this._hasMulticursorModifier(e)){this.lastCursorWordSelect(e.position)}else{if(e.inSelectionMode){this.wordSelectDrag(e.position)}else{this.wordSelect(e.position)}}}else{if(this._hasMulticursorModifier(e)){if(!this._hasNonMulticursorModifier(e)){if(e.shiftKey){this.columnSelect(e.position,e.mouseColumn)}else{if(e.inSelectionMode){this.lastCursorMoveToSelect(e.position)}else{this.createCursor(e.position,false)}}}}else{if(e.inSelectionMode){this.moveToSelect(e.position)}else{this.moveTo(e.position)}}}};e.prototype._usualArgs=function(e){e=this._validateViewColumn(e);return{position:this.convertViewToModelPosition(e),viewPosition:e}};e.prototype.moveTo=function(e){this._execMouseCommand(n.CoreNavigationCommands.MoveTo,this._usualArgs(e))};e.prototype.moveToSelect=function(e){this._execMouseCommand(n.CoreNavigationCommands.MoveToSelect,this._usualArgs(e))};e.prototype.columnSelect=function(e,t){e=this._validateViewColumn(e);this._execMouseCommand(n.CoreNavigationCommands.ColumnSelect,{position:this.convertViewToModelPosition(e),viewPosition:e,mouseColumn:t})};e.prototype.createCursor=function(e,t){e=this._validateViewColumn(e);this._execMouseCommand(n.CoreNavigationCommands.CreateCursor,{position:this.convertViewToModelPosition(e),viewPosition:e,wholeLine:t})};e.prototype.lastCursorMoveToSelect=function(e){this._execMouseCommand(n.CoreNavigationCommands.LastCursorMoveToSelect,this._usualArgs(e))};e.prototype.wordSelect=function(e){this._execMouseCommand(n.CoreNavigationCommands.WordSelect,this._usualArgs(e))};e.prototype.wordSelectDrag=function(e){this._execMouseCommand(n.CoreNavigationCommands.WordSelectDrag,this._usualArgs(e))};e.prototype.lastCursorWordSelect=function(e){this._execMouseCommand(n.CoreNavigationCommands.LastCursorWordSelect,this._usualArgs(e))};e.prototype.lineSelect=function(e){this._execMouseCommand(n.CoreNavigationCommands.LineSelect,this._usualArgs(e))};e.prototype.lineSelectDrag=function(e){this._execMouseCommand(n.CoreNavigationCommands.LineSelectDrag,this._usualArgs(e))};e.prototype.lastCursorLineSelect=function(e){this._execMouseCommand(n.CoreNavigationCommands.LastCursorLineSelect,this._usualArgs(e))};e.prototype.lastCursorLineSelectDrag=function(e){this._execMouseCommand(n.CoreNavigationCommands.LastCursorLineSelectDrag,this._usualArgs(e))};e.prototype.selectAll=function(){this._execMouseCommand(n.CoreNavigationCommands.SelectAll,{})};e.prototype.convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)};e.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)};e.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)};e.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)};e.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)};e.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)};e.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)};e.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)};e.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)};e.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)};return e}();t.ViewController=o});define(r[456],e([0,1,347,21,11,254]),function(e,t,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i.left=e;return i}e.prototype.run=function(e,t){var i=[];var n=t.getSelections();for(var r=0;r<n.length;r++){i.push(new o.MoveCaretCommand(n[r],this.left))}t.pushUndoStop();t.executeCommands(this.id,i);t.pushUndoStop()};return e}(r.EditorAction);var a=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.moveCarretLeftAction",label:i.localize(0,null),alias:"Move Caret Left",precondition:n.EditorContextKeys.writable})||this}return t}(s);var u=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.moveCarretRightAction",label:i.localize(1,null),alias:"Move Caret Right",precondition:n.EditorContextKeys.writable})||this}return t}(s);r.registerEditorAction(a);r.registerEditorAction(u)});define(r[457],e([0,1,348,3,21,11,79]),function(e,t,i,p,n,r,g){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.transposeLetters",label:i.localize(0,null),alias:"Transpose Letters",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:0,mac:{primary:256|50}}})||this}t.prototype.run=function(e,t){var i=t.getModel();var n=[];var r=t.getSelections();for(var o=0;o<r.length;o++){var s=r[o];if(!s.isEmpty()){continue}var a=s.startLineNumber;var u=s.startColumn;if(u===1){continue}var l=i.getLineMaxColumn(a);if(u===l){continue}var c=i.getLineContent(a);var d=c.charAt(u-2);var h=c.charAt(u-1);var f=new p.Range(a,u-1,a,u+1);n.push(new g.ReplaceCommand(f,h+d))}if(n.length>0){t.pushUndoStop();t.executeCommands(this.id,n);t.pushUndoStop()}};return t}(r.EditorAction);r.registerEditorAction(o)});define(r[458],e([0,1,349,31,15,38,11,149,21,321]),function(e,t,r,i,o,s,n,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l="9_cutcopypaste";var c=o.isNative||document.queryCommandSupported("cut");var d=o.isNative||document.queryCommandSupported("copy");var h=d&&!i.isEdgeOrIE;var f=o.isNative||!i.isChrome&&document.queryCommandSupported("paste");var p=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i.browserCommand=e;return i}e.prototype.runCommand=function(e,t){var i=e.get(s.ICodeEditorService).getFocusedCodeEditor();if(i&&i.isFocused()){i.trigger("keyboard",this.id,t);return}document.execCommand(this.browserCommand)};e.prototype.run=function(e,t){t.focus();document.execCommand(this.browserCommand)};return e}(n.EditorAction);var g=function(n){pe(e,n);function e(){var e=this;var t={kbExpr:u.EditorContextKeys.textFocus,primary:2048|54,win:{primary:2048|54,secondary:[1024|20]}};if(!o.isNative){t=null}e=n.call(this,"cut",{id:"editor.action.clipboardCutAction",label:r.localize(0,null),alias:"Cut",precondition:u.EditorContextKeys.writable,kbOpts:t,menuOpts:{group:l,order:1}})||this;return e}e.prototype.run=function(e,t){var i=t.getConfiguration().emptySelectionClipboard;if(!i&&t.getSelection().isEmpty()){return}n.prototype.run.call(this,e,t)};return e}(p);var v=function(n){pe(e,n);function e(){var e=this;var t={kbExpr:u.EditorContextKeys.textFocus,primary:2048|33,win:{primary:2048|33,secondary:[2048|19]}};if(!o.isNative){t=null}e=n.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:r.localize(1,null),alias:"Copy",precondition:null,kbOpts:t,menuOpts:{group:l,order:2}})||this;return e}e.prototype.run=function(e,t){var i=t.getConfiguration().emptySelectionClipboard;if(!i&&t.getSelection().isEmpty()){return}n.prototype.run.call(this,e,t)};return e}(p);var m=function(i){pe(e,i);function e(){var e=this;var t={kbExpr:u.EditorContextKeys.textFocus,primary:2048|52,win:{primary:2048|52,secondary:[1024|19]}};if(!o.isNative){t=null}e=i.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:r.localize(2,null),alias:"Paste",precondition:u.EditorContextKeys.writable,kbOpts:t,menuOpts:{group:l,order:3}})||this;return e}return e}(p);var _=function(n){pe(e,n);function e(){return n.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:r.localize(3,null),alias:"Copy With Syntax Highlighting",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:null}})||this}e.prototype.run=function(e,t){var i=t.getConfiguration().emptySelectionClipboard;if(!i&&t.getSelection().isEmpty()){return}a.CopyOptions.forceCopyWithSyntaxHighlighting=true;n.prototype.run.call(this,e,t);a.CopyOptions.forceCopyWithSyntaxHighlighting=false};return e}(p);if(c){n.registerEditorAction(g)}if(d){n.registerEditorAction(v)}if(f){n.registerEditorAction(m)}if(h){n.registerEditorAction(_)}});define(r[459],e([0,1,13,23,30,7,11,17,53,18]),function(e,t,s,n,r,a,i,u,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});function c(t){var o=[];var i=u.CodeLensProviderRegistry.ordered(t);var e=i.map(function(r){return l.asWinJsPromise(function(e){return r.provideCodeLenses(t,e)}).then(function(e){if(Array.isArray(e)){for(var t=0,i=e;t<i.length;t++){var n=i[t];o.push({symbol:n,provider:r})}}},s.onUnexpectedExternalError)});return a.TPromise.join(e).then(function(){return n.mergeSort(o,function(e,t){if(e.symbol.range.startLineNumber<t.symbol.range.startLineNumber){return-1}else if(e.symbol.range.startLineNumber>t.symbol.range.startLineNumber){return 1}else if(i.indexOf(e.provider)<i.indexOf(t.provider)){return-1}else if(i.indexOf(e.provider)>i.indexOf(t.provider)){return 1}else if(e.symbol.range.startColumn<t.symbol.range.startColumn){return-1}else if(e.symbol.range.startColumn>t.symbol.range.startColumn){return 1}else{return 0}})})}t.getCodeLensData=c;i.registerLanguageCommand("_executeCodeLensProvider",function(e,t){var i=t.resource;if(!(i instanceof r.default)){throw s.illegalArgument()}var n=e.get(o.IModelService).getModel(i);if(!n){throw s.illegalArgument()}return c(n).then(function(e){return e.map(function(e){return e.symbol})})})});define(r[183],e([0,1,26,155,2,7,11,3,17,38,156,56]),function(e,t,p,g,n,r,i,o,s,a,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var v=500;var c=function(){function i(e,t,i){var n=this;this._editor=e;this._codeEditorService=t;this._configurationService=i;this._globalToDispose=[];this._localToDispose=[];this._decorationsIds=[];this._colorDatas=new Map;this._colorDecoratorIds=[];this._decorationsTypes={};this._globalToDispose.push(e.onDidChangeModel(function(e){n._isEnabled=n.isEnabled();n.onModelChanged()}));this._globalToDispose.push(e.onDidChangeModelLanguage(function(e){return n.onModelChanged()}));this._globalToDispose.push(s.ColorProviderRegistry.onDidChange(function(e){return n.onModelChanged()}));this._globalToDispose.push(e.onDidChangeConfiguration(function(e){var t=n._isEnabled;n._isEnabled=n.isEnabled();if(t!==n._isEnabled){if(n._isEnabled){n.onModelChanged()}else{n.removeAllDecorations()}}}));this._timeoutPromise=null;this._computePromise=null;this._isEnabled=this.isEnabled();this.onModelChanged()}i.prototype.isEnabled=function(){var e=this._editor.getModel();if(!e){return false}var t=e.getLanguageIdentifier();var i=this._configurationService.getValue(t.language);if(i){var n=i["colorDecorators"];if(n&&n["enable"]!==undefined&&!n["enable"]){return n["enable"]}}return this._editor.getConfiguration().contribInfo.colorDecorators};i.prototype.getId=function(){return i.ID};i.get=function(e){return e.getContribution(this.ID)};i.prototype.dispose=function(){this.stop();this.removeAllDecorations();this._globalToDispose=n.dispose(this._globalToDispose)};i.prototype.onModelChanged=function(){var t=this;this.stop();if(!this._isEnabled){return}var e=this._editor.getModel();if(!s.ColorProviderRegistry.has(e)){return}this._localToDispose.push(this._editor.onDidChangeModelContent(function(e){if(!t._timeoutPromise){t._timeoutPromise=r.TPromise.timeout(i.RECOMPUTE_TIME);t._timeoutPromise.then(function(){t._timeoutPromise=null;t.beginCompute()})}}));this.beginCompute()};i.prototype.beginCompute=function(){var t=this;this._computePromise=u.getColors(this._editor.getModel()).then(function(e){t.updateDecorations(e);t.updateColorDecorators(e);t._computePromise=null})};i.prototype.stop=function(){if(this._timeoutPromise){this._timeoutPromise.cancel();this._timeoutPromise=null}if(this._computePromise){this._computePromise.cancel();this._computePromise=null}this._localToDispose=n.dispose(this._localToDispose)};i.prototype.updateDecorations=function(i){var n=this;var e=i.map(function(e){return{range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:{}}});this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,e);this._colorDatas=new Map;this._decorationsIds.forEach(function(e,t){return n._colorDatas.set(e,i[t])})};i.prototype.updateColorDecorators=function(e){var t=[];var i={};for(var n=0;n<e.length&&t.length<v;n++){var r=e[n].colorInfo.color,o=r.red,s=r.green,a=r.blue,u=r.alpha;var l=new p.RGBA(Math.round(o*255),Math.round(s*255),Math.round(a*255),u);var c=g.hash(l).toString(16);var d="rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")";var h="colorBox-"+c;if(!this._decorationsTypes[h]&&!i[h]){this._codeEditorService.registerDecorationType(h,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:d},dark:{before:{border:"solid 0.1em #eee"}}})}i[h]=true;t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(h,true)})}for(var f in this._decorationsTypes){if(!i[f]){this._codeEditorService.removeDecorationType(f)}}this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)};i.prototype.removeAllDecorations=function(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]);this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]);for(var e in this._decorationsTypes){this._codeEditorService.removeDecorationType(e)}};i.prototype.getColorData=function(e){var t=this;var i=this._editor.getModel().getDecorationsInRange(o.Range.fromPositions(e,e)).filter(function(e){return t._colorDatas.has(e.id)});if(i.length===0){return null}return this._colorDatas.get(i[0].id)};i.ID="editor.contrib.colorDetector";i.RECOMPUTE_TIME=1e3;i=q([G(1,a.ICodeEditorService),G(2,l.IConfigurationService)],i);return i}();t.ColorDetector=c;i.registerEditorContribution(c)});define(r[461],e([0,1,350,37,21,11,157,258]),function(e,t,i,n,r,o,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i._type=e;return i}e.prototype.run=function(e,t){var i=t.getModel();if(!i){return}var n=[];var r=t.getSelections();var o=i.getOptions();for(var s=0;s<r.length;s++){n.push(new a.LineCommentCommand(r[s],o.tabSize,this._type))}t.pushUndoStop();t.executeCommands(this.id,n);t.pushUndoStop()};return e}(o.EditorAction);var l=function(e){pe(t,e);function t(){return e.call(this,0,{id:"editor.action.commentLine",label:i.localize(0,null),alias:"Toggle Line Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|85}})||this}return t}(u);var c=function(e){pe(t,e);function t(){return e.call(this,1,{id:"editor.action.addCommentLine",label:i.localize(1,null),alias:"Add Line Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:n.KeyChord(2048|41,2048|33)}})||this}return t}(u);var d=function(e){pe(t,e);function t(){return e.call(this,2,{id:"editor.action.removeCommentLine",label:i.localize(2,null),alias:"Remove Line Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:n.KeyChord(2048|41,2048|51)}})||this}return t}(u);var h=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.blockComment",label:i.localize(3,null),alias:"Toggle Block Comment",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:1024|512|31,linux:{primary:2048|1024|31}}})||this}t.prototype.run=function(e,t){var i=[];var n=t.getSelections();for(var r=0;r<n.length;r++){i.push(new s.BlockCommentCommand(n[r]))}t.pushUndoStop();t.executeCommands(this.id,i);t.pushUndoStop()};return t}(o.EditorAction);o.registerEditorAction(l);o.registerEditorAction(c);o.registerEditorAction(d);o.registerEditorAction(h)});define(r[462],e([0,1,351,2,7,10,73,72,49,19,89,21,11,24]),function(e,t,i,n,l,c,d,r,o,s,a,u,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=function(){function t(e,t,i,n,r,o){var s=this;this._contextMenuService=t;this._contextViewService=i;this._contextKeyService=n;this._keybindingService=r;this._menuService=o;this._toDispose=[];this._contextMenuIsBeingShownCount=0;this._editor=e;this._toDispose.push(this._editor.onContextMenu(function(e){return s._onContextMenu(e)}));this._toDispose.push(this._editor.onDidScrollChange(function(e){if(s._contextMenuIsBeingShownCount>0){s._contextViewService.hideContextView()}}));this._toDispose.push(this._editor.onKeyDown(function(e){if(e.keyCode===58){e.preventDefault();e.stopPropagation();s.showContextMenu()}}))}t.get=function(e){return e.getContribution(t.ID)};t.prototype._onContextMenu=function(e){if(!this._editor.getConfiguration().contribInfo.contextmenu){this._editor.focus();if(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)){this._editor.setPosition(e.target.position)}return}if(e.target.type===f.MouseTargetType.OVERLAY_WIDGET){return}e.event.preventDefault();if(e.target.type!==f.MouseTargetType.CONTENT_TEXT&&e.target.type!==f.MouseTargetType.CONTENT_EMPTY&&e.target.type!==f.MouseTargetType.TEXTAREA){return}this._editor.focus();if(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)){this._editor.setPosition(e.target.position)}var t;if(e.target.type!==f.MouseTargetType.TEXTAREA){t={x:e.event.posx,y:e.event.posy+1}}this.showContextMenu(t)};t.prototype.showContextMenu=function(e){if(!this._editor.getConfiguration().contribInfo.contextmenu){return}if(!this._contextMenuService){this._editor.focus();return}var t=this._getMenuActions();if(t.length>0){this._doShowContextMenu(t,e)}};t.prototype._getMenuActions=function(){var e=[];var t=this._menuService.createMenu(a.MenuId.EditorContext,this._contextKeyService);var i=t.getActions({arg:this._editor.getModel().uri});t.dispose();for(var n=0,r=i;n<r.length;n++){var o=r[n];var s=o[1];e.push.apply(e,s);e.push(new d.Separator)}e.pop();return e};t.prototype._doShowContextMenu=function(e,t){var n=this;if(t===void 0){t=null}var i=this._editor.getConfiguration().contribInfo.hover;this._editor.updateOptions({hover:false});var r=t;if(!r){this._editor.revealPosition(this._editor.getPosition(),1);this._editor.render();var o=this._editor.getScrolledVisiblePosition(this._editor.getPosition());var s=c.getDomNodePagePosition(this._editor.getDomNode());var a=s.left+o.left;var u=s.top+o.top+o.height;r={x:a,y:u}}this._contextMenuIsBeingShownCount++;this._contextMenuService.showContextMenu({getAnchor:function(){return r},getActions:function(){return l.TPromise.as(e)},getActionItem:function(e){var t=n._keybindingFor(e);if(t){return new d.ActionItem(e,e,{label:true,keybinding:t.getLabel(),isMenu:true})}var i=e;if(typeof i.getActionItem==="function"){return i.getActionItem()}return new d.ActionItem(e,e,{icon:true,label:true,isMenu:true})},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(e){n._contextMenuIsBeingShownCount--;n._editor.focus();n._editor.updateOptions({hover:i})}})};t.prototype._keybindingFor=function(e){return this._keybindingService.lookupKeybinding(e.id)};t.prototype.getId=function(){return t.ID};t.prototype.dispose=function(){if(this._contextMenuIsBeingShownCount>0){this._contextViewService.hideContextView()}this._toDispose=n.dispose(this._toDispose)};t.ID="editor.contrib.contextmenu";t=q([G(1,r.IContextMenuService),G(2,r.IContextViewService),G(3,s.IContextKeyService),G(4,o.IKeybindingService),G(5,a.IMenuService)],t);return t}();t.ContextMenuController=p;var g=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.showContextMenu",label:i.localize(0,null),alias:"Show Editor Context Menu",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:1024|68}})||this}t.prototype.run=function(e,t){var i=p.get(t);i.showContextMenu()};return t}(h.EditorAction);h.registerEditorContribution(p);h.registerEditorAction(g)});define(r[463],e([0,1,11,2,21]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e){this.selections=e}e.prototype.equals=function(e){var t=this.selections.length;var i=e.selections.length;if(t!==i){return false}for(var n=0;n<t;n++){if(!this.selections[n].equalsSelection(e.selections[n])){return false}}return true};return e}();var s=function(i){pe(t,i);function t(e){var t=i.call(this)||this;t._editor=e;t._isCursorUndo=false;t._undoStack=[];t._prevState=t._readState();t._register(e.onDidChangeModel(function(e){t._undoStack=[];t._prevState=null}));t._register(e.onDidChangeModelContent(function(e){t._undoStack=[];t._prevState=null}));t._register(e.onDidChangeCursorSelection(function(e){if(!t._isCursorUndo&&t._prevState){t._undoStack.push(t._prevState);if(t._undoStack.length>50){t._undoStack.shift()}}t._prevState=t._readState()}));return t}t.get=function(e){return e.getContribution(t.ID)};t.prototype._readState=function(){if(!this._editor.getModel()){return null}return new o(this._editor.getSelections())};t.prototype.getId=function(){return t.ID};t.prototype.cursorUndo=function(){var e=new o(this._editor.getSelections());while(this._undoStack.length>0){var t=this._undoStack.pop();if(!t.equals(e)){this._isCursorUndo=true;this._editor.setSelections(t.selections);this._editor.revealRangeInCenterIfOutsideViewport(t.selections[0],0);this._isCursorUndo=false;return}}};t.ID="editor.contrib.cursorUndoController";return t}(n.Disposable);t.CursorUndoController=s;var a=function(e){pe(t,e);function t(){return e.call(this,{id:"cursorUndo",precondition:null,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|51}})||this}t.prototype.runEditorCommand=function(e,t,i){s.get(t).cursorUndo()};return t}(i.EditorCommand);t.CursorUndo=a;i.registerEditorContribution(s);i.registerEditorCommand(new a)});define(r[464],e([0,1,2,15,24,11,33,12,3,20,259,32,324]),function(e,t,i,n,r,o,s,a,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var h=function(){function s(e){var t=this;this._editor=e;this._toUnhook=[];this._toUnhook.push(this._editor.onMouseDown(function(e){return t._onEditorMouseDown(e)}));this._toUnhook.push(this._editor.onMouseUp(function(e){return t._onEditorMouseUp(e)}));this._toUnhook.push(this._editor.onMouseDrag(function(e){return t._onEditorMouseDrag(e)}));this._toUnhook.push(this._editor.onMouseDrop(function(e){return t._onEditorMouseDrop(e)}));this._toUnhook.push(this._editor.onKeyDown(function(e){return t.onEditorKeyDown(e)}));this._toUnhook.push(this._editor.onKeyUp(function(e){return t.onEditorKeyUp(e)}));this._dndDecorationIds=[];this._mouseDown=false;this._modiferPressed=false;this._dragSelection=null}s.get=function(e){return e.getContribution(s.ID)};s.prototype.onEditorKeyDown=function(e){if(!this._editor.getConfiguration().dragAndDrop){return}if(e[s.TRIGGER_MODIFIER]){this._modiferPressed=true}if(this._mouseDown&&e[s.TRIGGER_MODIFIER]){this._editor.updateOptions({mouseStyle:"copy"})}};s.prototype.onEditorKeyUp=function(e){if(!this._editor.getConfiguration().dragAndDrop){return}if(e[s.TRIGGER_MODIFIER]){this._modiferPressed=false}if(this._mouseDown&&e.keyCode===s.TRIGGER_KEY_VALUE){this._editor.updateOptions({mouseStyle:"default"})}};s.prototype._onEditorMouseDown=function(e){this._mouseDown=true};s.prototype._onEditorMouseUp=function(e){this._mouseDown=false;this._editor.updateOptions({mouseStyle:"text"})};s.prototype._onEditorMouseDrag=function(e){var t=e.target;if(this._dragSelection===null){var i=this._editor.getSelections().filter(function(e){return e.containsPosition(t.position)});if(i.length===1){this._dragSelection=i[0]}else{return}}if(e.event[s.TRIGGER_MODIFIER]){this._editor.updateOptions({mouseStyle:"copy"})}else{this._editor.updateOptions({mouseStyle:"default"})}if(this._dragSelection.containsPosition(t.position)){this._removeDecoration()}else{this.showAt(t.position)}};s.prototype._onEditorMouseDrop=function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var t=new a.Position(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){if(e.event.shiftKey){var i=this._editor.getSelection();var n=i.startLineNumber,r=i.startColumn;this._editor.setSelections([new l.Selection(n,r,t.lineNumber,t.column)])}else{var o=this._editor.getSelections().map(function(e){if(e.containsPosition(t)){return new l.Selection(t.lineNumber,t.column,t.lineNumber,t.column)}else{return e}});this._editor.setSelections(o)}}else if(!this._dragSelection.containsPosition(t)||(e.event[s.TRIGGER_MODIFIER]||this._modiferPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t))){this._editor.pushUndoStop();this._editor.executeCommand(s.ID,new c.DragAndDropCommand(this._dragSelection,t,e.event[s.TRIGGER_MODIFIER]||this._modiferPressed));this._editor.pushUndoStop()}}this._editor.updateOptions({mouseStyle:"text"});this._removeDecoration();this._dragSelection=null;this._mouseDown=false};s.prototype.showAt=function(i){var n=this;this._editor.changeDecorations(function(e){var t=[];t.push({range:new u.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:s._DECORATION_OPTIONS});n._dndDecorationIds=e.deltaDecorations(n._dndDecorationIds,t)});this._editor.revealPosition(i,1)};s.prototype._removeDecoration=function(){var t=this;this._editor.changeDecorations(function(e){e.deltaDecorations(t._dndDecorationIds,[])})};s.prototype._hitContent=function(e){return e.type===r.MouseTargetType.CONTENT_TEXT||e.type===r.MouseTargetType.CONTENT_EMPTY};s.prototype._hitMargin=function(e){return e.type===r.MouseTargetType.GUTTER_GLYPH_MARGIN||e.type===r.MouseTargetType.GUTTER_LINE_NUMBERS||e.type===r.MouseTargetType.GUTTER_LINE_DECORATIONS};s.prototype.getId=function(){return s.ID};s.prototype.dispose=function(){this._removeDecoration();this._dragSelection=null;this._mouseDown=false;this._modiferPressed=false;this._toUnhook=i.dispose(this._toUnhook)};s.ID="editor.contrib.dragAndDrop";s.TRIGGER_MODIFIER=n.isMacintosh?"altKey":"ctrlKey";s.TRIGGER_KEY_VALUE=n.isMacintosh?6:5;s._DECORATION_OPTIONS=d.ModelDecorationOptions.register({className:"dnd-target"});return s}();t.DragAndDropController=h;o.registerEditorContribution(h)});define(r[465],e([0,1,354,29,5,18,37,2,11,24,264,336,21,265,40,337,17,266,327]),function(e,t,i,n,o,r,s,a,u,l,c,d,h,f,p,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ID="editor.contrib.folding";var _=function(){function e(e){var n=this;this.editor=e;this._isEnabled=this.editor.getConfiguration().contribInfo.folding;this._autoHideFoldingControls=this.editor.getConfiguration().contribInfo.showFoldingControls==="mouseover";this.globalToDispose=[];this.localToDispose=[];this.foldingDecorationProvider=new d.FoldingDecorationProvider(e);this.foldingDecorationProvider.autoHideFoldingControls=this._autoHideFoldingControls;this.globalToDispose.push(this.editor.onDidChangeModel(function(){return n.onModelChanged()}));this.globalToDispose.push(v.FoldingProviderRegistry.onDidChange(function(){return n.onModelChanged()}));this.globalToDispose.push(this.editor.onDidChangeConfiguration(function(e){if(e.contribInfo){var t=n._isEnabled;n._isEnabled=n.editor.getConfiguration().contribInfo.folding;if(t!==n._isEnabled){n.onModelChanged()}var i=n._autoHideFoldingControls;n._autoHideFoldingControls=n.editor.getConfiguration().contribInfo.showFoldingControls==="mouseover";if(i!==n._autoHideFoldingControls){n.foldingDecorationProvider.autoHideFoldingControls=n._autoHideFoldingControls;n.onModelContentChanged()}}}));this.globalToDispose.push({dispose:function(){return a.dispose(n.localToDispose)}});this.onModelChanged()}e.get=function(e){return e.getContribution(t.ID)};e.prototype.getId=function(){return t.ID};e.prototype.dispose=function(){this.globalToDispose=a.dispose(this.globalToDispose)};e.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization()){return{}}if(this.foldingModel){var t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento();return{collapsedRegions:t,lineCount:e.getLineCount()}}return void 0};e.prototype.restoreViewState=function(t){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization()){return}if(!t||!t.collapsedRegions||t.lineCount!==e.getLineCount()){return}if(this.hiddenRangeModel.applyMemento(t.collapsedRegions)){this.getFoldingModel().then(function(e){if(e){e.applyMemento(t.collapsedRegions)}})}};e.prototype.onModelChanged=function(){var t=this;this.localToDispose=a.dispose(this.localToDispose);var e=this.editor.getModel();if(!this._isEnabled||!e||e.isTooLargeForTokenization()){return}this.foldingModel=new c.FoldingModel(e,this.foldingDecorationProvider);this.localToDispose.push(this.foldingModel);this.hiddenRangeModel=new f.HiddenRangeModel(this.foldingModel);this.localToDispose.push(this.hiddenRangeModel);this.localToDispose.push(this.hiddenRangeModel.onDidChange(function(e){return t.onHiddenRangesChanges(e)}));this.updateScheduler=new r.Delayer(200);this.cursorChangedScheduler=new r.RunOnceScheduler(function(){return t.revealCursor()},200);this.localToDispose.push(this.cursorChangedScheduler);this.localToDispose.push(this.editor.onDidChangeModelLanguageConfiguration(function(e){return t.onModelContentChanged()}));this.localToDispose.push(this.editor.onDidChangeModelContent(function(e){return t.onModelContentChanged()}));this.localToDispose.push(this.editor.onDidChangeCursorPosition(function(e){return t.onCursorPositionChanged()}));this.localToDispose.push(this.editor.onMouseDown(function(e){return t.onEditorMouseDown(e)}));this.localToDispose.push(this.editor.onMouseUp(function(e){return t.onEditorMouseUp(e)}));this.localToDispose.push({dispose:function(){t.updateScheduler.cancel();t.updateScheduler=null;t.foldingModel=null;t.foldingModelPromise=null;t.hiddenRangeModel=null;t.cursorChangedScheduler=null;t.rangeProvider=null}});this.onModelContentChanged()};e.prototype.getRangeProvider=function(){if(!this.rangeProvider){var e=v.FoldingProviderRegistry.ordered(this.foldingModel.textModel);if(e.length){this.rangeProvider=new m.SyntaxRangeProvider(e)}else{this.rangeProvider=new g.IndentRangeProvider}}return this.rangeProvider};e.prototype.getFoldingModel=function(){return this.foldingModelPromise};e.prototype.onModelContentChanged=function(){var i=this;if(this.updateScheduler){this.foldingModelPromise=this.updateScheduler.trigger(function(){if(i.foldingModel){var e=i.editor.getSelections();var t=e?e.map(function(e){return e.startLineNumber}):[];return i.getRangeProvider().compute(i.foldingModel.textModel).then(function(e){if(i.foldingModel){i.foldingModel.update(e,t)}return i.foldingModel})}return null})}};e.prototype.onHiddenRangesChanges=function(e){if(e.length){var t=this.editor.getSelections();if(t){if(this.hiddenRangeModel.adjustSelections(t)){this.editor.setSelections(t)}}}this.editor.setHiddenAreas(e)};e.prototype.onCursorPositionChanged=function(){if(this.hiddenRangeModel.hasRanges()){this.cursorChangedScheduler.schedule()}};e.prototype.revealCursor=function(){var a=this;this.getFoldingModel().then(function(i){if(i){var e=a.editor.getSelections();if(e&&e.length>0){var n=[];var t=function(e){var t=e.selectionStartLineNumber;if(a.hiddenRangeModel.isHidden(t)){n.push.apply(n,i.getAllRegionsAtLine(t,function(e){return e.isCollapsed&&t>e.startLineNumber}))}};for(var r=0,o=e;r<o.length;r++){var s=o[r];t(s)}if(n.length){i.toggleCollapseState(n);a.reveal(e[0].getPosition())}}}})};e.prototype.onEditorMouseDown=function(e){this.mouseDownInfo=null;var t=e.target.range;if(!this.hiddenRangeModel||!t){return}if(!e.event.leftButton&&!e.event.middleButton){return}var i=false;switch(e.target.type){case l.MouseTargetType.GUTTER_LINE_DECORATIONS:var n=e.target.detail;var r=n.offsetX-n.glyphMarginWidth-n.lineNumbersWidth;if(r<=10){return}i=true;break;case l.MouseTargetType.CONTENT_EMPTY:{if(this.hiddenRangeModel.hasRanges()){var o=e.target.detail;if(!o.isAfterLines){break}}return}case l.MouseTargetType.CONTENT_TEXT:{if(this.hiddenRangeModel.hasRanges()){var s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber)){break}}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:i}};e.prototype.onEditorMouseUp=function(r){var o=this;if(!this.mouseDownInfo){return}var s=this.mouseDownInfo.lineNumber;var a=this.mouseDownInfo.iconClicked;var e=r.target.range;if(!e||e.startLineNumber!==s){return}if(a){if(r.target.type!==l.MouseTargetType.GUTTER_LINE_DECORATIONS){return}}else{var t=this.editor.getModel();if(e.startColumn!==t.getLineMaxColumn(s)){return}}this.getFoldingModel().then(function(e){if(e){var t=e.getRegionAtLine(s);if(t&&t.startLineNumber===s){var i=t.isCollapsed;if(a||i){var n=[t];if(r.event.middleButton||r.event.shiftKey){n.push.apply(n,e.getRegionsInside(t,function(e){return e.isCollapsed===i}))}e.toggleCollapseState(n);o.reveal({lineNumber:s,column:1})}}}})};e.prototype.reveal=function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)};e.MAX_FOLDING_REGIONS=5e3;return e}();t.FoldingController=_;var y=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.runEditorCommand=function(e,t,i){var n=this;var r=_.get(t);if(!r){return}var o=r.getFoldingModel();if(o){this.reportTelemetry(e,t);return o.then(function(e){if(e){n.invoke(r,e,t,i);r.reveal(t.getSelection().getStartPosition())}})}};t.prototype.getSelectedLines=function(e){var t=e.getSelections();return t?t.map(function(e){return e.startLineNumber}):[]};t.prototype.getLineNumbers=function(e,t){if(e&&e.selectionLines){return e.selectionLines.map(function(e){return e+1})}return this.getSelectedLines(t)};t.prototype.run=function(e,t){};return t}(u.EditorAction);function C(e){if(!n.isUndefined(e)){if(!n.isObject(e)){return false}var t=e;if(!n.isUndefined(t.levels)&&!n.isNumber(t.levels)){return false}if(!n.isUndefined(t.direction)&&!n.isString(t.direction)){return false}if(!n.isUndefined(t.selectionLines)&&(!n.isArray(t.selectionLines)||!t.selectionLines.every(n.isNumber))){return false}}return true}var b=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.unfold",label:i.localize(0,null),alias:"Unfold",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:2048|1024|89,mac:{primary:2048|512|89}},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:C}]}})||this}t.prototype.invoke=function(e,t,i,n){var r=n&&n.levels||1;var o=this.getLineNumbers(n,i);if(n&&n.direction==="up"){c.setCollapseStateLevelsUp(t,false,r,o)}else{c.setCollapseStateLevelsDown(t,false,r,o)}};return t}(y);var S=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.unfoldRecursively",label:i.localize(1,null),alias:"Unfold Recursively",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|89)}})||this}t.prototype.invoke=function(e,t,i,n){c.setCollapseStateLevelsDown(t,false,Number.MAX_VALUE,this.getSelectedLines(i))};return t}(y);var w=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.fold",label:i.localize(2,null),alias:"Fold",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:2048|1024|87,mac:{primary:2048|512|87}},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold. Defaults to 1\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:C}]}})||this}t.prototype.invoke=function(e,t,i,n){var r=n&&n.levels||1;var o=this.getLineNumbers(n,i);if(n&&n.direction==="up"){c.setCollapseStateLevelsUp(t,true,r,o)}else{c.setCollapseStateLevelsDown(t,true,r,o)}};return t}(y);var E=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.foldRecursively",label:i.localize(3,null),alias:"Fold Recursively",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|87)}})||this}t.prototype.invoke=function(e,t,i){var n=this.getSelectedLines(i);c.setCollapseStateLevelsDown(t,true,Number.MAX_VALUE,n)};return t}(y);var L=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.foldAllBlockComments",label:i.localize(4,null),alias:"Fold All Block Comments",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|85)}})||this}t.prototype.invoke=function(e,t,i){if(t.regions.hasTypes()){c.setCollapseStateForType(t,v.FoldingRangeType.Comment,true)}else{var n=p.LanguageConfigurationRegistry.getComments(i.getModel().getLanguageIdentifier().id);if(n&&n.blockCommentStartToken){var r=new RegExp("^\\s*"+o.escapeRegExpCharacters(n.blockCommentStartToken));c.setCollapseStateForMatchingLines(t,r,true)}}};return t}(y);var x=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.foldAllMarkerRegions",label:i.localize(5,null),alias:"Fold All Regions",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|29)}})||this}t.prototype.invoke=function(e,t,i){if(t.regions.hasTypes()){c.setCollapseStateForType(t,v.FoldingRangeType.Region,true)}else{var n=p.LanguageConfigurationRegistry.getFoldingRules(i.getModel().getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start){var r=new RegExp(n.markers.start);c.setCollapseStateForMatchingLines(t,r,true)}}};return t}(y);var N=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.unfoldAllMarkerRegions",label:i.localize(6,null),alias:"Unfold All Regions",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|30)}})||this}t.prototype.invoke=function(e,t,i){if(t.regions.hasTypes()){c.setCollapseStateForType(t,v.FoldingRangeType.Region,false)}else{var n=p.LanguageConfigurationRegistry.getFoldingRules(i.getModel().getLanguageIdentifier().id);if(n&&n.markers&&n.markers.start){var r=new RegExp(n.markers.start);c.setCollapseStateForMatchingLines(t,r,false)}}};return t}(y);var I=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.foldAll",label:i.localize(7,null),alias:"Fold All",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|21)}})||this}t.prototype.invoke=function(e,t,i){c.setCollapseStateLevelsDown(t,true)};return t}(y);var D=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.unfoldAll",label:i.localize(8,null),alias:"Unfold All",precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|40)}})||this}t.prototype.invoke=function(e,t,i){c.setCollapseStateLevelsDown(t,false)};return t}(y);var T=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))};t.prototype.invoke=function(e,t,i){c.setCollapseStateAtLevel(t,this.getFoldingLevel(),true,this.getSelectedLines(i))};t.ID_PREFIX="editor.foldLevel";t.ID=function(e){return t.ID_PREFIX+e};return t}(y);u.registerEditorContribution(_);u.registerEditorAction(b);u.registerEditorAction(S);u.registerEditorAction(w);u.registerEditorAction(E);u.registerEditorAction(I);u.registerEditorAction(D);u.registerEditorAction(L);u.registerEditorAction(x);u.registerEditorAction(N);for(var M=1;M<=7;M++){u.registerInstantiatedEditorAction(new T({id:T.ID(M),label:i.localize(9,null,M),alias:"Fold Level "+M,precondition:null,kbOpts:{kbExpr:h.EditorContextKeys.textFocus,primary:s.KeyChord(2048|41,2048|21+M)}}))}});define(r[466],e([0,1,13,30,23,7,3,11,17,53,18]),function(e,t,s,a,u,l,c,i,d,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=function(i){pe(n,i);function n(e){var t=i.call(this)||this;t.name=n.Name;t.message=e;return t}n.Name="NOPRO";return n}(Error);t.NoProviderError=p;function g(i,n,r){var e=d.DocumentRangeFormattingEditProviderRegistry.ordered(i);if(e.length===0){return l.TPromise.wrapError(new p)}var o;return f.sequence(e.map(function(t){if(u.isFalsyOrEmpty(o)){return function(){return f.asWinJsPromise(function(e){return t.provideDocumentRangeFormattingEdits(i,n,r,e)}).then(function(e){o=e},s.onUnexpectedExternalError)}}return undefined})).then(function(){return o})}t.getDocumentRangeFormattingEdits=g;function o(i,n){var e=d.DocumentFormattingEditProviderRegistry.ordered(i);if(e.length===0){return g(i,i.getFullModelRange(),n)}var r;return f.sequence(e.map(function(t){if(u.isFalsyOrEmpty(r)){return function(){return f.asWinJsPromise(function(e){return t.provideDocumentFormattingEdits(i,n,e)}).then(function(e){r=e},s.onUnexpectedExternalError)}}return undefined})).then(function(){return r})}t.getDocumentFormattingEdits=o;function v(t,i,n,r){var o=d.OnTypeFormattingEditProviderRegistry.ordered(t)[0];if(!o){return l.TPromise.as(undefined)}if(o.autoFormatTriggerCharacters.indexOf(n)<0){return l.TPromise.as(undefined)}return f.asWinJsPromise(function(e){return o.provideOnTypeFormattingEdits(t,i,n,r,e)}).then(function(e){return e},s.onUnexpectedExternalError)}t.getOnTypeFormattingEdits=v;i.registerLanguageCommand("_executeFormatRangeProvider",function(e,t){var i=t.resource,n=t.range,r=t.options;if(!(i instanceof a.default)||!c.Range.isIRange(n)){throw s.illegalArgument()}var o=e.get(h.IModelService).getModel(i);if(!o){throw s.illegalArgument("resource")}return g(o,c.Range.lift(n),r)});i.registerLanguageCommand("_executeFormatDocumentProvider",function(e,t){var i=t.resource,n=t.options;if(!(i instanceof a.default)){throw s.illegalArgument("resource")}var r=e.get(h.IModelService).getModel(i);if(!r){throw s.illegalArgument("resource")}return o(r,n)});i.registerDefaultLanguageCommand("_executeFormatOnTypeProvider",function(e,t,i){var n=i.ch,r=i.options;if(typeof n!=="string"){throw s.illegalArgument("ch")}return v(e,t,n,r)})});define(r[467],e([0,1,355,23,37,2,7,19,11,17,466,267,34,38,62,88,3,52,103,21,46]),function(e,t,s,a,i,u,l,n,r,c,d,h,o,f,p,g,v,m,_,y,C){"use strict";Object.defineProperty(t,"__esModule",{value:true});function b(e){e=e.filter(function(e){return e.range});if(!e.length){return}var t=e[0].range;for(var i=1;i<e.length;i++){t=v.Range.plusRange(t,e[i].range)}var n=t.startLineNumber,r=t.endLineNumber;if(n===r){if(e.length===1){m.alert(s.localize(0,null,n))}else{m.alert(s.localize(1,null,e.length,n))}}else{if(e.length===1){m.alert(s.localize(2,null,n,r))}else{m.alert(s.localize(3,null,e.length,n,r))}}}var S=function(){function e(e,t){var i=this;this.editor=e;this.workerService=t;this.callOnDispose=[];this.callOnModel=[];this.callOnDispose.push(e.onDidChangeConfiguration(function(){return i.update()}));this.callOnDispose.push(e.onDidChangeModel(function(){return i.update()}));this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return i.update()}));this.callOnDispose.push(c.OnTypeFormattingEditProviderRegistry.onDidChange(this.update,this))}e.prototype.update=function(){var i=this;this.callOnModel=u.dispose(this.callOnModel);if(!this.editor.getConfiguration().contribInfo.formatOnType){return}if(!this.editor.getModel()){return}var e=this.editor.getModel();var t=c.OnTypeFormattingEditProviderRegistry.ordered(e)[0];if(!t||!t.autoFormatTriggerCharacters){return}var n=new g.CharacterSet;for(var r=0,o=t.autoFormatTriggerCharacters;r<o.length;r++){var s=o[r];n.add(s.charCodeAt(0))}this.callOnModel.push(this.editor.onDidType(function(e){var t=e.charCodeAt(e.length-1);if(n.has(t)){i.trigger(String.fromCharCode(t))}}))};e.prototype.trigger=function(e){var t=this;if(this.editor.getSelections().length>1){return}var i=this.editor.getModel(),r=this.editor.getPosition(),o=false;var s=this.editor.onDidChangeModelContent(function(e){if(e.isFlush){o=true;s.dispose();return}for(var t=0,i=e.changes.length;t<i;t++){var n=e.changes[t];if(n.range.endLineNumber<=r.lineNumber){o=true;s.dispose();return}}});var n=i.getOptions();d.getOnTypeFormattingEdits(i,r,e,{tabSize:n.tabSize,insertSpaces:n.insertSpaces}).then(function(e){return t.workerService.computeMoreMinimalEdits(i.uri,e)}).then(function(e){s.dispose();if(o||a.isFalsyOrEmpty(e)){return}h.EditOperationsCommand.execute(t.editor,e,true);b(e)},function(e){s.dispose();throw e})};e.prototype.getId=function(){return e.ID};e.prototype.dispose=function(){this.callOnDispose=u.dispose(this.callOnDispose);this.callOnModel=u.dispose(this.callOnModel)};e.ID="editor.contrib.autoFormat";e=q([G(1,p.IEditorWorkerService)],e);return e}();var w=function(){function e(e,t){var i=this;this.editor=e;this.workerService=t;this.callOnDispose=[];this.callOnModel=[];this.callOnDispose.push(e.onDidChangeConfiguration(function(){return i.update()}));this.callOnDispose.push(e.onDidChangeModel(function(){return i.update()}));this.callOnDispose.push(e.onDidChangeModelLanguage(function(){return i.update()}));this.callOnDispose.push(c.DocumentRangeFormattingEditProviderRegistry.onDidChange(this.update,this))}e.prototype.update=function(){var t=this;this.callOnModel=u.dispose(this.callOnModel);if(!this.editor.getConfiguration().contribInfo.formatOnPaste){return}if(!this.editor.getModel()){return}var e=this.editor.getModel();var i=c.DocumentRangeFormattingEditProviderRegistry.ordered(e)[0];if(!i||!i.provideDocumentRangeFormattingEdits){return}this.callOnModel.push(this.editor.onDidPaste(function(e){t.trigger(e)}))};e.prototype.trigger=function(e){var t=this;if(this.editor.getSelections().length>1){return}var i=this.editor.getModel();var n=i.getOptions(),r=n.tabSize,o=n.insertSpaces;var s=new _.EditorState(this.editor,1|4);d.getDocumentRangeFormattingEdits(i,e,{tabSize:r,insertSpaces:o}).then(function(e){return t.workerService.computeMoreMinimalEdits(i.uri,e)}).then(function(e){if(!s.validate(t.editor)||a.isFalsyOrEmpty(e)){return}h.EditOperationsCommand.execute(t.editor,e,false);b(e)})};e.prototype.getId=function(){return e.ID};e.prototype.dispose=function(){this.callOnDispose=u.dispose(this.callOnDispose);this.callOnModel=u.dispose(this.callOnModel)};e.ID="editor.contrib.formatOnPaste";e=q([G(1,p.IEditorWorkerService)],e);return e}();var E=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.run=function(e,t){var i=e.get(p.IEditorWorkerService);var n=e.get(C.INotificationService);var r=this._getFormattingEdits(t);if(!r){return l.TPromise.as(void 0)}var o=new _.EditorState(t,1|4);return r.then(function(e){return i.computeMoreMinimalEdits(t.getModel().uri,e)}).then(function(e){if(!o.validate(t)||a.isFalsyOrEmpty(e)){return}h.EditOperationsCommand.execute(t,e,false);b(e);t.focus()},function(e){if(e instanceof Error&&e.name===d.NoProviderError.Name){n.info(s.localize(4,null,t.getModel().getLanguageIdentifier().language))}else{throw e}})};return t}(r.EditorAction);t.AbstractFormatAction=E;var L=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.formatDocument",label:s.localize(5,null),alias:"Format Document",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textFocus,primary:1024|512|36,linux:{primary:2048|1024|39}},menuOpts:{when:y.EditorContextKeys.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}t.prototype._getFormattingEdits=function(e){var t=e.getModel();var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces;return d.getDocumentFormattingEdits(t,{tabSize:n,insertSpaces:r})};return t}(E);t.FormatDocumentAction=L;var x=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.formatSelection",label:s.localize(6,null),alias:"Format Code",precondition:n.ContextKeyExpr.and(y.EditorContextKeys.writable,y.EditorContextKeys.hasNonEmptySelection),kbOpts:{kbExpr:y.EditorContextKeys.textFocus,primary:i.KeyChord(2048|41,2048|36)},menuOpts:{when:n.ContextKeyExpr.and(y.EditorContextKeys.hasDocumentSelectionFormattingProvider,y.EditorContextKeys.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}t.prototype._getFormattingEdits=function(e){var t=e.getModel();var i=t.getOptions(),n=i.tabSize,r=i.insertSpaces;return d.getDocumentRangeFormattingEdits(t,e.getSelection(),{tabSize:n,insertSpaces:r})};return t}(E);t.FormatSelectionAction=x;r.registerEditorContribution(S);r.registerEditorContribution(w);r.registerEditorAction(L);r.registerEditorAction(x);o.CommandsRegistry.registerCommand("editor.action.format",function(e){var t=e.get(f.ICodeEditorService).getFocusedCodeEditor();if(t){return(new(function(e){pe(t,e);function t(){return e.call(this,{})||this}t.prototype._getFormattingEdits=function(e){var t=e.getModel();var i=e.getSelection();var n=t.getOptions(),r=n.tabSize,o=n.insertSpaces;return i.isEmpty()?d.getDocumentFormattingEdits(t,{tabSize:r,insertSpaces:o}):d.getDocumentRangeFormattingEdits(t,i,{tabSize:r,insertSpaces:o})};return t}(E))).run(e,t)}return undefined})});define(r[184],e([0,1,13,7,11,17,18,23]),function(e,t,s,a,i,n,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(i,n,e,r){var t=e.ordered(i);var o=t.map(function(t,e){return u.asWinJsPromise(function(e){return r(t,i,n,e)}).then(undefined,function(e){s.onUnexpectedExternalError(e);return null})});return a.TPromise.join(o).then(l.flatten).then(function(e){return e.filter(function(e){return!!e})})}function o(e,t){return r(e,t,n.DefinitionProviderRegistry,function(e,t,i,n){return e.provideDefinition(t,i,n)})}t.getDefinitionsAtPosition=o;function c(e,t){return r(e,t,n.ImplementationProviderRegistry,function(e,t,i,n){return e.provideImplementation(t,i,n)})}t.getImplementationsAtPosition=c;function d(e,t){return r(e,t,n.TypeDefinitionProviderRegistry,function(e,t,i,n){return e.provideTypeDefinition(t,i,n)})}t.getTypeDefinitionsAtPosition=d;i.registerDefaultLanguageCommand("_executeDefinitionProvider",o);i.registerDefaultLanguageCommand("_executeImplementationProvider",c);i.registerDefaultLanguageCommand("_executeTypeDefinitionProvider",d)});define(r[469],e([0,1,23,13,7,11,17,18]),function(e,t,n,s,a,i,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(i,r){var e=u.HoverProviderRegistry.ordered(i);var o=[];var t=e.map(function(t,n){return l.asWinJsPromise(function(e){return t.provideHover(i,r,e)}).then(function(e){if(e){var t=typeof e.range!=="undefined";var i=typeof e.contents!=="undefined"&&e.contents&&e.contents.length>0;if(t&&i){o[n]=e}}},function(e){s.onUnexpectedExternalError(e)})});return a.TPromise.join(t).then(function(){return n.coalesce(o)})}t.getHover=r;i.registerDefaultLanguageCommand("_executeHoverProvider",r)});define(r[470],e([0,1,362,37,276,51,432,21,79,3,20,12,11,274,275,338,123,132]),function(e,t,i,n,a,D,o,r,h,T,M,s,u,l,c,d,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:true});var g=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i.down=e;return i}e.prototype.run=function(e,t){var i=[];var n=t.getSelections();for(var r=0;r<n.length;r++){i.push(new l.CopyLinesCommand(n[r],this.down))}t.pushUndoStop();t.executeCommands(this.id,i);t.pushUndoStop()};return e}(u.EditorAction);var v=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.copyLinesUpAction",label:i.localize(0,null),alias:"Copy Line Up",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:512|1024|16,linux:{primary:2048|512|1024|16}}})||this}return t}(g);var m=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.copyLinesDownAction",label:i.localize(1,null),alias:"Copy Line Down",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:512|1024|18,linux:{primary:2048|512|1024|18}}})||this}return t}(g);var _=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i.down=e;return i}e.prototype.run=function(e,t){var i=[];var n=t.getSelections();var r=t.getConfiguration().autoIndent;for(var o=0;o<n.length;o++){i.push(new d.MoveLinesCommand(n[o],this.down,r))}t.pushUndoStop();t.executeCommands(this.id,i);t.pushUndoStop()};return e}(u.EditorAction);var y=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.moveLinesUpAction",label:i.localize(2,null),alias:"Move Line Up",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:512|16,linux:{primary:512|16}}})||this}return t}(_);var C=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.moveLinesDownAction",label:i.localize(3,null),alias:"Move Line Down",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:512|18,linux:{primary:512|18}}})||this}return t}(_);var b=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i.descending=e;return i}e.prototype.run=function(e,t){var i=t.getSelections();for(var n=0,r=i.length;n<r;n++){var o=i[n];if(!a.SortLinesCommand.canRun(t.getModel(),o,this.descending)){return}}var s=[];for(var n=0,r=i.length;n<r;n++){s[n]=new a.SortLinesCommand(i[n],this.descending)}t.pushUndoStop();t.executeCommands(this.id,s);t.pushUndoStop()};return e}(u.EditorAction);t.AbstractSortLinesAction=b;var S=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.sortLinesAscending",label:i.localize(4,null),alias:"Sort Lines Ascending",precondition:r.EditorContextKeys.writable})||this}return t}(b);t.SortLinesAscendingAction=S;var w=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.sortLinesDescending",label:i.localize(5,null),alias:"Sort Lines Descending",precondition:r.EditorContextKeys.writable})||this}return t}(b);t.SortLinesDescendingAction=w;var E=function(e){pe(t,e);function t(){return e.call(this,{id:t.ID,label:i.localize(6,null),alias:"Trim Trailing Whitespace",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:n.KeyChord(2048|41,2048|54)}})||this}t.prototype.run=function(e,t,i){var n=[];if(i.reason==="auto-save"){n=t.getSelections().map(function(e){return new s.Position(e.positionLineNumber,e.positionColumn)})}var r=new o.TrimTrailingWhitespaceCommand(t.getSelection(),n);t.pushUndoStop();t.executeCommands(this.id,[r]);t.pushUndoStop()};t.ID="editor.action.trimTrailingWhitespace";return t}(u.EditorAction);t.TrimTrailingWhitespaceAction=E;var L=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._getLinesToRemove=function(e){var t=e.getSelections().map(function(e){var t=e.endLineNumber;if(e.startLineNumber<e.endLineNumber&&e.endColumn===1){t-=1}return{startLineNumber:e.startLineNumber,endLineNumber:t,positionColumn:e.positionColumn}});t.sort(function(e,t){return e.startLineNumber-t.startLineNumber});var i=[];var n=t[0];for(var r=1;r<t.length;r++){if(n.endLineNumber+1===t[r].startLineNumber){n.endLineNumber=t[r].endLineNumber}else{i.push(n);n=t[r]}}i.push(n);return i};return t}(u.EditorAction);var x=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.deleteLines",label:i.localize(7,null),alias:"Delete Line",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|1024|41}})||this}t.prototype.run=function(e,t){var i=this._getLinesToRemove(t);var n=i.map(function(e){return new c.DeleteLinesCommand(e.startLineNumber,e.endLineNumber,e.positionColumn)});t.pushUndoStop();t.executeCommands(this.id,n);t.pushUndoStop()};return t}(L);var N=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.indentLines",label:i.localize(8,null),alias:"Indent Line",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|89}})||this}t.prototype.run=function(e,t){t.pushUndoStop();t.executeCommands(this.id,f.TypeOperations.indent(t._getCursorConfiguration(),t.getModel(),t.getSelections()));t.pushUndoStop()};return t}(u.EditorAction);t.IndentLinesAction=N;var I=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.outdentLines",label:i.localize(9,null),alias:"Outdent Line",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|87}})||this}t.prototype.run=function(e,t){p.CoreEditingCommands.Outdent.runEditorCommand(null,t,null)};return t}(u.EditorAction);var k=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.insertLineBefore",label:i.localize(10,null),alias:"Insert Line Above",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|1024|3}})||this}t.prototype.run=function(e,t){t.pushUndoStop();t.executeCommands(this.id,f.TypeOperations.lineInsertBefore(t._getCursorConfiguration(),t.getModel(),t.getSelections()))};return t}(u.EditorAction);t.InsertLineBeforeAction=k;var O=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.insertLineAfter",label:i.localize(11,null),alias:"Insert Line Below",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:2048|3}})||this}t.prototype.run=function(e,t){t.pushUndoStop();t.executeCommands(this.id,f.TypeOperations.lineInsertAfter(t._getCursorConfiguration(),t.getModel(),t.getSelections()))};return t}(u.EditorAction);t.InsertLineAfterAction=O;var R=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.run=function(e,t){var i=t.getSelection();var n=this._getRangesToDelete(t);var r=[];for(var o=0,s=n.length-1;o<s;o++){var a=n[o];var u=n[o+1];if(T.Range.intersectRanges(a,u)===null){r.push(a)}else{n[o+1]=T.Range.plusRange(a,u)}}r.push(n[n.length-1]);var l=this._getEndCursorState(i,r);var c=r.map(function(e){l.push(new M.Selection(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn));return D.EditOperation.replace(e,"")});t.pushUndoStop();t.executeEdits(this.id,c,l);t.pushUndoStop()};return t}(u.EditorAction);t.AbstractDeleteAllToBoundaryAction=R;var P=function(e){pe(t,e);function t(){return e.call(this,{id:"deleteAllLeft",label:i.localize(12,null),alias:"Delete All Left",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:null,mac:{primary:2048|1}}})||this}t.prototype._getEndCursorState=function(e,t){var i;var n=[];for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=new M.Selection(t[r].startLineNumber,t[r].startColumn,t[r].startLineNumber,t[r].startColumn);if(s.intersectRanges(e)){i=a}else{n.push(a)}}if(i){n.unshift(i)}return n};t.prototype._getRangesToDelete=function(e){var t=e.getSelections();t.sort(T.Range.compareRangesUsingStarts);t=t.map(function(e){if(e.isEmpty()){return new T.Range(e.startLineNumber,1,e.startLineNumber,e.startColumn)}else{return e}});return t};return t}(R);t.DeleteAllLeftAction=P;var A=function(e){pe(t,e);function t(){return e.call(this,{id:"deleteAllRight",label:i.localize(13,null),alias:"Delete All Right",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:null,mac:{primary:256|41,secondary:[2048|20]}}})||this}t.prototype._getEndCursorState=function(e,t){var i;var n=[];for(var r=0,o=t.length,s=0;r<o;r++){var a=t[r];var u=new M.Selection(a.startLineNumber-s,a.startColumn,a.startLineNumber-s,a.startColumn);if(a.intersectRanges(e)){i=u}else{n.push(u)}}if(i){n.unshift(i)}return n};t.prototype._getRangesToDelete=function(e){var i=e.getModel();var t=e.getSelections().map(function(e){if(e.isEmpty()){var t=i.getLineMaxColumn(e.startLineNumber);if(e.startColumn===t){return new T.Range(e.startLineNumber,e.startColumn,e.startLineNumber+1,1)}else{return new T.Range(e.startLineNumber,e.startColumn,e.startLineNumber,t)}}return e});t.sort(T.Range.compareRangesUsingStarts);return t};return t}(R);t.DeleteAllRightAction=A;var F=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.joinLines",label:i.localize(14,null),alias:"Join Lines",precondition:r.EditorContextKeys.writable,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:0,mac:{primary:256|40}}})||this}t.prototype.run=function(e,t){var i=t.getSelections();var n=t.getSelection();i.sort(T.Range.compareRangesUsingStarts);var r=[];var o=i.reduce(function(e,t){if(e.isEmpty()){if(e.endLineNumber===t.startLineNumber){if(n.equalsSelection(e)){n=t}return t}if(t.startLineNumber>e.endLineNumber+1){r.push(e);return t}else{return new M.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}}else{if(t.startLineNumber>e.endLineNumber){r.push(e);return t}else{return new M.Selection(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}}});r.push(o);var s=t.getModel();var a=[];var u=[];var l=n;var c=0;for(var d=0,h=r.length;d<h;d++){var f=r[d];var p=f.startLineNumber;var g=1;var v=void 0,m=void 0,_=void 0;var y=s.getLineContent(f.endLineNumber).length-f.endColumn;if(f.isEmpty()||f.startLineNumber===f.endLineNumber){var C=f.getStartPosition();if(C.lineNumber<s.getLineCount()){v=p+1;m=s.getLineMaxColumn(v)}else{v=C.lineNumber;m=s.getLineMaxColumn(C.lineNumber)}}else{v=f.endLineNumber;m=s.getLineMaxColumn(v)}var b=s.getLineContent(p);for(var S=p+1;S<=v;S++){var w=s.getLineContent(S);var E=s.getLineFirstNonWhitespaceColumn(S);if(E>=1){var L=true;if(b===""){L=false}if(L&&(b.charAt(b.length-1)===" "||b.charAt(b.length-1)==="\t")){L=false;b=b.replace(/[\s\uFEFF\xA0]+$/g," ")}var x=w.substr(E-1);b+=(L?" ":"")+x;if(L){_=x.length+1}else{_=x.length}}else{_=0}}var N=new T.Range(p,g,v,m);if(!N.isEmpty()){var I=void 0;if(f.isEmpty()){a.push(D.EditOperation.replace(N,b));I=new M.Selection(N.startLineNumber-c,b.length-_+1,p-c,b.length-_+1)}else{if(f.startLineNumber===f.endLineNumber){a.push(D.EditOperation.replace(N,b));I=new M.Selection(f.startLineNumber-c,f.startColumn,f.endLineNumber-c,f.endColumn)}else{a.push(D.EditOperation.replace(N,b));I=new M.Selection(f.startLineNumber-c,f.startColumn,f.startLineNumber-c,b.length-y)}}if(T.Range.intersectRanges(N,n)!==null){l=I}else{u.push(I)}}c+=N.endLineNumber-N.startLineNumber}u.unshift(l);t.pushUndoStop();t.executeEdits(this.id,a,u);t.pushUndoStop()};return t}(u.EditorAction);t.JoinLinesAction=F;var W=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.transpose",label:i.localize(15,null),alias:"Transpose characters around the cursor",precondition:r.EditorContextKeys.writable})||this}t.prototype.run=function(e,t){var i=t.getSelections();var n=t.getModel();var r=[];for(var o=0,s=i.length;o<s;o++){var a=i[o];if(!a.isEmpty()){continue}var u=a.getStartPosition();var l=n.getLineMaxColumn(u.lineNumber);if(u.column>=l){if(u.lineNumber===n.getLineCount()){continue}var c=new T.Range(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1);var d=n.getValueInRange(c).split("").reverse().join("");r.push(new h.ReplaceCommand(new M.Selection(u.lineNumber,Math.max(1,u.column-1),u.lineNumber+1,1),d))}else{var c=new T.Range(u.lineNumber,Math.max(1,u.column-1),u.lineNumber,u.column+1);var d=n.getValueInRange(c).split("").reverse().join("");r.push(new h.ReplaceCommandThatPreservesSelection(c,d,new M.Selection(u.lineNumber,u.column+1,u.lineNumber,u.column+1)))}}t.pushUndoStop();t.executeCommands(this.id,r);t.pushUndoStop()};return t}(u.EditorAction);t.TransposeAction=W;var B=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.run=function(e,t){var i=t.getSelections();var n=t.getModel();var r=[];for(var o=0,s=i.length;o<s;o++){var a=i[o];if(a.isEmpty()){var u=a.getStartPosition();var l=n.getWordAtPosition(u);if(!l){continue}var c=new T.Range(u.lineNumber,l.startColumn,u.lineNumber,l.endColumn);var d=n.getValueInRange(c);r.push(new h.ReplaceCommandThatPreservesSelection(c,this._modifyText(d),new M.Selection(u.lineNumber,u.column,u.lineNumber,u.column)))}else{var d=n.getValueInRange(a);r.push(new h.ReplaceCommandThatPreservesSelection(a,this._modifyText(d),a))}}t.pushUndoStop();t.executeCommands(this.id,r);t.pushUndoStop()};return t}(u.EditorAction);t.AbstractCaseAction=B;var V=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.transformToUppercase",label:i.localize(16,null),alias:"Transform to Uppercase",precondition:r.EditorContextKeys.writable})||this}t.prototype._modifyText=function(e){return e.toLocaleUpperCase()};return t}(B);t.UpperCaseAction=V;var H=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.transformToLowercase",label:i.localize(17,null),alias:"Transform to Lowercase",precondition:r.EditorContextKeys.writable})||this}t.prototype._modifyText=function(e){return e.toLocaleLowerCase()};return t}(B);t.LowerCaseAction=H;u.registerEditorAction(v);u.registerEditorAction(m);u.registerEditorAction(y);u.registerEditorAction(C);u.registerEditorAction(S);u.registerEditorAction(w);u.registerEditorAction(E);u.registerEditorAction(x);u.registerEditorAction(N);u.registerEditorAction(I);u.registerEditorAction(k);u.registerEditorAction(O);u.registerEditorAction(P);u.registerEditorAction(A);u.registerEditorAction(F);u.registerEditorAction(W);u.registerEditorAction(V);u.registerEditorAction(H)});define(r[185],e([0,1,13,11,17,18,19]),function(e,t,o,i,s,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Context={Visible:new n.RawContextKey("parameterHintsVisible",false),MultipleSignatures:new n.RawContextKey("parameterHintsMultipleSignatures",false)};function r(i,n){var e=s.SignatureHelpProviderRegistry.ordered(i);var r;return a.sequence(e.map(function(t){return function(){if(r){return undefined}return a.asWinJsPromise(function(e){return t.provideSignatureHelp(i,n,e)}).then(function(e){r=e},o.onUnexpectedExternalError)}})).then(function(){return r})}t.provideSignatureHelp=r;i.registerDefaultLanguageCommand("_executeSignatureHelpProvider",r)});define(r[472],e([0,1,30,3,17,18,7,13,53,11,23]),function(e,t,o,s,a,u,l,c,d,i,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});function f(i,n,r){var o=[];var e=a.CodeActionProviderRegistry.all(i).map(function(t){return u.asWinJsPromise(function(e){return t.provideCodeActions(i,n,{only:r?r.value:undefined},e)}).then(function(e){if(Array.isArray(e)){for(var t=0,i=e;t<i.length;t++){var n=i[t];if(n){if(!r||n.kind&&r.contains(n.kind)){o.push(n)}}}}},function(e){c.onUnexpectedExternalError(e)})});return l.TPromise.join(e).then(function(){return h.mergeSort(o,p)})}t.getCodeActions=f;function p(e,t){var i=!h.isFalsyOrEmpty(e.diagnostics);var n=!h.isFalsyOrEmpty(t.diagnostics);if(i){if(n){return e.diagnostics[0].message.localeCompare(t.diagnostics[0].message)}else{return-1}}else if(n){return 1}else{return 0}}i.registerLanguageCommand("_executeCodeActionProvider",function(e,t){var i=t.resource,n=t.range;if(!(i instanceof o.default)||!s.Range.isIRange(n)){throw c.illegalArgument()}var r=e.get(d.IModelService).getModel(i);if(!r){throw c.illegalArgument()}return f(r,r.validateRange(n))})});define(r[473],e([0,1,4,2,3,20,17,472]),function(e,t,o,i,s,a,n,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t,i,n){if(n===void 0){n=250}var r=this;this._editor=e;this._markerService=t;this._signalChange=i;this._disposables=[];this._disposables.push(o.debounceEvent(this._markerService.onMarkerChanged,function(e,t){return e?e.concat(t):t},n/2)(function(e){return r._onMarkerChanges(e)}),o.debounceEvent(this._editor.onDidChangeCursorPosition,function(e,t){return t},n)(function(e){return r._onCursorChange()}))}e.prototype.dispose=function(){this._disposables=i.dispose(this._disposables)};e.prototype.trigger=function(e){var t=this._getRangeOfMarker()||this._getRangeOfSelectionUnlessWhitespaceEnclosed();if(!t&&e.type==="manual"){t=this._editor.getSelection()}this._createEventAndSignalChange(e,t)};e.prototype._onMarkerChanges=function(e){var t=this._editor.getModel().uri;for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r.toString()===t.toString()){this.trigger({type:"auto"});return}}};e.prototype._onCursorChange=function(){this.trigger({type:"auto"})};e.prototype._getRangeOfMarker=function(){var e=this._editor.getSelection();var t=this._editor.getModel();for(var i=0,n=this._markerService.read({resource:t.uri});i<n.length;i++){var r=n[i];if(s.Range.intersectRanges(r,e)){return s.Range.lift(r)}}return undefined};e.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(){var e=this._editor.getModel();var t=this._editor.getSelection();if(t.isEmpty()){var i=t.getPosition(),n=i.lineNumber,r=i.column;var o=e.getLineContent(n);if(o.length===0){return undefined}else if(r===1){if(/\s/.test(o[0])){return undefined}}else if(r===e.getLineMaxColumn(n)){if(/\s/.test(o[o.length-1])){return undefined}}else{if(/\s/.test(o[r-2])&&/\s/.test(o[r-1])){return undefined}}}return t};e.prototype._createEventAndSignalChange=function(e,t){if(!t){this._signalChange({trigger:e,range:undefined,position:undefined,fixes:undefined})}else{var i=this._editor.getModel();var n=i.validateRange(t);var r=t instanceof a.Selection?t.getPosition():t.getStartPosition();var o=u.getCodeActions(i,n,e&&e.kind);this._signalChange({trigger:e,range:n,position:r,fixes:o})}};return e}();t.QuickFixOracle=r;var l=function(){function e(e,t){var i=this;this._onDidChangeFixes=new o.Emitter;this._disposables=[];this._editor=e;this._markerService=t;this._disposables.push(this._editor.onDidChangeModel(function(){return i._update()}));this._disposables.push(this._editor.onDidChangeModelLanguage(function(){return i._update()}));this._disposables.push(n.CodeActionProviderRegistry.onDidChange(this._update,this));this._update()}e.prototype.dispose=function(){this._disposables=i.dispose(this._disposables);i.dispose(this._quickFixOracle)};Object.defineProperty(e.prototype,"onDidChangeFixes",{get:function(){return this._onDidChangeFixes.event},enumerable:true,configurable:true});e.prototype._update=function(){var t=this;if(this._quickFixOracle){this._quickFixOracle.dispose();this._quickFixOracle=undefined;this._onDidChangeFixes.fire(undefined)}if(this._editor.getModel()&&n.CodeActionProviderRegistry.has(this._editor.getModel())&&!this._editor.getConfiguration().readOnly){this._quickFixOracle=new r(this._editor,this._markerService,function(e){return t._onDidChangeFixes.fire(e)});this._quickFixOracle.trigger({type:"auto"})}};e.prototype.trigger=function(e){if(this._quickFixOracle){this._quickFixOracle.trigger(e)}};return e}();t.QuickFixModel=l});define(r[474],e([0,1,367,2,34,72,19,49,14,95,21,11,278,339,473,277,7,171,92,64]),function(e,t,i,n,r,o,s,a,u,l,c,d,h,f,p,g,v,m,_,y){"use strict";Object.defineProperty(t,"__esModule",{value:true});var C=function(){function t(e,t,i,n,r,o,s,a){var u=this;this._commandService=n;this._keybindingService=o;this._textModelService=s;this._fileService=a;this._disposables=[];this._editor=e;this._model=new p.QuickFixModel(this._editor,t);this._quickFixContextMenu=new h.QuickFixContextMenu(e,r,function(e){return u._onApplyCodeAction(e)});this._lightBulbWidget=new f.LightBulbWidget(e);this._updateLightBulbTitle();this._disposables.push(this._quickFixContextMenu.onDidExecuteCodeAction(function(e){return u._model.trigger({type:"auto"})}),this._lightBulbWidget.onClick(this._handleLightBulbSelect,this),this._model.onDidChangeFixes(function(e){return u._onQuickFixEvent(e)}),this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitle,this))}t.get=function(e){return e.getContribution(t.ID)};t.prototype.dispose=function(){this._model.dispose();n.dispose(this._disposables)};t.prototype._onQuickFixEvent=function(t){var i=this;if(t&&t.trigger.kind){t.fixes.then(function(e){if(t.trigger.autoApply===g.CodeActionAutoApply.First||t.trigger.autoApply===g.CodeActionAutoApply.IfSingle&&e.length===1){i._onApplyCodeAction(e[0])}else{i._quickFixContextMenu.show(t.fixes,t.position)}});return}if(t&&t.trigger.type==="manual"){this._quickFixContextMenu.show(t.fixes,t.position)}else if(t&&t.fixes){if(this._quickFixContextMenu.isVisible){this._quickFixContextMenu.show(t.fixes,t.position)}else{this._lightBulbWidget.model=t}}else{this._lightBulbWidget.hide()}};t.prototype.getId=function(){return t.ID};t.prototype._handleLightBulbSelect=function(e){this._quickFixContextMenu.show(this._lightBulbWidget.model.fixes,e)};t.prototype.triggerFromEditorSelection=function(){this._model.trigger({type:"manual"})};t.prototype.triggerCodeActionFromEditorSelection=function(e,t){this._model.trigger({type:"manual",kind:e,autoApply:t})};t.prototype._updateLightBulbTitle=function(){var e=this._keybindingService.lookupKeybinding(b.Id);var t;if(e){t=i.localize(0,null,e.getLabel())}else{t=i.localize(1,null)}this._lightBulbWidget.title=t};t.prototype._onApplyCodeAction=function(i){return T(this,void 0,v.TPromise,function(){var t;return M(this,function(e){switch(e.label){case 0:if(!i.edit)return[3,2];return[4,m.BulkEdit.perform(i.edit.edits,this._textModelService,this._fileService,this._editor)];case 1:e.sent();e.label=2;case 2:if(!i.command)return[3,4];return[4,(t=this._commandService).executeCommand.apply(t,[i.command.id].concat(i.command.arguments))];case 3:e.sent();e.label=4;case 4:return[2]}})})};t.ID="editor.contrib.quickFixController";t=q([G(1,l.IMarkerService),G(2,s.IContextKeyService),G(3,r.ICommandService),G(4,o.IContextMenuService),G(5,a.IKeybindingService),G(6,y.ITextModelService),G(7,u.optional(_.IFileService))],t);return t}();t.QuickFixController=C;var b=function(e){pe(t,e);function t(){return e.call(this,{id:t.Id,label:i.localize(2,null),alias:"Quick Fix",precondition:s.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:c.EditorContextKeys.textFocus,primary:2048|84}})||this}t.prototype.run=function(e,t){var i=C.get(t);if(i){i.triggerFromEditorSelection()}};t.Id="editor.action.quickFix";return t}(d.EditorAction);t.QuickFixAction=b;var S=function(){function t(e,t){this.kind=e;this.apply=t}t.fromUser=function(e){if(!e||typeof e!=="object"){return new t(g.CodeActionKind.Empty,g.CodeActionAutoApply.IfSingle)}return new t(t.getKindFromUser(e),t.getApplyFromUser(e))};t.getApplyFromUser=function(e){switch(typeof e.apply==="string"?e.apply.toLowerCase():""){case"first":return g.CodeActionAutoApply.First;case"never":return g.CodeActionAutoApply.Never;case"ifsingle":default:return g.CodeActionAutoApply.IfSingle}};t.getKindFromUser=function(e){return typeof e.kind==="string"?new g.CodeActionKind(e.kind):g.CodeActionKind.Empty};return t}();var w=function(e){pe(t,e);function t(){return e.call(this,{id:t.Id,precondition:s.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasCodeActionsProvider)})||this}t.prototype.runEditorCommand=function(e,t,i){var n=C.get(t);if(n){var r=S.fromUser(i);n.triggerCodeActionFromEditorSelection(r.kind,r.apply)}};t.Id="editor.action.codeAction";return t}(d.EditorCommand);t.CodeActionCommand=w;var E=function(e){pe(t,e);function t(){return e.call(this,{id:t.Id,label:i.localize(3,null),alias:"Refactor",precondition:s.ContextKeyExpr.and(c.EditorContextKeys.writable,c.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:c.EditorContextKeys.textFocus,primary:256|1024|48}})||this}t.prototype.run=function(e,t){var i=C.get(t);if(i){i.triggerCodeActionFromEditorSelection(g.CodeActionKind.Refactor,g.CodeActionAutoApply.Never)}};t.Id="editor.action.refactor";return t}(d.EditorAction);t.RefactorAction=E;d.registerEditorContribution(C);d.registerEditorAction(b);d.registerEditorAction(E);d.registerEditorCommand(new w)});define(r[475],e([0,1,13,30,7,3,11,17,53,18]),function(e,t,r,o,s,i,n,a,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});function c(i){var n=[];var e=a.DocumentSymbolProviderRegistry.all(i).map(function(t){return l.asWinJsPromise(function(e){return t.provideDocumentSymbols(i,e)}).then(function(e){if(Array.isArray(e)){n.push.apply(n,e)}},function(e){r.onUnexpectedExternalError(e)})});return s.TPromise.join(e).then(function(){var e=[];h(e,n,"");e.sort(d);return{entries:e}})}t.getDocumentSymbols=c;function d(e,t){return i.Range.compareRangesUsingStarts(i.Range.lift(e.location.range),i.Range.lift(t.location.range))}function h(e,t,i){for(var n=0,r=t;n<r.length;n++){var o=r[n];e.push({kind:o.kind,location:o.location,name:o.name,containerName:o.containerName||i})}}n.registerLanguageCommand("_executeDocumentSymbolProvider",function(e,t){var i=t.resource;if(!(i instanceof o.default)){throw r.illegalArgument("resource")}var n=e.get(u.IModelService).getModel(i);if(!n){throw r.illegalArgument("resource")}return c(n)})});define(r[476],e([0,1,376,23,7,14,3,21,11,405]),function(e,t,i,o,s,n,a,r,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(){function e(e){this.editor=e;this.next=null;this.previous=null;this.selection=e.getSelection()}return e}();var d=null;var h=false;var f=function(){function t(e,t){this.editor=e;this._tokenSelectionSupport=t.createInstance(l.TokenSelectionSupport)}t.get=function(e){return e.getContribution(t.ID)};t.prototype.dispose=function(){};t.prototype.getId=function(){return t.ID};t.prototype.run=function(e){var r=this;var t=this.editor.getSelection();var i=this.editor.getModel();if(d){if(d.editor!==this.editor){d=null}}var n=s.TPromise.as(null);if(!d){n=this._tokenSelectionSupport.getRangesToPosition(i.uri,t.getStartPosition()).then(function(e){if(o.isFalsyOrEmpty(e)){return}var n;e.filter(function(e){var t=r.editor.getSelection();var i=new a.Range(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn);return i.containsPosition(t.getStartPosition())&&i.containsPosition(t.getEndPosition())}).forEach(function(e){var t=e.range;var i=new c(r.editor);i.selection=new a.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn);if(n){i.next=n;n.previous=i}n=i});var t=new c(r.editor);t.next=n;if(n){n.previous=t}d=t;var i=r.editor.onDidChangeCursorPosition(function(e){if(h){return}d=null;i.dispose()})})}return n.then(function(){if(!d){return}d=e?d.next:d.previous;if(!d){return}h=true;try{r.editor.setSelection(d.selection)}finally{h=false}return})};t.ID="editor.contrib.smartSelectController";t=q([G(1,n.IInstantiationService)],t);return t}();var p=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i._forward=e;return i}e.prototype.run=function(e,t){var i=f.get(t);if(i){return i.run(this._forward)}return undefined};return e}(u.EditorAction);var g=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.smartSelect.grow",label:i.localize(0,null),alias:"Expand Select",precondition:null,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:1024|512|17,mac:{primary:2048|256|1024|17}}})||this}return t}(p);var v=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.smartSelect.shrink",label:i.localize(1,null),alias:"Shrink Select",precondition:null,kbOpts:{kbExpr:r.EditorContextKeys.textFocus,primary:1024|512|15,mac:{primary:2048|256|1024|15}}})||this}return t}(p);u.registerEditorContribution(f);u.registerEditorAction(g);u.registerEditorAction(v)});define(r[107],e([0,1,18,23,5,27,13,7,11,17,19]),function(e,t,h,f,n,o,p,g,i,v,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Context={Visible:new r.RawContextKey("suggestWidgetVisible",false),MultipleSuggestions:new r.RawContextKey("suggestWidgetMultipleSuggestions",false),MakesTextEdit:new r.RawContextKey("suggestionMakesTextEdit",true),AcceptOnKey:new r.RawContextKey("suggestionSupportsAcceptOnKey",true),AcceptSuggestionsOnEnter:new r.RawContextKey("acceptSuggestionOnEnter",true)};var m;function s(e){var t=m;m=e;return t}t.setSnippetSuggestSupport=s;function a(s,a,e,t,i){if(e===void 0){e="bottom"}var u=[];var l=C(e);a=a.clone();var n=v.SuggestRegistry.orderedGroups(s);if(e!=="none"&&m){n.unshift([m])}var r=i||{triggerKind:v.SuggestTriggerKind.Invoke};var c=false;var o=n.map(function(e){return function(){if(c){return undefined}return g.TPromise.join(e.map(function(o){if(!f.isFalsyOrEmpty(t)&&t.indexOf(o)<0){return undefined}return h.asWinJsPromise(function(e){return o.provideCompletionItems(s,a,r,e)}).then(function(e){var t=u.length;if(e&&!f.isFalsyOrEmpty(e.suggestions)){for(var i=0,n=e.suggestions;i<n.length;i++){var r=n[i];if(l(r)){_(r,e);u.push({position:a,container:e,suggestion:r,support:o,resolve:y(o,r,s,a)})}}}if(t!==u.length&&o!==m){c=true}},p.onUnexpectedExternalError)}))}});var d=h.sequence(o).then(function(){return u.sort(b(e))});return d}t.provideSuggestionItems=a;function _(e,t){if(typeof e.overwriteBefore!=="number"){e.overwriteBefore=0}if(typeof e.overwriteAfter!=="number"||e.overwriteAfter<0){e.overwriteAfter=0}}function y(t,i,n,r){return function(){if(typeof t.resolveCompletionItem==="function"){return h.asWinJsPromise(function(e){return t.resolveCompletionItem(n,r,i,e)}).then(function(e){o.assign(i,e)})}return g.TPromise.as(void 0)}}function C(e){if(e==="none"){return function(e){return e.type!=="snippet"}}else{return function(){return true}}}function u(e,t){var i=0;if(typeof e.suggestion.sortText==="string"&&typeof t.suggestion.sortText==="string"){i=n.compareIgnoreCase(e.suggestion.sortText,t.suggestion.sortText)}if(i===0){i=n.compareIgnoreCase(e.suggestion.label,t.suggestion.label)}if(i===0&&e.suggestion.type!==t.suggestion.type){if(e.suggestion.type==="snippet"){i=1}else if(t.suggestion.type==="snippet"){i=-1}}return i}function l(e,t){if(e.suggestion.type!==t.suggestion.type){if(e.suggestion.type==="snippet"){return-1}else if(t.suggestion.type==="snippet"){return 1}}return u(e,t)}function c(e,t){if(e.suggestion.type!==t.suggestion.type){if(e.suggestion.type==="snippet"){return 1}else if(t.suggestion.type==="snippet"){return-1}}return u(e,t)}function b(e){if(e==="top"){return l}else if(e==="bottom"){return c}else{return u}}t.getSuggestionComparator=b;i.registerDefaultLanguageCommand("_executeCompletionItemProvider",function(e,t,i){var s={incomplete:false,suggestions:[]};return a(e,t).then(function(e){for(var t=0,i=e;t<i.length;t++){var n=i[t],r=n.container,o=n.suggestion;s.incomplete=s.incomplete||r.incomplete;s.suggestions.push(o)}return s})});var d;var S=new(function(){function e(){}e.prototype.provideCompletionItems=function(){return d&&{suggestions:d}};return e}());v.SuggestRegistry.register("*",S);function w(e,t){setTimeout(function(){d=t;e.getContribution("editor.contrib.suggestController").triggerSuggest([S]);d=undefined},0)}t.showSimpleSuggestions=w});define(r[187],e([0,1,19,11,2,408,21,107,20,5,44,117]),function(e,t,i,n,s,a,r,o,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var h=function(){function n(e,t,i){this._editor=e;this._logService=t;this._snippetListener=[];this._inSnippet=n.InSnippetMode.bindTo(i);this._hasNextTabstop=n.HasNextTabstop.bindTo(i);this._hasPrevTabstop=n.HasPrevTabstop.bindTo(i)}n.get=function(e){return e.getContribution("snippetController2")};n.prototype.dispose=function(){this._inSnippet.reset();this._hasPrevTabstop.reset();this._hasNextTabstop.reset();s.dispose(this._session)};n.prototype.getId=function(){return"snippetController2"};n.prototype.insert=function(t,e,i,n,r){if(e===void 0){e=0}if(i===void 0){i=0}if(n===void 0){n=true}if(r===void 0){r=true}try{this._doInsert(t,e,i,n,r)}catch(e){this.cancel();this._logService.error(e);this._logService.error("snippet_error");this._logService.error("insert_template=",t);this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}};n.prototype._doInsert=function(e,t,i,n,r){var o=this;if(t===void 0){t=0}if(i===void 0){i=0}if(n===void 0){n=true}if(r===void 0){r=true}this._snippetListener=s.dispose(this._snippetListener);if(n){this._editor.getModel().pushStackElement()}if(!this._session){this._modelVersionId=this._editor.getModel().getAlternativeVersionId();this._session=new a.SnippetSession(this._editor,e,t,i);this._session.insert()}else{this._session.merge(e,t,i)}if(r){this._editor.getModel().pushStackElement()}this._updateState();this._snippetListener=[this._editor.onDidChangeModelContent(function(e){return e.isFlush&&o.cancel()}),this._editor.onDidChangeModel(function(){return o.cancel()}),this._editor.onDidChangeCursorSelection(function(){return o._updateState()})]};n.prototype._updateState=function(){if(!this._session){return}if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId()){return this.cancel()}if(!this._session.hasPlaceholder){return this.cancel()}if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders()){return this.cancel()}this._inSnippet.set(true);this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder);this._hasNextTabstop.set(!this._session.isAtLastPlaceholder);this._handleChoice()};n.prototype._handleChoice=function(){var e=this._session.choice;if(!e){this._currentChoice=undefined;return}if(this._currentChoice!==e){this._currentChoice=e;this._editor.setSelections(this._editor.getSelections().map(function(e){return u.Selection.fromPositions(e.getStartPosition())}));var i=e.options[0];o.showSimpleSuggestions(this._editor,e.options.map(function(e,t){return{type:"value",label:e.value,insertText:e.value,sortText:l.repeat("a",t),overwriteAfter:i.value.length}}))}};n.prototype.finish=function(){while(this._inSnippet.get()){this.next()}};n.prototype.cancel=function(){this._inSnippet.reset();this._hasPrevTabstop.reset();this._hasNextTabstop.reset();s.dispose(this._snippetListener);s.dispose(this._session);this._session=undefined;this._modelVersionId=-1};n.prototype.prev=function(){this._session.prev();this._updateState()};n.prototype.next=function(){this._session.next();this._updateState()};n.InSnippetMode=new i.RawContextKey("inSnippetMode",false);n.HasNextTabstop=new i.RawContextKey("hasNextTabstop",false);n.HasPrevTabstop=new i.RawContextKey("hasPrevTabstop",false);n=q([G(1,d.ILogService),G(2,i.IContextKeyService)],n);return n}();t.SnippetController2=h;n.registerEditorContribution(h);var f=n.EditorCommand.bindToContribution(h.get);n.registerEditorCommand(new f({id:"jumpToNextSnippetPlaceholder",precondition:i.ContextKeyExpr.and(h.InSnippetMode,h.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:c.KeybindingsRegistry.WEIGHT.editorContrib(30),kbExpr:r.EditorContextKeys.textFocus,primary:2}}));n.registerEditorCommand(new f({id:"jumpToPrevSnippetPlaceholder",precondition:i.ContextKeyExpr.and(h.InSnippetMode,h.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:c.KeybindingsRegistry.WEIGHT.editorContrib(30),kbExpr:r.EditorContextKeys.textFocus,primary:1024|2}}));n.registerEditorCommand(new f({id:"leaveSnippet",precondition:h.InSnippetMode,handler:function(e){return e.cancel()},kbOpts:{weight:c.KeybindingsRegistry.WEIGHT.editorContrib(30),kbExpr:r.EditorContextKeys.textFocus,primary:9,secondary:[1024|9]}}));n.registerEditorCommand(new f({id:"acceptSnippet",precondition:h.InSnippetMode,handler:function(e){return e.finish()}}))});define(r[479],e([0,1,13,23,18,4,2,7,17,12,107,282,58]),function(e,t,l,c,i,n,d,r,h,o,f,p,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var g=function(){function e(e,t,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1);this.leadingWord=e.getWordUntilPosition(t);this.lineNumber=t.lineNumber;this.column=t.column;this.auto=i}e.shouldAutoTrigger=function(e){var t=e.getModel();if(!t){return false}var i=e.getPosition();t.tokenizeIfCheap(i.lineNumber);var n=t.getWordAtPosition(i);if(!n){return false}if(n.endColumn!==i.column){return false}if(!isNaN(Number(n.word))){return false}return true};return e}();t.LineContext=g;var s;(function(e){e[e["Idle"]=0]="Idle";e[e["Manual"]=1]="Manual";e[e["Auto"]=2]="Auto"})(s=t.State||(t.State={}));var u=function(){function e(e){var t=this;this._toDispose=[];this._triggerRefilter=new i.TimeoutTimer;this._onDidCancel=new n.Emitter;this._onDidTrigger=new n.Emitter;this._onDidSuggest=new n.Emitter;this.onDidCancel=this._onDidCancel.event;this.onDidTrigger=this._onDidTrigger.event;this.onDidSuggest=this._onDidSuggest.event;this._editor=e;this._state=0;this._triggerAutoSuggestPromise=null;this._requestPromise=null;this._completionModel=null;this._context=null;this._currentPosition=this._editor.getPosition()||new o.Position(1,1);this._toDispose.push(this._editor.onDidChangeModel(function(){t._updateTriggerCharacters();t.cancel()}));this._toDispose.push(this._editor.onDidChangeModelLanguage(function(){t._updateTriggerCharacters();t.cancel()}));this._toDispose.push(this._editor.onDidChangeConfiguration(function(){t._updateTriggerCharacters();t._updateQuickSuggest()}));this._toDispose.push(h.SuggestRegistry.onDidChange(function(){t._updateTriggerCharacters();t._updateActiveSuggestSession()}));this._toDispose.push(this._editor.onDidChangeCursorSelection(function(e){t._onCursorChange(e)}));this._toDispose.push(this._editor.onDidChangeModelContent(function(e){t._refilterCompletionItems()}));this._updateTriggerCharacters();this._updateQuickSuggest()}e.prototype.dispose=function(){d.dispose([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerCharacterListener,this._triggerRefilter]);this._toDispose=d.dispose(this._toDispose);d.dispose(this._completionModel);this.cancel()};e.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getConfiguration().contribInfo.quickSuggestionsDelay;if(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&this._quickSuggestDelay!==0||this._quickSuggestDelay<0){this._quickSuggestDelay=10}};e.prototype._updateTriggerCharacters=function(){var a=this;d.dispose(this._triggerCharacterListener);if(this._editor.getConfiguration().readOnly||!this._editor.getModel()||!this._editor.getConfiguration().contribInfo.suggestOnTriggerCharacters){return}var u=Object.create(null);for(var e=0,t=h.SuggestRegistry.all(this._editor.getModel());e<t.length;e++){var i=t[e];if(c.isFalsyOrEmpty(i.triggerCharacters)){continue}for(var n=0,r=i.triggerCharacters;n<r.length;n++){var o=r[n];var s=u[o];if(!s){u[o]=[i]}else{s.push(i)}}}this._triggerCharacterListener=this._editor.onDidType(function(e){var t=e.charAt(e.length-1);var i=u[t];if(i){var n=[];if(a._completionModel){for(var r=0,o=a._completionModel.items;r<o.length;r++){var s=o[r];if(i.indexOf(s.support)<0){n.push(s)}}}a.trigger({auto:true,triggerCharacter:t},Boolean(a._completionModel),i,n)}})};Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:true,configurable:true});e.prototype.cancel=function(e){if(e===void 0){e=false}this._triggerRefilter.cancel();if(this._triggerAutoSuggestPromise){this._triggerAutoSuggestPromise.cancel();this._triggerAutoSuggestPromise=null}if(this._requestPromise){this._requestPromise.cancel();this._requestPromise=null}this._state=0;d.dispose(this._completionModel);this._completionModel=null;this._context=null;this._onDidCancel.fire({retrigger:e})};e.prototype._updateActiveSuggestSession=function(){if(this._state!==0){if(!h.SuggestRegistry.has(this._editor.getModel())){this.cancel()}else{this.trigger({auto:this._state===2},true)}}};e.prototype._onCursorChange=function(e){var s=this;var t=this._currentPosition;this._currentPosition=this._editor.getPosition();if(!e.selection.isEmpty()||e.reason!==a.CursorChangeReason.NotSet||e.source!=="keyboard"&&e.source!=="deleteLeft"){if(this._state!==0){this.cancel()}return}if(!h.SuggestRegistry.has(this._editor.getModel())){return}var i=this._editor.getModel();if(!i){return}if(this._state===0){if(this._editor.getConfiguration().contribInfo.quickSuggestions!==false&&t.isBefore(this._currentPosition)){this.cancel();this._triggerAutoSuggestPromise=r.TPromise.timeout(this._quickSuggestDelay);this._triggerAutoSuggestPromise.then(function(){if(g.shouldAutoTrigger(s._editor)){var e=s._editor.getModel();var t=s._editor.getPosition();if(!e){return}var i=s._editor.getConfiguration().contribInfo.quickSuggestions;if(i===false){return}else if(i===true){}else{e.tokenizeIfCheap(t.lineNumber);var n=e.getLineTokens(t.lineNumber);var r=n.getStandardTokenType(n.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));var o=i.other&&r===0||i.comments&&r===1||i.strings&&r===2;if(!o){return}}s.trigger({auto:true})}s._triggerAutoSuggestPromise=null})}}};e.prototype._refilterCompletionItems=function(){var i=this;if(this._state===0){return}var n=this._editor.getModel();if(n){this._triggerRefilter.cancelAndSet(function(){var e=i._editor.getPosition();var t=new g(n,e,i._state===2);i._onNewContext(t)},25)}};e.prototype.trigger=function(e,t,i,r){var o=this;if(t===void 0){t=false}var n=this._editor.getModel();if(!n){return}var s=e.auto;var a=new g(n,this._editor.getPosition(),s);this.cancel(t);this._state=s?2:1;this._onDidTrigger.fire({auto:s});this._context=a;var u;if(e.triggerCharacter){u={triggerKind:h.SuggestTriggerKind.TriggerCharacter,triggerCharacter:e.triggerCharacter}}else if(i&&i.length){u={triggerKind:h.SuggestTriggerKind.TriggerForIncompleteCompletions}}else{u={triggerKind:h.SuggestTriggerKind.Invoke}}this._requestPromise=f.provideSuggestionItems(n,this._editor.getPosition(),this._editor.getConfiguration().contribInfo.snippetSuggestions,i,u).then(function(e){o._requestPromise=null;if(o._state===0){return}var t=o._editor.getModel();if(!t){return}if(!c.isFalsyOrEmpty(r)){var i=f.getSuggestionComparator(o._editor.getConfiguration().contribInfo.snippetSuggestions);e=e.concat(r).sort(i)}var n=new g(t,o._editor.getPosition(),s);d.dispose(o._completionModel);o._completionModel=new p.CompletionModel(e,o._context.column,{leadingLineContent:n.leadingLineContent,characterCountDelta:o._context?n.column-o._context.column:0},o._editor.getConfiguration().contribInfo.snippetSuggestions);o._onNewContext(n)}).then(null,l.onUnexpectedError)};e.prototype._onNewContext=function(e){if(!this._context){return}if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if(e.column<this._context.column){if(e.leadingWord.word){this.trigger({auto:this._context.auto},true)}else{this.cancel()}return}if(!this._completionModel){return}if(e.column>this._context.column&&this._completionModel.incomplete&&e.leadingWord.word.length!==0){var t=this._completionModel.resolveIncompleteInfo(),i=t.complete,n=t.incomplete;this.trigger({auto:this._state===2},true,n,i)}else{var r=this._completionModel.lineContext;var o=false;this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column};if(this._completionModel.items.length===0){if(g.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto},true);return}if(!this._context.auto){this._completionModel.lineContext=r;o=this._completionModel.items.length>0;if(o&&e.leadingWord.word.length===0){this.cancel();return}}else{this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,isFrozen:o})}};return e}();t.SuggestModel=u});define(r[188],e([0,1,379,11,175]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(e){pe(t,e);function t(){return e.call(this,{id:t.ID,label:i.localize(0,null),alias:"Toggle Tab Key Moves Focus",precondition:null,kbOpts:{kbExpr:null,primary:2048|43,mac:{primary:256|1024|43}}})||this}t.prototype.run=function(e,t){var i=r.TabFocus.getTabFocusMode();r.TabFocus.setTabFocusMode(!i)};t.ID="editor.action.toggleTabFocusMode";return t}(n.EditorAction);t.ToggleTabFocusModeAction=o;n.registerEditorAction(o)});define(r[481],e([0,1,21,20,11,12,3,197,79,100,39,58]),function(e,t,i,n,r,c,u,l,d,h,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._inSelectionMode=e.inSelectionMode;t._wordNavigationType=e.wordNavigationType;return t}e.prototype.runEditorCommand=function(e,t,i){var n=this;var r=t.getConfiguration();var o=h.getMapForWordSeparators(r.wordSeparators);var s=t.getModel();var a=t.getSelections();var u=a.map(function(e){var t=new c.Position(e.positionLineNumber,e.positionColumn);var i=n._move(o,s,t,n._wordNavigationType);return n._moveTo(e,i,n._inSelectionMode)});t._getCursors().setStates("moveWordCommand",p.CursorChangeReason.NotSet,u.map(function(e){return f.CursorState.fromModelSelection(e)}));if(u.length===1){var l=new c.Position(u[0].positionLineNumber,u[0].positionColumn);t.revealPosition(l,0)}};e.prototype._moveTo=function(e,t,i){if(i){return new n.Selection(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column)}else{return new n.Selection(t.lineNumber,t.column,t.lineNumber,t.column)}};return e}(r.EditorCommand);t.MoveWordCommand=o;var s=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._move=function(e,t,i,n){return l.WordOperations.moveWordLeft(e,t,i,n)};return t}(o);t.WordLeftCommand=s;var a=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._move=function(e,t,i,n){return l.WordOperations.moveWordRight(e,t,i,n)};return t}(o);t.WordRightCommand=a;var g=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:false,wordNavigationType:0,id:"cursorWordStartLeft",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2048|15,mac:{primary:512|15}}})||this}return t}(s);t.CursorWordStartLeft=g;var v=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:false,wordNavigationType:1,id:"cursorWordEndLeft",precondition:null})||this}return t}(s);t.CursorWordEndLeft=v;var m=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:false,wordNavigationType:0,id:"cursorWordLeft",precondition:null})||this}return t}(s);t.CursorWordLeft=m;var _=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:true,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2048|1024|15,mac:{primary:512|1024|15}}})||this}return t}(s);t.CursorWordStartLeftSelect=_;var y=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:true,wordNavigationType:1,id:"cursorWordEndLeftSelect",precondition:null})||this}return t}(s);t.CursorWordEndLeftSelect=y;var C=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:true,wordNavigationType:0,id:"cursorWordLeftSelect",precondition:null})||this}return t}(s);t.CursorWordLeftSelect=C;var b=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:false,wordNavigationType:0,id:"cursorWordStartRight",precondition:null})||this}return t}(a);t.CursorWordStartRight=b;var S=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:false,wordNavigationType:1,id:"cursorWordEndRight",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2048|17,mac:{primary:512|17}}})||this}return t}(a);t.CursorWordEndRight=S;var w=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:false,wordNavigationType:1,id:"cursorWordRight",precondition:null})||this}return t}(a);t.CursorWordRight=w;var E=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:true,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:null})||this}return t}(a);t.CursorWordStartRightSelect=E;var L=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:true,wordNavigationType:1,id:"cursorWordEndRightSelect",precondition:null,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2048|1024|17,mac:{primary:512|1024|17}}})||this}return t}(a);t.CursorWordEndRightSelect=L;var x=function(e){pe(t,e);function t(){return e.call(this,{inSelectionMode:true,wordNavigationType:1,id:"cursorWordRightSelect",precondition:null})||this}return t}(a);t.CursorWordRightSelect=x;var N=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._whitespaceHeuristics=e.whitespaceHeuristics;t._wordNavigationType=e.wordNavigationType;return t}e.prototype.runEditorCommand=function(e,t,i){var n=this;var r=t.getConfiguration();var o=h.getMapForWordSeparators(r.wordSeparators);var s=t.getModel();var a=t.getSelections();var u=a.map(function(e){var t=n._delete(o,s,e,n._whitespaceHeuristics,n._wordNavigationType);return new d.ReplaceCommand(t,"")});t.pushUndoStop();t.executeCommands(this.id,u);t.pushUndoStop()};return e}(r.EditorCommand);t.DeleteWordCommand=N;var I=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._delete=function(e,t,i,n,r){var o=l.WordOperations.deleteWordLeft(e,t,i,n,r);if(o){return o}return new u.Range(1,1,1,1)};return t}(N);t.DeleteWordLeftCommand=I;var D=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._delete=function(e,t,i,n,r){var o=l.WordOperations.deleteWordRight(e,t,i,n,r);if(o){return o}var s=t.getLineCount();var a=t.getLineMaxColumn(s);return new u.Range(s,a,s,a)};return t}(N);t.DeleteWordRightCommand=D;var T=function(e){pe(t,e);function t(){return e.call(this,{whitespaceHeuristics:false,wordNavigationType:0,id:"deleteWordStartLeft",precondition:i.EditorContextKeys.writable})||this}return t}(I);t.DeleteWordStartLeft=T;var M=function(e){pe(t,e);function t(){return e.call(this,{whitespaceHeuristics:false,wordNavigationType:1,id:"deleteWordEndLeft",precondition:i.EditorContextKeys.writable})||this}return t}(I);t.DeleteWordEndLeft=M;var k=function(e){pe(t,e);function t(){return e.call(this,{whitespaceHeuristics:true,wordNavigationType:0,id:"deleteWordLeft",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2048|1,mac:{primary:512|1}}})||this}return t}(I);t.DeleteWordLeft=k;var O=function(e){pe(t,e);function t(){return e.call(this,{whitespaceHeuristics:false,wordNavigationType:0,id:"deleteWordStartRight",precondition:i.EditorContextKeys.writable})||this}return t}(D);t.DeleteWordStartRight=O;var R=function(e){pe(t,e);function t(){return e.call(this,{whitespaceHeuristics:false,wordNavigationType:1,id:"deleteWordEndRight",precondition:i.EditorContextKeys.writable})||this}return t}(D);t.DeleteWordEndRight=R;var P=function(e){pe(t,e);function t(){return e.call(this,{whitespaceHeuristics:true,wordNavigationType:1,id:"deleteWordRight",precondition:i.EditorContextKeys.writable,kbOpts:{kbExpr:i.EditorContextKeys.textFocus,primary:2048|20,mac:{primary:512|20}}})||this}return t}(D);t.DeleteWordRight=P;r.registerEditorCommand(new g);r.registerEditorCommand(new v);r.registerEditorCommand(new m);r.registerEditorCommand(new _);r.registerEditorCommand(new y);r.registerEditorCommand(new C);r.registerEditorCommand(new b);r.registerEditorCommand(new S);r.registerEditorCommand(new w);r.registerEditorCommand(new E);r.registerEditorCommand(new L);r.registerEditorCommand(new x);r.registerEditorCommand(new T);r.registerEditorCommand(new M);r.registerEditorCommand(new k);r.registerEditorCommand(new O);r.registerEditorCommand(new R);r.registerEditorCommand(new P)});define(r[482],e([0,1,2,31,10,24,11,403]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e){var t=this;this.editor=e;this.toDispose=[];if(n.isIPad){this.toDispose.push(e.onDidChangeConfiguration(function(){return t.update()}));this.update()}}e.prototype.update=function(){var e=!!this.widget;var t=!this.editor.getConfiguration().readOnly;if(!e&&t){this.widget=new u(this.editor)}else if(e&&!t){this.widget.dispose();this.widget=null}};e.prototype.getId=function(){return e.ID};e.prototype.dispose=function(){this.toDispose=i.dispose(this.toDispose);if(this.widget){this.widget.dispose();this.widget=null}};e.ID="editor.contrib.iPadShowKeyboard";return e}();t.IPadShowKeyboard=a;var u=function(){function e(e){var t=this;this.editor=e;this._domNode=document.createElement("textarea");this._domNode.className="iPadShowKeyboard";this._toDispose=[];this._toDispose.push(r.addDisposableListener(this._domNode,"touchstart",function(e){t.editor.focus()}));this._toDispose.push(r.addDisposableListener(this._domNode,"focus",function(e){t.editor.focus()}));this.editor.addOverlayWidget(this)}e.prototype.dispose=function(){this.editor.removeOverlayWidget(this);this._toDispose=i.dispose(this._toDispose)};e.prototype.getId=function(){return e.ID};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){return{preference:o.OverlayWidgetPositionPreference.BOTTOM_RIGHT_CORNER}};e.ID="editor.contrib.ShowKeyboardWidget";return e}();s.registerEditorContribution(a)});define(r[483],e([0,1,387,11,85]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(t){pe(e,t);function e(){var e=t.call(this,{id:"editor.action.toggleHighContrast",label:i.localize(0,null),alias:"Toggle High Contrast Theme",precondition:null})||this;e._originalThemeName=null;return e}e.prototype.run=function(e,t){var i=e.get(r.IStandaloneThemeService);if(this._originalThemeName){i.setTheme(this._originalThemeName);this._originalThemeName=null}else{this._originalThemeName=i.getTheme().themeName;i.setTheme("hc-black")}};return e}(n.EditorAction);n.registerEditorAction(o)});define(r[484],e([0,1,172,82,117]),function(e,t,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e,t,i){this.logService=i;this.contextView=new n.ContextView(e)}e.prototype.dispose=function(){this.contextView.dispose()};e.prototype.setContainer=function(e){this.logService.trace("ContextViewService#setContainer");this.contextView.setContainer(e)};e.prototype.showContextView=function(e){this.logService.trace("ContextViewService#showContextView");this.contextView.show(e)};e.prototype.layout=function(){this.contextView.layout()};e.prototype.hideContextView=function(e){this.logService.trace("ContextViewService#hideContextView");this.contextView.hide(e)};e=q([G(1,i.ITelemetryService),G(2,r.ILogService)],e);return e}();t.ContextViewService=o});define(r[485],e([0,1,7,203,41,56,49]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NullTelemetryService=new(function(){function e(){}e.prototype.publicLog=function(e,t){return i.TPromise.wrap(null)};e.prototype.getTelemetryInfo=function(){return i.TPromise.wrap({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId"})};return e}());function a(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return{log:function(t,i){return e.forEach(function(e){return e.log(t,i)})}}}t.combinedAppender=a;t.NullAppender={log:function(){return null}};function u(e,t){var i=e&&e.fsPath;return i?{mimeType:n.guessMimeTypes(i).join(", "),ext:r.extname(i),path:t(i)}:{}}t.telemetryURIDescriptor=u;var l=["editor.tabCompletion","editor.fontFamily","editor.fontWeight","editor.fontSize","editor.lineHeight","editor.letterSpacing","editor.lineNumbers","editor.rulers","editor.wordSeparators","editor.tabSize","editor.insertSpaces","editor.detectIndentation","editor.roundedSelection","editor.scrollBeyondLastLine","editor.minimap.enabled","editor.minimap.side","editor.minimap.renderCharacters","editor.minimap.maxColumn","editor.find.seedSearchStringFromSelection","editor.find.autoFindInSelection","editor.wordWrap","editor.wordWrapColumn","editor.wrappingIndent","editor.mouseWheelScrollSensitivity","editor.multiCursorModifier","editor.quickSuggestions","editor.quickSuggestionsDelay","editor.parameterHints","editor.autoClosingBrackets","editor.autoIndent","editor.formatOnType","editor.formatOnPaste","editor.suggestOnTriggerCharacters","editor.acceptSuggestionOnEnter","editor.acceptSuggestionOnCommitCharacter","editor.snippetSuggestions","editor.emptySelectionClipboard","editor.wordBasedSuggestions","editor.suggestSelection","editor.suggestFontSize","editor.suggestLineHeight","editor.selectionHighlight","editor.occurrencesHighlight","editor.overviewRulerLanes","editor.overviewRulerBorder","editor.cursorBlinking","editor.cursorStyle","editor.mouseWheelZoom","editor.fontLigatures","editor.hideCursorInOverviewRuler","editor.renderWhitespace","editor.renderControlCharacters","editor.renderIndentGuides","editor.renderLineHighlight","editor.codeLens","editor.folding","editor.showFoldingControls","editor.matchBrackets","editor.glyphMargin","editor.useTabStops","editor.trimAutoWhitespace","editor.stablePeek","editor.dragAndDrop","editor.formatOnSave","editor.colorDecorators","window.zoomLevel","files.autoSave","files.hotExit","files.associations","workbench.statusBar.visible","files.trimTrailingWhitespace","git.confirmSync","workbench.sideBar.location","window.openFilesInNewWindow","javascript.validate.enable","window.restoreWindows","extensions.autoUpdate","files.eol","explorer.openEditors.visible","workbench.editor.enablePreview","files.autoSaveDelay","workbench.editor.showTabs","files.encoding","files.autoGuessEncoding","git.enabled","http.proxyStrictSSL","terminal.integrated.fontFamily","workbench.editor.enablePreviewFromQuickOpen","workbench.editor.swipeToNavigate","php.builtInCompletions.enable","php.validate.enable","php.validate.run","workbench.welcome.enabled","workbench.startupEditor"];function c(t,e){return e.onDidChangeConfiguration(function(e){if(e.source!==o.ConfigurationTarget.DEFAULT){t.publicLog("updateConfiguration",{configurationSource:o.ConfigurationTarget[e.source],configurationKeys:h(e.sourceConfig)});t.publicLog("updateConfigurationValues",{configurationSource:o.ConfigurationTarget[e.source],configurationValues:p(e.sourceConfig,l)})}})}t.configurationTelemetry=c;function d(t,e){return e.onDidUpdateKeybindings(function(e){if(e.source===s.KeybindingSource.User&&e.keybindings){t.publicLog("updateKeybindings",{bindings:e.keybindings.map(function(e){return{key:e.key,command:e.command,when:e.when,args:e.args?true:undefined}})})}})}t.keybindingsTelemetry=d;function h(e){if(!e){return[]}var t=[];f(t,"",e);return t}function f(t,i,n){if(n&&typeof n==="object"&&!Array.isArray(n)){Object.keys(n).forEach(function(e){return f(t,i?i+"."+e:e,n[e])})}else{t.push(i)}}function p(r,e){if(!r){return[]}return e.reduce(function(e,t){var i=t.split(".").reduce(function(e,t){return e&&typeof e==="object"?e[t]:undefined},r);if(typeof i!=="undefined"){e.push((n={},n[t]=i,n))}return e;var n},[])}});define(r[486],e([0,1,10,218,67,7,70,41,34,82,14,485]),function(e,t,d,h,f,p,i,g,v,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function e(e,t,i){if(i===void 0){i=o.NullTelemetryService}this._editorService=e;this._commandService=t;this._telemetryService=i}e.prototype.open=function(e,t){this._telemetryService.publicLog("openerService",{scheme:e.scheme});var i=e.scheme,n=e.path,r=e.query,o=e.fragment;var s=p.TPromise.wrap(void 0);if(i===f.Schemas.http||i===f.Schemas.https||i===f.Schemas.mailto){d.windowOpenNoOpener(e.toString(true))}else if(i==="command"&&v.CommandsRegistry.getCommand(n)){var a=[];try{a=h.parse(r);if(!Array.isArray(a)){a=[a]}}catch(e){}s=(c=this._commandService).executeCommand.apply(c,[n].concat(a))}else{var u=void 0;var l=/^L?(\d+)(?:,(\d+))?/.exec(o);if(l){u={startLineNumber:parseInt(l[1]),startColumn:l[2]?parseInt(l[2]):1};e=e.with({fragment:""})}if(!e.scheme){return p.TPromise.as(undefined)}else if(e.scheme===f.Schemas.file){e=e.with({path:g.normalize(e.path)})}s=this._editorService.openEditor({resource:e,options:{selection:u}},t&&t.openToSide)}return s;var c};e=q([G(0,i.IEditorService),G(1,v.ICommandService),G(2,r.optional(n.ITelemetryService))],e);return e}();t.OpenerService=s});define(r[22],e([0,1,45,26,391]),function(e,t,i,a,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Extensions={ColorContribution:"base.contributions.colors"};var r=function(){function e(){this.colorSchema={type:"object",description:n.localize(0,null),properties:{},additionalProperties:false};this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};this.colorsById={}}e.prototype.registerColor=function(e,t,i,n){if(n===void 0){n=false}var r={id:e,description:i,defaults:t,needsTransparency:n};this.colorsById[e]=r;this.colorSchema.properties[e]={type:"string",description:i,format:"color-hex",default:"#ff0000"};this.colorReferenceSchema.enum.push(e);this.colorReferenceSchema.enumDescriptions.push(i);return e};e.prototype.getColors=function(){var t=this;return Object.keys(this.colorsById).map(function(e){return t.colorsById[e]})};e.prototype.resolveDefaultColor=function(e,t){var i=this.colorsById[e];if(i&&i.defaults){var n=i.defaults[t.type];return b(n,t)}return null};e.prototype.getColorSchema=function(){return this.colorSchema};e.prototype.getColorReferenceSchema=function(){return this.colorReferenceSchema};e.prototype.toString=function(){var t=this;var e=function(e,t){var i=e.indexOf(".")===-1?0:1;var n=t.indexOf(".")===-1?0:1;if(i!==n){return i-n}return e.localeCompare(t)};return Object.keys(this.colorsById).sort(e).map(function(e){return"- `"+e+"`: "+t.colorsById[e].description}).join("\n")};return e}();var o=new r;i.Registry.add(t.Extensions.ColorContribution,o);function s(e,t,i,n){return o.registerColor(e,t,i,n)}t.registerColor=s;function u(){return o}t.getColorRegistry=u;t.foreground=s("foreground",{dark:"#CCCCCC",light:"#6C6C6C",hc:"#FFFFFF"},n.localize(1,null));t.errorForeground=s("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},n.localize(2,null));t.descriptionForeground=s("descriptionForeground",{light:_(t.foreground,.7),dark:_(t.foreground,.7),hc:_(t.foreground,.7)},n.localize(3,null));t.focusBorder=s("focusBorder",{dark:a.Color.fromHex("#0E639C").transparent(.6),light:a.Color.fromHex("#007ACC").transparent(.4),hc:"#F38518"},n.localize(4,null));t.contrastBorder=s("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},n.localize(5,null));t.activeContrastBorder=s("contrastActiveBorder",{light:null,dark:null,hc:t.focusBorder},n.localize(6,null));t.selectionBackground=s("selection.background",{light:null,dark:null,hc:null},n.localize(7,null));t.textSeparatorForeground=s("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hc:a.Color.black},n.localize(8,null));t.textLinkForeground=s("textLink.foreground",{light:"#4080D0",dark:"#4080D0",hc:"#4080D0"},n.localize(9,null));t.textLinkActiveForeground=s("textLink.activeForeground",{light:"#4080D0",dark:"#4080D0",hc:"#4080D0"},n.localize(10,null));t.textPreformatForeground=s("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hc:"#D7BA7D"},n.localize(11,null));t.textBlockQuoteBackground=s("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hc:null},n.localize(12,null));t.textBlockQuoteBorder=s("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hc:a.Color.white},n.localize(13,null));t.textCodeBlockBackground=s("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:a.Color.black},n.localize(14,null));t.widgetShadow=s("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},n.localize(15,null));t.inputBackground=s("input.background",{dark:"#3C3C3C",light:a.Color.white,hc:a.Color.black},n.localize(16,null));t.inputForeground=s("input.foreground",{dark:t.foreground,light:t.foreground,hc:t.foreground},n.localize(17,null));t.inputBorder=s("input.border",{dark:null,light:null,hc:t.contrastBorder},n.localize(18,null));t.inputActiveOptionBorder=s("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hc:t.activeContrastBorder},n.localize(19,null));t.inputPlaceholderForeground=s("input.placeholderForeground",{dark:null,light:null,hc:null},n.localize(20,null));t.inputValidationInfoBackground=s("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:a.Color.black},n.localize(21,null));t.inputValidationInfoBorder=s("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:t.contrastBorder},n.localize(22,null));t.inputValidationWarningBackground=s("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:a.Color.black},n.localize(23,null));t.inputValidationWarningBorder=s("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:t.contrastBorder},n.localize(24,null));t.inputValidationErrorBackground=s("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:a.Color.black},n.localize(25,null));t.inputValidationErrorBorder=s("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:t.contrastBorder},n.localize(26,null));t.selectBackground=s("dropdown.background",{dark:"#3C3C3C",light:a.Color.white,hc:a.Color.black},n.localize(27,null));t.selectListBackground=s("dropdown.listBackground",{dark:null,light:null,hc:a.Color.black},n.localize(28,null));t.selectForeground=s("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:a.Color.white},n.localize(29,null));t.selectBorder=s("dropdown.border",{dark:t.selectBackground,light:"#CECECE",hc:t.contrastBorder},n.localize(30,null));t.listFocusBackground=s("list.focusBackground",{dark:"#073655",light:"#DCEBFC",hc:null},n.localize(31,null));t.listFocusForeground=s("list.focusForeground",{dark:null,light:null,hc:null},n.localize(32,null));t.listActiveSelectionBackground=s("list.activeSelectionBackground",{dark:"#094771",light:"#3399FF",hc:null},n.localize(33,null));t.listActiveSelectionForeground=s("list.activeSelectionForeground",{dark:a.Color.white,light:a.Color.white,hc:null},n.localize(34,null));t.listInactiveSelectionBackground=s("list.inactiveSelectionBackground",{dark:"#3F3F46",light:"#CCCEDB",hc:null},n.localize(35,null));t.listInactiveSelectionForeground=s("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},n.localize(36,null));t.listInactiveFocusBackground=s("list.inactiveFocusBackground",{dark:"#313135",light:"#d8dae6",hc:null},n.localize(37,null));t.listInactiveFocusForeground=s("list.inactiveFocusForeground",{dark:null,light:null,hc:null},n.localize(38,null));t.listHoverBackground=s("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},n.localize(39,null));t.listHoverForeground=s("list.hoverForeground",{dark:null,light:null,hc:null},n.localize(40,null));t.listDropBackground=s("list.dropBackground",{dark:t.listFocusBackground,light:t.listFocusBackground,hc:null},n.localize(41,null));t.listHighlightForeground=s("list.highlightForeground",{dark:"#0097fb",light:"#007acc",hc:t.focusBorder},n.localize(42,null));t.listInvalidItemForeground=s("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hc:"#B89500"},n.localize(43,null));t.pickerGroupForeground=s("pickerGroup.foreground",{dark:a.Color.fromHex("#0097FB").transparent(.6),light:a.Color.fromHex("#007ACC").transparent(.6),hc:a.Color.white},n.localize(44,null));t.pickerGroupBorder=s("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:a.Color.white},n.localize(45,null));t.buttonForeground=s("button.foreground",{dark:a.Color.white,light:a.Color.white,hc:a.Color.white},n.localize(46,null));t.buttonBackground=s("button.background",{dark:"#0E639C",light:"#007ACC",hc:null},n.localize(47,null));t.buttonHoverBackground=s("button.hoverBackground",{dark:m(t.buttonBackground,.2),light:v(t.buttonBackground,.2),hc:null},n.localize(48,null));t.badgeBackground=s("badge.background",{dark:"#4D4D4D",light:"#BEBEBE",hc:a.Color.black},n.localize(49,null));t.badgeForeground=s("badge.foreground",{dark:a.Color.white,light:a.Color.white,hc:a.Color.white},n.localize(50,null));t.scrollbarShadow=s("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},n.localize(51,null));t.scrollbarSliderBackground=s("scrollbarSlider.background",{dark:a.Color.fromHex("#797979").transparent(.4),light:a.Color.fromHex("#646464").transparent(.4),hc:_(t.contrastBorder,.6)},n.localize(52,null));t.scrollbarSliderHoverBackground=s("scrollbarSlider.hoverBackground",{dark:a.Color.fromHex("#646464").transparent(.7),light:a.Color.fromHex("#646464").transparent(.7),hc:_(t.contrastBorder,.8)},n.localize(53,null));t.scrollbarSliderActiveBackground=s("scrollbarSlider.activeBackground",{dark:a.Color.fromHex("#BFBFBF").transparent(.4),light:a.Color.fromHex("#000000").transparent(.6),hc:t.contrastBorder},n.localize(54,null));t.progressBarBackground=s("progressBar.background",{dark:a.Color.fromHex("#0E70C0"),light:a.Color.fromHex("#0E70C0"),hc:t.contrastBorder},n.localize(55,null));t.editorBackground=s("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:a.Color.black},n.localize(56,null));t.editorForeground=s("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:a.Color.white},n.localize(57,null));t.editorWidgetBackground=s("editorWidget.background",{dark:"#2D2D30",light:"#EFEFF2",hc:"#0C141F"},n.localize(58,null));t.editorWidgetBorder=s("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:t.contrastBorder},n.localize(59,null));t.editorSelectionBackground=s("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},n.localize(60,null));t.editorSelectionForeground=s("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},n.localize(61,null));t.editorInactiveSelection=s("editor.inactiveSelectionBackground",{light:_(t.editorSelectionBackground,.5),dark:_(t.editorSelectionBackground,.5),hc:_(t.editorSelectionBackground,.5)},n.localize(62,null),true);t.editorSelectionHighlight=s("editor.selectionHighlightBackground",{light:C(t.editorSelectionBackground,t.editorBackground,.3,.6),dark:C(t.editorSelectionBackground,t.editorBackground,.3,.6),hc:null},n.localize(63,null),true);t.editorSelectionHighlightBorder=s("editor.selectionHighlightBorder",{light:null,dark:null,hc:t.activeContrastBorder},n.localize(64,null));t.editorFindMatch=s("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},n.localize(65,null));t.editorFindMatchHighlight=s("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},n.localize(66,null),true);t.editorFindRangeHighlight=s("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},n.localize(67,null),true);t.editorFindMatchBorder=s("editor.findMatchBorder",{light:null,dark:null,hc:t.activeContrastBorder},n.localize(68,null));t.editorFindMatchHighlightBorder=s("editor.findMatchHighlightBorder",{light:null,dark:null,hc:t.activeContrastBorder},n.localize(69,null));t.editorFindRangeHighlightBorder=s("editor.findRangeHighlightBorder",{dark:null,light:null,hc:_(t.activeContrastBorder,.4)},n.localize(70,null),true);t.editorHoverHighlight=s("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},n.localize(71,null),true);t.editorHoverBackground=s("editorHoverWidget.background",{light:t.editorWidgetBackground,dark:t.editorWidgetBackground,hc:t.editorWidgetBackground},n.localize(72,null));t.editorHoverBorder=s("editorHoverWidget.border",{light:t.editorWidgetBorder,dark:t.editorWidgetBorder,hc:t.editorWidgetBorder},n.localize(73,null));t.editorActiveLinkForeground=s("editorLink.activeForeground",{dark:"#4E94CE",light:a.Color.blue,hc:a.Color.cyan},n.localize(74,null));t.defaultInsertColor=new a.Color(new a.RGBA(155,185,85,.2));t.defaultRemoveColor=new a.Color(new a.RGBA(255,0,0,.2));t.diffInserted=s("diffEditor.insertedTextBackground",{dark:t.defaultInsertColor,light:t.defaultInsertColor,hc:null},n.localize(75,null),true);t.diffRemoved=s("diffEditor.removedTextBackground",{dark:t.defaultRemoveColor,light:t.defaultRemoveColor,hc:null},n.localize(76,null),true);t.diffInsertedOutline=s("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},n.localize(77,null));t.diffRemovedOutline=s("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},n.localize(78,null));var l=.5;var c=a.Color.fromHex("#40C8AE").transparent(l);var d=a.Color.fromHex("#40A6FF").transparent(l);var h=a.Color.fromHex("#606060").transparent(.4);var f=.4;var p=1;t.mergeCurrentHeaderBackground=s("merge.currentHeaderBackground",{dark:c,light:c,hc:null},n.localize(79,null),true);t.mergeCurrentContentBackground=s("merge.currentContentBackground",{dark:_(t.mergeCurrentHeaderBackground,f),light:_(t.mergeCurrentHeaderBackground,f),hc:_(t.mergeCurrentHeaderBackground,f)},n.localize(80,null),true);t.mergeIncomingHeaderBackground=s("merge.incomingHeaderBackground",{dark:d,light:d,hc:null},n.localize(81,null),true);t.mergeIncomingContentBackground=s("merge.incomingContentBackground",{dark:_(t.mergeIncomingHeaderBackground,f),light:_(t.mergeIncomingHeaderBackground,f),hc:_(t.mergeIncomingHeaderBackground,f)},n.localize(82,null),true);t.mergeCommonHeaderBackground=s("merge.commonHeaderBackground",{dark:h,light:h,hc:null},n.localize(83,null),true);t.mergeCommonContentBackground=s("merge.commonContentBackground",{dark:_(t.mergeCommonHeaderBackground,f),light:_(t.mergeCommonHeaderBackground,f),hc:_(t.mergeCommonHeaderBackground,f)},n.localize(84,null),true);t.mergeBorder=s("merge.border",{dark:null,light:null,hc:"#C3DF6F"},n.localize(85,null));t.overviewRulerCurrentContentForeground=s("editorOverviewRuler.currentContentForeground",{dark:_(t.mergeCurrentHeaderBackground,p),light:_(t.mergeCurrentHeaderBackground,p),hc:t.mergeBorder},n.localize(86,null));t.overviewRulerIncomingContentForeground=s("editorOverviewRuler.incomingContentForeground",{dark:_(t.mergeIncomingHeaderBackground,p),light:_(t.mergeIncomingHeaderBackground,p),hc:t.mergeBorder},n.localize(87,null));t.overviewRulerCommonContentForeground=s("editorOverviewRuler.commonContentForeground",{dark:_(t.mergeCommonHeaderBackground,p),light:_(t.mergeCommonHeaderBackground,p),hc:t.mergeBorder},n.localize(88,null));var g=new a.Color(new a.RGBA(246,185,77,.7));t.overviewRulerFindMatchForeground=s("editorOverviewRuler.findMatchForeground",{dark:g,light:g,hc:g},n.localize(89,null));t.overviewRulerSelectionHighlightForeground=s("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},n.localize(90,null));function v(i,n){return function(e){var t=b(i,e);if(t){return t.darken(n)}return null}}t.darken=v;function m(i,n){return function(e){var t=b(i,e);if(t){return t.lighten(n)}return null}}t.lighten=m;function _(i,n){return function(e){var t=b(i,e);if(t){return t.transparent(n)}return null}}t.transparent=_;function y(){var o=[];for(var e=0;e<arguments.length;e++){o[e]=arguments[e]}return function(e){for(var t=0,i=o;t<i.length;t++){var n=i[t];var r=b(n,e);if(r){return r}}return null}}t.oneOf=y;function C(n,r,o,s){return function(e){var t=b(n,e);if(t){var i=b(r,e);if(i){if(t.isDarkerThan(i)){return a.Color.getLighterColor(t,i,o).transparent(s)}return a.Color.getDarkerColor(t,i,o).transparent(s)}return t.transparent(o*s)}return null}}function b(e,t){if(e===null){return null}else if(typeof e==="string"){if(e[0]==="#"){return a.Color.fromHex(e)}return t.getColor(e)}else if(e instanceof a.Color){return e}else if(typeof e==="function"){return e(t)}return null}});define(r[109],e([0,1,22]),function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});function r(e,r,o){function t(e){var t=Object.create(null);for(var i in r){var n=r[i];if(typeof n==="string"){t[i]=e.getColor(n)}else if(typeof n==="function"){t[i]=n(e)}}if(typeof o==="function"){o(t)}else{o.style(t)}}t(e.getTheme());return e.onThemeChange(t)}t.attachStyler=r;function i(e,t,i){return r(t,{inputActiveOptionBorder:i&&i.inputActiveOptionBorderColor||n.inputActiveOptionBorder},e)}t.attachCheckboxStyler=i;function o(e,t,i){return r(t,{badgeBackground:i&&i.badgeBackground||n.badgeBackground,badgeForeground:i&&i.badgeForeground||n.badgeForeground,badgeBorder:n.contrastBorder},e)}t.attachBadgeStyler=o;function s(e,t,i){return r(t,{inputBackground:i&&i.inputBackground||n.inputBackground,inputForeground:i&&i.inputForeground||n.inputForeground,inputBorder:i&&i.inputBorder||n.inputBorder,inputValidationInfoBorder:i&&i.inputValidationInfoBorder||n.inputValidationInfoBorder,inputValidationInfoBackground:i&&i.inputValidationInfoBackground||n.inputValidationInfoBackground,inputValidationWarningBorder:i&&i.inputValidationWarningBorder||n.inputValidationWarningBorder,inputValidationWarningBackground:i&&i.inputValidationWarningBackground||n.inputValidationWarningBackground,inputValidationErrorBorder:i&&i.inputValidationErrorBorder||n.inputValidationErrorBorder,inputValidationErrorBackground:i&&i.inputValidationErrorBackground||n.inputValidationErrorBackground},e)}t.attachInputBoxStyler=s;function a(e,t,i){return r(t,{selectBackground:i&&i.selectBackground||n.selectBackground,selectListBackground:i&&i.selectListBackground||n.selectListBackground,selectForeground:i&&i.selectForeground||n.selectForeground,selectBorder:i&&i.selectBorder||n.selectBorder,focusBorder:i&&i.focusBorder||n.focusBorder,listFocusBackground:i&&i.listFocusBackground||n.listFocusBackground,listFocusForeground:i&&i.listFocusForeground||n.listFocusForeground,listFocusOutline:i&&i.listFocusOutline||n.activeContrastBorder,listHoverBackground:i&&i.listHoverBackground||n.listHoverBackground,listHoverForeground:i&&i.listHoverForeground||n.listHoverForeground,listHoverOutline:i&&i.listFocusOutline||n.activeContrastBorder},e)}t.attachSelectBoxStyler=a;function u(e,t,i){return r(t,{inputBackground:i&&i.inputBackground||n.inputBackground,inputForeground:i&&i.inputForeground||n.inputForeground,inputBorder:i&&i.inputBorder||n.inputBorder,inputActiveOptionBorder:i&&i.inputActiveOptionBorder||n.inputActiveOptionBorder,inputValidationInfoBorder:i&&i.inputValidationInfoBorder||n.inputValidationInfoBorder,inputValidationInfoBackground:i&&i.inputValidationInfoBackground||n.inputValidationInfoBackground,inputValidationWarningBorder:i&&i.inputValidationWarningBorder||n.inputValidationWarningBorder,inputValidationWarningBackground:i&&i.inputValidationWarningBackground||n.inputValidationWarningBackground,inputValidationErrorBorder:i&&i.inputValidationErrorBorder||n.inputValidationErrorBorder,inputValidationErrorBackground:i&&i.inputValidationErrorBackground||n.inputValidationErrorBackground},e)}t.attachFindInputBoxStyler=u;function l(e,t,i){return r(t,{foreground:i&&i.foreground||n.foreground,background:i&&i.background||n.editorBackground,borderColor:i&&i.borderColor||n.contrastBorder,widgetShadow:i&&i.widgetShadow||n.widgetShadow,progressBarBackground:i&&i.progressBarBackground||n.progressBarBackground,pickerGroupForeground:i&&i.pickerGroupForeground||n.pickerGroupForeground,pickerGroupBorder:i&&i.pickerGroupBorder||n.pickerGroupBorder,inputBackground:i&&i.inputBackground||n.inputBackground,inputForeground:i&&i.inputForeground||n.inputForeground,inputBorder:i&&i.inputBorder||n.inputBorder,inputValidationInfoBorder:i&&i.inputValidationInfoBorder||n.inputValidationInfoBorder,inputValidationInfoBackground:i&&i.inputValidationInfoBackground||n.inputValidationInfoBackground,inputValidationWarningBorder:i&&i.inputValidationWarningBorder||n.inputValidationWarningBorder,inputValidationWarningBackground:i&&i.inputValidationWarningBackground||n.inputValidationWarningBackground,inputValidationErrorBorder:i&&i.inputValidationErrorBorder||n.inputValidationErrorBorder,inputValidationErrorBackground:i&&i.inputValidationErrorBackground||n.inputValidationErrorBackground,listFocusBackground:i&&i.listFocusBackground||n.listFocusBackground,listFocusForeground:i&&i.listFocusForeground||n.listFocusForeground,listActiveSelectionBackground:i&&i.listActiveSelectionBackground||n.lighten(n.listActiveSelectionBackground,.1),listActiveSelectionForeground:i&&i.listActiveSelectionForeground||n.listActiveSelectionForeground,listFocusAndSelectionBackground:i&&i.listFocusAndSelectionBackground||n.listActiveSelectionBackground,listFocusAndSelectionForeground:i&&i.listFocusAndSelectionForeground||n.listActiveSelectionForeground,listInactiveSelectionBackground:i&&i.listInactiveSelectionBackground||n.listInactiveSelectionBackground,listInactiveSelectionForeground:i&&i.listInactiveSelectionForeground||n.listInactiveSelectionForeground,listInactiveFocusBackground:i&&i.listInactiveFocusBackground||n.listInactiveFocusBackground,listInactiveFocusForeground:i&&i.listInactiveFocusForeground||n.listInactiveFocusForeground,listHoverBackground:i&&i.listHoverBackground||n.listHoverBackground,listHoverForeground:i&&i.listHoverForeground||n.listHoverForeground,listDropBackground:i&&i.listDropBackground||n.listDropBackground,listFocusOutline:i&&i.listFocusOutline||n.activeContrastBorder,listSelectionOutline:i&&i.listSelectionOutline||n.activeContrastBorder,listHoverOutline:i&&i.listHoverOutline||n.activeContrastBorder},e)}t.attachQuickOpenStyler=l;function c(e,t,i){return r(t,{listFocusBackground:i&&i.listFocusBackground||n.listFocusBackground,listFocusForeground:i&&i.listFocusForeground||n.listFocusForeground,listActiveSelectionBackground:i&&i.listActiveSelectionBackground||n.lighten(n.listActiveSelectionBackground,.1),listActiveSelectionForeground:i&&i.listActiveSelectionForeground||n.listActiveSelectionForeground,listFocusAndSelectionBackground:i&&i.listFocusAndSelectionBackground||n.listActiveSelectionBackground,listFocusAndSelectionForeground:i&&i.listFocusAndSelectionForeground||n.listActiveSelectionForeground,listInactiveSelectionBackground:i&&i.listInactiveSelectionBackground||n.listInactiveSelectionBackground,listInactiveSelectionForeground:i&&i.listInactiveSelectionForeground||n.listInactiveSelectionForeground,listInactiveFocusBackground:i&&i.listInactiveFocusBackground||n.listInactiveFocusBackground,listInactiveFocusForeground:i&&i.listInactiveFocusForeground||n.listInactiveFocusForeground,listHoverBackground:i&&i.listHoverBackground||n.listHoverBackground,listHoverForeground:i&&i.listHoverForeground||n.listHoverForeground,listDropBackground:i&&i.listDropBackground||n.listDropBackground,listFocusOutline:i&&i.listFocusOutline||n.activeContrastBorder,listSelectionOutline:i&&i.listSelectionOutline||n.activeContrastBorder,listHoverOutline:i&&i.listHoverOutline||n.activeContrastBorder,listInactiveFocusOutline:i&&i.listInactiveFocusOutline},e)}t.attachListStyler=c;function d(e,t,i){return r(t,{buttonForeground:i&&i.buttonForeground||n.buttonForeground,buttonBackground:i&&i.buttonBackground||n.buttonBackground,buttonHoverBackground:i&&i.buttonHoverBackground||n.buttonHoverBackground,buttonBorder:n.contrastBorder},e)}t.attachButtonStyler=d;function h(e,t,i){return r(t,{progressBarBackground:i&&i.progressBarBackground||n.progressBarBackground},e)}t.attachProgressBarStyler=h;function f(e,t,i){return r(e,t,i)}t.attachStylerCallback=f});define(r[489],e([0,1,48,314,24,109,22]),function(e,t,r,o,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t,i,n,r,o){this.codeEditor=e;this.themeService=o;this.create(t,i,n,r)}e.prototype.create=function(e,t,i,n){this.domNode=r.$().div().getHTMLElement();this.quickOpenWidget=new o.QuickOpenWidget(this.domNode,{onOk:e,onCancel:t,onType:i},{inputPlaceHolder:null,inputAriaLabel:n.inputAriaLabel,keyboardSupport:true});this.styler=s.attachQuickOpenStyler(this.quickOpenWidget,this.themeService,{pickerGroupForeground:a.foreground});this.quickOpenWidget.create();this.codeEditor.addOverlayWidget(this)};e.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)};e.prototype.getId=function(){return e.ID};e.prototype.getDomNode=function(){return this.domNode};e.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this);this.quickOpenWidget.dispose();this.styler.dispose()};e.prototype.isVisible=function(){return this.visible};e.prototype.show=function(e){this.visible=true;var t=this.codeEditor.getLayoutInfo();if(t){this.quickOpenWidget.layout(new r.Dimension(t.width,t.height))}this.quickOpenWidget.show(e);this.codeEditor.layoutOverlayWidget(this)};e.prototype.hide=function(){this.visible=false;this.quickOpenWidget.hide();this.codeEditor.layoutOverlayWidget(this)};e.prototype.getPosition=function(){if(this.visible){return{preference:i.OverlayWidgetPositionPreference.TOP_CENTER}}return null};e.ID="editor.contrib.quickOpenEditorWidget";return e}();t.QuickOpenEditorWidget=n});define(r[16],e([0,1,14,45,4]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IThemeService=i.createDecorator("themeService");function o(e){return{id:e}}t.themeColorFromId=o;t.FileThemeIcon={id:"file"};t.FolderThemeIcon={id:"folder"};t.DARK="dark";t.LIGHT="light";t.HIGH_CONTRAST="hc";function s(e){switch(e){case t.DARK:return"vs-dark";case t.HIGH_CONTRAST:return"hc-black";default:return"vs"}}t.getThemeTypeSelector=s;t.Extensions={ThemingContribution:"base.contributions.theming"};var a=function(){function e(){this.themingParticipants=[];this.themingParticipants=[];this.onThemingParticipantAddedEmitter=new r.Emitter}e.prototype.onThemeChange=function(t){var i=this;this.themingParticipants.push(t);this.onThemingParticipantAddedEmitter.fire(t);return{dispose:function(){var e=i.themingParticipants.indexOf(t);i.themingParticipants.splice(e,1)}}};Object.defineProperty(e.prototype,"onThemingParticipantAdded",{get:function(){return this.onThemingParticipantAddedEmitter.event},enumerable:true,configurable:true});e.prototype.getThemingParticipants=function(){return this.themingParticipants};return e}();var u=new a;n.Registry.add(t.Extensions.ThemingContribution,u);function l(e){return u.onThemeChange(e)}t.registerThemingParticipant=l});define(r[491],e([0,1,5,30,10,33,25,419,2,16]),function(e,t,u,r,o,i,a,n,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(n){pe(e,n);function e(e,t){if(t===void 0){t=o.createStyleSheet()}var i=n.call(this)||this;i._styleSheet=t;i._decorationOptionProviders=Object.create(null);i._themeService=e;return i}e.prototype.registerDecorationType=function(e,t,i){var n=this._decorationOptionProviders[e];if(!n){var r={styleSheet:this._styleSheet,key:e,parentTypeKey:i,options:t||Object.create(null)};if(!i){n=new h(this._themeService,r)}else{n=new d(this._themeService,r)}this._decorationOptionProviders[e]=n}n.refCount++};e.prototype.removeDecorationType=function(t){var e=this._decorationOptionProviders[t];if(e){e.refCount--;if(e.refCount<=0){delete this._decorationOptionProviders[t];e.dispose();this.listCodeEditors().forEach(function(e){return e.removeDecorations(t)})}}};e.prototype.resolveDecorationOptions=function(e,t){var i=this._decorationOptionProviders[e];if(!i){throw new Error("Unknown decoration type key: "+e)}return i.getOptions(this,t)};e=q([G(0,l.IThemeService)],e);return e}(n.AbstractCodeEditorService);t.CodeEditorServiceImpl=c;var d=function(){function e(e,t){this._parentTypeKey=t.parentTypeKey;this.refCount=0;this._beforeContentRules=new p(3,t,e);this._afterContentRules=new p(4,t,e)}e.prototype.getOptions=function(e,t){var i=e.resolveDecorationOptions(this._parentTypeKey,true);if(this._beforeContentRules){i.beforeContentClassName=this._beforeContentRules.className}if(this._afterContentRules){i.afterContentClassName=this._afterContentRules.className}return i};e.prototype.dispose=function(){if(this._beforeContentRules){this._beforeContentRules.dispose();this._beforeContentRules=null}if(this._afterContentRules){this._afterContentRules.dispose();this._afterContentRules=null}};return e}();var h=function(){function e(i,n){var r=this;this.refCount=0;this._disposables=[];var e=function(e){var t=new p(e,n,i);if(t.hasContent){r._disposables.push(t);return t.className}return void 0};this.className=e(0);this.inlineClassName=e(1);this.beforeContentClassName=e(3);this.afterContentClassName=e(4);this.glyphMarginClassName=e(2);var t=n.options;this.isWholeLine=Boolean(t.isWholeLine);this.stickiness=t.rangeBehavior;var o=t.light&&t.light.overviewRulerColor||t.overviewRulerColor;var s=t.dark&&t.dark.overviewRulerColor||t.overviewRulerColor;if(typeof o!=="undefined"||typeof s!=="undefined"){this.overviewRuler={color:o||s,darkColor:s||o,position:t.overviewRulerLane||a.OverviewRulerLane.Center}}}e.prototype.getOptions=function(e,t){if(!t){return this}return{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}};e.prototype.dispose=function(){this._disposables=s.dispose(this._disposables)};return e}();var f={color:"color:{0} !important;",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:url('{0}') center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:url('{0}');",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"};var p=function(){function e(e,t,i){var n=this;this._theme=i.getTheme();this._ruleType=e;this._providerArgs=t;this._usesThemeColors=false;this._hasContent=false;var r=v.getClassName(this._providerArgs.key,e);if(this._providerArgs.parentTypeKey){r=r+" "+v.getClassName(this._providerArgs.parentTypeKey,e)}this._className=r;this._unThemedSelector=v.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e);this._buildCSS();if(this._usesThemeColors){this._themeListener=i.onThemeChange(function(e){n._theme=i.getTheme();n._removeCSS();n._buildCSS()})}}e.prototype.dispose=function(){if(this._hasContent){this._removeCSS();this._hasContent=false}if(this._themeListener){this._themeListener.dispose();this._themeListener=null}};Object.defineProperty(e.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:true,configurable:true});e.prototype._buildCSS=function(){var e=this._providerArgs.options;var t,i,n;switch(this._ruleType){case 0:t=this.getCSSTextForModelDecorationClassName(e);i=this.getCSSTextForModelDecorationClassName(e.light);n=this.getCSSTextForModelDecorationClassName(e.dark);break;case 1:t=this.getCSSTextForModelDecorationInlineClassName(e);i=this.getCSSTextForModelDecorationInlineClassName(e.light);n=this.getCSSTextForModelDecorationInlineClassName(e.dark);break;case 2:t=this.getCSSTextForModelDecorationGlyphMarginClassName(e);i=this.getCSSTextForModelDecorationGlyphMarginClassName(e.light);n=this.getCSSTextForModelDecorationGlyphMarginClassName(e.dark);break;case 3:t=this.getCSSTextForModelDecorationContentClassName(e.before);i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.before);n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.before);break;case 4:t=this.getCSSTextForModelDecorationContentClassName(e.after);i=this.getCSSTextForModelDecorationContentClassName(e.light&&e.light.after);n=this.getCSSTextForModelDecorationContentClassName(e.dark&&e.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var r=this._providerArgs.styleSheet.sheet;var o=false;if(t.length>0){r.insertRule(this._unThemedSelector+" {"+t+"}",0);o=true}if(i.length>0){r.insertRule(".vs"+this._unThemedSelector+" {"+i+"}",0);o=true}if(n.length>0){r.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+n+"}",0);o=true}this._hasContent=o};e.prototype._removeCSS=function(){o.removeCSSRulesContainingSelector(this._unThemedSelector,this._providerArgs.styleSheet)};e.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e){return""}var t=[];this.collectCSSText(e,["backgroundColor"],t);this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t);this.collectBorderSettingsCSSText(e,t);return t.join("")};e.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e){return""}var t=[];this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","letterSpacing"],t);return t.join("")};e.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e){return""}var t=[];if(typeof e!=="undefined"){this.collectBorderSettingsCSSText(e,t);if(typeof e.contentIconPath!=="undefined"){if(typeof e.contentIconPath==="string"){t.push(u.format(f.contentIconPath,r.default.file(e.contentIconPath).toString().replace(/'/g,"%27")))}else{t.push(u.format(f.contentIconPath,r.default.revive(e.contentIconPath).toString(true).replace(/'/g,"%27")))}}if(typeof e.contentText==="string"){var i=e.contentText.match(/^.*$/m)[0];var n=i.replace(/['\\]/g,"\\$&");t.push(u.format(f.contentText,n))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","backgroundColor","margin"],t);if(this.collectCSSText(e,["width","height"],t)){t.push("display:inline-block;")}}return t.join("")};e.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e){return""}var t=[];if(typeof e.gutterIconPath!=="undefined"){if(typeof e.gutterIconPath==="string"){t.push(u.format(f.gutterIconPath,r.default.file(e.gutterIconPath).toString()))}else{t.push(u.format(f.gutterIconPath,r.default.revive(e.gutterIconPath).toString(true).replace(/'/g,"%27")))}if(typeof e.gutterIconSize!=="undefined"){t.push(u.format(f.gutterIconSize,e.gutterIconSize))}}return t.join("")};e.prototype.collectBorderSettingsCSSText=function(e,t){if(this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)){t.push(u.format("box-sizing: border-box;"));return true}return false};e.prototype.collectCSSText=function(e,t,i){var n=i.length;for(var r=0,o=t;r<o.length;r++){var s=o[r];var a=this.resolveValue(e[s]);if(typeof a==="string"){i.push(u.format(f[s],a))}}return i.length!==n};e.prototype.resolveValue=function(e){if(i.isThemeColor(e)){this._usesThemeColors=true;var t=this._theme.getColor(e.id);if(t){return t.toString()}return"transparent"}return e};return e}();var g;(function(e){e[e["ClassName"]=0]="ClassName";e[e["InlineClassName"]=1]="InlineClassName";e[e["GlyphMarginClassName"]=2]="GlyphMarginClassName";e[e["BeforeContentClassName"]=3]="BeforeContentClassName";e[e["AfterContentClassName"]=4]="AfterContentClassName"})(g||(g={}));var v=function(){function e(){}e.getClassName=function(e,t){return"ced-"+e+"-"+t};e.getSelector=function(e,t,i){var n=".monaco-editor ."+this.getClassName(e,i);if(t){n=n+"."+this.getClassName(t,i)}if(i===3){n+="::before"}else if(i===4){n+="::after"}return n};return e}()});define(r[492],e([0,1,10,55,35,28,16]),function(e,t,c,d,h,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(l){pe(e,l);function e(e,t,i,n){var s=l.call(this,e)||this;var r=s._context.configuration.editor;var o=r.viewInfo.scrollbar;var a={listenOnDomNode:i.domNode,className:"editor-scrollable"+" "+p.getThemeTypeSelector(e.theme.type),useShadows:false,lazyRender:true,vertical:o.vertical,horizontal:o.horizontal,verticalHasArrows:o.verticalHasArrows,horizontalHasArrows:o.horizontalHasArrows,verticalScrollbarSize:o.verticalScrollbarSize,verticalSliderSize:o.verticalSliderSize,horizontalScrollbarSize:o.horizontalScrollbarSize,horizontalSliderSize:o.horizontalSliderSize,handleMouseWheel:o.handleMouseWheel,arrowSize:o.arrowSize,mouseWheelScrollSensitivity:o.mouseWheelScrollSensitivity};s.scrollbar=s._register(new d.SmoothScrollableElement(t.domNode,a,s._context.viewLayout.scrollable));h.PartFingerprints.write(s.scrollbar.getDomNode(),5);s.scrollbarDomNode=f.createFastDomNode(s.scrollbar.getDomNode());s.scrollbarDomNode.setPosition("absolute");s._setLayout();var u=function(e,t,i){var n={};if(t){var r=e.scrollTop;if(r){n.scrollTop=s._context.viewLayout.getCurrentScrollTop()+r;e.scrollTop=0}}if(i){var o=e.scrollLeft;if(o){n.scrollLeft=s._context.viewLayout.getCurrentScrollLeft()+o;e.scrollLeft=0}}s._context.viewLayout.setScrollPositionNow(n)};s._register(c.addDisposableListener(i.domNode,"scroll",function(e){return u(i.domNode,true,true)}));s._register(c.addDisposableListener(t.domNode,"scroll",function(e){return u(t.domNode,true,false)}));s._register(c.addDisposableListener(n.domNode,"scroll",function(e){return u(n.domNode,true,false)}));s._register(c.addDisposableListener(s.scrollbarDomNode.domNode,"scroll",function(e){return u(s.scrollbarDomNode.domNode,true,false)}));return s}e.prototype.dispose=function(){l.prototype.dispose.call(this)};e.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.scrollbarDomNode.setLeft(e.contentLeft);var t=this._context.configuration.editor.viewInfo.minimap.side;if(t==="right"){this.scrollbarDomNode.setWidth(e.contentWidth+e.minimapWidth)}else{this.scrollbarDomNode.setWidth(e.contentWidth)}this.scrollbarDomNode.setHeight(e.contentHeight)};e.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()};e.prototype.getDomNode=function(){return this.scrollbarDomNode};e.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)};e.prototype.onConfigurationChanged=function(e){if(e.viewInfo){var t=this._context.configuration.editor;var i={handleMouseWheel:t.viewInfo.scrollbar.handleMouseWheel,mouseWheelScrollSensitivity:t.viewInfo.scrollbar.mouseWheelScrollSensitivity};this.scrollbar.updateOptions(i)}if(e.layoutInfo){this._setLayout()}return true};e.prototype.onScrollChanged=function(e){return true};e.prototype.onThemeChanged=function(e){this.scrollbar.updateClassName("editor-scrollable"+" "+p.getThemeTypeSelector(this._context.theme.type));return true};e.prototype.prepareRender=function(e){};e.prototype.render=function(e){this.scrollbar.renderNow()};return e}(h.ViewPart);t.EditorScrollbar=i});define(r[192],e([0,1,31,15,5,28,118,94,224,86,16]),function(e,t,i,n,_,r,y,C,l,c,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var S=function(){if(n.isNative){return true}if(n.isLinux||i.isFirefox||i.isSafari){return false}return true}();var w=i.isEdgeOrIE;var o=function(){function e(e,t){this._domNode=e;this._clientRectDeltaLeft=0;this._clientRectDeltaLeftRead=false;this.endNode=t}Object.defineProperty(e.prototype,"clientRectDeltaLeft",{get:function(){if(!this._clientRectDeltaLeftRead){this._clientRectDeltaLeftRead=true;this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left}return this._clientRectDeltaLeft},enumerable:true,configurable:true});return e}();t.DomReadingContext=o;var s=function(){function e(e,t){this.themeType=t;this.renderWhitespace=e.editor.viewInfo.renderWhitespace;this.renderControlCharacters=e.editor.viewInfo.renderControlCharacters;this.spaceWidth=e.editor.fontInfo.spaceWidth;this.useMonospaceOptimizations=e.editor.fontInfo.isMonospace&&!e.editor.viewInfo.disableMonospaceOptimizations;this.lineHeight=e.editor.lineHeight;this.stopRenderingLineAfter=e.editor.viewInfo.stopRenderingLineAfter;this.fontLigatures=e.editor.viewInfo.fontLigatures}e.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures};return e}();t.ViewLineOptions=s;var a=function(){function m(e){this._options=e;this._isMaybeInvalid=true;this._renderedViewLine=null}m.prototype.getDomNode=function(){if(this._renderedViewLine&&this._renderedViewLine.domNode){return this._renderedViewLine.domNode.domNode}return null};m.prototype.setDomNode=function(e){if(this._renderedViewLine){this._renderedViewLine.domNode=r.createFastDomNode(e)}else{throw new Error("I have no rendered view line to set the dom node to...")}};m.prototype.onContentChanged=function(){this._isMaybeInvalid=true};m.prototype.onTokensChanged=function(){this._isMaybeInvalid=true};m.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=true};m.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=true;this._options=e};m.prototype.onSelectionChanged=function(){if(w||this._options.themeType===b.HIGH_CONTRAST){this._isMaybeInvalid=true;return true}return false};m.prototype.renderLine=function(e,t,i,n){if(this._isMaybeInvalid===false){return false}this._isMaybeInvalid=false;var r=i.getViewLineRenderingData(e);var o=this._options;var s=y.LineDecoration.filter(r.inlineDecorations,e,r.minColumn,r.maxColumn);if(w||o.themeType===b.HIGH_CONTRAST){var a=i.selections;for(var u=0,l=a.length;u<l;u++){var c=a[u];if(c.endLineNumber<e||c.startLineNumber>e){continue}var d=c.startLineNumber===e?c.startColumn:r.minColumn;var h=c.endLineNumber===e?c.endColumn:r.maxColumn;if(d<h){s.push(new y.LineDecoration(d,h,"inline-selected-text",0))}}}var f=new C.RenderLineInput(o.useMonospaceOptimizations,r.content,r.mightContainRTL,r.minColumn-1,r.tokens,s,r.tabSize,o.spaceWidth,o.stopRenderingLineAfter,o.renderWhitespace,o.renderControlCharacters,o.fontLigatures);if(this._renderedViewLine&&this._renderedViewLine.input.equals(f)){return false}n.appendASCIIString('<div style="top:');n.appendASCIIString(String(t));n.appendASCIIString("px;height:");n.appendASCIIString(String(this._options.lineHeight));n.appendASCIIString('px;" class="');n.appendASCIIString(m.CLASS_NAME);n.appendASCIIString('">');var p=C.renderViewLine(f,n);n.appendASCIIString("</div>");var g=null;if(S&&o.useMonospaceOptimizations&&!p.containsForeignElements){var v=true;if(r.mightContainNonBasicASCII){v=_.isBasicASCII(r.content)}if(v&&r.content.length<1e3&&f.lineTokens.getCount()<100){g=new E(this._renderedViewLine?this._renderedViewLine.domNode:null,f,p.characterMapping)}}if(!g){g=L(this._renderedViewLine?this._renderedViewLine.domNode:null,f,p.characterMapping,p.containsRTL,p.containsForeignElements)}this._renderedViewLine=g;return true};m.prototype.layoutLine=function(e,t){if(this._renderedViewLine&&this._renderedViewLine.domNode){this._renderedViewLine.domNode.setTop(t);this._renderedViewLine.domNode.setHeight(this._options.lineHeight)}};m.prototype.getWidth=function(){if(!this._renderedViewLine){return 0}return this._renderedViewLine.getWidth()};m.prototype.getWidthIsFast=function(){if(!this._renderedViewLine){return true}return this._renderedViewLine.getWidthIsFast()};m.prototype.getVisibleRangesForRange=function(e,t,i){e=e|0;t=t|0;e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e));t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var n=this._renderedViewLine.input.stopRenderingLineAfter|0;if(n!==-1&&e>n&&t>n){return null}if(n!==-1&&e>n){e=n}if(n!==-1&&t>n){t=n}return this._renderedViewLine.getVisibleRangesForRange(e,t,i)};m.prototype.getColumnOfNodeOffset=function(e,t,i){return this._renderedViewLine.getColumnOfNodeOffset(e,t,i)};m.CLASS_NAME="view-line";return m}();t.ViewLine=a;var E=function(){function e(e,t,i){this.domNode=e;this.input=t;this._characterMapping=i;this._charWidth=t.spaceWidth}e.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)};e.prototype.getWidthIsFast=function(){return true};e.prototype.getVisibleRangesForRange=function(e,t,i){var n=this._getCharPosition(e);var r=this._getCharPosition(t);return[new c.HorizontalRange(n,r-n)]};e.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();if(t.length===0){return 0}return Math.round(this._charWidth*t[e-1])};e.prototype.getColumnOfNodeOffset=function(e,t,i){var n=t.textContent.length;var r=-1;while(t){t=t.previousSibling;r++}var o=this._characterMapping.partDataToCharOffset(r,n,i);return o+1};return e}();var u=function(){function e(e,t,i,n,r){this.domNode=e;this.input=t;this._characterMapping=i;this._isWhitespaceOnly=/^\s*$/.test(t.lineContent);this._containsForeignElements=r;this._cachedWidth=-1;this._pixelOffsetCache=null;if(!n||this._characterMapping.length===0){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var o=0,s=this._characterMapping.length;o<=s;o++){this._pixelOffsetCache[o]=-1}}}e.prototype._getReadingTarget=function(){return this.domNode.domNode.firstChild};e.prototype.getWidth=function(){if(this._cachedWidth===-1){this._cachedWidth=this._getReadingTarget().offsetWidth}return this._cachedWidth};e.prototype.getWidthIsFast=function(){if(this._cachedWidth===-1){return false}return true};e.prototype.getVisibleRangesForRange=function(e,t,i){if(this._pixelOffsetCache!==null){var n=this._readPixelOffset(e,i);if(n===-1){return null}var r=this._readPixelOffset(t,i);if(r===-1){return null}return[new c.HorizontalRange(n,r-n)]}return this._readVisibleRangesForRange(e,t,i)};e.prototype._readVisibleRangesForRange=function(e,t,i){if(e===t){var n=this._readPixelOffset(e,i);if(n===-1){return null}else{return[new c.HorizontalRange(n,0)]}}else{return this._readRawVisibleRangesForRange(e,t,i)}};e.prototype._readPixelOffset=function(e,t){if(this._characterMapping.length===0){if(!this._containsForeignElements){return 0}}if(this._pixelOffsetCache!==null){var i=this._pixelOffsetCache[e];if(i!==-1){return i}var n=this._actualReadPixelOffset(e,t);this._pixelOffsetCache[e]=n;return n}return this._actualReadPixelOffset(e,t)};e.prototype._actualReadPixelOffset=function(e,t){if(this._characterMapping.length===0){var i=l.RangeUtil.readHorizontalRanges(this._getReadingTarget(),0,0,0,0,t.clientRectDeltaLeft,t.endNode);if(!i||i.length===0){return-1}return i[0].left}if(e===this._characterMapping.length&&this._isWhitespaceOnly&&!this._containsForeignElements){return this.getWidth()}var n=this._characterMapping.charOffsetToPartData(e-1);var r=C.CharacterMapping.getPartIndex(n);var o=C.CharacterMapping.getCharIndex(n);var s=l.RangeUtil.readHorizontalRanges(this._getReadingTarget(),r,o,r,o,t.clientRectDeltaLeft,t.endNode);if(!s||s.length===0){return-1}return s[0].left};e.prototype._readRawVisibleRangesForRange=function(e,t,i){if(e===1&&t===this._characterMapping.length){return[new c.HorizontalRange(0,this.getWidth())]}var n=this._characterMapping.charOffsetToPartData(e-1);var r=C.CharacterMapping.getPartIndex(n);var o=C.CharacterMapping.getCharIndex(n);var s=this._characterMapping.charOffsetToPartData(t-1);var a=C.CharacterMapping.getPartIndex(s);var u=C.CharacterMapping.getCharIndex(s);return l.RangeUtil.readHorizontalRanges(this._getReadingTarget(),r,o,a,u,i.clientRectDeltaLeft,i.endNode)};e.prototype.getColumnOfNodeOffset=function(e,t,i){var n=t.textContent.length;var r=-1;while(t){t=t.previousSibling;r++}var o=this._characterMapping.partDataToCharOffset(r,n,i);return o+1};return e}();var d=function(u){pe(e,u);function e(){return u!==null&&u.apply(this,arguments)||this}e.prototype._readVisibleRangesForRange=function(e,t,i){var n=u.prototype._readVisibleRangesForRange.call(this,e,t,i);if(!n||n.length===0||e===t||e===1&&t===this._characterMapping.length){return n}var r=this._readPixelOffset(t-1,i);var o=this._readPixelOffset(t,i);if(r!==-1&&o!==-1){var s=r<=o;var a=n[n.length-1];if(s&&a.left<o){a.width=o-a.left}}return n};return e}(u);var L=function(){if(i.isWebKit){return h}return f}();function h(e,t,i,n,r){return new d(e,t,i,n,r)}function f(e,t,i,n,r){return new u(e,t,i,n,r)}});define(r[193],e([0,1,12,3,24,137,31,35,192]),function(e,t,v,m,_,u,y,s,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t,i,n,r,o){if(i===void 0){i=0}if(n===void 0){n=null}if(r===void 0){r=null}if(o===void 0){o=null}this.element=e;this.type=t;this.mouseColumn=i;this.position=n;if(!r&&n){r=new m.Range(n.lineNumber,n.column,n.lineNumber,n.column)}this.range=r;this.detail=o}e._typeToString=function(e){if(e===_.MouseTargetType.TEXTAREA){return"TEXTAREA"}if(e===_.MouseTargetType.GUTTER_GLYPH_MARGIN){return"GUTTER_GLYPH_MARGIN"}if(e===_.MouseTargetType.GUTTER_LINE_NUMBERS){return"GUTTER_LINE_NUMBERS"}if(e===_.MouseTargetType.GUTTER_LINE_DECORATIONS){return"GUTTER_LINE_DECORATIONS"}if(e===_.MouseTargetType.GUTTER_VIEW_ZONE){return"GUTTER_VIEW_ZONE"}if(e===_.MouseTargetType.CONTENT_TEXT){return"CONTENT_TEXT"}if(e===_.MouseTargetType.CONTENT_EMPTY){return"CONTENT_EMPTY"}if(e===_.MouseTargetType.CONTENT_VIEW_ZONE){return"CONTENT_VIEW_ZONE"}if(e===_.MouseTargetType.CONTENT_WIDGET){return"CONTENT_WIDGET"}if(e===_.MouseTargetType.OVERVIEW_RULER){return"OVERVIEW_RULER"}if(e===_.MouseTargetType.SCROLLBAR){return"SCROLLBAR"}if(e===_.MouseTargetType.OVERLAY_WIDGET){return"OVERLAY_WIDGET"}return"UNKNOWN"};e.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail};e.prototype.toString=function(){return e.toString(this)};return e}();t.MouseTarget=r;var l=function(){function e(){}e.isTextArea=function(e){return e.length===2&&e[0]===3&&e[1]===6};e.isChildOfViewLines=function(e){return e.length>=4&&e[0]===3&&e[3]===7};e.isChildOfScrollableElement=function(e){return e.length>=2&&e[0]===3&&e[1]===5};e.isChildOfMinimap=function(e){return e.length>=2&&e[0]===3&&e[1]===8};e.isChildOfContentWidgets=function(e){return e.length>=4&&e[0]===3&&e[3]===1};e.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&e[0]===2};e.isChildOfOverlayWidgets=function(e){return e.length>=2&&e[0]===3&&e[1]===4};return e}();var c=function(){function i(e,t,i){this.model=e.model;this.layoutInfo=e.configuration.editor.layoutInfo;this.viewDomNode=t.viewDomNode;this.lineHeight=e.configuration.editor.lineHeight;this.typicalHalfwidthCharacterWidth=e.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;this.lastViewCursorsRenderData=i;this._context=e;this._viewHelper=t}i.prototype.getZoneAtCoord=function(e){var t=this._context.viewLayout.getWhitespaceAtVerticalOffset(e);if(t){var i=t.verticalOffset+t.height/2,n=this._context.model.getLineCount(),r=null,o=void 0,s=null;if(t.afterLineNumber!==n){s=new v.Position(t.afterLineNumber+1,1)}if(t.afterLineNumber>0){r=new v.Position(t.afterLineNumber,this._context.model.getLineMaxColumn(t.afterLineNumber))}if(s===null){o=r}else if(r===null){o=s}else if(e<i){o=r}else{o=s}return{viewZoneId:t.id,afterLineNumber:t.afterLineNumber,positionBefore:r,positionAfter:s,position:o}}return null};i.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount();var i=this._context.model.getLineMaxColumn(t);return{range:new m.Range(t,i,t,i),isAfterLines:true}}var n=this._context.viewLayout.getLineNumberAtVerticalOffset(e);var r=this._context.model.getLineMaxColumn(n);return{range:new m.Range(n,1,n,r),isAfterLines:false}};i.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)};i.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)};i.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)};i.prototype.findAttribute=function(e,t){return i._findAttribute(e,t,this._viewHelper.viewDomNode)};i._findAttribute=function(e,t,i){while(e&&e!==document.body){if(e.hasAttribute&&e.hasAttribute(t)){return e.getAttribute(t)}if(e===i){return null}e=e.parentNode}return null};i.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)};i.prototype.visibleRangeForPosition2=function(e,t){return this._viewHelper.visibleRangeForPosition2(e,t)};i.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)};i.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()};i.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()};return i}();var i=function(){function e(e,t,i){this.editorPos=t;this.pos=i;this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+i.y-t.y);this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+i.x-t.x-e.layoutInfo.contentLeft;this.isInMarginArea=i.x-t.x<e.layoutInfo.contentLeft&&i.x-t.x>=e.layoutInfo.glyphMarginLeft;this.isInContentArea=!this.isInMarginArea;this.mouseColumn=Math.max(0,n._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}return e}();var h=function(o){pe(t,o);function t(e,t,i,n){var r=o.call(this,e,t,i)||this;r._ctx=e;if(n){r.target=n;r.targetPath=s.PartFingerprints.collect(n,e.viewDomNode)}else{r.target=null;r.targetPath=new Uint8Array(0)}return r}t.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)};t.prototype.fulfill=function(e,t,i,n){if(t===void 0){t=null}if(i===void 0){i=null}if(n===void 0){n=null}return new r(this.target,e,this.mouseColumn,t,i,n)};t.prototype.withTarget=function(e){return new t(this._ctx,this.editorPos,this.pos,e)};return t}(i);var f={isAfterLines:true};var C={isAfterLines:false};var n=function(){function a(e,t){this._context=e;this._viewHelper=t}a.prototype.mouseTargetIsWidget=function(e){var t=e.target;var i=s.PartFingerprints.collect(t,this._viewHelper.viewDomNode);if(l.isChildOfContentWidgets(i)||l.isChildOfOverflowingContentWidgets(i)){return true}if(l.isChildOfOverlayWidgets(i)){return true}return false};a.prototype.createMouseTarget=function(e,t,i,n){var r=new c(this._context,this._viewHelper,e);var o=new h(r,t,i,n);try{var s=a._createMouseTarget(r,o,false);return s}catch(e){return o.fulfill(_.MouseTargetType.UNKNOWN)}};a._createMouseTarget=function(e,t,i){if(t.target===null){if(i){return t.fulfill(_.MouseTargetType.UNKNOWN)}var n=a._doHitTest(e,t);if(n.position){return a.createMouseTargetFromHitTestPosition(e,t,n.position.lineNumber,n.position.column)}return this._createMouseTarget(e,t.withTarget(n.hitTarget),true)}var r=null;r=r||a._hitTestContentWidget(e,t);r=r||a._hitTestOverlayWidget(e,t);r=r||a._hitTestMinimap(e,t);r=r||a._hitTestScrollbarSlider(e,t);r=r||a._hitTestViewZone(e,t);r=r||a._hitTestMargin(e,t);r=r||a._hitTestViewCursor(e,t);r=r||a._hitTestTextArea(e,t);r=r||a._hitTestViewLines(e,t,i);r=r||a._hitTestScrollbar(e,t);return r||t.fulfill(_.MouseTargetType.UNKNOWN)};a._hitTestContentWidget=function(e,t){if(l.isChildOfContentWidgets(t.targetPath)||l.isChildOfOverflowingContentWidgets(t.targetPath)){var i=e.findAttribute(t.target,"widgetId");if(i){return t.fulfill(_.MouseTargetType.CONTENT_WIDGET,null,null,i)}else{return t.fulfill(_.MouseTargetType.UNKNOWN)}}return null};a._hitTestOverlayWidget=function(e,t){if(l.isChildOfOverlayWidgets(t.targetPath)){var i=e.findAttribute(t.target,"widgetId");if(i){return t.fulfill(_.MouseTargetType.OVERLAY_WIDGET,null,null,i)}else{return t.fulfill(_.MouseTargetType.UNKNOWN)}}return null};a._hitTestViewCursor=function(e,t){if(t.target){var i=e.lastViewCursorsRenderData;for(var n=0,r=i.length;n<r;n++){var o=i[n];if(t.target===o.domNode){return t.fulfill(_.MouseTargetType.CONTENT_TEXT,o.position)}}}if(t.isInContentArea){var i=e.lastViewCursorsRenderData;var s=t.mouseContentHorizontalOffset;var a=t.mouseVerticalOffset;for(var n=0,r=i.length;n<r;n++){var o=i[n];if(s<o.contentLeft){continue}if(s>o.contentLeft+o.width){continue}var u=e.getVerticalOffsetForLineNumber(o.position.lineNumber);if(u<=a&&a<=u+o.height){return t.fulfill(_.MouseTargetType.CONTENT_TEXT,o.position)}}}return null};a._hitTestViewZone=function(e,t){var i=e.getZoneAtCoord(t.mouseVerticalOffset);if(i){var n=t.isInContentArea?_.MouseTargetType.CONTENT_VIEW_ZONE:_.MouseTargetType.GUTTER_VIEW_ZONE;return t.fulfill(n,i.position,null,i)}return null};a._hitTestTextArea=function(e,t){if(l.isTextArea(t.targetPath)){return t.fulfill(_.MouseTargetType.TEXTAREA)}return null};a._hitTestMargin=function(e,t){if(t.isInMarginArea){var i=e.getFullLineRangeAtCoord(t.mouseVerticalOffset);var n=i.range.getStartPosition();var r=Math.abs(t.pos.x-t.editorPos.x);var o={isAfterLines:i.isAfterLines,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:r};r-=e.layoutInfo.glyphMarginLeft;if(r<=e.layoutInfo.glyphMarginWidth){return t.fulfill(_.MouseTargetType.GUTTER_GLYPH_MARGIN,n,i.range,o)}r-=e.layoutInfo.glyphMarginWidth;if(r<=e.layoutInfo.lineNumbersWidth){return t.fulfill(_.MouseTargetType.GUTTER_LINE_NUMBERS,n,i.range,o)}r-=e.layoutInfo.lineNumbersWidth;return t.fulfill(_.MouseTargetType.GUTTER_LINE_DECORATIONS,n,i.range,o)}return null};a._hitTestViewLines=function(e,t,i){if(!l.isChildOfViewLines(t.targetPath)){return null}if(e.isAfterLines(t.mouseVerticalOffset)){var n=e.model.getLineCount();var r=e.model.getLineMaxColumn(n);return t.fulfill(_.MouseTargetType.CONTENT_EMPTY,new v.Position(n,r),void 0,f)}if(i){return t.fulfill(_.MouseTargetType.UNKNOWN)}var o=a._doHitTest(e,t);if(o.position){return a.createMouseTargetFromHitTestPosition(e,t,o.position.lineNumber,o.position.column)}return this._createMouseTarget(e,t.withTarget(o.hitTarget),true)};a._hitTestMinimap=function(e,t){if(l.isChildOfMinimap(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);var n=e.model.getLineMaxColumn(i);return t.fulfill(_.MouseTargetType.SCROLLBAR,new v.Position(i,n))}return null};a._hitTestScrollbarSlider=function(e,t){if(l.isChildOfScrollableElement(t.targetPath)){if(t.target&&t.target.nodeType===1){var i=t.target.className;if(i&&/\b(slider|scrollbar)\b/.test(i)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);var r=e.model.getLineMaxColumn(n);return t.fulfill(_.MouseTargetType.SCROLLBAR,new v.Position(n,r))}}}return null};a._hitTestScrollbar=function(e,t){if(l.isChildOfScrollableElement(t.targetPath)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);var n=e.model.getLineMaxColumn(i);return t.fulfill(_.MouseTargetType.SCROLLBAR,new v.Position(i,n))}return null};a.prototype.getMouseColumn=function(e,t){var i=this._context.configuration.editor.layoutInfo;var n=this._context.viewLayout.getCurrentScrollLeft()+t.x-e.x-i.contentLeft;return a._getMouseColumn(n,this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth)};a._getMouseColumn=function(e,t){if(e<0){return 1}var i=Math.round(e/t);return i+1};a.createMouseTargetFromHitTestPosition=function(e,t,i,n){var r=new v.Position(i,n);var o=e.getLineWidth(i);if(t.mouseContentHorizontalOffset>o){if(y.isEdge&&r.column===1){return t.fulfill(_.MouseTargetType.CONTENT_EMPTY,new v.Position(i,e.model.getLineMaxColumn(i)),void 0,C)}return t.fulfill(_.MouseTargetType.CONTENT_EMPTY,r,void 0,C)}var s=e.visibleRangeForPosition2(i,n);if(!s){return t.fulfill(_.MouseTargetType.UNKNOWN,r)}var a=s.left;if(t.mouseContentHorizontalOffset===a){return t.fulfill(_.MouseTargetType.CONTENT_TEXT,r)}var u=[];u.push({offset:s.left,column:n});if(n>1){var l=e.visibleRangeForPosition2(i,n-1);if(l){u.push({offset:l.left,column:n-1})}}var c=e.model.getLineMaxColumn(i);if(n<c){var d=e.visibleRangeForPosition2(i,n+1);if(d){u.push({offset:d.left,column:n+1})}}u.sort(function(e,t){return e.offset-t.offset});for(var h=1;h<u.length;h++){var f=u[h-1];var p=u[h];if(f.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=p.offset){var g=new m.Range(i,f.column,i,p.column);return t.fulfill(_.MouseTargetType.CONTENT_TEXT,r,g)}}return t.fulfill(_.MouseTargetType.CONTENT_TEXT,r)};a._doHitTestWithCaretRangeFromPoint=function(e,t){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset);var n=e.getVerticalOffsetForLineNumber(i);var r=n+Math.floor(e.lineHeight/2);var o=t.pos.y+(r-t.mouseVerticalOffset);if(o<=t.editorPos.y){o=t.editorPos.y+1}if(o>=t.editorPos.y+e.layoutInfo.height){o=t.editorPos.y+e.layoutInfo.height-1}var s=new u.PageCoordinates(t.pos.x,o);var a=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());if(a.position){return a}return this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())};a._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var i=document.caretRangeFromPoint(t.clientX,t.clientY);if(!i||!i.startContainer){return{position:null,hitTarget:null}}var n=i.startContainer;var r;if(n.nodeType===n.TEXT_NODE){var o=n.parentNode;var s=o?o.parentNode:null;var a=s?s.parentNode:null;var u=a&&a.nodeType===a.ELEMENT_NODE?a.className:null;if(u===d.ViewLine.CLASS_NAME){var l=e.getPositionFromDOMInfo(o,i.startOffset);return{position:l,hitTarget:null}}else{r=n.parentNode}}else if(n.nodeType===n.ELEMENT_NODE){var o=n.parentNode;var s=o?o.parentNode:null;var c=s&&s.nodeType===s.ELEMENT_NODE?s.className:null;if(c===d.ViewLine.CLASS_NAME){var l=e.getPositionFromDOMInfo(n,n.textContent.length);return{position:l,hitTarget:null}}else{r=n}}return{position:null,hitTarget:r}};a._doHitTestWithCaretPositionFromPoint=function(e,t){var i=document.caretPositionFromPoint(t.clientX,t.clientY);if(i.offsetNode.nodeType===i.offsetNode.TEXT_NODE){var n=i.offsetNode.parentNode;var r=n?n.parentNode:null;var o=r?r.parentNode:null;var s=o&&o.nodeType===o.ELEMENT_NODE?o.className:null;if(s===d.ViewLine.CLASS_NAME){var a=e.getPositionFromDOMInfo(i.offsetNode.parentNode,i.offset);return{position:a,hitTarget:null}}else{return{position:null,hitTarget:i.offsetNode.parentNode}}}return{position:null,hitTarget:i.offsetNode}};a._doHitTestWithMoveToPoint=function(e,t){var i=null;var n=null;var r=document.body.createTextRange();try{r.moveToPoint(t.clientX,t.clientY)}catch(e){return{position:null,hitTarget:null}}r.collapse(true);var o=r?r.parentElement():null;var s=o?o.parentNode:null;var a=s?s.parentNode:null;var u=a&&a.nodeType===a.ELEMENT_NODE?a.className:"";if(u===d.ViewLine.CLASS_NAME){var l=r.duplicate();l.moveToElementText(o);l.setEndPoint("EndToStart",r);i=e.getPositionFromDOMInfo(o,l.text.length);l.moveToElementText(e.viewDomNode)}else{n=o}r.moveToElementText(e.viewDomNode);return{position:i,hitTarget:n}};a._doHitTest=function(e,t){if(document.caretRangeFromPoint){return this._doHitTestWithCaretRangeFromPoint(e,t)}else if(document.caretPositionFromPoint){return this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates())}else if(document.body.createTextRange){return this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates())}return{position:null,hitTarget:null}};return a}();t.MouseTargetFactory=n});define(r[495],e([0,1,2,15,31,10,12,20,81,193,24,18,137,42,144]),function(e,t,i,h,f,u,l,a,n,c,p,d,g,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});function _(n){return function(e,t){var i=false;if(n){i=n.mouseTargetIsWidget(t)}if(!i){t.preventDefault()}return t}}var r=function(s){pe(a,s);function a(e,t,i){var r=s.call(this)||this;r._isFocused=false;r._context=e;r.viewController=t;r.viewHelper=i;r.mouseTargetFactory=new c.MouseTargetFactory(r._context,i);r._mouseDownOperation=r._register(new y(r._context,r.viewController,r.viewHelper,function(e,t){return r._createMouseTarget(e,t)},function(e){return r._getMouseColumn(e)}));r._asyncFocus=r._register(new d.RunOnceScheduler(function(){return r.viewHelper.focusTextArea()},0));r.lastMouseLeaveTime=-1;var n=new g.EditorMouseEventFactory(r.viewHelper.viewDomNode);r._register(n.onContextMenu(r.viewHelper.viewDomNode,function(e){return r._onContextMenu(e,true)}));r._register(n.onMouseMoveThrottled(r.viewHelper.viewDomNode,function(e){return r._onMouseMove(e)},_(r.mouseTargetFactory),a.MOUSE_MOVE_MINIMUM_TIME));r._register(n.onMouseUp(r.viewHelper.viewDomNode,function(e){return r._onMouseUp(e)}));r._register(n.onMouseLeave(r.viewHelper.viewDomNode,function(e){return r._onMouseLeave(e)}));r._register(n.onMouseDown(r.viewHelper.viewDomNode,function(e){return r._onMouseDown(e)}));var o=function(e){if(!r._context.configuration.editor.viewInfo.mouseWheelZoom){return}var t=new v.StandardMouseWheelEvent(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var i=m.EditorZoom.getZoomLevel();var n=t.deltaY>0?1:-1;m.EditorZoom.setZoomLevel(i+n);t.preventDefault();t.stopPropagation()}};r._register(u.addDisposableListener(r.viewHelper.viewDomNode,"mousewheel",o,true));r._register(u.addDisposableListener(r.viewHelper.viewDomNode,"DOMMouseScroll",o,true));r._context.addEventHandler(r);return r}a.prototype.dispose=function(){this._context.removeEventHandler(this);s.prototype.dispose.call(this)};a.prototype.onCursorStateChanged=function(e){this._mouseDownOperation.onCursorStateChanged(e);return false};a.prototype.onFocusChanged=function(e){this._isFocused=e.isFocused;return false};a.prototype.onScrollChanged=function(e){this._mouseDownOperation.onScrollChanged();return false};a.prototype.getTargetAtClientPoint=function(e,t){var i=new g.ClientCoordinates(e,t);var n=i.toPageCoordinates();var r=g.createEditorPagePosition(this.viewHelper.viewDomNode);if(n.y<r.y||n.y>r.y+r.height||n.x<r.x||n.x>r.x+r.width){return null}var o=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(o,r,n,null)};a.prototype._createMouseTarget=function(e,t){var i=this.viewHelper.getLastViewCursorsRenderData();return this.mouseTargetFactory.createMouseTarget(i,e.editorPos,e.pos,t?e.target:null)};a.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)};a.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})};a.prototype._onMouseMove=function(e){if(this._mouseDownOperation.isActive()){return}var t=e.timestamp;if(t<this.lastMouseLeaveTime){return}this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,true)})};a.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime();this.viewController.emitMouseLeave({event:e,target:null})};a.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,true)})};a.prototype._onMouseDown=function(e){var t=this;var i=this._createMouseTarget(e,true);var n=i.type===p.MouseTargetType.CONTENT_TEXT||i.type===p.MouseTargetType.CONTENT_EMPTY;var r=i.type===p.MouseTargetType.GUTTER_GLYPH_MARGIN||i.type===p.MouseTargetType.GUTTER_LINE_NUMBERS||i.type===p.MouseTargetType.GUTTER_LINE_DECORATIONS;var o=i.type===p.MouseTargetType.GUTTER_LINE_NUMBERS;var s=this._context.configuration.editor.viewInfo.selectOnLineNumbers;var a=i.type===p.MouseTargetType.CONTENT_VIEW_ZONE||i.type===p.MouseTargetType.GUTTER_VIEW_ZONE;var u=i.type===p.MouseTargetType.CONTENT_WIDGET;var l=e.leftButton;if(h.isMacintosh&&e.ctrlKey){l=false}var c=function(){if(f.isIE&&!t._isFocused){t._asyncFocus.schedule()}else{e.preventDefault();t.viewHelper.focusTextArea()}};if(l&&(n||o&&s)){c();this._mouseDownOperation.start(i.type,e)}else if(r){e.preventDefault()}else if(a){var d=i.detail;if(this.viewHelper.shouldSuppressMouseDownOnViewZone(d.viewZoneId)){c();this._mouseDownOperation.start(i.type,e);e.preventDefault()}}else if(u&&this.viewHelper.shouldSuppressMouseDownOnWidget(i.detail)){c();e.preventDefault()}this.viewController.emitMouseDown({event:e,target:i})};a.MOUSE_MOVE_MINIMUM_TIME=100;return a}(n.ViewEventHandler);t.MouseHandler=r;var y=function(s){pe(e,s);function e(e,t,i,n,r){var o=s.call(this)||this;o._context=e;o._viewController=t;o._viewHelper=i;o._createMouseTarget=n;o._getMouseColumn=r;o._mouseMoveMonitor=o._register(new g.GlobalEditorMouseMoveMonitor(o._viewHelper.viewDomNode));o._onScrollTimeout=o._register(new d.TimeoutTimer);o._mouseState=new C;o._currentSelection=new a.Selection(1,1,1,1);o._isActive=false;o._lastMouseEvent=null;return o}e.prototype.dispose=function(){s.prototype.dispose.call(this)};e.prototype.isActive=function(){return this._isActive};e.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e;this._mouseState.setModifiers(e);var t=this._findMousePosition(e,true);if(!t){return}if(this._mouseState.isDragAndDrop){this._viewController.emitMouseDrag({event:e,target:t})}else{this._dispatchMouse(t,true)}};e.prototype.start=function(e,t){var i=this;this._lastMouseEvent=t;this._mouseState.setStartedOnLineNumbers(e===p.MouseTargetType.GUTTER_LINE_NUMBERS);this._mouseState.setModifiers(t);var n=this._findMousePosition(t,true);if(!n){return}this._mouseState.trySetCount(t.detail,n.position);t.detail=this._mouseState.count;if(!this._context.configuration.editor.readOnly&&this._context.configuration.editor.dragAndDrop&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&this._currentSelection.containsPosition(n.position)){this._mouseState.isDragAndDrop=true;this._isActive=true;this._mouseMoveMonitor.startMonitoring(_(null),function(e){return i._onMouseDownThenMove(e)},function(){var e=i._findMousePosition(i._lastMouseEvent,true);i._viewController.emitMouseDrop({event:i._lastMouseEvent,target:e?i._createMouseTarget(i._lastMouseEvent,true):null});i._stop()});return}this._mouseState.isDragAndDrop=false;this._dispatchMouse(n,t.shiftKey);if(!this._isActive){this._isActive=true;this._mouseMoveMonitor.startMonitoring(_(null),function(e){return i._onMouseDownThenMove(e)},function(){return i._stop()})}};e.prototype._stop=function(){this._isActive=false;this._onScrollTimeout.cancel()};e.prototype.onScrollChanged=function(){var t=this;if(!this._isActive){return}this._onScrollTimeout.setIfNotSet(function(){var e=t._findMousePosition(t._lastMouseEvent,false);if(!e){return}if(t._mouseState.isDragAndDrop){return}t._dispatchMouse(e,true)},10)};e.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]};e.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos;var i=this._context.model;var n=this._context.viewLayout;var r=this._getMouseColumn(e);if(e.posy<t.y){var o=n.getLineNumberAtVerticalOffset(Math.max(n.getCurrentScrollTop()-(t.y-e.posy),0));return new c.MouseTarget(null,p.MouseTargetType.OUTSIDE_EDITOR,r,new l.Position(o,1))}if(e.posy>t.y+t.height){var s=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));return new c.MouseTarget(null,p.MouseTargetType.OUTSIDE_EDITOR,r,new l.Position(s,i.getLineMaxColumn(s)))}var a=n.getLineNumberAtVerticalOffset(n.getCurrentScrollTop()+(e.posy-t.y));if(e.posx<t.x){return new c.MouseTarget(null,p.MouseTargetType.OUTSIDE_EDITOR,r,new l.Position(a,1))}if(e.posx>t.x+t.width){return new c.MouseTarget(null,p.MouseTargetType.OUTSIDE_EDITOR,r,new l.Position(a,i.getLineMaxColumn(a)))}return null};e.prototype._findMousePosition=function(e,t){var i=this._getPositionOutsideEditor(e);if(i){return i}var n=this._createMouseTarget(e,t);var r=n.position;if(!r){return null}if(n.type===p.MouseTargetType.CONTENT_VIEW_ZONE||n.type===p.MouseTargetType.GUTTER_VIEW_ZONE){var o=new l.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn);var s=n.detail;var a=s.positionBefore;var u=s.positionAfter;if(a&&u){if(a.isBefore(o)){return new c.MouseTarget(n.element,n.type,n.mouseColumn,a,null,n.detail)}else{return new c.MouseTarget(n.element,n.type,n.mouseColumn,u,null,n.detail)}}}return n};e.prototype._dispatchMouse=function(e,t){this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey})};return e}(i.Disposable);var C=function(){function n(){this._altKey=false;this._ctrlKey=false;this._metaKey=false;this._shiftKey=false;this._startedOnLineNumbers=false;this._lastMouseDownPosition=null;this._lastMouseDownPositionEqualCount=0;this._lastMouseDownCount=0;this._lastSetMouseDownCountTime=0;this.isDragAndDrop=false}Object.defineProperty(n.prototype,"altKey",{get:function(){return this._altKey},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:true,configurable:true});n.prototype.setModifiers=function(e){this._altKey=e.altKey;this._ctrlKey=e.ctrlKey;this._metaKey=e.metaKey;this._shiftKey=e.shiftKey};n.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e};n.prototype.trySetCount=function(e,t){var i=(new Date).getTime();if(i-this._lastSetMouseDownCountTime>n.CLEAR_MOUSE_DOWN_COUNT_TIME){e=1}this._lastSetMouseDownCountTime=i;if(e>this._lastMouseDownCount+1){e=this._lastMouseDownCount+1}if(this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(t)){this._lastMouseDownPositionEqualCount++}else{this._lastMouseDownPositionEqualCount=1}this._lastMouseDownPosition=t;this._lastMouseDownCount=Math.min(e,this._lastMouseDownPositionEqualCount)};n.CLEAR_MOUSE_DOWN_COUNT_TIME=400;return n}()});define(r[496],e([0,1,10,71,495,137]),function(e,t,o,s,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});function u(e,t){var i={translationY:t.translationY,translationX:t.translationX};if(e){i.translationY+=e.translationY;i.translationX+=e.translationX}return i}var r=function(n){pe(e,n);function e(e,t,i){var r=n.call(this,e,t,i)||this;r.viewHelper.linesContentDomNode.style.msTouchAction="none";r.viewHelper.linesContentDomNode.style.msContentZooming="none";r._installGestureHandlerTimeout=window.setTimeout(function(){r._installGestureHandlerTimeout=-1;if(window.MSGesture){var i=new MSGesture;var n=new MSGesture;i.target=r.viewHelper.linesContentDomNode;n.target=r.viewHelper.linesContentDomNode;r.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",function(e){var t=e.pointerType;if(t===(e.MSPOINTER_TYPE_MOUSE||"mouse")){r._lastPointerType="mouse";return}else if(t===(e.MSPOINTER_TYPE_TOUCH||"touch")){r._lastPointerType="touch";i.addPointer(e.pointerId)}else{r._lastPointerType="pen";n.addPointer(e.pointerId)}});r._register(o.addDisposableThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},u));r._register(o.addDisposableListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},true))}},100);r._lastPointerType="mouse";return r}e.prototype._onMouseDown=function(e){if(this._lastPointerType==="mouse"){n.prototype._onMouseDown.call(this,e)}};e.prototype._onCaptureGestureTap=function(e){var t=this;var i=new a.EditorMouseEvent(e,this.viewHelper.viewDomNode);var n=this._createMouseTarget(i,false);if(n.position){this.viewController.moveTo(n.position)}if(i.browserEvent.fromElement){i.preventDefault();this.viewHelper.focusTextArea()}else{setTimeout(function(){t.viewHelper.focusTextArea()})}};e.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)};e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout);n.prototype.dispose.call(this)};return e}(n.MouseHandler);var l=function(n){pe(e,n);function e(e,t,i){var r=n.call(this,e,t,i)||this;r.viewHelper.linesContentDomNode.style.touchAction="none";r._installGestureHandlerTimeout=window.setTimeout(function(){r._installGestureHandlerTimeout=-1;if(window.MSGesture){var i=new MSGesture;var n=new MSGesture;i.target=r.viewHelper.linesContentDomNode;n.target=r.viewHelper.linesContentDomNode;r.viewHelper.linesContentDomNode.addEventListener("pointerdown",function(e){var t=e.pointerType;if(t==="mouse"){r._lastPointerType="mouse";return}else if(t==="touch"){r._lastPointerType="touch";i.addPointer(e.pointerId)}else{r._lastPointerType="pen";n.addPointer(e.pointerId)}});r._register(o.addDisposableThrottledListener(r.viewHelper.linesContentDomNode,"MSGestureChange",function(e){return r._onGestureChange(e)},u));r._register(o.addDisposableListener(r.viewHelper.linesContentDomNode,"MSGestureTap",function(e){return r._onCaptureGestureTap(e)},true))}},100);r._lastPointerType="mouse";return r}e.prototype._onMouseDown=function(e){if(this._lastPointerType==="mouse"){n.prototype._onMouseDown.call(this,e)}};e.prototype._onCaptureGestureTap=function(e){var t=this;var i=new a.EditorMouseEvent(e,this.viewHelper.viewDomNode);var n=this._createMouseTarget(i,false);if(n.position){this.viewController.moveTo(n.position)}if(i.browserEvent.fromElement){i.preventDefault();this.viewHelper.focusTextArea()}else{setTimeout(function(){t.viewHelper.focusTextArea()})}};e.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)};e.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout);n.prototype.dispose.call(this)};return e}(n.MouseHandler);var c=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,t,i)||this;s.Gesture.addTarget(n.viewHelper.linesContentDomNode);n._register(o.addDisposableListener(n.viewHelper.linesContentDomNode,s.EventType.Tap,function(e){return n.onTap(e)}));n._register(o.addDisposableListener(n.viewHelper.linesContentDomNode,s.EventType.Change,function(e){return n.onChange(e)}));n._register(o.addDisposableListener(n.viewHelper.linesContentDomNode,s.EventType.Contextmenu,function(e){return n._onContextMenu(new a.EditorMouseEvent(e,n.viewHelper.viewDomNode),false)}));return n}e.prototype.dispose=function(){r.prototype.dispose.call(this)};e.prototype.onTap=function(e){e.preventDefault();this.viewHelper.focusTextArea();var t=this._createMouseTarget(new a.EditorMouseEvent(e,this.viewHelper.viewDomNode),false);if(t.position){this.viewController.moveTo(t.position)}};e.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)};return e}(n.MouseHandler);var i=function(){function e(e,t,i){if(window.navigator.msPointerEnabled){this.handler=new r(e,t,i)}else if(window.TouchEvent){this.handler=new c(e,t,i)}else if(window.navigator.pointerEnabled||window.PointerEvent){this.handler=new l(e,t,i)}else{this.handler=new n.MouseHandler(e,t,i)}}e.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)};e.prototype.dispose=function(){this.handler.dispose()};return e}();t.PointerHandler=i});define(r[497],e([0,1,2,193]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t.onDidScroll=null;t.onDidGainFocus=null;t.onDidLoseFocus=null;t.onKeyDown=null;t.onKeyUp=null;t.onContextMenu=null;t.onMouseMove=null;t.onMouseLeave=null;t.onMouseUp=null;t.onMouseDown=null;t.onMouseDrag=null;t.onMouseDrop=null;t._viewModel=e;return t}e.prototype.emitScrollChanged=function(e){if(this.onDidScroll){this.onDidScroll(e)}};e.prototype.emitViewFocusGained=function(){if(this.onDidGainFocus){this.onDidGainFocus(void 0)}};e.prototype.emitViewFocusLost=function(){if(this.onDidLoseFocus){this.onDidLoseFocus(void 0)}};e.prototype.emitKeyDown=function(e){if(this.onKeyDown){this.onKeyDown(e)}};e.prototype.emitKeyUp=function(e){if(this.onKeyUp){this.onKeyUp(e)}};e.prototype.emitContextMenu=function(e){if(this.onContextMenu){this.onContextMenu(this._convertViewToModelMouseEvent(e))}};e.prototype.emitMouseMove=function(e){if(this.onMouseMove){this.onMouseMove(this._convertViewToModelMouseEvent(e))}};e.prototype.emitMouseLeave=function(e){if(this.onMouseLeave){this.onMouseLeave(this._convertViewToModelMouseEvent(e))}};e.prototype.emitMouseUp=function(e){if(this.onMouseUp){this.onMouseUp(this._convertViewToModelMouseEvent(e))}};e.prototype.emitMouseDown=function(e){if(this.onMouseDown){this.onMouseDown(this._convertViewToModelMouseEvent(e))}};e.prototype.emitMouseDrag=function(e){if(this.onMouseDrag){this.onMouseDrag(this._convertViewToModelMouseEvent(e))}};e.prototype.emitMouseDrop=function(e){if(this.onMouseDrop){this.onMouseDrop(this._convertViewToModelMouseEvent(e))}};e.prototype._convertViewToModelMouseEvent=function(e){if(e.target){return{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}}return e};e.prototype._convertViewToModelMouseTarget=function(e){return new o(e.element,e.type,e.mouseColumn,e.position?this._convertViewToModelPosition(e.position):null,e.range?this._convertViewToModelRange(e.range):null,e.detail)};e.prototype._convertViewToModelPosition=function(e){return this._viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)};e.prototype._convertViewToModelRange=function(e){return this._viewModel.coordinatesConverter.convertViewRangeToModelRange(e)};return e}(i.Disposable);t.ViewOutgoingEvents=r;var o=function(){function e(e,t,i,n,r,o){this.element=e;this.type=t;this.mouseColumn=i;this.position=n;this.range=r;this.detail=o}e.prototype.toString=function(){return n.MouseTarget.toString(this)};return e}()});define(r[498],e([0,1,18,3,12,134,192,65,86,35,57,283]),function(e,t,o,p,g,s,v,a,m,u,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function e(){this._currentVisibleRange=new p.Range(1,1,1,1)}e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange};e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e};return e}();var c=function(){function e(e,t,i,n,r,o){this.lineNumber=e;this.startColumn=t;this.endColumn=i;this.startScrollTop=n;this.stopScrollTop=r;this.scrollType=o}return e}();var n=function(r){pe(f,r);function f(e,t){var i=r.call(this,e)||this;i._linesContent=t;i._textRangeRestingSpot=document.createElement("div");i._visibleLines=new s.VisibleLinesCollection(i);i.domNode=i._visibleLines.domNode;var n=i._context.configuration;i._lineHeight=n.editor.lineHeight;i._typicalHalfwidthCharacterWidth=n.editor.fontInfo.typicalHalfwidthCharacterWidth;i._isViewportWrapping=n.editor.wrappingInfo.isViewportWrapping;i._revealHorizontalRightPadding=n.editor.viewInfo.revealHorizontalRightPadding;i._canUseLayerHinting=n.editor.canUseLayerHinting;i._viewLineOptions=new v.ViewLineOptions(n,i._context.theme.type);u.PartFingerprints.write(i.domNode,7);i.domNode.setClassName("view-lines");a.Configuration.applyFontInfo(i.domNode,n.editor.fontInfo);i._maxLineWidth=0;i._asyncUpdateLineWidths=new o.RunOnceScheduler(function(){i._updateLineWidthsSlow()},200);i._lastRenderedData=new l;i._horizontalRevealRequest=null;return i}f.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose();r.prototype.dispose.call(this)};f.prototype.getDomNode=function(){return this.domNode};f.prototype.createVisibleLine=function(){return new v.ViewLine(this._viewLineOptions)};f.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);if(e.wrappingInfo){this._maxLineWidth=0}var t=this._context.configuration;if(e.lineHeight){this._lineHeight=t.editor.lineHeight}if(e.fontInfo){this._typicalHalfwidthCharacterWidth=t.editor.fontInfo.typicalHalfwidthCharacterWidth}if(e.wrappingInfo){this._isViewportWrapping=t.editor.wrappingInfo.isViewportWrapping}if(e.viewInfo){this._revealHorizontalRightPadding=t.editor.viewInfo.revealHorizontalRightPadding}if(e.canUseLayerHinting){this._canUseLayerHinting=t.editor.canUseLayerHinting}if(e.fontInfo){a.Configuration.applyFontInfo(this.domNode,t.editor.fontInfo)}this._onOptionsMaybeChanged();if(e.layoutInfo){this._maxLineWidth=0}return true};f.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration;var t=new v.ViewLineOptions(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;var i=this._visibleLines.getStartLineNumber();var n=this._visibleLines.getEndLineNumber();for(var r=i;r<=n;r++){var o=this._visibleLines.getVisibleLine(r);o.onOptionsChanged(this._viewLineOptions)}return true}return false};f.prototype.onCursorStateChanged=function(e){var t=this._visibleLines.getStartLineNumber();var i=this._visibleLines.getEndLineNumber();var n=false;for(var r=t;r<=i;r++){n=this._visibleLines.getVisibleLine(r).onSelectionChanged()||n}return n};f.prototype.onDecorationsChanged=function(e){if(true){var t=this._visibleLines.getStartLineNumber();var i=this._visibleLines.getEndLineNumber();for(var n=t;n<=i;n++){this._visibleLines.getVisibleLine(n).onDecorationsChanged()}}return true};f.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);this._maxLineWidth=0;return t};f.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)};f.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)};f.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)};f.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.range,e.verticalType);var i=this._context.viewLayout.validateScrollPosition({scrollTop:t});if(e.revealHorizontal){if(e.range.startLineNumber!==e.range.endLineNumber){i={scrollTop:i.scrollTop,scrollLeft:0}}else{this._horizontalRevealRequest=new c(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),i.scrollTop,e.scrollType)}}else{this._horizontalRevealRequest=null}var n=Math.abs(this._context.viewLayout.getCurrentScrollTop()-i.scrollTop);if(e.scrollType===0&&n>this._lineHeight){this._context.viewLayout.setScrollPositionSmooth(i)}else{this._context.viewLayout.setScrollPositionNow(i)}return true};f.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged){this._horizontalRevealRequest=null}if(this._horizontalRevealRequest&&e.scrollTopChanged){var t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);var i=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);if(e.scrollTop<t||e.scrollTop>i){this._horizontalRevealRequest=null}}this.domNode.setWidth(e.scrollWidth);return this._visibleLines.onScrollChanged(e)||true};f.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)};f.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)};f.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()};f.prototype.getPositionFromDOMInfo=function(e,t){var i=this._getViewLineDomNode(e);if(i===null){return null}var n=this._getLineNumberFor(i);if(n===-1){return null}if(n<1||n>this._context.model.getLineCount()){return null}if(this._context.model.getLineMaxColumn(n)===1){return new g.Position(n,1)}var r=this._visibleLines.getStartLineNumber();var o=this._visibleLines.getEndLineNumber();if(n<r||n>o){return null}var s=this._visibleLines.getVisibleLine(n).getColumnOfNodeOffset(n,e,t);var a=this._context.model.getLineMinColumn(n);if(s<a){s=a}return new g.Position(n,s)};f.prototype._getViewLineDomNode=function(e){while(e&&e.nodeType===1){if(e.className===v.ViewLine.CLASS_NAME){return e}e=e.parentElement}return null};f.prototype._getLineNumberFor=function(e){var t=this._visibleLines.getStartLineNumber();var i=this._visibleLines.getEndLineNumber();for(var n=t;n<=i;n++){var r=this._visibleLines.getVisibleLine(n);if(e===r.getDomNode()){return n}}return-1};f.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber();var i=this._visibleLines.getEndLineNumber();if(e<t||e>i){return-1}return this._visibleLines.getVisibleLine(e).getWidth()};f.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender()){return null}var i=e.endLineNumber;e=p.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!e){return null}var n=[],r=0;var o=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);var s;if(t){s=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new g.Position(e.startLineNumber,1)).lineNumber}var a=this._visibleLines.getStartLineNumber();var u=this._visibleLines.getEndLineNumber();for(var l=e.startLineNumber;l<=e.endLineNumber;l++){if(l<a||l>u){continue}var c=l===e.startLineNumber?e.startColumn:1;var d=l===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(l);var h=this._visibleLines.getVisibleLine(l).getVisibleRangesForRange(c,d,o);if(!h||h.length===0){continue}if(t&&l<i){var f=s;s=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new g.Position(l+1,1)).lineNumber;if(f!==s){h[h.length-1].width+=this._typicalHalfwidthCharacterWidth}}n[r++]=new m.LineVisibleRanges(l,h)}if(r===0){return null}return n};f.prototype.visibleRangesForRange2=function(e){if(this.shouldRender()){return null}e=p.Range.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!e){return null}var t=[];var i=new v.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);var n=this._visibleLines.getStartLineNumber();var r=this._visibleLines.getEndLineNumber();for(var o=e.startLineNumber;o<=e.endLineNumber;o++){if(o<n||o>r){continue}var s=o===e.startLineNumber?e.startColumn:1;var a=o===e.endLineNumber?e.endColumn:this._context.model.getLineMaxColumn(o);var u=this._visibleLines.getVisibleLine(o).getVisibleRangesForRange(s,a,i);if(!u||u.length===0){continue}t=t.concat(u)}if(t.length===0){return null}return t};f.prototype.updateLineWidths=function(){this._updateLineWidths(false)};f.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(true)};f.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(false)};f.prototype._updateLineWidths=function(e){var t=this._visibleLines.getStartLineNumber();var i=this._visibleLines.getEndLineNumber();var n=1;var r=true;for(var o=t;o<=i;o++){var s=this._visibleLines.getVisibleLine(o);if(e&&!s.getWidthIsFast()){r=false;continue}n=Math.max(n,s.getWidth())}if(r&&t===1&&i===this._context.model.getLineCount()){this._maxLineWidth=0}this._ensureMaxLineWidth(n);return r};f.prototype.prepareRender=function(){throw new Error("Not supported")};f.prototype.render=function(){throw new Error("Not supported")};f.prototype.renderText=function(e){this._visibleLines.renderLines(e);this._lastRenderedData.setCurrentVisibleRange(e.visibleRange);this.domNode.setWidth(this._context.viewLayout.getScrollWidth());this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6));if(this._horizontalRevealRequest){var t=this._horizontalRevealRequest.lineNumber;var i=this._horizontalRevealRequest.startColumn;var n=this._horizontalRevealRequest.endColumn;var r=this._horizontalRevealRequest.scrollType;if(e.startLineNumber<=t&&t<=e.endLineNumber){this._horizontalRevealRequest=null;this.onDidRender();var o=this._computeScrollLeftToRevealRange(t,i,n);var s=this._isViewportWrapping;if(!s){this._ensureMaxLineWidth(o.maxHorizontalOffset)}if(r===0){this._context.viewLayout.setScrollPositionSmooth({scrollLeft:o.scrollLeft})}else{this._context.viewLayout.setScrollPositionNow({scrollLeft:o.scrollLeft})}}}if(!this._updateLineWidthsFast()){this._asyncUpdateLineWidths.schedule()}this._linesContent.setLayerHinting(this._canUseLayerHinting);var a=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-a);this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())};f.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);if(this._maxLineWidth<t){this._maxLineWidth=t;this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth)}};f.prototype._computeScrollTopToRevealRange=function(e,t,i){var n=e.top;var r=e.height;var o=n+r;var s;var a;s=this._context.viewLayout.getVerticalOffsetForLineNumber(t.startLineNumber);a=this._context.viewLayout.getVerticalOffsetForLineNumber(t.endLineNumber)+this._lineHeight;if(i===0||i===4){a+=this._lineHeight}var u;if(i===1||i===2){if(i===2&&n<=s&&a<=o){u=n}else{var l=(s+a)/2;u=Math.max(0,l-r/2)}}else{u=this._computeMinimumScrolling(n,o,s,a,i===3,i===4)}return u};f.prototype._computeScrollLeftToRevealRange=function(e,t,i){var n=0;var r=this._context.viewLayout.getCurrentViewport();var o=r.left;var s=o+r.width;var a=this.visibleRangesForRange2(new p.Range(e,t,e,i));var u=Number.MAX_VALUE;var l=0;if(!a){return{scrollLeft:o,maxHorizontalOffset:n}}for(var c=0;c<a.length;c++){var d=a[c];if(d.left<u){u=d.left}if(d.left+d.width>l){l=d.left+d.width}}n=l;u=Math.max(0,u-f.HORIZONTAL_EXTRA_PX);l+=this._revealHorizontalRightPadding;var h=this._computeMinimumScrolling(o,s,u,l);return{scrollLeft:h,maxHorizontalOffset:n}};f.prototype._computeMinimumScrolling=function(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=!!r;o=!!o;var s=t-e;var a=n-i;if(a<s){if(r){return i}if(o){return Math.max(0,n-s)}if(i<e){return i}else if(n>t){return Math.max(0,n-s)}}else{return i}return e};f.HORIZONTAL_EXTRA_PX=30;return f}(u.ViewPart);t.ViewLines=n});define(r[499],e([0,1,35,225,10,145,33,28,134,3,57,78,15,16,22,289]),function(e,t,i,E,n,r,o,a,s,u,l,c,d,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p;(function(e){e[e["None"]=0]="None";e[e["Small"]=1]="Small";e[e["Large"]=2]="Large";e[e["SmallBlocks"]=3]="SmallBlocks";e[e["LargeBlocks"]=4]="LargeBlocks"})(p||(p={}));function L(e){if(e===2){return 4}if(e===4){return 4+2}if(e===1){return 2}return 2+1}function x(e){if(e===2){return 2}if(e===4){return 2}if(e===1){return 1}return 1}var g=140;var v=function(){function e(e){var t=e.editor.pixelRatio;var i=e.editor.layoutInfo;var n=e.editor.viewInfo;var r=e.editor.fontInfo;this.renderMinimap=i.renderMinimap|0;this.scrollBeyondLastLine=n.scrollBeyondLastLine;this.showSlider=n.minimap.showSlider;this.pixelRatio=t;this.typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth;this.lineHeight=e.editor.lineHeight;this.minimapLeft=i.minimapLeft;this.minimapWidth=i.minimapWidth;this.minimapHeight=i.height;this.canvasInnerWidth=Math.max(1,Math.floor(t*this.minimapWidth));this.canvasInnerHeight=Math.max(1,Math.floor(t*this.minimapHeight));this.canvasOuterWidth=this.canvasInnerWidth/t;this.canvasOuterHeight=this.canvasInnerHeight/t}e.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight};return e}();var m=function(){function b(e,t,i,n,r,o,s){this.scrollTop=e;this.scrollHeight=t;this._computedSliderRatio=i;this.sliderTop=n;this.sliderHeight=r;this.startLineNumber=o;this.endLineNumber=s}b.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)};b.create=function(e,t,i,n,r,o,s,a,u){var l=e.pixelRatio;var c=L(e.renderMinimap);var d=Math.floor(e.canvasInnerHeight/c);var h=e.lineHeight;var f;if(r&&i!==o){var p=i-t+1;f=Math.floor(p*c/l)}else{var g=n/h;f=Math.floor(g*c/l)}var v;if(e.scrollBeyondLastLine){v=(o-1)*c/l}else{v=Math.max(0,o*c/l-f)}v=Math.min(e.minimapHeight-f,v);var m=v/(a-n);var _=s*m;if(d>=o){var y=1;var C=o;return new b(s,a,m,_,f,y,C)}else{var y=Math.max(1,Math.floor(t-_*l/c));if(u&&u.scrollHeight===a){if(u.scrollTop>s){y=Math.min(y,u.startLineNumber)}if(u.scrollTop<s){y=Math.max(y,u.startLineNumber)}}var C=Math.min(o,y+d-1);return new b(s,a,m,_,f,y,C)}};return b}();var N=function(){function e(e){this.dy=e}e.prototype.onContentChanged=function(){this.dy=-1};e.prototype.onTokensChanged=function(){this.dy=-1};e.INVALID=new e(-1);return e}();var I=function(){function e(e,t,i){this.renderedLayout=e;this._imageData=t;this._renderedLines=new s.RenderedLinesCollection(function(){return N.INVALID});this._renderedLines._set(e.startLineNumber,i)}e.prototype.linesEquals=function(e){if(this.renderedLayout.startLineNumber!==e.startLineNumber){return false}if(this.renderedLayout.endLineNumber!==e.endLineNumber){return false}var t=this._renderedLines._get();var i=t.lines;for(var n=0,r=i.length;n<r;n++){if(i[n].dy===-1){return false}}return true};e.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}};e.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)};e.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)};e.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)};e.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)};return e}();var _=function(){function r(e,t,i,n){this._backgroundFillData=r._createBackgroundFillData(t,i,n);this._buffers=[e.createImageData(t,i),e.createImageData(t,i)];this._lastUsedBuffer=0}r.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];e.data.set(this._backgroundFillData);return e};r._createBackgroundFillData=function(e,t,i){var n=i.r;var r=i.g;var o=i.b;var s=new Uint8ClampedArray(e*t*4);var a=0;for(var u=0;u<t;u++){for(var l=0;l<e;l++){s[a]=n;s[a+1]=r;s[a+2]=o;s[a+3]=255;a+=4}}return s};return r}();var y=function(t){pe(w,t);function w(e){var s=t.call(this,e)||this;s._options=new v(s._context.configuration);s._lastRenderData=null;s._buffers=null;s._domNode=a.createFastDomNode(document.createElement("div"));i.PartFingerprints.write(s._domNode,8);s._domNode.setClassName(s._getMinimapDomNodeClassName());s._domNode.setPosition("absolute");s._domNode.setAttribute("role","presentation");s._domNode.setAttribute("aria-hidden","true");s._shadow=a.createFastDomNode(document.createElement("div"));s._shadow.setClassName("minimap-shadow-hidden");s._domNode.appendChild(s._shadow);s._canvas=a.createFastDomNode(document.createElement("canvas"));s._canvas.setPosition("absolute");s._canvas.setLeft(0);s._domNode.appendChild(s._canvas);s._slider=a.createFastDomNode(document.createElement("div"));s._slider.setPosition("absolute");s._slider.setClassName("minimap-slider");s._slider.setLayerHinting(true);s._domNode.appendChild(s._slider);s._sliderHorizontal=a.createFastDomNode(document.createElement("div"));s._sliderHorizontal.setPosition("absolute");s._sliderHorizontal.setClassName("minimap-slider-horizontal");s._slider.appendChild(s._sliderHorizontal);s._tokensColorTracker=r.MinimapTokensColorTracker.getInstance();s._applyLayout();s._mouseDownListener=n.addStandardDisposableListener(s._canvas.domNode,"mousedown",function(e){e.preventDefault();var t=s._options.renderMinimap;if(t===0){return}if(!s._lastRenderData){return}var i=L(t);var n=s._options.pixelRatio*e.browserEvent.offsetY;var r=Math.floor(n/i);var o=r+s._lastRenderData.renderedLayout.startLineNumber;o=Math.min(o,s._context.model.getLineCount());s._context.privateViewEventBus.emit(new l.ViewRevealRangeRequestEvent(new u.Range(o,1,o,1),1,false,0))});s._sliderMouseMoveMonitor=new c.GlobalMouseMoveMonitor;s._sliderMouseDownListener=n.addStandardDisposableListener(s._slider.domNode,"mousedown",function(e){e.preventDefault();if(e.leftButton&&s._lastRenderData){var n=e.posy;var r=e.posx;var o=s._lastRenderData.renderedLayout;s._slider.toggleClassName("active",true);s._sliderMouseMoveMonitor.startMonitoring(c.standardMouseMoveMerger,function(e){var t=Math.abs(e.posx-r);if(d.isWindows&&t>g){s._context.viewLayout.setScrollPositionNow({scrollTop:o.scrollTop});return}var i=e.posy-n;s._context.viewLayout.setScrollPositionNow({scrollTop:o.getDesiredScrollTopFromDelta(i)})},function(){s._slider.toggleClassName("active",false)})}});return s}w.prototype.dispose=function(){this._mouseDownListener.dispose();this._sliderMouseMoveMonitor.dispose();this._sliderMouseDownListener.dispose();t.prototype.dispose.call(this)};w.prototype._getMinimapDomNodeClassName=function(){if(this._options.showSlider==="always"){return"minimap slider-always"}return"minimap slider-mouseover"};w.prototype.getDomNode=function(){return this._domNode};w.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft);this._domNode.setWidth(this._options.minimapWidth);this._domNode.setHeight(this._options.minimapHeight);this._shadow.setHeight(this._options.minimapHeight);this._canvas.setWidth(this._options.canvasOuterWidth);this._canvas.setHeight(this._options.canvasOuterHeight);this._canvas.domNode.width=this._options.canvasInnerWidth;this._canvas.domNode.height=this._options.canvasInnerHeight;this._slider.setWidth(this._options.minimapWidth)};w.prototype._getBuffer=function(){if(!this._buffers){this._buffers=new _(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))}return this._buffers.getBuffer()};w.prototype._onOptionsMaybeChanged=function(){var e=new v(this._context.configuration);if(this._options.equals(e)){return false}this._options=e;this._lastRenderData=null;this._buffers=null;this._applyLayout();this._domNode.setClassName(this._getMinimapDomNodeClassName());return true};w.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()};w.prototype.onFlushed=function(e){this._lastRenderData=null;return true};w.prototype.onLinesChanged=function(e){if(this._lastRenderData){return this._lastRenderData.onLinesChanged(e)}return false};w.prototype.onLinesDeleted=function(e){if(this._lastRenderData){this._lastRenderData.onLinesDeleted(e)}return true};w.prototype.onLinesInserted=function(e){if(this._lastRenderData){this._lastRenderData.onLinesInserted(e)}return true};w.prototype.onScrollChanged=function(e){return true};w.prototype.onTokensChanged=function(e){if(this._lastRenderData){return this._lastRenderData.onTokensChanged(e)}return false};w.prototype.onTokensColorsChanged=function(e){this._lastRenderData=null;this._buffers=null;return true};w.prototype.onZonesChanged=function(e){this._lastRenderData=null;return true};w.prototype.prepareRender=function(e){};w.prototype.render=function(e){var t=this._options.renderMinimap;if(t===0){this._shadow.setClassName("minimap-shadow-hidden");this._sliderHorizontal.setWidth(0);this._sliderHorizontal.setHeight(0);return}if(e.scrollLeft+e.viewportWidth>=e.scrollWidth){this._shadow.setClassName("minimap-shadow-hidden")}else{this._shadow.setClassName("minimap-shadow-visible")}var i=m.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(i.sliderTop);this._slider.setHeight(i.sliderHeight);var n=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth;var r=Math.min(this._options.minimapWidth,Math.round(n*x(this._options.renderMinimap)/this._options.pixelRatio));this._sliderHorizontal.setLeft(r);this._sliderHorizontal.setWidth(this._options.minimapWidth-r);this._sliderHorizontal.setTop(0);this._sliderHorizontal.setHeight(i.sliderHeight);this._lastRenderData=this.renderLines(i)};w.prototype.renderLines=function(e){var t=this._options.renderMinimap;var i=e.startLineNumber;var n=e.endLineNumber;var r=L(t);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var o=this._lastRenderData._get();return new I(e,o.imageData,o.lines)}var s=this._getBuffer();var a=w._renderUntouchedLines(s,i,n,r,this._lastRenderData),u=a[0],l=a[1],c=a[2];var d=this._context.model.getMinimapLinesRenderingData(i,n,c);var h=d.tabSize;var f=this._tokensColorTracker.getColor(2);var p=this._tokensColorTracker.backgroundIsLight();var g=0;var v=[];for(var m=0,_=n-i+1;m<_;m++){if(c[m]){w._renderLine(s,f,p,t,this._tokensColorTracker,E.getOrCreateMinimapCharRenderer(),g,h,d.data[m])}v[m]=new N(g);g+=r}var y=u===-1?0:u;var C=l===-1?s.height:l;var b=C-y;var S=this._canvas.domNode.getContext("2d");S.putImageData(s,0,0,0,y,s.width,b);return new I(e,s,v)};w._renderUntouchedLines=function(e,t,i,n,r){var o=[];if(!r){for(var s=0,a=i-t+1;s<a;s++){o[s]=true}return[-1,-1,o]}var u=r._get();var l=u.imageData.data;var c=u.rendLineNumberStart;var d=u.lines;var h=d.length;var f=e.width;var p=e.data;var g=(i-t+1)*n*f*4;var v=-1;var m=-1;var _=-1;var y=-1;var C=-1;var b=-1;var S=0;for(var w=t;w<=i;w++){var E=w-t;var L=w-c;var x=L>=0&&L<h?d[L].dy:-1;if(x===-1){o[E]=true;S+=n;continue}var N=x*f*4;var I=(x+n)*f*4;var D=S*f*4;var T=(S+n)*f*4;if(y===N&&b===D){y=I;b=T}else{if(_!==-1){p.set(l.subarray(_,y),C);if(v===-1&&_===0&&_===C){v=y}if(m===-1&&y===g&&_===C){m=_}}_=N;y=I;C=D;b=T}o[E]=false;S+=n}if(_!==-1){p.set(l.subarray(_,y),C);if(v===-1&&_===0&&_===C){v=y}if(m===-1&&y===g&&_===C){m=_}}var M=v===-1?-1:v/(f*4);var k=m===-1?-1:m/(f*4);return[M,k,o]};w._renderLine=function(e,t,i,n,r,o,s,a,u){var l=u.content;var c=u.tokens;var d=x(n);var h=e.width-d;var f=0;var p=0;var g=0;for(var v=0,m=c.getCount();v<m;v++){var _=c.getEndOffset(v);var y=c.getForeground(v);var C=r.getColor(y);for(;p<_;p++){if(f>h){return}var b=l.charCodeAt(p);if(b===9){var S=a-(p+g)%a;g+=S-1;f+=S*d}else if(b===32){f+=d}else{if(n===2){o.x2RenderChar(e,f,s,b,C,t,i)}else if(n===1){o.x1RenderChar(e,f,s,b,C,t,i)}else if(n===4){o.x2BlockRenderChar(e,f,s,C,t,i)}else{o.x1BlockRenderChar(e,f,s,C,t,i)}f+=d}}}};return w}(i.ViewPart);t.Minimap=y;h.registerThemingParticipant(function(e,t){var i=e.getColor(f.scrollbarSliderBackground);if(i){var n=i.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+n+"; }")}var r=e.getColor(f.scrollbarSliderHoverBackground);if(r){var o=r.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+o+"; }")}var s=e.getColor(f.scrollbarSliderActiveBackground);if(s){var a=s.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var u=e.getColor(f.scrollbarShadow);if(u){t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+u+" -6px 0 6px -6px inset; }")}})});define(r[500],e([0,1,28,35,16,22,299]),function(e,t,n,i,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._scrollTop=0;t._width=0;t._updateWidth();t._shouldShow=false;t._useShadows=t._context.configuration.editor.viewInfo.scrollbar.useShadows;t._domNode=n.createFastDomNode(document.createElement("div"));t._domNode.setAttribute("role","presentation");t._domNode.setAttribute("aria-hidden","true");return t}e.prototype.dispose=function(){i.prototype.dispose.call(this)};e.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;if(this._shouldShow!==e){this._shouldShow=e;return true}return false};e.prototype.getDomNode=function(){return this._domNode};e.prototype._updateWidth=function(){var e=this._context.configuration.editor.layoutInfo;var t=e.width-e.minimapWidth;if(this._width!==t){this._width=t;return true}return false};e.prototype.onConfigurationChanged=function(e){var t=false;if(e.viewInfo){this._useShadows=this._context.configuration.editor.viewInfo.scrollbar.useShadows}if(e.layoutInfo){t=this._updateWidth()}return this._updateShouldShow()||t};e.prototype.onScrollChanged=function(e){this._scrollTop=e.scrollTop;return this._updateShouldShow()};e.prototype.prepareRender=function(e){};e.prototype.render=function(e){this._domNode.setWidth(this._width);this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")};return e}(i.ViewPart);t.ScrollDecorationViewPart=s;r.registerThemingParticipant(function(e,t){var i=e.getColor(o.scrollbarShadow);if(i){t.addRule(".monaco-editor .scroll-decoration { box-shadow: "+i+" 0 6px 6px -6px inset; }")}})});define(r[501],e([0,1,16,22,59,31,300]),function(e,t,i,o,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s;(function(e){e[e["EXTERN"]=0]="EXTERN";e[e["INTERN"]=1]="INTERN";e[e["FLAT"]=2]="FLAT"})(s||(s={}));var a=function(){function e(e){this.left=e.left;this.width=e.width;this.startStyle=null;this.endStyle=null}return e}();var u=function(){function e(e,t){this.lineNumber=e;this.ranges=t}return e}();function l(e){return new a(e)}function c(e){return new u(e.lineNumber,e.ranges.map(l))}var d=r.isEdgeOrIE;var h=function(i){pe(w,i);function w(e){var t=i.call(this)||this;t._previousFrameVisibleRangesWithStyle=[];t._context=e;t._lineHeight=t._context.configuration.editor.lineHeight;t._roundedSelection=t._context.configuration.editor.viewInfo.roundedSelection;t._selections=[];t._renderResult=null;t._context.addEventHandler(t);return t}w.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._selections=null;this._renderResult=null;i.prototype.dispose.call(this)};w.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.viewInfo){this._roundedSelection=this._context.configuration.editor.viewInfo.roundedSelection}return true};w.prototype.onCursorStateChanged=function(e){this._selections=e.selections.slice(0);return true};w.prototype.onDecorationsChanged=function(e){return true};w.prototype.onFlushed=function(e){return true};w.prototype.onLinesChanged=function(e){return true};w.prototype.onLinesDeleted=function(e){return true};w.prototype.onLinesInserted=function(e){return true};w.prototype.onScrollChanged=function(e){return e.scrollTopChanged};w.prototype.onZonesChanged=function(e){return true};w.prototype._visibleRangesHaveGaps=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n.ranges.length>1){return true}}return false};w.prototype._enrichVisibleRangesWithStyle=function(e,t){var i=null;var n=null;if(t&&t.length>0&&e.length>0){var r=e[0].lineNumber;for(var o=0;!i&&o<t.length;o++){if(t[o].lineNumber===r){i=t[o].ranges[0]}}var s=e[e.length-1].lineNumber;for(var o=t.length-1;!n&&o>=0;o--){if(t[o].lineNumber===s){n=t[o].ranges[0]}}if(i&&!i.startStyle){i=null}if(n&&!n.startStyle){n=null}}for(var o=0,a=e.length;o<a;o++){var u=e[o].ranges[0];var l=u.left;var c=u.left+u.width;var d={top:0,bottom:0};var h={top:0,bottom:0};if(o>0){var f=e[o-1].ranges[0].left;var p=e[o-1].ranges[0].left+e[o-1].ranges[0].width;if(l===f){d.top=2}else if(l>f){d.top=1}if(c===p){h.top=2}else if(f<c&&c<p){h.top=1}}else if(i){d.top=i.startStyle.top;h.top=i.endStyle.top}if(o+1<a){var g=e[o+1].ranges[0].left;var v=e[o+1].ranges[0].left+e[o+1].ranges[0].width;if(l===g){d.bottom=2}else if(g<l&&l<v){d.bottom=1}if(c===v){h.bottom=2}else if(c<v){h.bottom=1}}else if(n){d.bottom=n.startStyle.bottom;h.bottom=n.endStyle.bottom}u.startStyle=d;u.endStyle=h}};w.prototype._getVisibleRangesWithStyle=function(e,t,i){var n=t.linesVisibleRangesForRange(e,true)||[];var r=n.map(c);var o=this._visibleRangesHaveGaps(r);if(!d&&!o&&this._roundedSelection){this._enrichVisibleRangesWithStyle(r,i)}return r};w.prototype._createSelectionPiece=function(e,t,i,n,r){return'<div class="cslr '+i+'" style="top:'+e.toString()+"px;left:"+n.toString()+"px;width:"+r.toString()+"px;height:"+t+'px;"></div>'};w.prototype._actualRenderOneSelection=function(e,t,i,n){var r=n.length>0&&n[0].ranges[0].startStyle;var o=this._lineHeight.toString();var s=(this._lineHeight-1).toString();var a=n.length>0?n[0].lineNumber:0;var u=n.length>0?n[n.length-1].lineNumber:0;for(var l=0,c=n.length;l<c;l++){var d=n[l];var h=d.lineNumber;var f=h-t;var p=i?h===u||h===a?s:o:o;var g=i?h===a?1:0:0;var v="";for(var m=0,_=d.ranges.length;m<_;m++){var y=d.ranges[m];if(r){if(y.startStyle.top===1||y.startStyle.bottom===1){v+=this._createSelectionPiece(g,p,w.SELECTION_CLASS_NAME,y.left-w.ROUNDED_PIECE_WIDTH,w.ROUNDED_PIECE_WIDTH);var C=w.EDITOR_BACKGROUND_CLASS_NAME;if(y.startStyle.top===1){C+=" "+w.SELECTION_TOP_RIGHT}if(y.startStyle.bottom===1){C+=" "+w.SELECTION_BOTTOM_RIGHT}v+=this._createSelectionPiece(g,p,C,y.left-w.ROUNDED_PIECE_WIDTH,w.ROUNDED_PIECE_WIDTH)}if(y.endStyle.top===1||y.endStyle.bottom===1){v+=this._createSelectionPiece(g,p,w.SELECTION_CLASS_NAME,y.left+y.width,w.ROUNDED_PIECE_WIDTH);var b=w.EDITOR_BACKGROUND_CLASS_NAME;if(y.endStyle.top===1){b+=" "+w.SELECTION_TOP_LEFT}if(y.endStyle.bottom===1){b+=" "+w.SELECTION_BOTTOM_LEFT}v+=this._createSelectionPiece(g,p,b,y.left+y.width,w.ROUNDED_PIECE_WIDTH)}}var S=w.SELECTION_CLASS_NAME;if(r){if(y.startStyle.top===0){S+=" "+w.SELECTION_TOP_LEFT}if(y.startStyle.bottom===0){S+=" "+w.SELECTION_BOTTOM_LEFT}if(y.endStyle.top===0){S+=" "+w.SELECTION_TOP_RIGHT}if(y.endStyle.bottom===0){S+=" "+w.SELECTION_BOTTOM_RIGHT}}v+=this._createSelectionPiece(g,p,S,y.left,y.width)}e[f]+=v}};w.prototype.prepareRender=function(e){var t=[];var i=e.visibleRange.startLineNumber;var n=e.visibleRange.endLineNumber;for(var r=i;r<=n;r++){var o=r-i;t[o]=""}var s=[];for(var a=0,u=this._selections.length;a<u;a++){var l=this._selections[a];if(l.isEmpty()){s[a]=null;continue}var c=this._getVisibleRangesWithStyle(l,e,this._previousFrameVisibleRangesWithStyle[a]);s[a]=c;this._actualRenderOneSelection(t,i,this._selections.length>1,c)}this._previousFrameVisibleRangesWithStyle=s;this._renderResult=t};w.prototype.render=function(e,t){if(!this._renderResult){return""}var i=t-e;if(i<0||i>=this._renderResult.length){return""}return this._renderResult[i]};w.SELECTION_CLASS_NAME="selected-text";w.SELECTION_TOP_LEFT="top-left-radius";w.SELECTION_BOTTOM_LEFT="bottom-left-radius";w.SELECTION_TOP_RIGHT="top-right-radius";w.SELECTION_BOTTOM_RIGHT="bottom-right-radius";w.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background";w.ROUNDED_PIECE_WIDTH=10;return w}(n.DynamicViewOverlay);t.SelectionsOverlay=h;i.registerThemingParticipant(function(e,t){var i=e.getColor(o.editorSelectionBackground);if(i){t.addRule(".monaco-editor .focused .selected-text { background-color: "+i+"; }")}var n=e.getColor(o.editorInactiveSelection);if(n){t.addRule(".monaco-editor .selected-text { background-color: "+n+"; }")}var r=e.getColor(o.editorSelectionForeground);if(r){t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+r+"; }")}})});define(r[36],e([0,1,345,22,16,26]),function(e,u,t,l,i,n){"use strict";Object.defineProperty(u,"__esModule",{value:true});u.editorLineHighlight=l.registerColor("editor.lineHighlightBackground",{dark:null,light:null,hc:null},t.localize(0,null));u.editorLineHighlightBorder=l.registerColor("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},t.localize(1,null));u.editorRangeHighlight=l.registerColor("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},t.localize(2,null),true);u.editorRangeHighlightBorder=l.registerColor("editor.rangeHighlightBorder",{dark:null,light:null,hc:l.activeContrastBorder},t.localize(3,null),true);u.editorCursorForeground=l.registerColor("editorCursor.foreground",{dark:"#AEAFAD",light:n.Color.black,hc:n.Color.white},t.localize(4,null));u.editorCursorBackground=l.registerColor("editorCursor.background",null,t.localize(5,null));u.editorWhitespaces=l.registerColor("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},t.localize(6,null));u.editorIndentGuides=l.registerColor("editorIndentGuide.background",{dark:u.editorWhitespaces,light:u.editorWhitespaces,hc:u.editorWhitespaces},t.localize(7,null));u.editorLineNumbers=l.registerColor("editorLineNumber.foreground",{dark:"#5A5A5A",light:"#2B91AF",hc:n.Color.white},t.localize(8,null));u.editorActiveLineNumber=l.registerColor("editorActiveLineNumber.foreground",{dark:null,light:null,hc:null},t.localize(9,null));u.editorRuler=l.registerColor("editorRuler.foreground",{dark:"#5A5A5A",light:n.Color.lightgrey,hc:n.Color.white},t.localize(10,null));u.editorCodeLensForeground=l.registerColor("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},t.localize(11,null));u.editorBracketMatchBackground=l.registerColor("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},t.localize(12,null));u.editorBracketMatchBorder=l.registerColor("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:"#fff"},t.localize(13,null));u.editorOverviewRulerBorder=l.registerColor("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},t.localize(14,null));u.editorGutter=l.registerColor("editorGutter.background",{dark:l.editorBackground,light:l.editorBackground,hc:l.editorBackground},t.localize(15,null));u.editorErrorForeground=l.registerColor("editorError.foreground",{dark:"#ea4646",light:"#d60a0a",hc:null},t.localize(16,null));u.editorErrorBorder=l.registerColor("editorError.border",{dark:null,light:null,hc:n.Color.fromHex("#E47777").transparent(.8)},t.localize(17,null));u.editorWarningForeground=l.registerColor("editorWarning.foreground",{dark:"#4d9e4d",light:"#117711",hc:null},t.localize(18,null));u.editorWarningBorder=l.registerColor("editorWarning.border",{dark:null,light:null,hc:n.Color.fromHex("#71B771").transparent(.8)},t.localize(19,null));u.editorInfoForeground=l.registerColor("editorInfo.foreground",{dark:"#008000",light:"#008000",hc:null},t.localize(20,null));u.editorInfoBorder=l.registerColor("editorInfo.border",{dark:null,light:null,hc:n.Color.fromHex("#71B771").transparent(.8)},t.localize(21,null));var r=new n.Color(new n.RGBA(0,122,204,.6));u.overviewRulerRangeHighlight=l.registerColor("editorOverviewRuler.rangeHighlightForeground",{dark:r,light:r,hc:r},t.localize(22,null));u.overviewRulerError=l.registerColor("editorOverviewRuler.errorForeground",{dark:new n.Color(new n.RGBA(255,18,18,.7)),light:new n.Color(new n.RGBA(255,18,18,.7)),hc:new n.Color(new n.RGBA(255,50,50,1))},t.localize(23,null));u.overviewRulerWarning=l.registerColor("editorOverviewRuler.warningForeground",{dark:new n.Color(new n.RGBA(18,136,18,.7)),light:new n.Color(new n.RGBA(18,136,18,.7)),hc:new n.Color(new n.RGBA(50,255,50,1))},t.localize(24,null));u.overviewRulerInfo=l.registerColor("editorOverviewRuler.infoForeground",{dark:new n.Color(new n.RGBA(18,18,136,.7)),light:new n.Color(new n.RGBA(18,18,136,.7)),hc:new n.Color(new n.RGBA(50,50,255,1))},t.localize(25,null));i.registerThemingParticipant(function(e,t){var i=e.getColor(l.editorBackground);if(i){t.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+i+"; }")}var n=e.getColor(l.editorForeground);if(n){t.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+n+"; }")}var r=e.getColor(u.editorGutter);if(r){t.addRule(".monaco-editor .margin { background-color: "+r+"; }")}var o=e.getColor(u.editorRangeHighlight);if(o){t.addRule(".monaco-editor .rangeHighlight { background-color: "+o+"; }")}var s=e.getColor(u.editorRangeHighlightBorder);if(s){t.addRule(".monaco-editor .rangeHighlight { border: 1px dotted "+s+"; }")}var a=e.getColor(u.editorWhitespaces);if(a){t.addRule(".vs-whitespace { color: "+a+" !important; }")}})});define(r[503],e([0,1,59,16,36,257]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._lineHeight=t._context.configuration.editor.lineHeight;t._renderLineHighlight=t._context.configuration.editor.viewInfo.renderLineHighlight;t._selectionIsEmpty=true;t._primaryCursorLineNumber=1;t._scrollWidth=0;t._contentWidth=t._context.configuration.editor.layoutInfo.contentWidth;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.viewInfo){this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight}if(e.layoutInfo){this._contentWidth=this._context.configuration.editor.layoutInfo.contentWidth}return true};e.prototype.onCursorStateChanged=function(e){var t=false;var i=e.selections[0].positionLineNumber;if(this._primaryCursorLineNumber!==i){this._primaryCursorLineNumber=i;t=true}var n=e.selections[0].isEmpty();if(this._selectionIsEmpty!==n){this._selectionIsEmpty=n;t=true;return true}return t};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollWidthChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype.prepareRender=function(e){this._scrollWidth=e.scrollWidth};e.prototype.render=function(e,t){if(t===this._primaryCursorLineNumber){if(this._shouldShowCurrentLine()){var i=this._willRenderMarginCurrentLine();var n="current-line"+(i?" current-line-both":"");return'<div class="'+n+'" style="width:'+String(Math.max(this._scrollWidth,this._contentWidth))+"px; height:"+String(this._lineHeight)+'px;"></div>'}else{return""}}return""};e.prototype._shouldShowCurrentLine=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty};e.prototype._willRenderMarginCurrentLine=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"};return e}(i.DynamicViewOverlay);t.CurrentLineHighlightOverlay=o;n.registerThemingParticipant(function(e,t){var i=e.getColor(r.editorLineHighlight);if(i){t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+i+"; }")}if(!i||i.isTransparent()||e.defines(r.editorLineHighlightBorder)){var n=e.getColor(r.editorLineHighlightBorder);if(n){t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+n+"; }");if(e.type==="hc"){t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }")}}}})});define(r[504],e([0,1,59,16,36,263]),function(e,t,i,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._lineHeight=t._context.configuration.editor.lineHeight;t._renderLineHighlight=t._context.configuration.editor.viewInfo.renderLineHighlight;t._selectionIsEmpty=true;t._primaryCursorLineNumber=1;t._contentLeft=t._context.configuration.editor.layoutInfo.contentLeft;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.viewInfo){this._renderLineHighlight=this._context.configuration.editor.viewInfo.renderLineHighlight}if(e.layoutInfo){this._contentLeft=this._context.configuration.editor.layoutInfo.contentLeft}return true};e.prototype.onCursorStateChanged=function(e){var t=false;var i=e.selections[0].positionLineNumber;if(this._primaryCursorLineNumber!==i){this._primaryCursorLineNumber=i;t=true}var n=e.selections[0].isEmpty();if(this._selectionIsEmpty!==n){this._selectionIsEmpty=n;t=true;return true}return t};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onZonesChanged=function(e){return true};e.prototype.prepareRender=function(e){};e.prototype.render=function(e,t){if(t===this._primaryCursorLineNumber){var i="current-line";if(this._shouldShowCurrentLine()){var n=this._willRenderContentCurrentLine();i="current-line current-line-margin"+(n?" current-line-margin-both":"")}return'<div class="'+i+'" style="width:'+String(this._contentLeft)+"px; height:"+String(this._lineHeight)+'px;"></div>'}return""};e.prototype._shouldShowCurrentLine=function(){return this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all"};e.prototype._willRenderContentCurrentLine=function(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty};return e}(i.DynamicViewOverlay);t.CurrentLineMarginHighlightOverlay=o;n.registerThemingParticipant(function(e,t){var i=e.getColor(r.editorLineHighlight);if(i){t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+i+"; border: none; }")}else{var n=e.getColor(r.editorLineHighlightBorder);if(n){t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+n+"; }")}if(e.type==="hc"){t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")}}})});define(r[505],e([0,1,59,16,36,10,12,270]),function(e,t,i,n,r,v,m){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._context=e;t._lineHeight=t._context.configuration.editor.lineHeight;t._spaceWidth=t._context.configuration.editor.fontInfo.spaceWidth;t._enabled=t._context.configuration.editor.viewInfo.renderIndentGuides;t._renderResult=null;t._context.addEventHandler(t);return t}e.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._renderResult=null;i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.lineHeight){this._lineHeight=this._context.configuration.editor.lineHeight}if(e.fontInfo){this._spaceWidth=this._context.configuration.editor.fontInfo.spaceWidth}if(e.viewInfo){this._enabled=this._context.configuration.editor.viewInfo.renderIndentGuides}return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollTopChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype.onLanguageConfigurationChanged=function(e){return true};e.prototype.prepareRender=function(e){if(!this._enabled){this._renderResult=null;return}var t=e.visibleRange.startLineNumber;var i=e.visibleRange.endLineNumber;var n=this._context.model.getTabSize();var r=n*this._spaceWidth;var o=this._lineHeight;var s=v.computeScreenAwareSize(1);var a=this._context.model.getLinesIndentGuides(t,i);var u=[];for(var l=t;l<=i;l++){var c=l-t;var d=a[c];var h="";var f=e.visibleRangeForPosition(new m.Position(l,1));var p=f?f.left:0;for(var g=0;g<d;g++){h+='<div class="cigr" style="left:'+p+"px;height:"+o+"px;width:"+s+'px"></div>';p+=r}u[c]=h}this._renderResult=u};e.prototype.render=function(e,t){if(!this._renderResult){return""}var i=t-e;if(i<0||i>=this._renderResult.length){return""}return this._renderResult[i]};return e}(i.DynamicViewOverlay);t.IndentGuidesOverlay=o;n.registerThemingParticipant(function(e,t){var i=e.getColor(r.editorIndentGuides);if(i){t.addRule(".monaco-editor .lines-content .cigr { background-color: "+i+"; }")}})});define(r[195],e([0,1,36,16,15,59,12,280]),function(e,t,r,i,c,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(i){pe(l,i);function l(e){var t=i.call(this)||this;t._context=e;t._readConfig();t._lastCursorModelPosition=new o.Position(1,1);t._renderResult=null;t._context.addEventHandler(t);return t}l.prototype._readConfig=function(){var e=this._context.configuration.editor;this._lineHeight=e.lineHeight;this._renderLineNumbers=e.viewInfo.renderLineNumbers;this._renderCustomLineNumbers=e.viewInfo.renderCustomLineNumbers;this._lineNumbersLeft=e.layoutInfo.lineNumbersLeft;this._lineNumbersWidth=e.layoutInfo.lineNumbersWidth};l.prototype.dispose=function(){this._context.removeEventHandler(this);this._context=null;this._renderResult=null;i.prototype.dispose.call(this)};l.prototype.onConfigurationChanged=function(e){this._readConfig();return true};l.prototype.onCursorStateChanged=function(e){var t=e.selections[0].getPosition();this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t);if(this._renderLineNumbers===2||this._renderLineNumbers===3){return true}return false};l.prototype.onFlushed=function(e){return true};l.prototype.onLinesChanged=function(e){return true};l.prototype.onLinesDeleted=function(e){return true};l.prototype.onLinesInserted=function(e){return true};l.prototype.onScrollChanged=function(e){return e.scrollTopChanged};l.prototype.onZonesChanged=function(e){return true};l.prototype._getLineRenderLineNumber=function(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(e,1));if(t.column!==1){return""}var i=t.lineNumber;if(this._renderCustomLineNumbers){return this._renderCustomLineNumbers(i)}if(this._renderLineNumbers===2){var n=Math.abs(this._lastCursorModelPosition.lineNumber-i);if(n===0){return'<span class="relative-current-line-number">'+i+"</span>"}return String(n)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===i){return String(i)}if(i%10===0){return String(i)}return""}return String(i)};l.prototype.prepareRender=function(e){if(this._renderLineNumbers===0){this._renderResult=null;return}var t=c.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"";var i=e.visibleRange.startLineNumber;var n=e.visibleRange.endLineNumber;var r='<div class="'+l.CLASS_NAME+t+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">';var o=[];for(var s=i;s<=n;s++){var a=s-i;var u=this._getLineRenderLineNumber(s);if(u){o[a]=r+u+"</div>"}else{o[a]=""}}this._renderResult=o};l.prototype.render=function(e,t){if(!this._renderResult){return""}var i=t-e;if(i<0||i>=this._renderResult.length){return""}return this._renderResult[i]};l.CLASS_NAME="line-numbers";return l}(n.DynamicViewOverlay);t.LineNumbersOverlay=s;i.registerThemingParticipant(function(e,t){var i=e.getColor(r.editorLineNumbers);if(i){t.addRule(".monaco-editor .line-numbers { color: "+i+"; }")}var n=e.getColor(r.editorActiveLineNumber);if(n){t.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+n+"; }")}})});define(r[507],e([0,1,15,31,5,149,148,3,20,12,65,57,28,35,154,195,255]),function(e,t,u,l,c,d,h,f,p,i,a,g,v,m,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var _=function(){function t(e,t,i){this.top=e;this.left=t;this.width=i}t.prototype.setWidth=function(e){return new t(this.top,this.left,e)};return t}();var y=l.isEdgeOrIE||l.isFirefox;var C=function(){function e(){this._lastState=null}e.prototype.set=function(e){this._lastState=e};e.prototype.get=function(e){if(this._lastState&&this._lastState.lastCopiedValue===e){return this._lastState}this._lastState=null;return null};e.INSTANCE=new e;return e}();var o=function(s){pe(e,s);function e(e,t,i){var a=s.call(this,e)||this;a._primaryCursorVisibleRange=null;a._viewController=t;a._viewHelper=i;var n=a._context.configuration.editor;a._accessibilitySupport=n.accessibilitySupport;a._contentLeft=n.layoutInfo.contentLeft;a._contentWidth=n.layoutInfo.contentWidth;a._contentHeight=n.layoutInfo.contentHeight;a._scrollLeft=0;a._scrollTop=0;a._fontInfo=n.fontInfo;a._lineHeight=n.lineHeight;a._emptySelectionClipboard=n.emptySelectionClipboard;a._visibleTextArea=null;a._selections=[new p.Selection(1,1,1,1)];a.textArea=v.createFastDomNode(document.createElement("textarea"));m.PartFingerprints.write(a.textArea,6);a.textArea.setClassName("inputarea");a.textArea.setAttribute("wrap","off");a.textArea.setAttribute("autocorrect","off");a.textArea.setAttribute("autocapitalize","off");a.textArea.setAttribute("autocomplete","off");a.textArea.setAttribute("spellcheck","false");a.textArea.setAttribute("aria-label",n.viewInfo.ariaLabel);a.textArea.setAttribute("role","textbox");a.textArea.setAttribute("aria-multiline","true");a.textArea.setAttribute("aria-haspopup","false");a.textArea.setAttribute("aria-autocomplete","both");a.textAreaCover=v.createFastDomNode(document.createElement("div"));a.textAreaCover.setPosition("absolute");var o={getLineCount:function(){return a._context.model.getLineCount()},getLineMaxColumn:function(e){return a._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return a._context.model.getValueInRange(e,t)}};var r={getPlainTextToCopy:function(){var e=a._context.model.getPlainTextToCopy(a._selections,a._emptySelectionClipboard);var t=a._context.model.getEOL();var i=a._emptySelectionClipboard&&a._selections.length===1&&a._selections[0].isEmpty();var n=Array.isArray(e)?e:null;var r=Array.isArray(e)?e.join(t):e;var o=null;if(i||n){var s=l.isFirefox?r.replace(/\r\n/g,"\n"):r;o={lastCopiedValue:s,isFromEmptySelection:a._emptySelectionClipboard&&a._selections.length===1&&a._selections[0].isEmpty(),multicursorText:n}}C.INSTANCE.set(o);return r},getHTMLToCopy:function(){return a._context.model.getHTMLToCopy(a._selections,a._emptySelectionClipboard)},getScreenReaderContent:function(e){if(l.isIPad){return h.TextAreaState.EMPTY}if(a._accessibilitySupport===1){if(u.isMacintosh){var t=a._selections[0];if(t.isEmpty()){var i=t.getStartPosition();if(i.column>1){var n=a._context.model.getLineContent(i.lineNumber);var r=n.charAt(i.column-2);if(!c.isHighSurrogate(r.charCodeAt(0))){return new h.TextAreaState(r,1,1,i,i)}}}}return h.TextAreaState.EMPTY}return h.PagedScreenReaderStrategy.fromEditorSelection(e,o,a._selections[0],a._accessibilitySupport===0)},deduceModelPosition:function(e,t,i){return a._context.model.deduceModelPositionRelativeToViewPosition(e,t,i)}};a._textAreaInput=a._register(new d.TextAreaInput(r,a.textArea));a._register(a._textAreaInput.onKeyDown(function(e){a._viewController.emitKeyDown(e)}));a._register(a._textAreaInput.onKeyUp(function(e){a._viewController.emitKeyUp(e)}));a._register(a._textAreaInput.onPaste(function(e){var t=C.INSTANCE.get(e.text);var i=false;var n=null;if(t){i=a._emptySelectionClipboard&&t.isFromEmptySelection;n=t.multicursorText}a._viewController.paste("keyboard",e.text,i,n)}));a._register(a._textAreaInput.onCut(function(){a._viewController.cut("keyboard")}));a._register(a._textAreaInput.onType(function(e){if(e.replaceCharCnt){a._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt)}else{a._viewController.type("keyboard",e.text)}}));a._register(a._textAreaInput.onSelectionChangeRequest(function(e){a._viewController.setSelection("keyboard",e)}));a._register(a._textAreaInput.onCompositionStart(function(){var e=a._selections[0].startLineNumber;var t=a._selections[0].startColumn;a._context.privateViewEventBus.emit(new g.ViewRevealRangeRequestEvent(new f.Range(e,t,e,t),0,true,1));var i=a._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);if(i){a._visibleTextArea=new _(a._context.viewLayout.getVerticalOffsetForLineNumber(e),i.left,y?0:1);a._render()}a.textArea.setClassName("inputarea ime-input");a._viewController.compositionStart("keyboard")}));a._register(a._textAreaInput.onCompositionUpdate(function(e){if(l.isEdgeOrIE){a._visibleTextArea=a._visibleTextArea.setWidth(0)}else{a._visibleTextArea=a._visibleTextArea.setWidth(b(e.data,a._fontInfo))}a._render()}));a._register(a._textAreaInput.onCompositionEnd(function(){a._visibleTextArea=null;a._render();a.textArea.setClassName("inputarea");a._viewController.compositionEnd("keyboard")}));a._register(a._textAreaInput.onFocus(function(){a._context.privateViewEventBus.emit(new g.ViewFocusChangedEvent(true))}));a._register(a._textAreaInput.onBlur(function(){a._context.privateViewEventBus.emit(new g.ViewFocusChangedEvent(false))}));return a}e.prototype.dispose=function(){s.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.editor;if(e.fontInfo){this._fontInfo=t.fontInfo}if(e.viewInfo){this.textArea.setAttribute("aria-label",t.viewInfo.ariaLabel)}if(e.layoutInfo){this._contentLeft=t.layoutInfo.contentLeft;this._contentWidth=t.layoutInfo.contentWidth;this._contentHeight=t.layoutInfo.contentHeight}if(e.lineHeight){this._lineHeight=t.lineHeight}if(e.accessibilitySupport){this._accessibilitySupport=t.accessibilitySupport;this._textAreaInput.writeScreenReaderContent("strategy changed")}if(e.emptySelectionClipboard){this._emptySelectionClipboard=t.emptySelectionClipboard}return true};e.prototype.onCursorStateChanged=function(e){this._selections=e.selections.slice(0);this._textAreaInput.writeScreenReaderContent("selection changed");return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onLinesChanged=function(e){return true};e.prototype.onLinesDeleted=function(e){return true};e.prototype.onLinesInserted=function(e){return true};e.prototype.onScrollChanged=function(e){this._scrollLeft=e.scrollLeft;this._scrollTop=e.scrollTop;return true};e.prototype.onZonesChanged=function(e){return true};e.prototype.isFocused=function(){return this._textAreaInput.isFocused()};e.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()};e.prototype.prepareRender=function(e){if(this._accessibilitySupport===2){this._primaryCursorVisibleRange=null}else{var t=new i.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn);this._primaryCursorVisibleRange=e.visibleRangeForPosition(t)}};e.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render");this._render()};e.prototype._render=function(){if(this._visibleTextArea){this._renderInsideEditor(this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight,true);return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(t<0||t>this._contentHeight){this._renderAtTopLeft();return}this._renderInsideEditor(t,e,y?0:1,y?0:1,false)};e.prototype._renderInsideEditor=function(e,t,i,n,r){var o=this.textArea;var s=this.textAreaCover;if(r){a.Configuration.applyFontInfo(o,this._fontInfo)}else{o.setFontSize(1);o.setLineHeight(this._fontInfo.lineHeight)}o.setTop(e);o.setLeft(t);o.setWidth(i);o.setHeight(n);s.setTop(0);s.setLeft(0);s.setWidth(0);s.setHeight(0)};e.prototype._renderAtTopLeft=function(){var e=this.textArea;var t=this.textAreaCover;a.Configuration.applyFontInfo(e,this._fontInfo);e.setTop(0);e.setLeft(0);t.setTop(0);t.setLeft(0);if(y){e.setWidth(0);e.setHeight(0);t.setWidth(0);t.setHeight(0);return}e.setWidth(1);e.setHeight(1);t.setWidth(1);t.setHeight(1);if(this._context.configuration.editor.viewInfo.glyphMargin){t.setClassName("monaco-editor-background textAreaCover "+n.Margin.CLASS_NAME)}else{if(this._context.configuration.editor.viewInfo.renderLineNumbers!==0){t.setClassName("monaco-editor-background textAreaCover "+r.LineNumbersOverlay.CLASS_NAME)}else{t.setClassName("monaco-editor-background textAreaCover")}}};return e}(m.ViewPart);t.TextAreaHandler=o;function b(e,t){var i=document.createElement("canvas");var n=i.getContext("2d");n.font=s(t);var r=n.measureText(e);if(l.isFirefox){return r.width+2}else{return r.width}}function s(e){return S("normal",e.fontWeight,e.fontSize,e.lineHeight,e.fontFamily)}function S(e,t,i,n,r){return e+" normal "+t+" "+i+"px / "+n+"px "+r}});define(r[508],e([0,1,35,12,17,36,26,28]),function(e,t,i,n,c,d,h,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(){function e(e,t){this.lineHeight=e.editor.lineHeight;this.pixelRatio=e.editor.pixelRatio;this.overviewRulerLanes=e.editor.viewInfo.overviewRulerLanes;this.renderBorder=e.editor.viewInfo.overviewRulerBorder;var i=t.getColor(d.editorOverviewRulerBorder);this.borderColor=i?i.toString():null;this.hideCursor=e.editor.viewInfo.hideCursorInOverviewRuler;var n=t.getColor(d.editorCursorForeground);this.cursorColor=n?n.transparent(.7).toString():null;this.themeType=t.type;var r=e.editor.viewInfo.minimap.enabled;var o=r?c.TokenizationRegistry.getDefaultBackground():null;this.backgroundColor=o?h.Color.Format.CSS.formatHex(o):null;var s=e.editor.layoutInfo.overviewRuler;this.top=s.top;this.right=s.right;this.domWidth=s.width;this.domHeight=s.height;this.canvasWidth=this.domWidth*this.pixelRatio|0;this.canvasHeight=this.domHeight*this.pixelRatio|0;var a=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),u=a[0],l=a[1];this.x=u;this.w=l}e.prototype._initLanes=function(e,t,i){var n=t-e;if(i>=3){var r=Math.floor(n/3);var o=Math.floor(n/3);var s=n-r-o;var a=e;var u=a+r;var l=a+r+s;return[[0,a,u,a,l,a,u,a],[0,r,s,r+s,o,r+s+o,s+o,r+s+o]]}else if(i===2){var r=Math.floor(n/2);var o=n-r;var a=e;var l=a+r;return[[0,a,a,a,l,a,a,a],[0,r,r,r,o,r+o,r+o,r+o]]}else{var c=e;var d=n;return[[0,c,c,c,c,c,c,c],[0,d,d,d,d,d,d,d]]}};e.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight};return e}();var s;(function(e){e[e["MIN_DECORATION_HEIGHT"]=6]="MIN_DECORATION_HEIGHT"})(s||(s={}));var a;(function(e){e[e["Left"]=1]="Left";e[e["Center"]=2]="Center";e[e["Right"]=4]="Right";e[e["Full"]=7]="Full"})(a||(a={}));var u=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t._domNode=r.createFastDomNode(document.createElement("canvas"));t._domNode.setClassName("decorationsOverviewRuler");t._domNode.setPosition("absolute");t._domNode.setLayerHinting(true);t._domNode.setAttribute("aria-hidden","true");t._settings=null;t._updateSettings(false);t._tokensColorTrackerListener=c.TokenizationRegistry.onDidChange(function(e){if(e.changedColorMap){t._updateSettings(true)}});t._cursorPositions=[];return t}e.prototype.dispose=function(){i.prototype.dispose.call(this);this._tokensColorTrackerListener.dispose()};e.prototype._updateSettings=function(e){var t=new o(this._context.configuration,this._context.theme);if(this._settings!==null&&this._settings.equals(t)){return false}this._settings=t;this._domNode.setTop(this._settings.top);this._domNode.setRight(this._settings.right);this._domNode.setWidth(this._settings.domWidth);this._domNode.setHeight(this._settings.domHeight);this._domNode.domNode.width=this._settings.canvasWidth;this._domNode.domNode.height=this._settings.canvasHeight;if(e){this._render()}return true};e.prototype.onConfigurationChanged=function(e){return this._updateSettings(false)};e.prototype.onCursorStateChanged=function(e){this._cursorPositions=[];for(var t=0,i=e.selections.length;t<i;t++){this._cursorPositions[t]=e.selections[t].getPosition()}this._cursorPositions.sort(n.Position.compare);return true};e.prototype.onDecorationsChanged=function(e){return true};e.prototype.onFlushed=function(e){return true};e.prototype.onScrollChanged=function(e){return e.scrollHeightChanged};e.prototype.onZonesChanged=function(e){return true};e.prototype.onThemeChanged=function(e){this._context.model.invalidateOverviewRulerColorCache();return this._updateSettings(false)};e.prototype.getDomNode=function(){return this._domNode.domNode};e.prototype.prepareRender=function(e){};e.prototype.render=function(e){this._render()};e.prototype._render=function(){var e=this._settings.canvasWidth;var t=this._settings.canvasHeight;var i=this._settings.lineHeight;var n=this._context.viewLayout;var r=this._context.viewLayout.getScrollHeight();var o=t/r;var s=this._context.model.getAllOverviewRulerDecorations(this._context.theme);var a=6*this._settings.pixelRatio|0;var u=a/2|0;var l=this._domNode.domNode.getContext("2d");if(this._settings.backgroundColor===null){l.clearRect(0,0,e,t)}else{l.fillStyle=this._settings.backgroundColor;l.fillRect(0,0,e,t)}var c=this._settings.x;var d=this._settings.w;var h=Object.keys(s);h.sort();for(var f=0,p=h.length;f<p;f++){var g=h[f];var v=s[g];l.fillStyle=g;var m=0;var _=0;var y=0;for(var C=0,b=v.length;C<b;C++){var S=v[3*C];var w=v[3*C+1];var E=v[3*C+2];var L=n.getVerticalOffsetForLineNumber(w)*o|0;var x=(n.getVerticalOffsetForLineNumber(E)+i)*o|0;var N=x-L;if(N<a){var I=(L+x)/2|0;if(I<u){I=u}else if(I+u>t){I=t-u}L=I-u;x=I+u}if(L>y+1||S!==m){if(C!==0){l.fillRect(c[m],_,d[m],y-_)}m=S;_=L;y=x}else{if(x>y){y=x}}}l.fillRect(c[m],_,d[m],y-_)}if(!this._settings.hideCursor){var D=2*this._settings.pixelRatio|0;var T=D/2|0;var M=this._settings.x[7];var k=this._settings.w[7];l.fillStyle=this._settings.cursorColor;var _=-100;var y=-100;for(var C=0,b=this._cursorPositions.length;C<b;C++){var O=this._cursorPositions[C];var I=n.getVerticalOffsetForLineNumber(O.lineNumber)*o|0;if(I<T){I=T}else if(I+T>t){I=t-T}var L=I-T;var x=L+D;if(L>y+1){if(C!==0){l.fillRect(M,_,k,y-_)}_=L;y=x}else{if(x>y){y=x}}}l.fillRect(M,_,k,y-_)}if(this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0){l.beginPath();l.lineWidth=1;l.strokeStyle=this._settings.borderColor;l.moveTo(0,0);l.lineTo(0,t);l.stroke();l.moveTo(0,0);l.lineTo(e,0);l.stroke()}};return e}(i.ViewPart);t.DecorationsOverviewRuler=u});define(r[509],e([0,1,28,35,16,36,10,294]),function(e,t,s,i,n,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(i){pe(e,i);function e(e){var t=i.call(this,e)||this;t.domNode=s.createFastDomNode(document.createElement("div"));t.domNode.setAttribute("role","presentation");t.domNode.setAttribute("aria-hidden","true");t.domNode.setClassName("view-rulers");t._renderedRulers=[];t._rulers=t._context.configuration.editor.viewInfo.rulers;t._typicalHalfwidthCharacterWidth=t._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;return t}e.prototype.dispose=function(){i.prototype.dispose.call(this)};e.prototype.onConfigurationChanged=function(e){if(e.viewInfo||e.layoutInfo||e.fontInfo){this._rulers=this._context.configuration.editor.viewInfo.rulers;this._typicalHalfwidthCharacterWidth=this._context.configuration.editor.fontInfo.typicalHalfwidthCharacterWidth;return true}return false};e.prototype.onScrollChanged=function(e){return e.scrollHeightChanged};e.prototype.prepareRender=function(e){};e.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length;var t=this._rulers.length;if(e===t){return}if(e<t){var i=a.computeScreenAwareSize(1);var n=t-e;while(n>0){var r=s.createFastDomNode(document.createElement("div"));r.setClassName("view-ruler");r.setWidth(i);this.domNode.appendChild(r);this._renderedRulers.push(r);n--}return}var o=e-t;while(o>0){var r=this._renderedRulers.pop();this.domNode.removeChild(r);o--}};e.prototype.render=function(e){this._ensureRulersCount();for(var t=0,i=this._rulers.length;t<i;t++){var n=this._renderedRulers[t];n.setHeight(Math.min(e.scrollHeight,1e6));n.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}};return e}(i.ViewPart);t.Rulers=o;n.registerThemingParticipant(function(e,t){var i=e.getColor(r.editorRuler);if(i){t.addRule(".monaco-editor .view-ruler { background-color: "+i+"; }")}})});define(r[510],e([0,1,35,450,28,18,16,36,50,304]),function(e,t,i,s,n,o,r,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(i){pe(r,i);function r(e){var t=i.call(this,e)||this;t._readOnly=t._context.configuration.editor.readOnly;t._cursorBlinking=t._context.configuration.editor.viewInfo.cursorBlinking;t._cursorStyle=t._context.configuration.editor.viewInfo.cursorStyle;t._selectionIsEmpty=true;t._primaryCursor=new s.ViewCursor(t._context);t._secondaryCursors=[];t._renderData=[];t._domNode=n.createFastDomNode(document.createElement("div"));t._domNode.setAttribute("role","presentation");t._domNode.setAttribute("aria-hidden","true");t._updateDomClassName();t._domNode.appendChild(t._primaryCursor.getDomNode());t._startCursorBlinkAnimation=new o.TimeoutTimer;t._cursorFlatBlinkInterval=new o.IntervalTimer;t._blinkingEnabled=false;t._editorHasFocus=false;t._updateBlinking();return t}r.prototype.dispose=function(){i.prototype.dispose.call(this);this._startCursorBlinkAnimation.dispose();this._cursorFlatBlinkInterval.dispose()};r.prototype.getDomNode=function(){return this._domNode};r.prototype.onConfigurationChanged=function(e){if(e.readOnly){this._readOnly=this._context.configuration.editor.readOnly}if(e.viewInfo){this._cursorBlinking=this._context.configuration.editor.viewInfo.cursorBlinking;this._cursorStyle=this._context.configuration.editor.viewInfo.cursorStyle}this._primaryCursor.onConfigurationChanged(e);this._updateBlinking();if(e.viewInfo){this._updateDomClassName()}for(var t=0,i=this._secondaryCursors.length;t<i;t++){this._secondaryCursors[t].onConfigurationChanged(e)}return true};r.prototype._onCursorPositionChanged=function(e,t){this._primaryCursor.onCursorPositionChanged(e);this._updateBlinking();if(this._secondaryCursors.length<t.length){var i=t.length-this._secondaryCursors.length;for(var n=0;n<i;n++){var r=new s.ViewCursor(this._context);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling);this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>t.length){var o=this._secondaryCursors.length-t.length;for(var n=0;n<o;n++){this._domNode.removeChild(this._secondaryCursors[0].getDomNode());this._secondaryCursors.splice(0,1)}}for(var n=0;n<t.length;n++){this._secondaryCursors[n].onCursorPositionChanged(t[n])}};r.prototype.onCursorStateChanged=function(e){var t=[];for(var i=0,n=e.selections.length;i<n;i++){t[i]=e.selections[i].getPosition()}this._onCursorPositionChanged(t[0],t.slice(1));var r=e.selections[0].isEmpty();if(this._selectionIsEmpty!==r){this._selectionIsEmpty=r;this._updateDomClassName()}return true};r.prototype.onDecorationsChanged=function(e){return true};r.prototype.onFlushed=function(e){return true};r.prototype.onFocusChanged=function(e){this._editorHasFocus=e.isFocused;this._updateBlinking();return false};r.prototype.onLinesChanged=function(e){return true};r.prototype.onLinesDeleted=function(e){return true};r.prototype.onLinesInserted=function(e){return true};r.prototype.onScrollChanged=function(e){return true};r.prototype.onTokensChanged=function(n){var e=function(e){for(var t=0,i=n.ranges.length;t<i;t++){if(n.ranges[t].fromLineNumber<=e.lineNumber&&e.lineNumber<=n.ranges[t].toLineNumber){return true}}return false};if(e(this._primaryCursor.getPosition())){return true}for(var t=0;t<this._secondaryCursors.length;t++){if(e(this._secondaryCursors[t].getPosition())){return true}}return false};r.prototype.onZonesChanged=function(e){return true};r.prototype._getCursorBlinking=function(){if(!this._editorHasFocus){return u.TextEditorCursorBlinkingStyle.Hidden}if(this._readOnly){return u.TextEditorCursorBlinkingStyle.Solid}return this._cursorBlinking};r.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel();this._cursorFlatBlinkInterval.cancel();var t=this._getCursorBlinking();var i=t===u.TextEditorCursorBlinkingStyle.Hidden;var n=t===u.TextEditorCursorBlinkingStyle.Solid;if(i){this._hide()}else{this._show()}this._blinkingEnabled=false;this._updateDomClassName();if(!i&&!n){if(t===u.TextEditorCursorBlinkingStyle.Blink){this._cursorFlatBlinkInterval.cancelAndSet(function(){if(e._isVisible){e._hide()}else{e._show()}},r.BLINK_INTERVAL)}else{this._startCursorBlinkAnimation.setIfNotSet(function(){e._blinkingEnabled=true;e._updateDomClassName()},r.BLINK_INTERVAL)}}};r.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())};r.prototype._getClassName=function(){var e="cursors-layer";if(!this._selectionIsEmpty){e+=" has-selection"}switch(this._cursorStyle){case u.TextEditorCursorStyle.Line:e+=" cursor-line-style";break;case u.TextEditorCursorStyle.Block:e+=" cursor-block-style";break;case u.TextEditorCursorStyle.Underline:e+=" cursor-underline-style";break;case u.TextEditorCursorStyle.LineThin:e+=" cursor-line-thin-style";break;case u.TextEditorCursorStyle.BlockOutline:e+=" cursor-block-outline-style";break;case u.TextEditorCursorStyle.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled){switch(this._getCursorBlinking()){case u.TextEditorCursorBlinkingStyle.Blink:e+=" cursor-blink";break;case u.TextEditorCursorBlinkingStyle.Smooth:e+=" cursor-smooth";break;case u.TextEditorCursorBlinkingStyle.Phase:e+=" cursor-phase";break;case u.TextEditorCursorBlinkingStyle.Expand:e+=" cursor-expand";break;case u.TextEditorCursorBlinkingStyle.Solid:e+=" cursor-solid";break;default:e+=" cursor-solid"}}else{e+=" cursor-solid"}return e};r.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++){this._secondaryCursors[e].show()}this._isVisible=true};r.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++){this._secondaryCursors[e].hide()}this._isVisible=false};r.prototype.prepareRender=function(e){this._primaryCursor.prepareRender(e);for(var t=0,i=this._secondaryCursors.length;t<i;t++){this._secondaryCursors[t].prepareRender(e)}};r.prototype.render=function(e){var t=[],i=0;var n=this._primaryCursor.render(e);if(n){t[i++]=n}for(var r=0,o=this._secondaryCursors.length;r<o;r++){var s=this._secondaryCursors[r].render(e);if(s){t[i++]=s}}this._renderData=t};r.prototype.getLastRenderData=function(){return this._renderData};r.BLINK_INTERVAL=500;return r}(i.ViewPart);t.ViewCursors=l;r.registerThemingParticipant(function(e,t){var i=e.getColor(a.editorCursorForeground);if(i){var n=e.getColor(a.editorCursorBackground);if(!n){n=i.opposite()}t.addRule(".monaco-editor .cursor { background-color: "+i+"; border-color: "+i+"; color: "+n+"; }");if(e.type==="hc"){t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+n+"; border-right: 1px solid "+n+"; }")}}})});define(r[511],e([0,1,13,10,28,3,81,507,496,455,227,449,242,503,504,243,129,195,505,498,154,245,247,248,508,249,509,500,501,510,250,35,226,86,497,231,492,499,57,16]),function(e,t,i,a,l,o,n,c,d,h,f,p,g,v,m,_,y,C,b,S,w,E,L,x,N,r,I,D,T,M,k,O,R,P,A,F,W,B,V,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var u=function(u){pe(e,u);function e(e,t,i,n,r,o){var s=u.call(this)||this;s._cursor=r;s._renderAnimationFrame=null;s.outgoingEvents=new A.ViewOutgoingEvents(n);var a=new h.ViewController(t,n,o,s.outgoingEvents,e);s.eventDispatcher=new f.ViewEventDispatcher(function(e){return s._renderOnce(e)});s.eventDispatcher.addEventHandler(s);s._context=new R.ViewContext(t,i.getTheme(),n,s.eventDispatcher);s._register(i.onThemeChange(function(e){s._context.theme=e;s.eventDispatcher.emit(new V.ViewThemeChangedEvent);s.render(true,false)}));s.viewParts=[];s._textAreaHandler=new c.TextAreaHandler(s._context,a,s.createTextAreaHandlerHelper());s.viewParts.push(s._textAreaHandler);s.createViewParts();s._setLayout();s.pointerHandler=new d.PointerHandler(s._context,a,s.createPointerHandlerHelper());s._register(n.addEventListener(function(e){s.eventDispatcher.emitMany(e)}));s._register(s._cursor.addEventListener(function(e){s.eventDispatcher.emitMany(e)}));return s}e.prototype.createViewParts=function(){this.linesContent=l.createFastDomNode(document.createElement("div"));this.linesContent.setClassName("lines-content"+" monaco-editor-background");this.linesContent.setPosition("absolute");this.domNode=l.createFastDomNode(document.createElement("div"));this.domNode.setClassName(this.getEditorClassName());this.overflowGuardContainer=l.createFastDomNode(document.createElement("div"));O.PartFingerprints.write(this.overflowGuardContainer,3);this.overflowGuardContainer.setClassName("overflow-guard");this._scrollbar=new W.EditorScrollbar(this._context,this.linesContent,this.domNode,this.overflowGuardContainer);this.viewParts.push(this._scrollbar);this.viewLines=new S.ViewLines(this._context,this.linesContent);this.viewZones=new k.ViewZones(this._context);this.viewParts.push(this.viewZones);var e=new N.DecorationsOverviewRuler(this._context);this.viewParts.push(e);var t=new D.ScrollDecorationViewPart(this._context);this.viewParts.push(t);var i=new p.ContentViewOverlays(this._context);this.viewParts.push(i);i.addDynamicOverlay(new v.CurrentLineHighlightOverlay(this._context));i.addDynamicOverlay(new T.SelectionsOverlay(this._context));i.addDynamicOverlay(new _.DecorationsOverlay(this._context));i.addDynamicOverlay(new b.IndentGuidesOverlay(this._context));var n=new p.MarginViewOverlays(this._context);this.viewParts.push(n);n.addDynamicOverlay(new m.CurrentLineMarginHighlightOverlay(this._context));n.addDynamicOverlay(new y.GlyphMarginOverlay(this._context));n.addDynamicOverlay(new L.MarginViewLineDecorationsOverlay(this._context));n.addDynamicOverlay(new E.LinesDecorationsOverlay(this._context));n.addDynamicOverlay(new C.LineNumbersOverlay(this._context));var r=new w.Margin(this._context);r.getDomNode().appendChild(this.viewZones.marginDomNode);r.getDomNode().appendChild(n.getDomNode());this.viewParts.push(r);this.contentWidgets=new g.ViewContentWidgets(this._context,this.domNode);this.viewParts.push(this.contentWidgets);this.viewCursors=new M.ViewCursors(this._context);this.viewParts.push(this.viewCursors);this.overlayWidgets=new x.ViewOverlayWidgets(this._context);this.viewParts.push(this.overlayWidgets);var o=new I.Rulers(this._context);this.viewParts.push(o);var s=new B.Minimap(this._context);this.viewParts.push(s);if(e){var a=this._scrollbar.getOverviewRulerLayoutInfo();a.parent.insertBefore(e.getDomNode(),a.insertBefore)}this.linesContent.appendChild(i.getDomNode());this.linesContent.appendChild(o.domNode);this.linesContent.appendChild(this.viewZones.domNode);this.linesContent.appendChild(this.viewLines.getDomNode());this.linesContent.appendChild(this.contentWidgets.domNode);this.linesContent.appendChild(this.viewCursors.getDomNode());this.overflowGuardContainer.appendChild(r.getDomNode());this.overflowGuardContainer.appendChild(this._scrollbar.getDomNode());this.overflowGuardContainer.appendChild(t.getDomNode());this.overflowGuardContainer.appendChild(this._textAreaHandler.textArea);this.overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover);this.overflowGuardContainer.appendChild(this.overlayWidgets.getDomNode());this.overflowGuardContainer.appendChild(s.getDomNode());this.domNode.appendChild(this.overflowGuardContainer);this.domNode.appendChild(this.contentWidgets.overflowingContentWidgetsDomNode)};e.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()};e.prototype.createPointerHandlerHelper=function(){var n=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){n.focus()},getLastViewCursorsRenderData:function(){return n.viewCursors.getLastRenderData()||[]},shouldSuppressMouseDownOnViewZone:function(e){return n.viewZones.shouldSuppressMouseDownOnViewZone(e)},shouldSuppressMouseDownOnWidget:function(e){return n.contentWidgets.shouldSuppressMouseDownOnWidget(e)},getPositionFromDOMInfo:function(e,t){n._flushAccumulatedAndRenderNow();return n.viewLines.getPositionFromDOMInfo(e,t)},visibleRangeForPosition2:function(e,t){n._flushAccumulatedAndRenderNow();var i=n.viewLines.visibleRangesForRange2(new o.Range(e,t,e,t));if(!i){return null}return i[0]},getLineWidth:function(e){n._flushAccumulatedAndRenderNow();return n.viewLines.getLineWidth(e)}}};e.prototype.createTextAreaHandlerHelper=function(){var n=this;return{visibleRangeForPositionRelativeToEditor:function(e,t){n._flushAccumulatedAndRenderNow();var i=n.viewLines.visibleRangesForRange2(new o.Range(e,t,e,t));if(!i){return null}return i[0]}}};e.prototype._setLayout=function(){var e=this._context.configuration.editor.layoutInfo;this.domNode.setWidth(e.width);this.domNode.setHeight(e.height);this.overflowGuardContainer.setWidth(e.width);this.overflowGuardContainer.setHeight(e.height);this.linesContent.setWidth(1e6);this.linesContent.setHeight(1e6)};e.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.editor.editorClassName+" "+s.getThemeTypeSelector(this._context.theme.type)+e};e.prototype.onConfigurationChanged=function(e){if(e.editorClassName){this.domNode.setClassName(this.getEditorClassName())}if(e.layoutInfo){this._setLayout()}return false};e.prototype.onFocusChanged=function(e){this.domNode.setClassName(this.getEditorClassName());if(e.isFocused){this.outgoingEvents.emitViewFocusGained()}else{this.outgoingEvents.emitViewFocusLost()}return false};e.prototype.onScrollChanged=function(e){this.outgoingEvents.emitScrollChanged(e);return false};e.prototype.onThemeChanged=function(e){this.domNode.setClassName(this.getEditorClassName());return false};e.prototype.dispose=function(){if(this._renderAnimationFrame!==null){this._renderAnimationFrame.dispose();this._renderAnimationFrame=null}this.eventDispatcher.removeEventHandler(this);this.outgoingEvents.dispose();this.pointerHandler.dispose();this.viewLines.dispose();for(var e=0,t=this.viewParts.length;e<t;e++){this.viewParts[e].dispose()}this.viewParts=[];u.prototype.dispose.call(this)};e.prototype._renderOnce=function(e){var t=H(e);this._scheduleRender();return t};e.prototype._scheduleRender=function(){if(this._renderAnimationFrame===null){this._renderAnimationFrame=a.runAtThisOrScheduleAtNextAnimationFrame(this._onRenderScheduled.bind(this),100)}};e.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null;this._flushAccumulatedAndRenderNow()};e.prototype._renderNow=function(){var e=this;H(function(){return e._actualRender()})};e.prototype._getViewPartsToRender=function(){var e=[],t=0;for(var i=0,n=this.viewParts.length;i<n;i++){var r=this.viewParts[i];if(r.shouldRender()){e[t++]=r}}return e};e.prototype._actualRender=function(){if(!a.isInDOM(this.domNode.domNode)){return}var e=this._getViewPartsToRender();if(!this.viewLines.shouldRender()&&e.length===0){return}var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var i=new F.ViewportData(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);if(this.contentWidgets.shouldRender()){this.contentWidgets.onBeforeRender(i)}if(this.viewLines.shouldRender()){this.viewLines.renderText(i);this.viewLines.onDidRender();e=this._getViewPartsToRender()}var n=new P.RenderingContext(this._context.viewLayout,i,this.viewLines);for(var r=0,o=e.length;r<o;r++){var s=e[r];s.prepareRender(n)}for(var r=0,o=e.length;r<o;r++){var s=e[r];s.render(n);s.onDidRender()}};e.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)};e.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop});this._renderNow();this.viewLines.updateLineWidths();this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})};e.prototype.getOffsetForColumn=function(e,t){var i=this._context.model.validateModelPosition({lineNumber:e,column:t});var n=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(i);this._flushAccumulatedAndRenderNow();var r=this.viewLines.visibleRangesForRange2(new o.Range(n.lineNumber,n.column,n.lineNumber,n.column));if(!r){return-1}return r[0].left};e.prototype.getTargetAtClientPoint=function(e,t){return this.pointerHandler.getTargetAtClientPoint(e,t)};e.prototype.getInternalEventBus=function(){return this.outgoingEvents};e.prototype.createOverviewRuler=function(e){return new r.OverviewRuler(this._context,e)};e.prototype.change=function(t){var i=this;var n=false;this._renderOnce(function(){var e={addZone:function(e){n=true;return i.viewZones.addZone(e)},removeZone:function(e){if(!e){return}n=i.viewZones.removeZone(e)||n},layoutZone:function(e){if(!e){return}n=i.viewZones.layoutZone(e)||n}};z(t,e);e.addZone=null;e.removeZone=null;if(n){i._context.viewLayout.onHeightMaybeChanged();i._context.privateViewEventBus.emit(new V.ViewZonesChangedEvent)}});return n};e.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var i=0,n=this.viewParts.length;i<n;i++){var r=this.viewParts[i];r.forceShouldRender()}}if(e){this._flushAccumulatedAndRenderNow()}else{this._scheduleRender()}};e.prototype.focus=function(){this._textAreaHandler.focusTextArea()};e.prototype.isFocused=function(){return this._textAreaHandler.isFocused()};e.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget);this.layoutContentWidget(e);this._scheduleRender()};e.prototype.layoutContentWidget=function(e){var t=e.position?e.position.position:null;var i=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,i);this._scheduleRender()};e.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget);this._scheduleRender()};e.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget);this.layoutOverlayWidget(e);this._scheduleRender()};e.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null;var i=this.overlayWidgets.setWidgetPosition(e.widget,t);if(i){this._scheduleRender()}};e.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget);this._scheduleRender()};return e}(n.ViewEventHandler);t.View=u;function H(e){try{return e()}catch(e){i.onUnexpectedError(e)}}function z(e,t){try{return e(t)}catch(e){i.onUnexpectedError(e)}}});define(r[196],e([0,1,13,7,10,14,34,19,421,11,38,65,511,2,4,206,16,36,122,312,313]),function(e,t,p,r,n,i,o,s,a,u,l,c,d,h,g,v,m,f,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});var y=function(f){pe(e,f);function e(e,t,i,n,r,o,s){var a=f.call(this,e,t,i,o)||this;a._onMouseUp=a._register(new g.Emitter);a.onMouseUp=a._onMouseUp.event;a._onMouseDown=a._register(new g.Emitter);a.onMouseDown=a._onMouseDown.event;a._onMouseDrag=a._register(new g.Emitter);a.onMouseDrag=a._onMouseDrag.event;a._onMouseDrop=a._register(new g.Emitter);a.onMouseDrop=a._onMouseDrop.event;a._onContextMenu=a._register(new g.Emitter);a.onContextMenu=a._onContextMenu.event;a._onMouseMove=a._register(new g.Emitter);a.onMouseMove=a._onMouseMove.event;a._onMouseLeave=a._register(new g.Emitter);a.onMouseLeave=a._onMouseLeave.event;a._onKeyUp=a._register(new g.Emitter);a.onKeyUp=a._onKeyUp.event;a._onKeyDown=a._register(new g.Emitter);a.onKeyDown=a._onKeyDown.event;a._onDidScrollChange=a._register(new g.Emitter);a.onDidScrollChange=a._onDidScrollChange.event;a._onDidChangeViewZones=a._register(new g.Emitter);a.onDidChangeViewZones=a._onDidChangeViewZones.event;a._codeEditorService=n;a._commandService=r;a._themeService=s;a._focusTracker=new C(e);a._focusTracker.onChange(function(){var e=a._focusTracker.hasFocus();if(e){a._onDidFocusEditor.fire()}else{a._onDidBlurEditor.fire()}});a.contentWidgets={};a.overlayWidgets={};var u=a._getContributions();for(var l=0,c=u.length;l<c;l++){var d=u[l];try{var h=a._instantiationService.createInstance(d,a);a._contributions[h.getId()]=h}catch(e){p.onUnexpectedError(e)}}a._getActions().forEach(function(t){var e=new v.InternalEditorAction(t.id,t.label,t.alias,t.precondition,function(){return a._instantiationService.invokeFunction(function(e){return t.runEditorCommand(e,a,null)})},a._contextKeyService);a._actions[e.id]=e});a._codeEditorService.addCodeEditor(a);return a}e.prototype._createConfiguration=function(e){return new c.Configuration(e,this.domElement)};e.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this);this.contentWidgets={};this.overlayWidgets={};this._focusTracker.dispose();f.prototype.dispose.call(this)};e.prototype.createOverviewRuler=function(e){return this._view.createOverviewRuler(e)};e.prototype.getDomNode=function(){if(!this.hasView){return null}return this._view.domNode.domNode};e.prototype.delegateVerticalScrollbarMouseDown=function(e){if(!this.hasView){return}this._view.delegateVerticalScrollbarMouseDown(e)};e.prototype.layout=function(e){this._configuration.observeReferenceElement(e);this.render()};e.prototype.focus=function(){if(!this.hasView){return}this._view.focus()};e.prototype.isFocused=function(){return this.hasView&&this._view.isFocused()};e.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()};e.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};if(this.contentWidgets.hasOwnProperty(e.getId())){console.warn("Overwriting a content widget with the same id.")}this.contentWidgets[e.getId()]=t;if(this.hasView){this._view.addContentWidget(t)}};e.prototype.layoutContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var i=this.contentWidgets[t];i.position=e.getPosition();if(this.hasView){this._view.layoutContentWidget(i)}}};e.prototype.removeContentWidget=function(e){var t=e.getId();if(this.contentWidgets.hasOwnProperty(t)){var i=this.contentWidgets[t];delete this.contentWidgets[t];if(this.hasView){this._view.removeContentWidget(i)}}};e.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};if(this.overlayWidgets.hasOwnProperty(e.getId())){console.warn("Overwriting an overlay widget with the same id.")}this.overlayWidgets[e.getId()]=t;if(this.hasView){this._view.addOverlayWidget(t)}};e.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var i=this.overlayWidgets[t];i.position=e.getPosition();if(this.hasView){this._view.layoutOverlayWidget(i)}}};e.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this.overlayWidgets.hasOwnProperty(t)){var i=this.overlayWidgets[t];delete this.overlayWidgets[t];if(this.hasView){this._view.removeOverlayWidget(i)}}};e.prototype.changeViewZones=function(e){if(!this.hasView){return}var t=this._view.change(e);if(t){this._onDidChangeViewZones.fire()}};e.prototype.getTargetAtClientPoint=function(e,t){if(!this.hasView){return null}return this._view.getTargetAtClientPoint(e,t)};e.prototype.getScrolledVisiblePosition=function(e){if(!this.hasView){return null}var t=this.model.validatePosition(e);var i=this._configuration.editor.layoutInfo;var n=this._getVerticalOffsetForPosition(t.lineNumber,t.column)-this.getScrollTop();var r=this._view.getOffsetForColumn(t.lineNumber,t.column)+i.glyphMarginWidth+i.lineNumbersWidth+i.decorationsWidth-this.getScrollLeft();return{top:n,left:r,height:this._configuration.editor.lineHeight}};e.prototype.getOffsetForColumn=function(e,t){if(!this.hasView){return-1}return this._view.getOffsetForColumn(e,t)};e.prototype.render=function(){if(!this.hasView){return}this._view.render(true,false)};e.prototype.applyFontInfo=function(e){c.Configuration.applyFontInfoSlow(e,this._configuration.editor.fontInfo)};e.prototype._attachModel=function(e){this._view=null;f.prototype._attachModel.call(this,e);if(this._view){this.domElement.appendChild(this._view.domNode.domNode);var t=Object.keys(this.contentWidgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._view.addContentWidget(this.contentWidgets[r])}t=Object.keys(this.overlayWidgets);for(var i=0,n=t.length;i<n;i++){var r=t[i];this._view.addOverlayWidget(this.overlayWidgets[r])}this._view.render(false,true);this.hasView=true;this._view.domNode.domNode.setAttribute("data-uri",e.uri.toString())}};e.prototype._scheduleAtNextAnimationFrame=function(e){return n.scheduleAtNextAnimationFrame(e)};e.prototype._createView=function(){var i=this;this._view=new d.View(this._commandService,this._configuration,this._themeService,this.viewModel,this.cursor,function(e,t){if(!i.cursor){return}e.runCoreEditorCommand(i.cursor,t)});var e=this._view.getInternalEventBus();e.onDidGainFocus=function(){i._onDidFocusEditorText.fire();i._onDidFocusEditor.fire()};e.onDidScroll=function(e){return i._onDidScrollChange.fire(e)};e.onDidLoseFocus=function(){return i._onDidBlurEditorText.fire()};e.onContextMenu=function(e){return i._onContextMenu.fire(e)};e.onMouseDown=function(e){return i._onMouseDown.fire(e)};e.onMouseUp=function(e){return i._onMouseUp.fire(e)};e.onMouseDrag=function(e){return i._onMouseDrag.fire(e)};e.onMouseDrop=function(e){return i._onMouseDrop.fire(e)};e.onKeyUp=function(e){return i._onKeyUp.fire(e)};e.onMouseMove=function(e){return i._onMouseMove.fire(e)};e.onMouseLeave=function(e){return i._onMouseLeave.fire(e)};e.onKeyDown=function(e){return i._onKeyDown.fire(e)}};e.prototype.restoreViewState=function(e){f.prototype.restoreViewState.call(this,e);if(!this.cursor||!this.hasView){return}if(e&&e.cursorState&&e.viewState){this._view.restoreState(this.viewModel.viewLayout.reduceRestoreState(e.viewState))}};e.prototype._detachModel=function(){var e=null;if(this._view){this._view.dispose();e=this._view.domNode.domNode;this._view=null}var t=f.prototype._detachModel.call(this);if(e){this.domElement.removeChild(e)}return t};e.prototype._registerDecorationType=function(e,t,i){this._codeEditorService.registerDecorationType(e,t,i)};e.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)};e.prototype._resolveDecorationOptions=function(e,t){return this._codeEditorService.resolveDecorationOptions(e,t)};e.prototype._triggerEditorCommand=function(e,t,i){var n=u.EditorExtensionsRegistry.getEditorCommand(t);if(n){i=i||{};i.source=e;r.TPromise.as(n.runEditorCommand(null,this,i)).done(null,p.onUnexpectedError);return true}return false};e=q([G(2,i.IInstantiationService),G(3,l.ICodeEditorService),G(4,o.ICommandService),G(5,s.IContextKeyService),G(6,m.IThemeService)],e);return e}(a.CommonCodeEditor);t.CodeEditorWidget=y;var C=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._onChange=t._register(new g.Emitter);t.onChange=t._onChange.event;t._hasFocus=false;t._domFocusTracker=t._register(n.trackFocus(e));t._register(t._domFocusTracker.onDidFocus(function(){t._hasFocus=true;t._onChange.fire(void 0)}));t._register(t._domFocusTracker.onDidBlur(function(){t._hasFocus=false;t._onChange.fire(void 0)}));return t}e.prototype.hasFocus=function(){return this._hasFocus};return e}(h.Disposable);var b=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='");var S=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function w(e){return b+encodeURIComponent(e.toString())+S}m.registerThemingParticipant(function(e,t){var i=e.getColor(f.editorErrorBorder);if(i){t.addRule(".monaco-editor ."+_.ClassName.EditorErrorDecoration+" { border-bottom: 4px double "+i+"; }")}var n=e.getColor(f.editorErrorForeground);if(n){t.addRule(".monaco-editor ."+_.ClassName.EditorErrorDecoration+' { background: url("data:image/svg+xml;utf8,'+w(n)+'") repeat-x bottom left; }')}var r=e.getColor(f.editorWarningBorder);if(r){t.addRule(".monaco-editor ."+_.ClassName.EditorWarningDecoration+" { border-bottom: 4px double "+r+"; }")}var o=e.getColor(f.editorWarningForeground);if(o){t.addRule(".monaco-editor ."+_.ClassName.EditorWarningDecoration+' { background: url("data:image/svg+xml;utf8,'+w(o)+'") repeat-x bottom left; }')}var s=e.getColor(f.editorInfoBorder);if(s){t.addRule(".monaco-editor ."+_.ClassName.EditorInfoDecoration+" { border-bottom: 4px double "+s+"; }")}var a=e.getColor(f.editorInfoForeground);if(a){t.addRule(".monaco-editor ."+_.ClassName.EditorInfoDecoration+' { background: url("data:image/svg+xml;utf8,'+w(a)+'") repeat-x bottom left; }')}})});define(r[138],e([0,1,14,34,19,38,196,11,16]),function(e,t,i,n,r,o,s,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(a){pe(e,a);function e(e,t,i,n,r,o,s){return a.call(this,e,t,i,n,r,o,s)||this}e.prototype._getContributions=function(){return u.EditorExtensionsRegistry.getEditorContributions()};e.prototype._getActions=function(){return u.EditorExtensionsRegistry.getEditorActions()};e=q([G(2,i.IInstantiationService),G(3,o.ICodeEditorService),G(4,n.ICommandService),G(5,r.IContextKeyService),G(6,l.IThemeService)],e);return e}(s.CodeEditorWidget);t.CodeEditor=a});define(r[514],e([0,1,317,2,10,28,33,94,83,65,12,16,22,55,36,73,68,11,19,38,309]),function(e,t,M,i,L,n,r,l,c,x,o,s,a,u,d,h,f,p,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});var P=3;var m;(function(e){e[e["Equal"]=0]="Equal";e[e["Insert"]=1]="Insert";e[e["Delete"]=2]="Delete"})(m||(m={}));var A=function(){function e(e,t,i,n){this.originalLineStart=e;this.originalLineEnd=t;this.modifiedLineStart=i;this.modifiedLineEnd=n}e.prototype.getType=function(){if(this.originalLineStart===0){return 1}if(this.modifiedLineStart===0){return 2}return 0};return e}();var F=function(){function e(e){this.entries=e}return e}();var _=function(t){pe(E,t);function E(e){var i=t.call(this)||this;i._width=0;i._diffEditor=e;i._isVisible=false;i.shadow=n.createFastDomNode(document.createElement("div"));i.shadow.setClassName("diff-review-shadow");i.actionBarContainer=n.createFastDomNode(document.createElement("div"));i.actionBarContainer.setClassName("diff-review-actions");i._actionBar=i._register(new h.ActionBar(i.actionBarContainer.domNode));i._actionBar.push(new f.Action("diffreview.close",M.localize(0,null),"close-diff-review",true,function(){i.hide();return null}),{label:false,icon:true});i.domNode=n.createFastDomNode(document.createElement("div"));i.domNode.setClassName("diff-review monaco-editor-background");i._content=n.createFastDomNode(document.createElement("div"));i._content.setClassName("diff-review-content");i.scrollbar=i._register(new u.DomScrollableElement(i._content.domNode,{}));i.domNode.domNode.appendChild(i.scrollbar.getDomNode());i._register(e.onDidUpdateDiff(function(){if(!i._isVisible){return}i._diffs=i._compute();i._render()}));i._register(e.getModifiedEditor().onDidChangeCursorPosition(function(){if(!i._isVisible){return}i._render()}));i._register(e.getOriginalEditor().onDidFocusEditor(function(){if(i._isVisible){i.hide()}}));i._register(e.getModifiedEditor().onDidFocusEditor(function(){if(i._isVisible){i.hide()}}));i._register(L.addStandardDisposableListener(i.domNode.domNode,"click",function(e){e.preventDefault();var t=L.findParentWithClass(e.target,"diff-review-row");if(t){i._goToRow(t)}}));i._register(L.addStandardDisposableListener(i.domNode.domNode,"keydown",function(e){if(e.equals(18)||e.equals(2048|18)||e.equals(512|18)){e.preventDefault();i._goToRow(i._getNextRow())}if(e.equals(16)||e.equals(2048|16)||e.equals(512|16)){e.preventDefault();i._goToRow(i._getPrevRow())}if(e.equals(9)||e.equals(2048|9)||e.equals(512|9)||e.equals(1024|9)){e.preventDefault();i.hide()}if(e.equals(10)||e.equals(3)){e.preventDefault();i.accept()}}));i._diffs=[];i._currentDiff=null;return i}E.prototype.prev=function(){var e=0;if(!this._isVisible){this._diffs=this._compute()}if(this._isVisible){var t=-1;for(var i=0,n=this._diffs.length;i<n;i++){if(this._diffs[i]===this._currentDiff){t=i;break}}e=this._diffs.length+t-1}else{e=this._findDiffIndex(this._diffEditor.getPosition())}if(this._diffs.length===0){return}e=e%this._diffs.length;this._diffEditor.setPosition(new o.Position(this._diffs[e].entries[0].modifiedLineStart,1));this._isVisible=true;this._diffEditor.doLayout();this._render();this._goToRow(this._getNextRow())};E.prototype.next=function(){var e=0;if(!this._isVisible){this._diffs=this._compute()}if(this._isVisible){var t=-1;for(var i=0,n=this._diffs.length;i<n;i++){if(this._diffs[i]===this._currentDiff){t=i;break}}e=t+1}else{e=this._findDiffIndex(this._diffEditor.getPosition())}if(this._diffs.length===0){return}e=e%this._diffs.length;this._diffEditor.setPosition(new o.Position(this._diffs[e].entries[0].modifiedLineStart,1));this._isVisible=true;this._diffEditor.doLayout();this._render();this._goToRow(this._getNextRow())};E.prototype.accept=function(){var e=-1;var t=this._getCurrentFocusedRow();if(t){var i=parseInt(t.getAttribute("data-line"),10);if(!isNaN(i)){e=i}}this.hide();if(e!==-1){this._diffEditor.setPosition(new o.Position(e,1));this._diffEditor.revealPosition(new o.Position(e,1),1)}};E.prototype.hide=function(){this._isVisible=false;this._diffEditor.focus();this._diffEditor.doLayout();this._render()};E.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();if(!e){return this._getFirstRow()}if(e.previousElementSibling){return e.previousElementSibling}return e};E.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();if(!e){return this._getFirstRow()}if(e.nextElementSibling){return e.nextElementSibling}return e};E.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")};E.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;if(e&&/diff-review-row/.test(e.className)){return e}return null};E.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0;e.focus();if(t&&t!==e){t.tabIndex=-1}this.scrollbar.scanDomNode()};E.prototype.isVisible=function(){return this._isVisible};E.prototype.layout=function(e,t,i){this._width=t;this.shadow.setTop(e-6);this.shadow.setWidth(t);this.shadow.setHeight(this._isVisible?6:0);this.domNode.setTop(e);this.domNode.setWidth(t);this.domNode.setHeight(i);this._content.setHeight(i);this._content.setWidth(t);if(this._isVisible){this.actionBarContainer.setAttribute("aria-hidden","false");this.actionBarContainer.setDisplay("block")}else{this.actionBarContainer.setAttribute("aria-hidden","true");this.actionBarContainer.setDisplay("none")}};E.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||e.length===0){return[]}var t=this._diffEditor.getOriginalEditor().getModel();var i=this._diffEditor.getModifiedEditor().getModel();if(!t||!i){return[]}return E._mergeAdjacent(e,t.getLineCount(),i.getLineCount())};E._mergeAdjacent=function(e,t,i){if(!e||e.length===0){return[]}var n=[],r=0;for(var o=0,s=e.length;o<s;o++){var a=e[o];var u=a.originalStartLineNumber;var l=a.originalEndLineNumber;var c=a.modifiedStartLineNumber;var d=a.modifiedEndLineNumber;var h=[],f=0;{var p=l===0?u:u-1;var g=d===0?c:c-1;var v=1;var m=1;if(o>0){var _=e[o-1];if(_.originalEndLineNumber===0){v=_.originalStartLineNumber+1}else{v=_.originalEndLineNumber+1}if(_.modifiedEndLineNumber===0){m=_.modifiedStartLineNumber+1}else{m=_.modifiedEndLineNumber+1}}var y=p-P+1;var C=g-P+1;if(y<v){var b=v-y;y=y+b;C=C+b}if(C<m){var b=m-C;y=y+b;C=C+b}h[f++]=new A(y,p,C,g)}{if(l!==0){h[f++]=new A(u,l,0,0)}}{if(d!==0){h[f++]=new A(0,0,c,d)}}{var S=l===0?u+1:l+1;var w=d===0?c+1:d+1;var E=t;var L=i;if(o+1<s){var x=e[o+1];if(x.originalEndLineNumber===0){E=x.originalStartLineNumber}else{E=x.originalStartLineNumber-1}if(x.modifiedEndLineNumber===0){L=x.modifiedStartLineNumber}else{L=x.modifiedStartLineNumber-1}}var N=S+P-1;var I=w+P-1;if(N>E){var b=E-N;N=N+b;I=I+b}if(I>L){var b=L-I;N=N+b;I=I+b}h[f++]=new A(S,N,w,I)}n[r++]=new F(h)}var D=n[0].entries;var T=[],M=0;for(var o=1,s=n.length;o<s;o++){var k=n[o].entries;var O=D[D.length-1];var R=k[0];if(O.getType()===0&&R.getType()===0&&R.originalLineStart<=O.originalLineEnd){D[D.length-1]=new A(O.originalLineStart,R.originalLineEnd,O.modifiedLineStart,R.modifiedLineEnd);D=D.concat(k.slice(1));continue}T[M++]=new F(D);D=k}T[M++]=new F(D);return T};E.prototype._findDiffIndex=function(e){var t=e.lineNumber;for(var i=0,n=this._diffs.length;i<n;i++){var r=this._diffs[i].entries;var o=r[r.length-1].modifiedLineEnd;if(t<=o){return i}}return 0};E.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getConfiguration();var t=this._diffEditor.getModifiedEditor().getConfiguration();var i=this._diffEditor.getOriginalEditor().getModel();var n=this._diffEditor.getModifiedEditor().getModel();var r=i.getOptions();var o=n.getOptions();if(!this._isVisible||!i||!n){L.clearNode(this._content.domNode);this._currentDiff=null;this.scrollbar.scanDomNode();return}var s=this._diffEditor.getPosition();var a=this._findDiffIndex(s);if(this._diffs[a]===this._currentDiff){return}this._currentDiff=this._diffs[a];var u=this._diffs[a].entries;var l=document.createElement("div");l.className="diff-review-table";l.setAttribute("role","list");x.Configuration.applyFontInfoSlow(l,t.fontInfo);var c=0;var d=0;var h=0;var f=0;for(var p=0,g=u.length;p<g;p++){var v=u[p];var m=v.originalLineStart;var _=v.originalLineEnd;var y=v.modifiedLineStart;var C=v.modifiedLineEnd;if(m!==0&&(c===0||m<c)){c=m}if(_!==0&&(d===0||_>d)){d=_}if(y!==0&&(h===0||y<h)){h=y}if(C!==0&&(f===0||C>f)){f=C}}var b=document.createElement("div");b.className="diff-review-row";var S=document.createElement("div");S.className="diff-review-cell diff-review-summary";S.appendChild(document.createTextNode(a+1+"/"+this._diffs.length+": @@ -"+c+","+(d-c+1)+" +"+h+","+(f-h+1)+" @@"));b.setAttribute("data-line",String(h));b.setAttribute("aria-label",M.localize(1,null,a+1,this._diffs.length,c,d-c+1,h,f-h+1));b.appendChild(S);b.setAttribute("role","listitem");l.appendChild(b);var w=h;for(var p=0,g=u.length;p<g;p++){var v=u[p];E._renderSection(l,v,w,this._width,e,i,r,t,n,o);if(v.modifiedLineStart!==0){w=v.modifiedLineEnd}}L.clearNode(this._content.domNode);this._content.domNode.appendChild(l);this.scrollbar.scanDomNode()};E._renderSection=function(e,t,i,n,r,o,s,a,u,l){var c=t.getType();var d="diff-review-row";var h="";var f="diff-review-spacer";switch(c){case 1:d="diff-review-row line-insert";h=" char-insert";f="diff-review-spacer insert-sign";break;case 2:d="diff-review-row line-delete";h=" char-delete";f="diff-review-spacer delete-sign";break}var p=t.originalLineStart;var g=t.originalLineEnd;var v=t.modifiedLineStart;var m=t.modifiedLineEnd;var _=Math.max(m-v,g-p);var y=r.layoutInfo.glyphMarginWidth+r.layoutInfo.lineNumbersWidth;var C=10+a.layoutInfo.glyphMarginWidth+a.layoutInfo.lineNumbersWidth;for(var b=0;b<=_;b++){var S=p===0?0:p+b;var w=v===0?0:v+b;var E=document.createElement("div");E.style.minWidth=n+"px";E.className=d;E.setAttribute("role","listitem");if(w!==0){i=w}E.setAttribute("data-line",String(i));var L=document.createElement("div");L.className="diff-review-cell";E.appendChild(L);var x=document.createElement("span");x.style.width=y+"px";x.style.minWidth=y+"px";x.className="diff-review-line-number"+h;if(S!==0){x.appendChild(document.createTextNode(String(S)))}else{x.innerHTML="&nbsp;"}L.appendChild(x);var N=document.createElement("span");N.style.width=C+"px";N.style.minWidth=C+"px";N.style.paddingRight="10px";N.className="diff-review-line-number"+h;if(w!==0){N.appendChild(document.createTextNode(String(w)))}else{N.innerHTML="&nbsp;"}L.appendChild(N);var I=document.createElement("span");I.className=f;I.innerHTML="&nbsp;&nbsp;";L.appendChild(I);var D=void 0;if(w!==0){L.insertAdjacentHTML("beforeend",this._renderLine(u,a,l.tabSize,w));D=u.getLineContent(w)}else{L.insertAdjacentHTML("beforeend",this._renderLine(o,r,s.tabSize,S));D=o.getLineContent(S)}if(D.length===0){D=M.localize(2,null)}var T=void 0;switch(c){case 0:T=M.localize(3,null,S,w,D);break;case 1:T=M.localize(4,null,w,D);break;case 2:T=M.localize(5,null,S,D);break}E.setAttribute("aria-label",T);e.appendChild(E)}};E._renderLine=function(e,t,i,n){var r=e.getLineContent(n);var o=(0<<11|1<<14|2<<23)>>>0;var s=new Uint32Array(2);s[0]=r.length;s[1]=o;var a=new c.LineTokens(s,r);var u=l.renderViewLine2(new l.RenderLineInput(t.fontInfo.isMonospace&&!t.viewInfo.disableMonospaceOptimizations,r,e.mightContainRTL(),0,a,[],i,t.fontInfo.spaceWidth,t.viewInfo.stopRenderingLineAfter,t.viewInfo.renderWhitespace,t.viewInfo.renderControlCharacters,t.viewInfo.fontLigatures));return u.html};return E}(i.Disposable);t.DiffReview=_;s.registerThemingParticipant(function(e,t){var i=e.getColor(d.editorLineNumbers);if(i){t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+i+"; }")}var n=e.getColor(a.scrollbarShadow);if(n){t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+n+" 0 -6px 6px -6px inset; }")}});var y=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.diffReview.next",label:M.localize(6,null),alias:"Go to Next Difference",precondition:g.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65}})||this}t.prototype.run=function(e,t){var i=b(e);if(i){i.diffReviewNext()}};return t}(p.EditorAction);var C=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.diffReview.prev",label:M.localize(7,null),alias:"Go to Previous Difference",precondition:g.ContextKeyExpr.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1024|65}})||this}t.prototype.run=function(e,t){var i=b(e);if(i){i.diffReviewPrev()}};return t}(p.EditorAction);function b(e){var t=e.get(v.ICodeEditorService);var i=t.listDiffEditors();for(var n=0,r=i.length;n<r;n++){var o=i[n];if(o.hasWidgetFocus()){return o}}return null}p.registerEditorAction(y);p.registerEditorAction(C)});define(r[139],e([0,1,316,18,2,27,10,28,105,14,19,38,3,33,62,118,94,138,83,65,84,93,4,50,16,22,186,32,514,130,46,307]),function(e,t,o,f,i,n,p,g,r,s,v,a,m,u,l,h,_,c,y,C,b,S,w,E,L,d,x,N,I,D,T){"use strict";Object.defineProperty(t,"__esModule",{value:true});var M=function(){function e(){this._zones=[];this._zonesMap={};this._decorations=[]}e.prototype.getForeignViewZones=function(e){var t=this;return e.filter(function(e){return!t._zonesMap[String(e.id)]})};e.prototype.clean=function(e){var n=this;if(this._zones.length>0){e.changeViewZones(function(e){for(var t=0,i=n._zones.length;t<i;t++){e.removeZone(n._zones[t])}})}this._zones=[];this._zonesMap={};if(this._decorations.length>0){e.changeDecorations(function(e){e.deltaDecorations(n._decorations,[])})}this._decorations=[]};e.prototype.apply=function(e,t,o){var s=this;e.changeViewZones(function(e){for(var t=0,i=s._zones.length;t<i;t++){e.removeZone(s._zones[t])}s._zones=[];s._zonesMap={};for(var t=0,n=o.zones.length;t<n;t++){o.zones[t].suppressMouseDown=true;var r=e.addZone(o.zones[t]);s._zones.push(r);s._zonesMap[String(r)]=true}});this._decorations=e.deltaDecorations(this._decorations,o.decorations);if(t){t.setZones(o.overviewZones)}};return e}();var k=0;var O=function(d){pe(h,d);function h(e,t,i,n,r,o,s,a){var u=d.call(this)||this;u._onDidDispose=u._register(new w.Emitter);u.onDidDispose=u._onDidDispose.event;u._onDidUpdateDiff=u._register(new w.Emitter);u.onDidUpdateDiff=u._onDidUpdateDiff.event;u._lastOriginalWarning=null;u._lastModifiedWarning=null;u._editorWorkerService=i;u._codeEditorService=o;u._contextKeyService=u._register(n.createScoped(e));u._contextKeyService.createKey("isInDiffEditor",true);u._themeService=s;u._notificationService=a;u.id=++k;u._domElement=e;t=t||{};u._renderSideBySide=true;if(typeof t.renderSideBySide!=="undefined"){u._renderSideBySide=t.renderSideBySide}u._ignoreTrimWhitespace=true;if(typeof t.ignoreTrimWhitespace!=="undefined"){u._ignoreTrimWhitespace=t.ignoreTrimWhitespace}u._renderIndicators=true;if(typeof t.renderIndicators!=="undefined"){u._renderIndicators=t.renderIndicators}u._originalIsEditable=false;if(typeof t.originalEditable!=="undefined"){u._originalIsEditable=Boolean(t.originalEditable)}u._updateDecorationsRunner=u._register(new f.RunOnceScheduler(function(){return u._updateDecorations()},0));u._containerDomElement=document.createElement("div");u._containerDomElement.className=h._getClassName(u._themeService.getTheme(),u._renderSideBySide);u._containerDomElement.style.position="relative";u._containerDomElement.style.height="100%";u._domElement.appendChild(u._containerDomElement);u._overviewViewportDomElement=g.createFastDomNode(document.createElement("div"));u._overviewViewportDomElement.setClassName("diffViewport");u._overviewViewportDomElement.setPosition("absolute");u._overviewDomElement=document.createElement("div");u._overviewDomElement.className="diffOverview";u._overviewDomElement.style.position="absolute";u._overviewDomElement.appendChild(u._overviewViewportDomElement.domNode);u._register(p.addStandardDisposableListener(u._overviewDomElement,"mousedown",function(e){u.modifiedEditor.delegateVerticalScrollbarMouseDown(e)}));u._containerDomElement.appendChild(u._overviewDomElement);u._createLeftHandSide();u._createRightHandSide();u._beginUpdateDecorationsTimeout=-1;u._currentlyChangingViewZones=false;u._diffComputationToken=0;u._originalEditorState=new M;u._modifiedEditorState=new M;u._isVisible=true;u._isHandlingScrollEvent=false;u._width=0;u._height=0;u._reviewHeight=0;u._lineChanges=null;var l=new S.ServiceCollection;l.set(v.IContextKeyService,u._contextKeyService);var c=r.createChild(l);u._createLeftHandSideEditor(t,c);u._createRightHandSideEditor(t,c);u._reviewPane=new I.DiffReview(u);u._containerDomElement.appendChild(u._reviewPane.domNode.domNode);u._containerDomElement.appendChild(u._reviewPane.shadow.domNode);u._containerDomElement.appendChild(u._reviewPane.actionBarContainer.domNode);if(t.automaticLayout){u._measureDomElementToken=window.setInterval(function(){return u._measureDomElement(false)},100)}u._enableSplitViewResizing=true;if(typeof t.enableSplitViewResizing!=="undefined"){u._enableSplitViewResizing=t.enableSplitViewResizing}if(u._renderSideBySide){u._setStrategy(new B(u._createDataSource(),u._enableSplitViewResizing))}else{u._setStrategy(new H(u._createDataSource(),u._enableSplitViewResizing))}u._register(s.onThemeChange(function(e){if(u._strategy&&u._strategy.applyColors(e)){u._updateDecorationsRunner.schedule()}u._containerDomElement.className=h._getClassName(u._themeService.getTheme(),u._renderSideBySide)}));u._codeEditorService.addDiffEditor(u);return u}Object.defineProperty(h.prototype,"ignoreTrimWhitespace",{get:function(){return this._ignoreTrimWhitespace},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"renderSideBySide",{get:function(){return this._renderSideBySide},enumerable:true,configurable:true});Object.defineProperty(h.prototype,"renderIndicators",{get:function(){return this._renderIndicators},enumerable:true,configurable:true});h.prototype.hasWidgetFocus=function(){return p.isAncestor(document.activeElement,this._domElement)};h.prototype.diffReviewNext=function(){this._reviewPane.next()};h.prototype.diffReviewPrev=function(){this._reviewPane.prev()};h._getClassName=function(e,t){var i="monaco-diff-editor monaco-editor-background ";if(t){i+="side-by-side "}i+=L.getThemeTypeSelector(e.type);return i};h.prototype._recreateOverviewRulers=function(){if(this._originalOverviewRuler){this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode());this._originalOverviewRuler.dispose()}this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler");this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode());if(this._modifiedOverviewRuler){this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode());this._modifiedOverviewRuler.dispose()}this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler");this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode());this._layoutOverviewRulers()};h.prototype._createLeftHandSide=function(){this._originalDomNode=document.createElement("div");this._originalDomNode.className="editor original";this._originalDomNode.style.position="absolute";this._originalDomNode.style.height="100%";this._containerDomElement.appendChild(this._originalDomNode)};h.prototype._createRightHandSide=function(){this._modifiedDomNode=document.createElement("div");this._modifiedDomNode.className="editor modified";this._modifiedDomNode.style.position="absolute";this._modifiedDomNode.style.height="100%";this._containerDomElement.appendChild(this._modifiedDomNode)};h.prototype._createLeftHandSideEditor=function(e,t){var i=this;this.originalEditor=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));this._register(this.originalEditor.onDidScrollChange(function(e){if(i._isHandlingScrollEvent){return}if(!e.scrollTopChanged&&!e.scrollLeftChanged&&!e.scrollHeightChanged){return}i._isHandlingScrollEvent=true;i.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop});i._isHandlingScrollEvent=false;i._layoutOverviewViewport()}));this._register(this.originalEditor.onDidChangeViewZones(function(){i._onViewZonesChanged()}));this._register(this.originalEditor.onDidChangeModelContent(function(){if(i._isVisible){i._beginUpdateDecorationsSoon()}}))};h.prototype._createRightHandSideEditor=function(e,t){var i=this;this.modifiedEditor=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e));this._register(this.modifiedEditor.onDidScrollChange(function(e){if(i._isHandlingScrollEvent){return}if(!e.scrollTopChanged&&!e.scrollLeftChanged&&!e.scrollHeightChanged){return}i._isHandlingScrollEvent=true;i.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop});i._isHandlingScrollEvent=false;i._layoutOverviewViewport()}));this._register(this.modifiedEditor.onDidChangeViewZones(function(){i._onViewZonesChanged()}));this._register(this.modifiedEditor.onDidChangeConfiguration(function(e){if(e.fontInfo&&i.modifiedEditor.getModel()){i._onViewZonesChanged()}}));this._register(this.modifiedEditor.onDidChangeModelContent(function(){if(i._isVisible){i._beginUpdateDecorationsSoon()}}))};h.prototype._createInnerEditor=function(e,t,i){return e.createInstance(c.CodeEditor,t,i)};h.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this);if(this._beginUpdateDecorationsTimeout!==-1){window.clearTimeout(this._beginUpdateDecorationsTimeout);this._beginUpdateDecorationsTimeout=-1}window.clearInterval(this._measureDomElementToken);this._cleanViewZonesAndDecorations();this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode());this._originalOverviewRuler.dispose();this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode());this._modifiedOverviewRuler.dispose();this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode);this._containerDomElement.removeChild(this._overviewDomElement);this._containerDomElement.removeChild(this._originalDomNode);this.originalEditor.dispose();this._containerDomElement.removeChild(this._modifiedDomNode);this.modifiedEditor.dispose();this._strategy.dispose();this._containerDomElement.removeChild(this._reviewPane.domNode.domNode);this._containerDomElement.removeChild(this._reviewPane.shadow.domNode);this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode);this._reviewPane.dispose();this._domElement.removeChild(this._containerDomElement);this._onDidDispose.fire();d.prototype.dispose.call(this)};h.prototype.getId=function(){return this.getEditorType()+":"+this.id};h.prototype.getEditorType=function(){return u.EditorType.IDiffEditor};h.prototype.getLineChanges=function(){return this._lineChanges};h.prototype.getOriginalEditor=function(){return this.originalEditor};h.prototype.getModifiedEditor=function(){return this.modifiedEditor};h.prototype.updateOptions=function(e){var t=false;if(typeof e.renderSideBySide!=="undefined"){if(this._renderSideBySide!==e.renderSideBySide){this._renderSideBySide=e.renderSideBySide;t=true}}var i=false;if(typeof e.ignoreTrimWhitespace!=="undefined"){if(this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace){this._ignoreTrimWhitespace=e.ignoreTrimWhitespace;i=true}}if(typeof e.renderIndicators!=="undefined"){if(this._renderIndicators!==e.renderIndicators){this._renderIndicators=e.renderIndicators;i=true}}if(i){this._beginUpdateDecorations()}if(typeof e.originalEditable!=="undefined"){this._originalIsEditable=Boolean(e.originalEditable)}this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e));this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));if(typeof e.enableSplitViewResizing!=="undefined"){this._enableSplitViewResizing=e.enableSplitViewResizing}this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing);if(t){if(this._renderSideBySide){this._setStrategy(new B(this._createDataSource(),this._enableSplitViewResizing))}else{this._setStrategy(new H(this._createDataSource(),this._enableSplitViewResizing))}this._containerDomElement.className=h._getClassName(this._themeService.getTheme(),this._renderSideBySide)}};h.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}};h.prototype.setModel=function(e){if(e&&(!e.original||!e.modified)){throw new Error(!e.original?"DiffEditorWidget.setModel: Original model is null":"DiffEditorWidget.setModel: Modified model is null")}this._cleanViewZonesAndDecorations();this.originalEditor.setModel(e?e.original:null);this.modifiedEditor.setModel(e?e.modified:null);this._updateDecorationsRunner.cancel();if(e){this.originalEditor.setScrollTop(0);this.modifiedEditor.setScrollTop(0)}this._lineChanges=null;this._diffComputationToken++;if(e){this._recreateOverviewRulers();this._beginUpdateDecorations()}else{this._lineChanges=null}this._layoutOverviewViewport()};h.prototype.getDomNode=function(){return this._domElement};h.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)};h.prototype.getPosition=function(){return this.modifiedEditor.getPosition()};h.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)};h.prototype.revealLine=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealLine(e,t)};h.prototype.revealLineInCenter=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealLineInCenter(e,t)};h.prototype.revealLineInCenterIfOutsideViewport=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)};h.prototype.revealPosition=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealPosition(e,t)};h.prototype.revealPositionInCenter=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealPositionInCenter(e,t)};h.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)};h.prototype.getSelection=function(){return this.modifiedEditor.getSelection()};h.prototype.getSelections=function(){return this.modifiedEditor.getSelections()};h.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)};h.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)};h.prototype.revealLines=function(e,t,i){if(i===void 0){i=0}this.modifiedEditor.revealLines(e,t,i)};h.prototype.revealLinesInCenter=function(e,t,i){if(i===void 0){i=0}this.modifiedEditor.revealLinesInCenter(e,t,i)};h.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,i){if(i===void 0){i=0}this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,i)};h.prototype.revealRange=function(e,t,i,n){if(t===void 0){t=0}if(i===void 0){i=false}if(n===void 0){n=true}this.modifiedEditor.revealRange(e,t,i,n)};h.prototype.revealRangeInCenter=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealRangeInCenter(e,t)};h.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)};h.prototype.revealRangeAtTop=function(e,t){if(t===void 0){t=0}this.modifiedEditor.revealRangeAtTop(e,t)};h.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()};h.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState();var t=this.modifiedEditor.saveViewState();return{original:e,modified:t}};h.prototype.restoreViewState=function(e){if(e.original&&e.original){var t=e;this.originalEditor.restoreViewState(t.original);this.modifiedEditor.restoreViewState(t.modified)}};h.prototype.layout=function(e){this._measureDomElement(false,e)};h.prototype.focus=function(){this.modifiedEditor.focus()};h.prototype.isFocused=function(){return this.originalEditor.isFocused()||this.modifiedEditor.isFocused()};h.prototype.onVisible=function(){this._isVisible=true;this.originalEditor.onVisible();this.modifiedEditor.onVisible();this._beginUpdateDecorations()};h.prototype.onHide=function(){this._isVisible=false;this.originalEditor.onHide();this.modifiedEditor.onHide();this._cleanViewZonesAndDecorations()};h.prototype.trigger=function(e,t,i){this.modifiedEditor.trigger(e,t,i)};h.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)};h.prototype._measureDomElement=function(e,t){t=t||{width:this._containerDomElement.clientWidth,height:this._containerDomElement.clientHeight};if(t.width<=0){this._width=0;this._height=0;this._reviewHeight=0;return}if(!e&&t.width===this._width&&t.height===this._height){return}this._width=t.width;this._height=t.height;this._reviewHeight=this._reviewPane.isVisible()?this._height:0;this._doLayout()};h.prototype._layoutOverviewRulers=function(){var e=h.ENTIRE_DIFF_OVERVIEW_WIDTH-2*h.ONE_OVERVIEW_WIDTH;var t=this.modifiedEditor.getLayoutInfo();if(t){this._originalOverviewRuler.setLayout({top:0,width:h.ONE_OVERVIEW_WIDTH,right:e+h.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight});this._modifiedOverviewRuler.setLayout({top:0,right:0,width:h.ONE_OVERVIEW_WIDTH,height:this._height-this._reviewHeight})}};h.prototype._onViewZonesChanged=function(){if(this._currentlyChangingViewZones){return}this._updateDecorationsRunner.schedule()};h.prototype._beginUpdateDecorationsSoon=function(){var e=this;if(this._beginUpdateDecorationsTimeout!==-1){window.clearTimeout(this._beginUpdateDecorationsTimeout);this._beginUpdateDecorationsTimeout=-1}this._beginUpdateDecorationsTimeout=window.setTimeout(function(){return e._beginUpdateDecorations()},h.UPDATE_DIFF_DECORATIONS_DELAY)};h._equals=function(e,t){if(!e&&!t){return true}if(!e||!t){return false}return e.toString()===t.toString()};h.prototype._beginUpdateDecorations=function(){var t=this;this._beginUpdateDecorationsTimeout=-1;var i=this.originalEditor.getModel();var n=this.modifiedEditor.getModel();if(!i||!n){return}this._diffComputationToken++;var r=this._diffComputationToken;if(!this._editorWorkerService.canComputeDiff(i.uri,n.uri)){if(!h._equals(i.uri,this._lastOriginalWarning)||!h._equals(n.uri,this._lastModifiedWarning)){this._lastOriginalWarning=i.uri;this._lastModifiedWarning=n.uri;this._notificationService.warn(o.localize(0,null))}return}this._editorWorkerService.computeDiff(i.uri,n.uri,this._ignoreTrimWhitespace).then(function(e){if(r===t._diffComputationToken&&i===t.originalEditor.getModel()&&n===t.modifiedEditor.getModel()){t._lineChanges=e;t._updateDecorationsRunner.schedule();t._onDidUpdateDiff.fire()}},function(e){if(r===t._diffComputationToken&&i===t.originalEditor.getModel()&&n===t.modifiedEditor.getModel()){t._lineChanges=null;t._updateDecorationsRunner.schedule()}})};h.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor);this._modifiedEditorState.clean(this.modifiedEditor)};h.prototype._updateDecorations=function(){if(!this.originalEditor.getModel()||!this.modifiedEditor.getModel()){return}var e=this._lineChanges||[];var t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces());var i=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces());var n=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,i,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=true;this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,n.original);this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,n.modified)}finally{this._currentlyChangingViewZones=false}};h.prototype._adjustOptionsForSubEditor=function(e){var t=n.deepClone(e||{});t.inDiffEditor=true;t.wordWrap="off";t.wordWrapMinified=false;t.automaticLayout=false;t.scrollbar=t.scrollbar||{};t.scrollbar.vertical="visible";t.folding=false;t.codeLens=false;t.fixedOverflowWidgets=true;t.lineDecorationsWidth="2ch";if(!t.minimap){t.minimap={}}t.minimap.enabled=false;return t};h.prototype._adjustOptionsForLeftHandSide=function(e,t){var i=this._adjustOptionsForSubEditor(e);i.readOnly=!t;i.overviewRulerLanes=1;i.extraEditorClassName="original-in-monaco-diff-editor";return i};h.prototype._adjustOptionsForRightHandSide=function(e){var t=this._adjustOptionsForSubEditor(e);t.revealHorizontalRightPadding=E.EDITOR_DEFAULTS.viewInfo.revealHorizontalRightPadding+h.ENTIRE_DIFF_OVERVIEW_WIDTH;t.scrollbar.verticalHasArrows=false;t.extraEditorClassName="modified-in-monaco-diff-editor";return t};h.prototype.doLayout=function(){this._measureDomElement(true)};h.prototype._doLayout=function(){var e=this._strategy.layout();this._originalDomNode.style.width=e+"px";this._originalDomNode.style.left="0px";this._modifiedDomNode.style.width=this._width-e+"px";this._modifiedDomNode.style.left=e+"px";this._overviewDomElement.style.top="0px";this._overviewDomElement.style.height=this._height-this._reviewHeight+"px";this._overviewDomElement.style.width=h.ENTIRE_DIFF_OVERVIEW_WIDTH+"px";this._overviewDomElement.style.left=this._width-h.ENTIRE_DIFF_OVERVIEW_WIDTH+"px";this._overviewViewportDomElement.setWidth(h.ENTIRE_DIFF_OVERVIEW_WIDTH);this._overviewViewportDomElement.setHeight(30);this.originalEditor.layout({width:e,height:this._height-this._reviewHeight});this.modifiedEditor.layout({width:this._width-e-h.ENTIRE_DIFF_OVERVIEW_WIDTH,height:this._height-this._reviewHeight});if(this._originalOverviewRuler||this._modifiedOverviewRuler){this._layoutOverviewRulers()}this._reviewPane.layout(this._height-this._reviewHeight,this._width,this._reviewHeight);this._layoutOverviewViewport()};h.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();if(!e){this._overviewViewportDomElement.setTop(0);this._overviewViewportDomElement.setHeight(0)}else{this._overviewViewportDomElement.setTop(e.top);this._overviewViewportDomElement.setHeight(e.height)}};h.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e){return null}var t=this.modifiedEditor.getScrollTop();var i=this.modifiedEditor.getScrollHeight();var n=Math.max(0,e.contentHeight);var r=Math.max(0,n-2*0);var o=i>0?r/i:0;var s=Math.max(0,Math.floor(e.contentHeight*o));var a=Math.floor(t*o);return{height:s,top:a}};h.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._width},getHeight:function(){return e._height-e._reviewHeight},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}};h.prototype._setStrategy=function(e){if(this._strategy){this._strategy.dispose()}this._strategy=e;e.applyColors(this._themeService.getTheme());if(this._lineChanges){this._updateDecorations()}this._measureDomElement(true)};h.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){if(this._lineChanges.length===0||e<t(this._lineChanges[0])){return null}var i=0,n=this._lineChanges.length-1;while(i<n){var r=Math.floor((i+n)/2);var o=t(this._lineChanges[r]);var s=r+1<=n?t(this._lineChanges[r+1]):Number.MAX_VALUE;if(e<o){n=r-1}else if(e>=s){i=r+1}else{i=r;n=r}}return this._lineChanges[i]};h.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.originalStartLineNumber});if(!t){return e}var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0);var n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0);var r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0;var o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0;var s=e-i;if(s<=r){return n+Math.min(s,o)}return n+o-r+s};h.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,function(e){return e.modifiedStartLineNumber});if(!t){return e}var i=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0);var n=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0);var r=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0;var o=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0;var s=e-n;if(s<=o){return i+Math.min(s,r)}return i+r-o+s};h.prototype.getDiffLineInformationForOriginal=function(e){if(!this._lineChanges){return null}return{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}};h.prototype.getDiffLineInformationForModified=function(e){if(!this._lineChanges){return null}return{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}};h.ONE_OVERVIEW_WIDTH=15;h.ENTIRE_DIFF_OVERVIEW_WIDTH=30;h.UPDATE_DIFF_DECORATIONS_DELAY=200;h=q([G(2,l.IEditorWorkerService),G(3,v.IContextKeyService),G(4,s.IInstantiationService),G(5,a.ICodeEditorService),G(6,L.IThemeService),G(7,T.INotificationService)],h);return h}(i.Disposable);t.DiffEditorWidget=O;var R=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._dataSource=e;return t}e.prototype.applyColors=function(e){var t=(e.getColor(d.diffInserted)||d.defaultInsertColor).transparent(2);var i=(e.getColor(d.diffRemoved)||d.defaultRemoveColor).transparent(2);var n=!t.equals(this._insertColor)||!i.equals(this._removeColor);this._insertColor=t;this._removeColor=i;return n};e.prototype.getEditorsDiffDecorations=function(e,t,i,n,r,o,s){r=r.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});n=n.sort(function(e,t){return e.afterLineNumber-t.afterLineNumber});var a=this._getViewZones(e,n,r,o,s,i);var u=this._getOriginalEditorDecorations(e,t,i,o,s);var l=this._getModifiedEditorDecorations(e,t,i,o,s);return{original:{decorations:u.decorations,overviewZones:u.overviewZones,zones:a.original},modified:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.modified}}};e.prototype._getViewZones=function(e,t,i,n,r,o){return null};e.prototype._getOriginalEditorDecorations=function(e,t,i,n,r){return null};e.prototype._getModifiedEditorDecorations=function(e,t,i,n,r){return null};return e}(i.Disposable);var P=function(){function e(e){this._source=e;this._index=-1;this.advance()}e.prototype.advance=function(){this._index++;if(this._index<this._source.length){this.current=this._source[this._index]}else{this.current=null}};return e}();var A=function(){function e(e,t,i){this.lineChanges=e;this.originalForeignVZ=t;this.modifiedForeignVZ=i}e.prototype.getViewZones=function(){var e={original:[],modified:[]};var t=0;var i=0;var n=0;var r=0;var o=0;var s=0;var a=function(e,t){return e.afterLineNumber-t.afterLineNumber};var u=function(e,t){if(t.domNode===null&&e.length>0){var i=e[e.length-1];if(i.afterLineNumber===t.afterLineNumber&&i.domNode===null){i.heightInLines+=t.heightInLines;return}}e.push(t)};var l=new P(this.modifiedForeignVZ);var c=new P(this.originalForeignVZ);for(var d=0,h=this.lineChanges.length;d<=h;d++){var f=d<h?this.lineChanges[d]:null;if(f!==null){n=f.originalStartLineNumber+(f.originalEndLineNumber>0?-1:0);r=f.modifiedStartLineNumber+(f.modifiedEndLineNumber>0?-1:0);i=f.originalEndLineNumber>0?f.originalEndLineNumber-f.originalStartLineNumber+1:0;t=f.modifiedEndLineNumber>0?f.modifiedEndLineNumber-f.modifiedStartLineNumber+1:0;o=Math.max(f.originalStartLineNumber,f.originalEndLineNumber);s=Math.max(f.modifiedStartLineNumber,f.modifiedEndLineNumber)}else{n+=1e7+i;r+=1e7+t;o=n;s=r}var p=[];var g=[];while(l.current&&l.current.afterLineNumber<=s){var v=void 0;if(l.current.afterLineNumber<=r){v=n-r+l.current.afterLineNumber}else{v=o}p.push({afterLineNumber:v,heightInLines:l.current.heightInLines,domNode:null});l.advance()}while(c.current&&c.current.afterLineNumber<=o){var v=void 0;if(c.current.afterLineNumber<=n){v=r-n+c.current.afterLineNumber}else{v=s}g.push({afterLineNumber:v,heightInLines:c.current.heightInLines,domNode:null});c.advance()}if(f!==null&&K(f)){var m=this._produceOriginalFromDiff(f,i,t);if(m){p.push(m)}}if(f!==null&&U(f)){var m=this._produceModifiedFromDiff(f,i,t);if(m){g.push(m)}}var _=0;var y=0;p=p.sort(a);g=g.sort(a);while(_<p.length&&y<g.length){var C=p[_];var b=g[y];var S=C.afterLineNumber-n;var w=b.afterLineNumber-r;if(S<w){u(e.original,C);_++}else if(w<S){u(e.modified,b);y++}else if(C.shouldNotShrink){u(e.original,C);_++}else if(b.shouldNotShrink){u(e.modified,b);y++}else{if(C.heightInLines>=b.heightInLines){C.heightInLines-=b.heightInLines;y++}else{b.heightInLines-=C.heightInLines;_++}}}while(_<p.length){u(e.original,p[_]);_++}while(y<g.length){u(e.modified,g[y]);y++}}var E=function(e){if(!e.domNode){e.domNode=j()}};e.original.forEach(E);e.modified.forEach(E);return e};return e}();function F(e,t,i,n,r){return{range:new m.Range(e,t,i,n),options:r}}var W={charDelete:N.ModelDecorationOptions.register({className:"char-delete"}),charDeleteWholeLine:N.ModelDecorationOptions.register({className:"char-delete",isWholeLine:true}),charInsert:N.ModelDecorationOptions.register({className:"char-insert"}),charInsertWholeLine:N.ModelDecorationOptions.register({className:"char-insert",isWholeLine:true}),lineInsert:N.ModelDecorationOptions.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:true}),lineInsertWithSign:N.ModelDecorationOptions.register({className:"line-insert",linesDecorationsClassName:"insert-sign",marginClassName:"line-insert",isWholeLine:true}),lineDelete:N.ModelDecorationOptions.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:true}),lineDeleteWithSign:N.ModelDecorationOptions.register({className:"line-delete",linesDecorationsClassName:"delete-sign",marginClassName:"line-delete",isWholeLine:true}),lineDeleteMargin:N.ModelDecorationOptions.register({marginClassName:"line-delete"})};var B=function(n){pe(o,n);function o(e,t){var i=n.call(this,e)||this;i._disableSash=t===false;i._sashRatio=null;i._sashPosition=null;i._sash=i._register(new r.Sash(i._dataSource.getContainerDomNode(),i));if(i._disableSash){i._sash.disable()}i._sash.onDidStart(function(){return i.onSashDragStart()});i._sash.onDidChange(function(e){return i.onSashDrag(e)});i._sash.onDidEnd(function(){return i.onSashDragEnd()});i._sash.onDidReset(function(){return i.onSashReset()});return i}o.prototype.dispose=function(){n.prototype.dispose.call(this)};o.prototype.setEnableSplitViewResizing=function(e){var t=e===false;if(this._disableSash!==t){this._disableSash=t;if(this._disableSash){this._sash.disable()}else{this._sash.enable()}}};o.prototype.layout=function(e){if(e===void 0){e=this._sashRatio}var t=this._dataSource.getWidth();var i=t-O.ENTIRE_DIFF_OVERVIEW_WIDTH;var n=Math.floor((e||.5)*i);var r=Math.floor(.5*i);n=this._disableSash?r:n||r;if(i>o.MINIMUM_EDITOR_WIDTH*2){if(n<o.MINIMUM_EDITOR_WIDTH){n=o.MINIMUM_EDITOR_WIDTH}if(n>i-o.MINIMUM_EDITOR_WIDTH){n=i-o.MINIMUM_EDITOR_WIDTH}}else{n=r}if(this._sashPosition!==n){this._sashPosition=n;this._sash.layout()}return this._sashPosition};o.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition};o.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth();var i=t-O.ENTIRE_DIFF_OVERVIEW_WIDTH;var n=this.layout((this._startSashPosition+(e.currentX-e.startX))/i);this._sashRatio=n/i;this._dataSource.relayoutEditors()};o.prototype.onSashDragEnd=function(){this._sash.layout()};o.prototype.onSashReset=function(){this._sashRatio=.5;this._dataSource.relayoutEditors();this._sash.layout()};o.prototype.getVerticalSashTop=function(e){return 0};o.prototype.getVerticalSashLeft=function(e){return this._sashPosition};o.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()};o.prototype._getViewZones=function(e,t,i,n,r){var o=new V(e,t,i);return o.getViewZones()};o.prototype._getOriginalEditorDecorations=function(e,t,i,n,r){var o=this._removeColor.toString();var s={decorations:[],overviewZones:[]};var a=n.getModel();for(var u=0,l=e.length;u<l;u++){var c=e[u];if(U(c)){s.decorations.push({range:new m.Range(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE),options:i?W.lineDeleteWithSign:W.lineDelete});if(!K(c)||!c.charChanges){s.decorations.push(F(c.originalStartLineNumber,1,c.originalEndLineNumber,Number.MAX_VALUE,W.charDeleteWholeLine))}s.overviewZones.push(new x.OverviewRulerZone(c.originalStartLineNumber,c.originalEndLineNumber,o));if(c.charChanges){for(var d=0,h=c.charChanges.length;d<h;d++){var f=c.charChanges[d];if(U(f)){if(t){for(var p=f.originalStartLineNumber;p<=f.originalEndLineNumber;p++){var g=void 0;var v=void 0;if(p===f.originalStartLineNumber){g=f.originalStartColumn}else{g=a.getLineFirstNonWhitespaceColumn(p)}if(p===f.originalEndLineNumber){v=f.originalEndColumn}else{v=a.getLineLastNonWhitespaceColumn(p)}s.decorations.push(F(p,g,p,v,W.charDelete))}}else{s.decorations.push(F(f.originalStartLineNumber,f.originalStartColumn,f.originalEndLineNumber,f.originalEndColumn,W.charDelete))}}}}}}return s};o.prototype._getModifiedEditorDecorations=function(e,t,i,n,r){var o=this._insertColor.toString();var s={decorations:[],overviewZones:[]};var a=r.getModel();for(var u=0,l=e.length;u<l;u++){var c=e[u];if(K(c)){s.decorations.push({range:new m.Range(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE),options:i?W.lineInsertWithSign:W.lineInsert});if(!U(c)||!c.charChanges){s.decorations.push(F(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE,W.charInsertWholeLine))}s.overviewZones.push(new x.OverviewRulerZone(c.modifiedStartLineNumber,c.modifiedEndLineNumber,o));if(c.charChanges){for(var d=0,h=c.charChanges.length;d<h;d++){var f=c.charChanges[d];if(K(f)){if(t){for(var p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){var g=void 0;var v=void 0;if(p===f.modifiedStartLineNumber){g=f.modifiedStartColumn}else{g=a.getLineFirstNonWhitespaceColumn(p)}if(p===f.modifiedEndLineNumber){v=f.modifiedEndColumn}else{v=a.getLineLastNonWhitespaceColumn(p)}s.decorations.push(F(p,g,p,v,W.charInsert))}}else{s.decorations.push(F(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,W.charInsert))}}}}}}return s};o.MINIMUM_EDITOR_WIDTH=100;return o}(R);var V=function(n){pe(e,n);function e(e,t,i){return n.call(this,e,t,i)||this}e.prototype._produceOriginalFromDiff=function(e,t,i){if(i>t){return{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i-t,domNode:null}}return null};e.prototype._produceModifiedFromDiff=function(e,t,i){if(t>i){return{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-i,domNode:null}}return null};return e}(A);var H=function(n){pe(e,n);function e(t,e){var i=n.call(this,t)||this;i.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft;i._register(t.getOriginalEditor().onDidLayoutChange(function(e){if(i.decorationsLeft!==e.decorationsLeft){i.decorationsLeft=e.decorationsLeft;t.relayoutEditors()}}));return i}e.prototype.dispose=function(){n.prototype.dispose.call(this)};e.prototype.setEnableSplitViewResizing=function(e){};e.prototype._getViewZones=function(e,t,i,n,r,o){var s=new z(e,t,i,n,r,o);return s.getViewZones()};e.prototype._getOriginalEditorDecorations=function(e,t,i,n,r){var o=this._removeColor.toString();var s={decorations:[],overviewZones:[]};for(var a=0,u=e.length;a<u;a++){var l=e[a];if(U(l)){s.decorations.push({range:new m.Range(l.originalStartLineNumber,1,l.originalEndLineNumber,Number.MAX_VALUE),options:W.lineDeleteMargin});s.overviewZones.push(new x.OverviewRulerZone(l.originalStartLineNumber,l.originalEndLineNumber,o))}}return s};e.prototype._getModifiedEditorDecorations=function(e,t,i,n,r){var o=this._insertColor.toString();var s={decorations:[],overviewZones:[]};var a=r.getModel();for(var u=0,l=e.length;u<l;u++){var c=e[u];if(K(c)){s.decorations.push({range:new m.Range(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE),options:i?W.lineInsertWithSign:W.lineInsert});s.overviewZones.push(new x.OverviewRulerZone(c.modifiedStartLineNumber,c.modifiedEndLineNumber,o));if(c.charChanges){for(var d=0,h=c.charChanges.length;d<h;d++){var f=c.charChanges[d];if(K(f)){if(t){for(var p=f.modifiedStartLineNumber;p<=f.modifiedEndLineNumber;p++){var g=void 0;var v=void 0;if(p===f.modifiedStartLineNumber){g=f.modifiedStartColumn}else{g=a.getLineFirstNonWhitespaceColumn(p)}if(p===f.modifiedEndLineNumber){v=f.modifiedEndColumn}else{v=a.getLineLastNonWhitespaceColumn(p)}s.decorations.push(F(p,g,p,v,W.charInsert))}}else{s.decorations.push(F(f.modifiedStartLineNumber,f.modifiedStartColumn,f.modifiedEndLineNumber,f.modifiedEndColumn,W.charInsert))}}}}else{s.decorations.push(F(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,Number.MAX_VALUE,W.charInsertWholeLine))}}}return s};e.prototype.layout=function(){return Math.max(5,this.decorationsLeft)};return e}(R);var z=function(a){pe(e,a);function e(e,t,i,n,r,o){var s=a.call(this,e,t,i)||this;s.originalModel=n.getModel();s.modifiedEditorConfiguration=r.getConfiguration();s.modifiedEditorTabSize=r.getModel().getOptions().tabSize;s.renderIndicators=o;return s}e.prototype._produceOriginalFromDiff=function(e,t,i){var n=document.createElement("div");n.className="inline-added-margin-view-zone";C.Configuration.applyFontInfoSlow(n,this.modifiedEditorConfiguration.fontInfo);return{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:i,domNode:document.createElement("div"),marginDomNode:n}};e.prototype._produceModifiedFromDiff=function(e,t,i){var n=[];if(e.charChanges){for(var r=0,o=e.charChanges.length;r<o;r++){var s=e.charChanges[r];if(U(s)){n.push(new b.InlineDecoration(new m.Range(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",0))}}}var a=D.createStringBuilder(1e4);var u=[];var l=this.modifiedEditorConfiguration.layoutInfo.decorationsWidth;var c=this.modifiedEditorConfiguration.lineHeight;for(var d=e.originalStartLineNumber;d<=e.originalEndLineNumber;d++){this.renderOriginalLine(d-e.originalStartLineNumber,this.originalModel,this.modifiedEditorConfiguration,this.modifiedEditorTabSize,d,n,a);if(this.renderIndicators){var h=d-e.originalStartLineNumber;u=u.concat(['<div class="delete-sign" style="position:absolute;top:'+h*c+"px;width:"+l+"px;height:"+c+'px;right:0;"></div>'])}}var f=document.createElement("div");f.className="view-lines line-delete";f.innerHTML=a.build();C.Configuration.applyFontInfoSlow(f,this.modifiedEditorConfiguration.fontInfo);var p=document.createElement("div");p.className="inline-deleted-margin-view-zone";p.innerHTML=u.join("");C.Configuration.applyFontInfoSlow(p,this.modifiedEditorConfiguration.fontInfo);return{shouldNotShrink:true,afterLineNumber:e.modifiedEndLineNumber===0?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,domNode:f,marginDomNode:p}};e.prototype.renderOriginalLine=function(e,t,i,n,r,o,s){var a=t.getLineContent(r);var u=h.LineDecoration.filter(o,r,1,a.length+1);var l=(0<<11|1<<14|2<<23)>>>0;var c=new Uint32Array(2);c[0]=a.length;c[1]=l;var d=new y.LineTokens(c,a);s.appendASCIIString('<div class="view-line');if(o.length===0){s.appendASCIIString(" char-delete")}s.appendASCIIString('" style="top:');s.appendASCIIString(String(e*i.lineHeight));s.appendASCIIString('px;width:1000000px;">');_.renderViewLine(new _.RenderLineInput(i.fontInfo.isMonospace&&!i.viewInfo.disableMonospaceOptimizations,a,t.mightContainRTL(),0,d,u,n,i.fontInfo.spaceWidth,i.viewInfo.stopRenderingLineAfter,i.viewInfo.renderWhitespace,i.viewInfo.renderControlCharacters,i.viewInfo.fontLigatures),s);s.appendASCIIString("</div>")};return e}(A);function K(e){return e.modifiedEndLineNumber>0}function U(e){return e.originalEndLineNumber>0}function j(){var e=document.createElement("div");e.className="diagonal-fill";return e}L.registerThemingParticipant(function(e,t){var i=e.getColor(d.diffInserted);if(i){t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+i+"; }");t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+i+"; }");t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+i+"; }")}var n=e.getColor(d.diffRemoved);if(n){t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+n+"; }");t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+n+"; }");t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+n+"; }")}var r=e.getColor(d.diffInsertedOutline);if(r){t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px dashed "+r+"; }")}var o=e.getColor(d.diffRemovedOutline);if(o){t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px dashed "+o+"; }")}var s=e.getColor(d.scrollbarShadow);if(s){t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }")}})});define(r[140],e([0,1,27,14,34,19,38,138,16,139,62,46]),function(e,t,i,n,r,o,s,a,u,l,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var c=function(l){pe(e,l);function e(e,t,i,n,r,o,s,a){var u=l.call(this,e,i.getRawConfiguration(),n,r,o,s,a)||this;u._parentEditor=i;u._overwriteOptions=t;l.prototype.updateOptions.call(u,u._overwriteOptions);u._register(i.onDidChangeConfiguration(function(e){return u._onParentConfigurationChanged(e)}));return u}e.prototype.getParentEditor=function(){return this._parentEditor};e.prototype._onParentConfigurationChanged=function(e){l.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration());l.prototype.updateOptions.call(this,this._overwriteOptions)};e.prototype.updateOptions=function(e){i.mixin(this._overwriteOptions,e,true);l.prototype.updateOptions.call(this,this._overwriteOptions)};e=q([G(3,n.IInstantiationService),G(4,s.ICodeEditorService),G(5,r.ICommandService),G(6,o.IContextKeyService),G(7,u.IThemeService)],e);return e}(a.CodeEditor);t.EmbeddedCodeEditorWidget=c;var f=function(c){pe(e,c);function e(e,t,i,n,r,o,s,a,u){var l=c.call(this,e,i.getRawConfiguration(),n,r,o,s,a,u)||this;l._parentEditor=i;l._overwriteOptions=t;c.prototype.updateOptions.call(l,l._overwriteOptions);l._register(i.onDidChangeConfiguration(function(e){return l._onParentConfigurationChanged(e)}));return l}e.prototype.getParentEditor=function(){return this._parentEditor};e.prototype._onParentConfigurationChanged=function(e){c.prototype.updateOptions.call(this,this._parentEditor.getRawConfiguration());c.prototype.updateOptions.call(this,this._overwriteOptions)};e.prototype.updateOptions=function(e){i.mixin(this._overwriteOptions,e,true);c.prototype.updateOptions.call(this,this._overwriteOptions)};e=q([G(3,d.IEditorWorkerService),G(4,o.IContextKeyService),G(5,n.IInstantiationService),G(6,s.ICodeEditorService),G(7,u.IThemeService),G(8,h.INotificationService)],e);return e}(l.DiffEditorWidget);t.EmbeddedDiffEditorWidget=f});define(r[517],e([0,1,344,67,4,74,2,66,7,95,3,20,32,15,56,50,124,122,51,16,36,25]),function(e,t,a,n,r,u,i,l,o,s,d,h,f,c,p,g,v,m,_,y,C,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});function S(e){return e.toString()}var w=function(){function e(t,e,i){this.model=t;this._markerDecorations=[];this._modelEventListeners=[];this._modelEventListeners.push(t.onWillDispose(function(){return e(t)}));this._modelEventListeners.push(t.onDidChangeLanguage(function(e){return i(t,e)}))}e.prototype.dispose=function(){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,[]);this._modelEventListeners=i.dispose(this._modelEventListeners);this.model=null};e.prototype.acceptMarkerDecorations=function(e){this._markerDecorations=this.model.deltaDecorations(this._markerDecorations,e)};return e}();var E=function(){function e(){}e.setMarkers=function(t,e){var i=this;var n=e.read({resource:t.model.uri,take:500});var r=n.map(function(e){return{range:i._createDecorationRange(t.model,e),options:i._createDecorationOption(e)}});t.acceptMarkerDecorations(r)};e._createDecorationRange=function(e,t){var i=e.validateRange(new d.Range(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn));var n=new d.Range(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn);if(n.isEmpty()){var r=e.getWordAtPosition(n.getStartPosition());if(r){n=new d.Range(n.startLineNumber,r.startColumn,n.endLineNumber,r.endColumn)}else{var o=e.getLineLastNonWhitespaceColumn(i.startLineNumber)||e.getLineMaxColumn(i.startLineNumber);if(o===1){}else if(n.endColumn>=o){n=new d.Range(n.startLineNumber,o-1,n.endLineNumber,o)}else{n=new d.Range(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1)}}}else if(t.endColumn===Number.MAX_VALUE&&t.startColumn===1&&n.startLineNumber===n.endLineNumber){var s=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);if(s<n.endColumn){n=new d.Range(n.startLineNumber,s,n.endLineNumber,n.endColumn);t.startColumn=s}}return n};e._createDecorationOption=function(e){var t;var i;var n;switch(e.severity){case l.default.Ignore:break;case l.default.Warning:t=m.ClassName.EditorWarningDecoration;i=y.themeColorFromId(C.overviewRulerWarning);n=y.themeColorFromId(C.overviewRulerWarning);break;case l.default.Info:t=m.ClassName.EditorInfoDecoration;i=y.themeColorFromId(C.overviewRulerInfo);n=y.themeColorFromId(C.overviewRulerInfo);break;case l.default.Error:default:t=m.ClassName.EditorErrorDecoration;i=y.themeColorFromId(C.overviewRulerError);n=y.themeColorFromId(C.overviewRulerError);break}var r=null;var o=e.message,s=e.source;if(typeof o==="string"){o=o.trim();if(s){if(/\n/g.test(o)){o=a.localize(0,null,s,o)}else{o=a.localize(1,null,s,o)}}r=(new u.MarkdownString).appendCodeblock("_",o)}return{stickiness:b.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:t,hoverMessage:r,showIfCollapsed:true,overviewRuler:{color:i,darkColor:n,position:b.OverviewRulerLane.Right}}};return e}();var L=c.isLinux||c.isMacintosh?b.DefaultEndOfLine.LF:b.DefaultEndOfLine.CRLF;var x=function(){function c(e,t){var i=this;this._markerService=e;this._configurationService=t;this._models={};this._modelCreationOptionsByLanguageAndResource=Object.create(null);this._onModelAdded=new r.Emitter;this._onModelRemoved=new r.Emitter;this._onModelModeChanged=new r.Emitter;if(this._markerService){this._markerServiceSubscription=this._markerService.onMarkerChanged(this._handleMarkerChange,this)}this._configurationServiceSubscription=this._configurationService.onDidChangeConfiguration(function(e){return i._updateModelOptions()});this._updateModelOptions()}c._readModelOptions=function(e){var t=g.EDITOR_MODEL_DEFAULTS.tabSize;if(e.editor&&typeof e.editor.tabSize!=="undefined"){var i=parseInt(e.editor.tabSize,10);if(!isNaN(i)){t=i}}var n=g.EDITOR_MODEL_DEFAULTS.insertSpaces;if(e.editor&&typeof e.editor.insertSpaces!=="undefined"){n=e.editor.insertSpaces==="false"?false:Boolean(e.editor.insertSpaces)}var r=L;var o=e.files&&e.files.eol;if(o==="\r\n"){r=b.DefaultEndOfLine.CRLF}else if(o==="\n"){r=b.DefaultEndOfLine.LF}var s=g.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;if(e.editor&&typeof e.editor.trimAutoWhitespace!=="undefined"){s=e.editor.trimAutoWhitespace==="false"?false:Boolean(e.editor.trimAutoWhitespace)}var a=g.EDITOR_MODEL_DEFAULTS.detectIndentation;if(e.editor&&typeof e.editor.detectIndentation!=="undefined"){a=e.editor.detectIndentation==="false"?false:Boolean(e.editor.detectIndentation)}return{tabSize:t,insertSpaces:n,detectIndentation:a,defaultEOL:r,trimAutoWhitespace:s}};c.prototype.getCreationOptions=function(e,t){var i=this._modelCreationOptionsByLanguageAndResource[e+t];if(!i){i=c._readModelOptions(this._configurationService.getValue({overrideIdentifier:e,resource:t}));this._modelCreationOptionsByLanguageAndResource[e+t]=i}return i};c.prototype._updateModelOptions=function(){var e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);var t=Object.keys(this._models);for(var i=0,n=t.length;i<n;i++){var r=t[i];var o=this._models[r];var s=o.model.getLanguageIdentifier().language;var a=o.model.uri;var u=e[s+a];var l=this.getCreationOptions(s,a);c._setModelOptionsForModel(o.model,l,u)}};c._setModelOptionsForModel=function(e,t,i){if(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.trimAutoWhitespace===t.trimAutoWhitespace){return}if(t.detectIndentation){e.detectIndentation(t.insertSpaces,t.tabSize);e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})}else{e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,trimAutoWhitespace:t.trimAutoWhitespace})}};c.prototype.dispose=function(){if(this._markerServiceSubscription){this._markerServiceSubscription.dispose()}this._configurationServiceSubscription.dispose()};c.prototype._handleMarkerChange=function(e){var n=this;e.forEach(function(e){var t=S(e);var i=n._models[t];if(!i){return}E.setMarkers(i,n._markerService)})};c.prototype._cleanUp=function(t){var i=this;if(t.uri.scheme===n.Schemas.inMemory||t.uri.scheme===n.Schemas.internal||t.uri.scheme===n.Schemas.vscode){if(this._markerService){this._markerService.read({resource:t.uri}).map(function(e){return e.owner}).forEach(function(e){return i._markerService.remove(e,[t.uri])})}}delete this._modelCreationOptionsByLanguageAndResource[t.getLanguageIdentifier().language+t.uri]};c.prototype._createModelData=function(e,t,i){var n=this;var r=this.getCreationOptions(t.language,i);var o=new f.TextModel(e,r,t,i);var s=S(o.uri);if(this._models[s]){throw new Error("ModelService: Cannot add model because it already exists!")}var a=new w(o,function(e){return n._onWillDispose(e)},function(e,t){return n._onDidChangeLanguage(e,t)});this._models[s]=a;return a};c.prototype.updateModel=function(e,t){var i=this.getCreationOptions(e.getLanguageIdentifier().language,e.uri);var n=f.createTextBuffer(t,i.defaultEOL);if(e.equalsTextBuffer(n)){return}e.setEOL(n.getEOL()==="\r\n"?b.EndOfLineSequence.CRLF:b.EndOfLineSequence.LF);e.pushEditOperations([new h.Selection(1,1,1,1)],c._computeEdits(e,n),function(e){return[new h.Selection(1,1,1,1)]})};c._commonPrefix=function(e,t,i,n,r,o){var s=Math.min(t,r);var a=0;for(var u=0;u<s&&e.getLineContent(i+u)===n.getLineContent(o+u);u++){a++}return a};c._commonSuffix=function(e,t,i,n,r,o){var s=Math.min(t,r);var a=0;for(var u=0;u<s&&e.getLineContent(i+t-u)===n.getLineContent(o+r-u);u++){a++}return a};c._computeEdits=function(e,t){var i=e.getLineCount();var n=t.getLineCount();var r=this._commonPrefix(e,i,1,t,n,1);if(i===n&&r===i){return[]}var o=this._commonSuffix(e,i-r,r,t,n-r,r);var s,a;if(o>0){s=new d.Range(r+1,1,i-o+1,1);a=new d.Range(r+1,1,n-o+1,1)}else if(r>0){s=new d.Range(r,e.getLineMaxColumn(r),i,e.getLineMaxColumn(i));a=new d.Range(r,1+t.getLineLength(r),n,1+t.getLineLength(n))}else{s=new d.Range(1,1,i,e.getLineMaxColumn(i));a=new d.Range(1,1,n,1+t.getLineLength(n))}return[_.EditOperation.replace(s,t.getValueInRange(a,b.EndOfLinePreference.TextDefined))]};c.prototype.createModel=function(e,t,i){var n;if(!t||o.TPromise.is(t)){n=this._createModelData(e,v.PLAINTEXT_LANGUAGE_IDENTIFIER,i);this.setMode(n.model,t)}else{n=this._createModelData(e,t.getLanguageIdentifier(),i)}if(this._markerService){E.setMarkers(n,this._markerService)}this._onModelAdded.fire(n.model);return n.model};c.prototype.setMode=function(t,e){if(!e){return}if(o.TPromise.is(e)){e.then(function(e){if(!t.isDisposed()){t.setMode(e.getLanguageIdentifier())}})}else{t.setMode(e.getLanguageIdentifier())}};c.prototype.destroyModel=function(e){var t=this._models[S(e)];if(!t){return}t.model.dispose()};c.prototype.getModels=function(){var e=[];var t=Object.keys(this._models);for(var i=0,n=t.length;i<n;i++){var r=t[i];e.push(this._models[r].model)}return e};c.prototype.getModel=function(e){var t=S(e);var i=this._models[t];if(!i){return null}return i.model};Object.defineProperty(c.prototype,"onModelAdded",{get:function(){return this._onModelAdded?this._onModelAdded.event:null},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"onModelRemoved",{get:function(){return this._onModelRemoved?this._onModelRemoved.event:null},enumerable:true,configurable:true});Object.defineProperty(c.prototype,"onModelModeChanged",{get:function(){return this._onModelModeChanged?this._onModelModeChanged.event:null},enumerable:true,configurable:true});c.prototype._onWillDispose=function(e){var t=S(e.uri);var i=this._models[t];delete this._models[t];i.dispose();this._cleanUp(e);this._onModelRemoved.fire(e)};c.prototype._onDidChangeLanguage=function(e,t){var i=t.oldLanguage;var n=e.getLanguageIdentifier().language;var r=this.getCreationOptions(i,e.uri);var o=this.getCreationOptions(n,e.uri);c._setModelOptionsForModel(e,o,r);this._onModelModeChanged.fire({model:e,oldModeId:i})};c=q([G(0,s.IMarkerService),G(1,p.IConfigurationService)],c);return c}();t.ModelServiceImpl=x});define(r[518],e([0,1,346,2,3,12,20,18,11,21,16,36,32,22,25,320]),function(e,t,i,n,a,g,s,r,o,u,l,c,d,h,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=h.registerColor("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},i.localize(0,null));var v=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.jumpToBracket",label:i.localize(1,null),alias:"Go to Bracket",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.textFocus,primary:2048|1024|88}})||this}t.prototype.run=function(e,t){var i=y.get(t);if(!i){return}i.jumpToBracket()};return t}(o.EditorAction);var m=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.selectToBracket",label:i.localize(2,null),alias:"Select to Bracket",precondition:null})||this}t.prototype.run=function(e,t){var i=y.get(t);if(!i){return}i.selectToBracket()};return t}(o.EditorAction);var _=function(){function e(e,t){this.position=e;this.brackets=t}return e}();var y=function(i){pe(o,i);function o(e){var t=i.call(this)||this;t._editor=e;t._lastBracketsData=[];t._lastVersionId=0;t._decorations=[];t._updateBracketsSoon=t._register(new r.RunOnceScheduler(function(){return t._updateBrackets()},50));t._matchBrackets=t._editor.getConfiguration().contribInfo.matchBrackets;t._updateBracketsSoon.schedule();t._register(e.onDidChangeCursorPosition(function(e){if(!t._matchBrackets){return}t._updateBracketsSoon.schedule()}));t._register(e.onDidChangeModel(function(e){t._decorations=[];t._updateBracketsSoon.schedule()}));t._register(e.onDidChangeModelLanguageConfiguration(function(e){t._lastBracketsData=[];t._updateBracketsSoon.schedule()}));t._register(e.onDidChangeConfiguration(function(e){t._matchBrackets=t._editor.getConfiguration().contribInfo.matchBrackets;if(!t._matchBrackets&&t._decorations.length>0){t._decorations=t._editor.deltaDecorations(t._decorations,[])}t._updateBracketsSoon.schedule()}));return t}o.get=function(e){return e.getContribution(o.ID)};o.prototype.getId=function(){return o.ID};o.prototype.jumpToBracket=function(){var o=this._editor.getModel();if(!o){return}var e=this._editor.getSelections().map(function(e){var t=e.getStartPosition();var i=o.matchBracket(t);var n=null;if(i){if(i[0].containsPosition(t)){n=i[1].getStartPosition()}else if(i[1].containsPosition(t)){n=i[0].getStartPosition()}}else{var r=o.findNextBracket(t);if(r&&r.range){n=r.range.getStartPosition()}}if(n){return new s.Selection(n.lineNumber,n.column,n.lineNumber,n.column)}return new s.Selection(t.lineNumber,t.column,t.lineNumber,t.column)});this._editor.setSelections(e);this._editor.revealRange(e[0])};o.prototype.selectToBracket=function(){var e=this._editor.getModel();if(!e){return}var t=this._editor.getSelection();if(!t.isEmpty()){return}var i=t.getStartPosition();var n=e.matchBracket(i);var r=null;var o=null;if(!n){var s=e.findNextBracket(i);if(s&&s.range){n=e.matchBracket(s.range.getStartPosition())}}if(n){if(n[0].startLineNumber===n[1].startLineNumber){r=n[1].startColumn<n[0].startColumn?n[1].getStartPosition():n[0].getStartPosition();o=n[1].startColumn<n[0].startColumn?n[0].getEndPosition():n[1].getEndPosition()}else{r=n[1].startLineNumber<n[0].startLineNumber?n[1].getStartPosition():n[0].getStartPosition();o=n[1].startLineNumber<n[0].startLineNumber?n[0].getEndPosition():n[1].getEndPosition()}}if(r&&o){this._editor.setSelection(new a.Range(r.lineNumber,r.column,o.lineNumber,o.column))}};o.prototype._updateBrackets=function(){if(!this._matchBrackets){return}this._recomputeBrackets();var e=[],t=0;for(var i=0,n=this._lastBracketsData.length;i<n;i++){var r=this._lastBracketsData[i].brackets;if(r){e[t++]={range:r[0],options:o._DECORATION_OPTIONS};e[t++]={range:r[1],options:o._DECORATION_OPTIONS}}}this._decorations=this._editor.deltaDecorations(this._decorations,e)};o.prototype._recomputeBrackets=function(){var e=this._editor.getModel();if(!e){this._lastBracketsData=[];this._lastVersionId=0;return}var t=e.getVersionId();var i=[];if(this._lastVersionId===t){i=this._lastBracketsData}var n=this._editor.getSelections();var r=[],o=0;for(var s=0,a=n.length;s<a;s++){var u=n[s];if(u.isEmpty()){r[o++]=u.getStartPosition()}}if(r.length>1){r.sort(g.Position.compare)}var l=[],c=0;var d=0,h=i.length;for(var s=0,a=r.length;s<a;s++){var f=r[s];while(d<h&&i[d].position.isBefore(f)){d++}if(d<h&&i[d].position.equals(f)){l[c++]=i[d]}else{var p=e.matchBracket(f);l[c++]=new _(f,p)}}this._lastBracketsData=l;this._lastVersionId=t};o.ID="editor.contrib.bracketMatchingController";o._DECORATION_OPTIONS=d.ModelDecorationOptions.register({stickiness:f.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"bracket-match",overviewRuler:{color:l.themeColorFromId(p),darkColor:l.themeColorFromId(p),position:f.OverviewRulerLane.Center}});return o}(n.Disposable);t.BracketMatchingController=y;o.registerEditorContribution(y);o.registerEditorAction(m);o.registerEditorAction(v);l.registerThemingParticipant(function(e,t){var i=e.getColor(c.editorBracketMatchBackground);if(i){t.addRule(".monaco-editor .bracket-match { background-color: "+i+"; }")}var n=e.getColor(c.editorBracketMatchBorder);if(n){t.addRule(".monaco-editor .bracket-match { border: 1px solid "+n+"; }")}})});define(r[519],e([0,1,2,5,10,3,24,32,36,16,22,322]),function(e,t,i,s,a,l,n,c,r,o,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=function(){function e(e,t){this.afterLineNumber=e;this._onHeight=t;this.heightInLines=1;this.suppressMouseDown=true;this.domNode=document.createElement("div")}e.prototype.onComputedHeight=function(e){if(this._lastHeight===undefined){this._lastHeight=e}else if(this._lastHeight!==e){this._lastHeight=e;this._onHeight()}};return e}();var h=function(){function t(n,e,r,o){var s=this;this.allowEditorOverflow=false;this.suppressMouseDown=true;this._disposables=[];this._commands=Object.create(null);this._id="codeLensWidget"+ ++t._idPool;this._editor=n;this.setSymbolRange(e);this._domNode=document.createElement("span");this._domNode.innerHTML="&nbsp;";a.addClass(this._domNode,"codelens-decoration");a.addClass(this._domNode,"invisible-cl");this._updateHeight();this._disposables.push(this._editor.onDidChangeConfiguration(function(e){return e.fontInfo&&s._updateHeight()}));this._disposables.push(a.addDisposableListener(this._domNode,"click",function(e){var t=e.target;if(t.tagName==="A"&&t.id){var i=s._commands[t.id];if(i){n.focus();r.executeCommand.apply(r,[i.id].concat(i.arguments)).done(undefined,function(e){o.error(e)})}}}));this.updateVisibility()}t.prototype.dispose=function(){i.dispose(this._disposables)};t.prototype._updateHeight=function(){var e=this._editor.getConfiguration(),t=e.fontInfo,i=e.lineHeight;this._domNode.style.height=Math.round(i*1.1)+"px";this._domNode.style.lineHeight=i+"px";this._domNode.style.fontSize=Math.round(t.fontSize*.9)+"px";this._domNode.innerHTML="&nbsp;"};t.prototype.updateVisibility=function(){if(this.isVisible()){a.removeClass(this._domNode,"invisible-cl");a.addClass(this._domNode,"fadein")}};t.prototype.withCommands=function(e){this._commands=Object.create(null);if(!e||!e.length){this._domNode.innerHTML="no commands";return}var t=[];for(var i=0;i<e.length;i++){var n=e[i].command;var r=s.escape(n.title);var o=void 0;if(n.id){o=s.format("<a id={0}>{1}</a>",i,r);this._commands[i]=n}else{o=s.format("<span>{0}</span>",r)}t.push(o)}this._domNode.innerHTML=t.join("<span>&nbsp;|&nbsp;</span>");this._editor.layoutContentWidget(this)};t.prototype.getId=function(){return this._id};t.prototype.getDomNode=function(){return this._domNode};t.prototype.setSymbolRange=function(e){var t=e.startLineNumber;var i=this._editor.getModel().getLineFirstNonWhitespaceColumn(t);this._widgetPosition={position:{lineNumber:t,column:i},preference:[n.ContentWidgetPositionPreference.ABOVE]}};t.prototype.getPosition=function(){return this._widgetPosition};t.prototype.isVisible=function(){return this._domNode.hasAttribute("monaco-visible-content-widget")};t._idPool=0;return t}();var f=function(){function e(){this._removeDecorations=[];this._addDecorations=[];this._addDecorationsCallbacks=[]}e.prototype.addDecoration=function(e,t){this._addDecorations.push(e);this._addDecorationsCallbacks.push(t)};e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)};e.prototype.commit=function(e){var t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(var i=0,n=t.length;i<n;i++){this._addDecorationsCallbacks[i](t[i])}};return e}();t.CodeLensHelper=f;var p=function(){function e(e,t,i,n,r,o,s){var a=this;this._editor=t;this._data=e;this._decorationIds=new Array(this._data.length);var u;this._data.forEach(function(e,t){i.addDecoration({range:e.symbol.range,options:c.ModelDecorationOptions.EMPTY},function(e){return a._decorationIds[t]=e});if(!u){u=l.Range.lift(e.symbol.range)}else{u=l.Range.plusRange(u,e.symbol.range)}});this._contentWidget=new h(t,u,r,o);this._viewZone=new d(u.startLineNumber-1,s);this._viewZoneId=n.addZone(this._viewZone);this._editor.addContentWidget(this._contentWidget)}e.prototype.dispose=function(e,t){while(this._decorationIds.length){e.removeDecoration(this._decorationIds.pop())}if(t){t.removeZone(this._viewZoneId)}this._editor.removeContentWidget(this._contentWidget);this._contentWidget.dispose()};e.prototype.isValid=function(){var r=this;return this._decorationIds.some(function(e,t){var i=r._editor.getModel().getDecorationRange(e);var n=r._data[t].symbol;return i&&l.Range.isEmpty(n.range)===i.isEmpty()})};e.prototype.updateCodeLensSymbols=function(e,i){var n=this;while(this._decorationIds.length){i.removeDecoration(this._decorationIds.pop())}this._data=e;this._decorationIds=new Array(this._data.length);this._data.forEach(function(e,t){i.addDecoration({range:e.symbol.range,options:c.ModelDecorationOptions.EMPTY},function(e){return n._decorationIds[t]=e})})};e.prototype.computeIfNecessary=function(e){this._contentWidget.updateVisibility();if(!this._contentWidget.isVisible()){return null}for(var t=0;t<this._decorationIds.length;t++){this._data[t].symbol.range=e.getDecorationRange(this._decorationIds[t])}return this._data};e.prototype.updateCommands=function(e){this._contentWidget.withCommands(e)};e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);if(e){return e.startLineNumber}return-1};e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);this._viewZone.afterLineNumber=t.startLineNumber-1;e.layoutZone(this._viewZoneId);this._contentWidget.setSymbolRange(t);this._editor.layoutContentWidget(this._contentWidget)}};return e}();t.CodeLens=p;o.registerThemingParticipant(function(e,t){var i=e.getColor(r.editorCodeLensForeground);if(i){t.addRule(".monaco-editor .codelens-decoration { color: "+i+"; }")}var n=e.getColor(u.editorActiveLinkForeground);if(n){t.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+n+" !important; }")}})});define(r[520],e([0,1,18,13,2,7,34,33,17,11,459,519,46]),function(e,t,a,u,i,s,n,r,l,o,c,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=function(){function e(e,t,i){var n=this;this._editor=e;this._commandService=t;this._notificationService=i;this._isEnabled=this._editor.getConfiguration().contribInfo.codeLens;this._globalToDispose=[];this._localToDispose=[];this._lenses=[];this._currentFindCodeLensSymbolsPromise=null;this._modelChangeCounter=0;this._globalToDispose.push(this._editor.onDidChangeModel(function(){return n._onModelChange()}));this._globalToDispose.push(this._editor.onDidChangeModelLanguage(function(){return n._onModelChange()}));this._globalToDispose.push(this._editor.onDidChangeConfiguration(function(e){var t=n._isEnabled;n._isEnabled=n._editor.getConfiguration().contribInfo.codeLens;if(t!==n._isEnabled){n._onModelChange()}}));this._globalToDispose.push(l.CodeLensProviderRegistry.onDidChange(this._onModelChange,this));this._onModelChange()}e.prototype.dispose=function(){this._localDispose();this._globalToDispose=i.dispose(this._globalToDispose)};e.prototype._localDispose=function(){if(this._currentFindCodeLensSymbolsPromise){this._currentFindCodeLensSymbolsPromise.cancel();this._currentFindCodeLensSymbolsPromise=null;this._modelChangeCounter++}if(this._currentFindOccPromise){this._currentFindOccPromise.cancel();this._currentFindOccPromise=null}this._localToDispose=i.dispose(this._localToDispose)};e.prototype.getId=function(){return e.ID};e.prototype._onModelChange=function(){var o=this;this._localDispose();var e=this._editor.getModel();if(!e){return}if(!this._isEnabled){return}if(!l.CodeLensProviderRegistry.has(e)){return}for(var t=0,i=l.CodeLensProviderRegistry.all(e);t<i.length;t++){var n=i[t];if(typeof n.onDidChange==="function"){var r=n.onDidChange(function(){return s.schedule()});this._localToDispose.push(r)}}this._detectVisibleLenses=new a.RunOnceScheduler(function(){o._onViewportChanged()},500);var s=new a.RunOnceScheduler(function(){var t=++o._modelChangeCounter;if(o._currentFindCodeLensSymbolsPromise){o._currentFindCodeLensSymbolsPromise.cancel()}o._currentFindCodeLensSymbolsPromise=c.getCodeLensData(e);o._currentFindCodeLensSymbolsPromise.then(function(e){if(t===o._modelChangeCounter){o._renderCodeLensSymbols(e);o._detectVisibleLenses.schedule()}},u.onUnexpectedError)},250);this._localToDispose.push(s);this._localToDispose.push(this._detectVisibleLenses);this._localToDispose.push(this._editor.onDidChangeModelContent(function(e){o._editor.changeDecorations(function(e){o._editor.changeViewZones(function(t){var i=[];var n=-1;o._lenses.forEach(function(e){if(!e.isValid()||n===e.getLineNumber()){i.push(e)}else{e.update(t);n=e.getLineNumber()}});var r=new d.CodeLensHelper;i.forEach(function(e){e.dispose(r,t);o._lenses.splice(o._lenses.indexOf(e),1)});r.commit(e)})});o._detectVisibleLenses.schedule();s.schedule()}));this._localToDispose.push(this._editor.onDidScrollChange(function(e){if(e.scrollTopChanged&&o._lenses.length>0){o._detectVisibleLenses.schedule()}}));this._localToDispose.push(this._editor.onDidLayoutChange(function(e){o._detectVisibleLenses.schedule()}));this._localToDispose.push({dispose:function(){if(o._editor.getModel()){o._editor.changeDecorations(function(t){o._editor.changeViewZones(function(e){o._disposeAllLenses(t,e)})})}else{o._disposeAllLenses(null,null)}}});s.schedule()};e.prototype._disposeAllLenses=function(e,t){var i=new d.CodeLensHelper;this._lenses.forEach(function(e){return e.dispose(i,t)});if(e){i.commit(e)}this._lenses=[]};e.prototype._renderCodeLensSymbols=function(e){var a=this;if(!this._editor.getModel()){return}var t=this._editor.getModel().getLineCount();var u=[];var i;for(var n=0,r=e;n<r.length;n++){var o=r[n];var s=o.symbol.range.startLineNumber;if(s<1||s>t){continue}else if(i&&i[i.length-1].symbol.range.startLineNumber===s){i.push(o)}else{i=[o];u.push(i)}}var l=this._editor.getCenteredRangeInViewport();var c=l&&(u.length!==this._lenses.length&&this._editor.getScrollTop()!==0);this._editor.changeDecorations(function(s){a._editor.changeViewZones(function(e){var t=0,i=0,n=new d.CodeLensHelper;while(i<u.length&&t<a._lenses.length){var r=u[i][0].symbol.range.startLineNumber;var o=a._lenses[t].getLineNumber();if(o<r){a._lenses[t].dispose(n,e);a._lenses.splice(t,1)}else if(o===r){a._lenses[t].updateCodeLensSymbols(u[i],n);i++;t++}else{a._lenses.splice(t,0,new d.CodeLens(u[i],a._editor,n,e,a._commandService,a._notificationService,function(){return a._detectVisibleLenses.schedule()}));t++;i++}}while(t<a._lenses.length){a._lenses[t].dispose(n,e);a._lenses.splice(t,1)}while(i<u.length){a._lenses.push(new d.CodeLens(u[i],a._editor,n,e,a._commandService,a._notificationService,function(){return a._detectVisibleLenses.schedule()}));i++}n.commit(s)})});if(c){this._editor.revealRangeInCenter(l,1)}};e.prototype._onViewportChanged=function(){var e=this;if(this._currentFindOccPromise){this._currentFindOccPromise.cancel();this._currentFindOccPromise=null}var r=this._editor.getModel();if(!r){return}var i=[];var o=[];this._lenses.forEach(function(e){var t=e.computeIfNecessary(r);if(t){i.push(t);o.push(e)}});if(i.length===0){return}var t=i.map(function(e,t){var n=new Array(e.length);var i=e.map(function(t,i){return a.asWinJsPromise(function(e){return t.provider.resolveCodeLens(r,t.symbol,e)}).then(function(e){n[i]=e})});return s.TPromise.join(i).then(function(){o[t].updateCommands(n)})});this._currentFindOccPromise=s.TPromise.join(t).then(function(){e._currentFindOccPromise=null})};e.ID="css.editor.codeLens";e=q([G(1,n.ICommandService),G(2,h.INotificationService)],e);return e}();t.CodeLensContribution=f;o.registerEditorContribution(f)});define(r[521],e([0,1,4,47,10,31,2,78,26,22,16,323]),function(e,t,o,i,s,a,n,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var h=s.$;var f=function(r){pe(e,r);function e(e,t){var i=r.call(this)||this;i.model=t;i.domNode=h(".colorpicker-header");s.append(e,i.domNode);i.pickedColorNode=s.append(i.domNode,h(".picked-color"));var n=s.append(i.domNode,h(".original-color"));n.style.backgroundColor=l.Color.Format.CSS.format(i.model.originalColor);i._register(d.registerThemingParticipant(function(e,t){i.backgroundColor=e.getColor(c.editorHoverBackground)||l.Color.white}));i._register(s.addDisposableListener(i.pickedColorNode,s.EventType.CLICK,function(){return i.model.selectNextColorPresentation()}));i._register(s.addDisposableListener(n,s.EventType.CLICK,function(){i.model.color=i.model.originalColor;i.model.flushColor()}));i._register(t.onDidChangeColor(i.onDidChangeColor,i));i._register(t.onDidChangePresentation(i.onDidChangePresentation,i));i.pickedColorNode.style.backgroundColor=l.Color.Format.CSS.format(t.color);s.toggleClass(i.pickedColorNode,"light",t.color.rgba.a<.5?i.backgroundColor.isLighter():t.color.isLighter());return i}e.prototype.onDidChangeColor=function(e){this.pickedColorNode.style.backgroundColor=l.Color.Format.CSS.format(e);s.toggleClass(this.pickedColorNode,"light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter());this.onDidChangePresentation()};e.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation.label};return e}(n.Disposable);t.ColorPickerHeader=f;var p=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n.model=t;n.pixelRatio=i;n.domNode=h(".colorpicker-body");s.append(e,n.domNode);n.saturationBox=new g(n.domNode,n.model,n.pixelRatio);n._register(n.saturationBox);n._register(n.saturationBox.onDidChange(n.onDidSaturationValueChange,n));n._register(n.saturationBox.onColorFlushed(n.flushColor,n));n.opacityStrip=new v(n.domNode,n.model);n._register(n.opacityStrip);n._register(n.opacityStrip.onDidChange(n.onDidOpacityChange,n));n._register(n.opacityStrip.onColorFlushed(n.flushColor,n));n.hueStrip=new m(n.domNode,n.model);n._register(n.hueStrip);n._register(n.hueStrip.onDidChange(n.onDidHueChange,n));n._register(n.hueStrip.onColorFlushed(n.flushColor,n));return n}e.prototype.flushColor=function(){this.model.flushColor()};e.prototype.onDidSaturationValueChange=function(e){var t=e.s,i=e.v;var n=this.model.color.hsva;this.model.color=new l.Color(new l.HSVA(n.h,t,i,n.a))};e.prototype.onDidOpacityChange=function(e){var t=this.model.color.hsva;this.model.color=new l.Color(new l.HSVA(t.h,t.s,t.v,e))};e.prototype.onDidHueChange=function(e){var t=this.model.color.hsva;var i=(1-e)*360;this.model.color=new l.Color(new l.HSVA(i===360?0:i,t.s,t.v,t.a))};e.prototype.layout=function(){this.saturationBox.layout();this.opacityStrip.layout();this.hueStrip.layout()};return e}(n.Disposable);t.ColorPickerBody=p;var g=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n.model=t;n.pixelRatio=i;n._onDidChange=new o.Emitter;n.onDidChange=n._onDidChange.event;n._onColorFlushed=new o.Emitter;n.onColorFlushed=n._onColorFlushed.event;n.domNode=h(".saturation-wrap");s.append(e,n.domNode);n.canvas=document.createElement("canvas");n.canvas.className="saturation-box";s.append(n.domNode,n.canvas);n.selection=h(".saturation-selection");s.append(n.domNode,n.selection);n.layout();n._register(s.addDisposableListener(n.domNode,s.EventType.MOUSE_DOWN,function(e){return n.onMouseDown(e)}));n._register(n.model.onDidChangeColor(n.onDidChangeColor,n));n.monitor=null;return n}e.prototype.onMouseDown=function(e){var t=this;this.monitor=this._register(new u.GlobalMouseMoveMonitor);var i=s.getDomNodePagePosition(this.domNode);if(e.target!==this.selection){this.onDidChangePosition(e.offsetX,e.offsetY)}this.monitor.startMonitoring(u.standardMouseMoveMerger,function(e){return t.onDidChangePosition(e.posx-i.left,e.posy-i.top)},function(){return null});var n=s.addDisposableListener(document,s.EventType.MOUSE_UP,function(){t._onColorFlushed.fire();n.dispose();t.monitor.stopMonitoring(true);t.monitor=null},true)};e.prototype.onDidChangePosition=function(e,t){var i=Math.max(0,Math.min(1,e/this.width));var n=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(i,n);this._onDidChange.fire({s:i,v:n})};e.prototype.layout=function(){this.width=this.domNode.offsetWidth;this.height=this.domNode.offsetHeight;this.canvas.width=this.width*this.pixelRatio;this.canvas.height=this.height*this.pixelRatio;this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)};e.prototype.paint=function(){var e=this.model.color.hsva;var t=new l.Color(new l.HSVA(e.h,1,1,1));var i=this.canvas.getContext("2d");var n=i.createLinearGradient(0,0,this.canvas.width,0);n.addColorStop(0,"rgba(255, 255, 255, 1)");n.addColorStop(.5,"rgba(255, 255, 255, 0.5)");n.addColorStop(1,"rgba(255, 255, 255, 0)");var r=i.createLinearGradient(0,0,0,this.canvas.height);r.addColorStop(0,"rgba(0, 0, 0, 0)");r.addColorStop(1,"rgba(0, 0, 0, 1)");i.rect(0,0,this.canvas.width,this.canvas.height);i.fillStyle=l.Color.Format.CSS.format(t);i.fill();i.fillStyle=n;i.fill();i.fillStyle=r;i.fill()};e.prototype.paintSelection=function(e,t){this.selection.style.left=e*this.width+"px";this.selection.style.top=this.height-t*this.height+"px"};e.prototype.onDidChangeColor=function(){if(this.monitor&&this.monitor.isMonitoring()){return}this.paint()};return e}(n.Disposable);var r=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i.model=t;i._onDidChange=new o.Emitter;i.onDidChange=i._onDidChange.event;i._onColorFlushed=new o.Emitter;i.onColorFlushed=i._onColorFlushed.event;i.domNode=s.append(e,h(".strip"));i.overlay=s.append(i.domNode,h(".overlay"));i.slider=s.append(i.domNode,h(".slider"));i.slider.style.top="0px";i._register(s.addDisposableListener(i.domNode,s.EventType.MOUSE_DOWN,function(e){return i.onMouseDown(e)}));i.layout();return i}e.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)};e.prototype.onMouseDown=function(e){var t=this;var i=this._register(new u.GlobalMouseMoveMonitor);var n=s.getDomNodePagePosition(this.domNode);s.addClass(this.domNode,"grabbing");if(e.target!==this.slider){this.onDidChangeTop(e.offsetY)}i.startMonitoring(u.standardMouseMoveMerger,function(e){return t.onDidChangeTop(e.posy-n.top)},function(){return null});var r=s.addDisposableListener(document,s.EventType.MOUSE_UP,function(){t._onColorFlushed.fire();r.dispose();i.stopMonitoring(true);s.removeClass(t.domNode,"grabbing")},true)};e.prototype.onDidChangeTop=function(e){var t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t);this._onDidChange.fire(t)};e.prototype.updateSliderPosition=function(e){this.slider.style.top=(1-e)*this.height+"px"};return e}(n.Disposable);var v=function(n){pe(e,n);function e(e,t){var i=n.call(this,e,t)||this;s.addClass(i.domNode,"opacity-strip");i._register(t.onDidChangeColor(i.onDidChangeColor,i));i.onDidChangeColor(i.model.color);return i}e.prototype.onDidChangeColor=function(e){var t=e.rgba,i=t.r,n=t.g,r=t.b;var o=new l.Color(new l.RGBA(i,n,r,1));var s=new l.Color(new l.RGBA(i,n,r,0));this.overlay.style.background="linear-gradient(to bottom, "+o+" 0%, "+s+" 100%)"};e.prototype.getValue=function(e){return e.hsva.a};return e}(r);var m=function(n){pe(e,n);function e(e,t){var i=n.call(this,e,t)||this;s.addClass(i.domNode,"hue-strip");return i}e.prototype.getValue=function(e){return 1-e.hsva.h/360};return e}(r);var _=function(s){pe(e,s);function e(e,t,i){var n=s.call(this)||this;n.model=t;n.pixelRatio=i;n._register(a.onDidChangeZoomLevel(function(){return n.layout()}));var r=h(".colorpicker-widget");e.appendChild(r);var o=new f(r,n.model);n.body=new p(r,n.model,n.pixelRatio);n._register(o);n._register(n.body);return n}e.prototype.getId=function(){return e.ID};e.prototype.layout=function(){this.body.layout()};e.ID="editor.contrib.colorPickerWidget";return e}(i.Widget);t.ColorPickerWidget=_});define(r[522],e([0,1,3,32,22,16,25]),function(e,t,m,i,n,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function v(e){this._editor=e;this._decorations=[];this._overviewRulerApproximateDecorations=[];this._findScopeDecorationId=null;this._rangeHighlightDecorationId=null;this._highlightedDecorationId=null;this._startPosition=this._editor.getPosition()}v.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]);this._editor=null;this._decorations=[];this._overviewRulerApproximateDecorations=[];this._findScopeDecorationId=null;this._rangeHighlightDecorationId=null;this._highlightedDecorationId=null;this._startPosition=null};v.prototype.reset=function(){this._decorations=[];this._overviewRulerApproximateDecorations=[];this._findScopeDecorationId=null;this._rangeHighlightDecorationId=null;this._highlightedDecorationId=null};v.prototype.getCount=function(){return this._decorations.length};v.prototype.getFindScope=function(){if(this._findScopeDecorationId){return this._editor.getModel().getDecorationRange(this._findScopeDecorationId)}return null};v.prototype.getStartPosition=function(){return this._startPosition};v.prototype.setStartPosition=function(e){this._startPosition=e;this.setCurrentFindMatch(null)};v.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);if(t>=0){return t+1}return 1};v.prototype.getCurrentMatchesPosition=function(e){var t=this._editor.getModel().getDecorationsInRange(e);for(var i=0,n=t.length;i<n;i++){var r=t[i];var o=r.options;if(o===v._FIND_MATCH_DECORATION||o===v._CURRENT_FIND_MATCH_DECORATION){return this._getDecorationIndex(r.id)}}return 1};v.prototype.setCurrentFindMatch=function(e){var r=this;var o=null;var t=0;if(e){for(var i=0,n=this._decorations.length;i<n;i++){var s=this._editor.getModel().getDecorationRange(this._decorations[i]);if(e.equalsRange(s)){o=this._decorations[i];t=i+1;break}}}if(this._highlightedDecorationId!==null||o!==null){this._editor.changeDecorations(function(e){if(r._highlightedDecorationId!==null){e.changeDecorationOptions(r._highlightedDecorationId,v._FIND_MATCH_DECORATION);r._highlightedDecorationId=null}if(o!==null){r._highlightedDecorationId=o;e.changeDecorationOptions(r._highlightedDecorationId,v._CURRENT_FIND_MATCH_DECORATION)}if(r._rangeHighlightDecorationId!==null){e.removeDecoration(r._rangeHighlightDecorationId);r._rangeHighlightDecorationId=null}if(o!==null){var t=r._editor.getModel().getDecorationRange(o);if(t.startLineNumber!==t.endLineNumber&&t.endColumn===1){var i=t.endLineNumber-1;var n=r._editor.getModel().getLineMaxColumn(i);t=new m.Range(t.startLineNumber,t.startColumn,i,n)}r._rangeHighlightDecorationId=e.addDecoration(t,v._RANGE_HIGHLIGHT_DECORATION)}})}return t};v.prototype.set=function(f,p){var g=this;this._editor.changeDecorations(function(e){var t=v._FIND_MATCH_DECORATION;var i=[];if(f.length>1e3){t=v._FIND_MATCH_NO_OVERVIEW_DECORATION;var n=g._editor.getModel().getLineCount();var r=g._editor.getLayoutInfo().height;var o=r/n;var s=Math.max(2,Math.ceil(3/o));var a=f[0].range.startLineNumber;var u=f[0].range.endLineNumber;for(var l=1,c=f.length;l<c;l++){var d=f[l].range;if(u+s>=d.startLineNumber){if(d.endLineNumber>u){u=d.endLineNumber}}else{i.push({range:new m.Range(a,1,u,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION});a=d.startLineNumber;u=d.endLineNumber}}i.push({range:new m.Range(a,1,u,1),options:v._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var h=new Array(f.length);for(var l=0,c=f.length;l<c;l++){h[l]={range:f[l].range,options:t}}g._decorations=e.deltaDecorations(g._decorations,h);g._overviewRulerApproximateDecorations=e.deltaDecorations(g._overviewRulerApproximateDecorations,i);if(g._rangeHighlightDecorationId){e.removeDecoration(g._rangeHighlightDecorationId);g._rangeHighlightDecorationId=null}if(g._findScopeDecorationId){e.removeDecoration(g._findScopeDecorationId);g._findScopeDecorationId=null}if(p){g._findScopeDecorationId=e.addDecoration(p,v._FIND_SCOPE_DECORATION)}})};v.prototype._allDecorations=function(){var e=[];e=e.concat(this._decorations);e=e.concat(this._overviewRulerApproximateDecorations);if(this._findScopeDecorationId){e.push(this._findScopeDecorationId)}if(this._rangeHighlightDecorationId){e.push(this._rangeHighlightDecorationId)}return e};v._CURRENT_FIND_MATCH_DECORATION=i.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"currentFindMatch",showIfCollapsed:true,overviewRuler:{color:r.themeColorFromId(n.overviewRulerFindMatchForeground),darkColor:r.themeColorFromId(n.overviewRulerFindMatchForeground),position:o.OverviewRulerLane.Center}});v._FIND_MATCH_DECORATION=i.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:true,overviewRuler:{color:r.themeColorFromId(n.overviewRulerFindMatchForeground),darkColor:r.themeColorFromId(n.overviewRulerFindMatchForeground),position:o.OverviewRulerLane.Center}});v._FIND_MATCH_NO_OVERVIEW_DECORATION=i.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"findMatch",showIfCollapsed:true});v._FIND_MATCH_ONLY_OVERVIEW_DECORATION=i.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,overviewRuler:{color:r.themeColorFromId(n.overviewRulerFindMatchForeground),darkColor:r.themeColorFromId(n.overviewRulerFindMatchForeground),position:o.OverviewRulerLane.Center}});v._RANGE_HIGHLIGHT_DECORATION=i.ModelDecorationOptions.register({stickiness:o.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"rangeHighlight",isWholeLine:true});v._FIND_SCOPE_DECORATION=i.ModelDecorationOptions.register({className:"findScope",isWholeLine:true});return v}();t.FindDecorations=s});define(r[141],e([0,1,18,2,262,79,12,3,33,522,261,20,165,58,19,25]),function(e,r,n,t,i,c,f,o,s,a,u,l,d,p,h,g){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.CONTEXT_FIND_WIDGET_VISIBLE=new h.RawContextKey("findWidgetVisible",false);r.CONTEXT_FIND_WIDGET_NOT_VISIBLE=r.CONTEXT_FIND_WIDGET_VISIBLE.toNegated();r.CONTEXT_FIND_INPUT_FOCUSED=new h.RawContextKey("findInputFocussed",false);r.ToggleCaseSensitiveKeybinding={primary:512|33,mac:{primary:2048|512|33}};r.ToggleWholeWordKeybinding={primary:512|53,mac:{primary:2048|512|53}};r.ToggleRegexKeybinding={primary:512|48,mac:{primary:2048|512|48}};r.ToggleSearchScopeKeybinding={primary:512|42,mac:{primary:2048|512|42}};r.ShowPreviousFindTermKeybinding={primary:512|16};r.ShowNextFindTermKeybinding={primary:512|18};r.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches",ShowPreviousFindTermAction:"find.history.showPrevious",ShowNextFindTermAction:"find.history.showNext"};r.MATCHES_LIMIT=19999;var v=function(){function h(e,t){var i=this;this._editor=e;this._state=t;this._toDispose=[];this._isDisposed=false;this._decorations=new a.FindDecorations(e);this._toDispose.push(this._decorations);this._updateDecorationsScheduler=new n.RunOnceScheduler(function(){return i.research(false)},100);this._toDispose.push(this._updateDecorationsScheduler);this._toDispose.push(this._editor.onDidChangeCursorPosition(function(e){if(e.reason===p.CursorChangeReason.Explicit||e.reason===p.CursorChangeReason.Undo||e.reason===p.CursorChangeReason.Redo){i._decorations.setStartPosition(i._editor.getPosition())}}));this._ignoreModelContentChanged=false;this._toDispose.push(this._editor.onDidChangeModelContent(function(e){if(i._ignoreModelContentChanged){return}if(e.isFlush){i._decorations.reset()}i._decorations.setStartPosition(i._editor.getPosition());i._updateDecorationsScheduler.schedule()}));this._toDispose.push(this._state.onFindReplaceStateChange(function(e){return i._onStateChanged(e)}));this.research(false,this._state.searchScope)}h.prototype.dispose=function(){this._isDisposed=true;this._toDispose=t.dispose(this._toDispose)};h.prototype._onStateChanged=function(e){if(this._isDisposed){return}if(!this._editor.getModel()){return}if(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope){if(e.searchScope){this.research(e.moveCursor,this._state.searchScope)}else{this.research(e.moveCursor)}}};h._getSearchRange=function(e,t){var i=e.getFullModelRange();if(t){i=i.intersectRanges(t)}return i};h.prototype.research=function(e,t){var i=null;if(typeof t!=="undefined"){i=t}else{i=this._decorations.getFindScope()}if(i!==null){if(i.startLineNumber!==i.endLineNumber){i=new o.Range(i.startLineNumber,1,i.endLineNumber,this._editor.getModel().getLineMaxColumn(i.endLineNumber))}}var n=this._findMatches(i,false,r.MATCHES_LIMIT);this._decorations.set(n,i);this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),undefined);if(e){this._moveToNextMatch(this._decorations.getStartPosition())}};h.prototype._hasMatches=function(){return this._state.matchesCount>0};h.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();if(e){this._editor.revealRangeInCenterIfOutsideViewport(e,0)}return true}return false};h.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e);this._editor.setSelection(e);this._editor.revealRangeInCenterIfOutsideViewport(e,0)};h.prototype._moveToPrevMatch=function(e,t){if(t===void 0){t=false}if(this._cannotFind()){return}var i=this._decorations.getFindScope();var n=h._getSearchRange(this._editor.getModel(),i);if(n.getEndPosition().isBefore(e)){e=n.getEndPosition()}if(e.isBefore(n.getStartPosition())){e=n.getEndPosition()}var r=e.lineNumber,o=e.column;var s=this._editor.getModel();var a=new f.Position(r,o);var u=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,false);if(u&&u.range.isEmpty()&&u.range.getStartPosition().equals(a)){var l=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);if(l||o===1){if(r===1){r=s.getLineCount()}else{r--}o=s.getLineMaxColumn(r)}else{o--}a=new f.Position(r,o);u=s.findPreviousMatch(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,false)}if(!u){return null}if(!t&&!n.containsRange(u.range)){return this._moveToPrevMatch(u.range.getStartPosition(),true)}this._setCurrentFindMatch(u.range)};h.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())};h.prototype._moveToNextMatch=function(e){var t=this._getNextMatch(e,false,true);if(t){this._setCurrentFindMatch(t.range)}};h.prototype._getNextMatch=function(e,t,i,n){if(n===void 0){n=false}if(this._cannotFind()){return null}var r=this._decorations.getFindScope();var o=h._getSearchRange(this._editor.getModel(),r);if(o.getEndPosition().isBefore(e)){e=o.getStartPosition()}if(e.isBefore(o.getStartPosition())){e=o.getStartPosition()}var s=e.lineNumber,a=e.column;var u=this._editor.getModel();var l=new f.Position(s,a);var c=u.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t);if(i&&c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)){var d=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);if(d||a===u.getLineMaxColumn(s)){if(s===u.getLineCount()){s=1}else{s++}a=1}else{a++}l=new f.Position(s,a);c=u.findNextMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t)}if(!c){return null}if(!n&&!o.containsRange(c.range)){return this._getNextMatch(c.range.getEndPosition(),t,i,true)}return c};h.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())};h.prototype._getReplacePattern=function(){if(this._state.isRegex){return i.parseReplaceString(this._state.replaceString)}return i.ReplacePattern.fromStaticValue(this._state.replaceString)};h.prototype.replace=function(){if(!this._hasMatches()){return}var e=this._getReplacePattern();var t=this._editor.getSelection();var i=this._getNextMatch(t.getStartPosition(),e.hasReplacementPatterns,false);if(i){if(t.equalsRange(i.range)){var n=e.buildReplaceString(i.matches);var r=new c.ReplaceCommand(t,n);this._executeEditorCommand("replace",r);this._decorations.setStartPosition(new f.Position(t.startLineNumber,t.startColumn+n.length));this.research(true)}else{this._decorations.setStartPosition(this._editor.getPosition());this._setCurrentFindMatch(i.range)}}};h.prototype._findMatches=function(e,t,i){var n=h._getSearchRange(this._editor.getModel(),e);return this._editor.getModel().findMatches(this._state.searchString,n,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null,t,i)};h.prototype.replaceAll=function(){if(!this._hasMatches()){return}var e=this._decorations.getFindScope();if(e===null&&this._state.matchesCount>=r.MATCHES_LIMIT){this._largeReplaceAll()}else{this._regularReplaceAll(e)}this.research(false)};h.prototype._largeReplaceAll=function(){var e=new d.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getConfiguration().wordSeparators:null);var t=e.parseSearchRequest();if(!t){return}var i=t.regex;if(!i.multiline){var n="m";if(i.ignoreCase){n+="i"}if(i.global){n+="g"}i=new RegExp(i.source,n)}var r=this._editor.getModel();var o=r.getValue(g.EndOfLinePreference.LF);var s=r.getFullModelRange();var a=this._getReplacePattern();var u;if(a.hasReplacementPatterns){u=o.replace(i,function(){return a.buildReplaceString(arguments)})}else{u=o.replace(i,a.buildReplaceString(null))}var l=new c.ReplaceCommandThatPreservesSelection(s,u,this._editor.getSelection());this._executeEditorCommand("replaceAll",l)};h.prototype._regularReplaceAll=function(e){var t=this._getReplacePattern();var i=this._findMatches(e,t.hasReplacementPatterns,1073741824);var n=[];for(var r=0,o=i.length;r<o;r++){n[r]=t.buildReplaceString(i[r].matches)}var s=new u.ReplaceAllCommand(this._editor.getSelection(),i.map(function(e){return e.range}),n);this._executeEditorCommand("replaceAll",s)};h.prototype.selectAllMatches=function(){if(!this._hasMatches()){return}var e=this._decorations.getFindScope();var t=this._findMatches(e,false,1073741824);var i=t.map(function(e){return new l.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)});var n=this._editor.getSelection();for(var r=0,o=i.length;r<o;r++){var s=i[r];if(s.equalsRange(n)){i=[n].concat(i.slice(0,r)).concat(i.slice(r+1));break}}this._editor.setSelections(i)};h.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=true;this._editor.pushUndoStop();this._editor.executeCommand(e,t);this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=false}};return h}();r.FindModelBoundToEditorModel=v});define(r[524],e([0,1,10,47,24,141,170,18,16,22]),function(e,t,a,i,n,u,l,c,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var o=function(s){pe(e,s);function e(e,t,i,n){var r=s.call(this)||this;r._hideSoon=r._register(new c.RunOnceScheduler(function(){return r._hide()},2e3));r._isVisible=false;r._editor=e;r._state=t;r._keybindingService=i;r._domNode=document.createElement("div");r._domNode.className="findOptionsWidget";r._domNode.style.display="none";r._domNode.style.top="10px";r._domNode.setAttribute("role","presentation");r._domNode.setAttribute("aria-hidden","true");var o=n.getTheme().getColor(d.inputActiveOptionBorder);r.caseSensitive=r._register(new l.CaseSensitiveCheckbox({appendTitle:r._keybindingLabelFor(u.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:r._state.matchCase,onChange:function(e){r._state.change({matchCase:r.caseSensitive.checked},false)},inputActiveOptionBorder:o}));r._domNode.appendChild(r.caseSensitive.domNode);r.wholeWords=r._register(new l.WholeWordsCheckbox({appendTitle:r._keybindingLabelFor(u.FIND_IDS.ToggleWholeWordCommand),isChecked:r._state.wholeWord,onChange:function(e){r._state.change({wholeWord:r.wholeWords.checked},false)},inputActiveOptionBorder:o}));r._domNode.appendChild(r.wholeWords.domNode);r.regex=r._register(new l.RegexCheckbox({appendTitle:r._keybindingLabelFor(u.FIND_IDS.ToggleRegexCommand),isChecked:r._state.isRegex,onChange:function(e){r._state.change({isRegex:r.regex.checked},false)},inputActiveOptionBorder:o}));r._domNode.appendChild(r.regex.domNode);r._editor.addOverlayWidget(r);r._register(r._state.onFindReplaceStateChange(function(e){var t=false;if(e.isRegex){r.regex.checked=r._state.isRegex;t=true}if(e.wholeWord){r.wholeWords.checked=r._state.wholeWord;t=true}if(e.matchCase){r.caseSensitive.checked=r._state.matchCase;t=true}if(!r._state.isRevealed&&t){r._revealTemporarily()}}));r._register(a.addDisposableNonBubblingMouseOutListener(r._domNode,function(e){return r._onMouseOut()}));r._register(a.addDisposableListener(r._domNode,"mouseover",function(e){return r._onMouseOver()}));r._applyTheme(n.getTheme());r._register(n.onThemeChange(r._applyTheme.bind(r)));return r}e.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);if(!t){return""}return" ("+t.getLabel()+")"};e.prototype.dispose=function(){this._editor.removeOverlayWidget(this);s.prototype.dispose.call(this)};e.prototype.getId=function(){return e.ID};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){return{preference:n.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}};e.prototype.highlightFindOptions=function(){this._revealTemporarily()};e.prototype._revealTemporarily=function(){this._show();this._hideSoon.schedule()};e.prototype._onMouseOut=function(){this._hideSoon.schedule()};e.prototype._onMouseOver=function(){this._hideSoon.cancel()};e.prototype._show=function(){if(this._isVisible){return}this._isVisible=true;this._domNode.style.display="block"};e.prototype._hide=function(){if(!this._isVisible){return}this._isVisible=false;this._domNode.style.display="none"};e.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(d.inputActiveOptionBorder)};this.caseSensitive.style(t);this.wholeWords.style(t);this.regex.style(t)};e.ID="editor.contrib.findOptionsWidget";return e}(i.Widget);t.FindOptionsWidget=o;r.registerThemingParticipant(function(e,t){var i=e.getColor(d.editorWidgetBackground);if(i){t.addRule(".monaco-editor .findOptionsWidget { background-color: "+i+"; }")}var n=e.getColor(d.widgetShadow);if(n){t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+n+"; }")}var r=e.getColor(d.contrastBorder);if(r){t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+r+"; }")}})});define(r[525],e([0,1,353,13,15,5,10,301,113,47,105,24,141,3,16,22,326]),function(e,t,i,n,r,o,h,s,a,u,l,c,d,f,p,g){"use strict";Object.defineProperty(t,"__esModule",{value:true});var v=i.localize(0,null);var m=i.localize(1,null);var _=i.localize(2,null);var y=i.localize(3,null);var C=i.localize(4,null);var b=i.localize(5,null);var S=i.localize(6,null);var w=i.localize(7,null);var E=i.localize(8,null);var L=i.localize(9,null);var x=i.localize(10,null);var N=i.localize(11,null,d.MATCHES_LIMIT);var I=i.localize(12,null);var D=i.localize(13,null);var T=411;var M=275;var k=M-54;var O=k;var R=69;var P=17+(R+3+1)+23*4+2;var A=34;var F=64;var W=function(){function e(e){this.afterLineNumber=e;this.heightInPx=A;this.suppressMouseDown=false;this.domNode=document.createElement("div");this.domNode.className="dock-find-viewzone"}return e}();t.FindWidgetViewZone=W;var B=function(u){pe(e,u);function e(e,t,i,n,r,o,s){var a=u.call(this)||this;a._codeEditor=e;a._controller=t;a._state=i;a._contextViewProvider=n;a._keybindingService=r;a._isVisible=false;a._isReplaceVisible=false;a._register(a._state.onFindReplaceStateChange(function(e){return a._onStateChanged(e)}));a._buildDomNode();a._updateButtons();a._tryUpdateWidgetWidth();a._register(a._codeEditor.onDidChangeConfiguration(function(e){if(e.readOnly){if(a._codeEditor.getConfiguration().readOnly){a._state.change({isReplaceRevealed:false},false)}a._updateButtons()}if(e.layoutInfo){a._tryUpdateWidgetWidth()}}));a._register(a._codeEditor.onDidChangeCursorSelection(function(){if(a._isVisible){a._updateToggleSelectionFindButton()}}));a._register(a._codeEditor.onDidFocusEditor(function(){if(a._isVisible){var e=a._controller.getGlobalBufferTerm();if(e&&e!==a._state.searchString){a._state.change({searchString:e},true);a._findInput.select()}}}));a._findInputFocused=d.CONTEXT_FIND_INPUT_FOCUSED.bindTo(o);a._focusTracker=a._register(h.trackFocus(a._findInput.inputBox.inputElement));a._register(a._focusTracker.onDidFocus(function(){a._findInputFocused.set(true);if(a._toggleSelectionFind.checked){var e=a._codeEditor.getSelection();if(e.endColumn===1&&e.endLineNumber>e.startLineNumber){e=e.setEndPosition(e.endLineNumber-1,1)}var t=a._state.currentMatch;if(e.startLineNumber!==e.endLineNumber){if(!f.Range.equalsRange(e,t)){a._state.change({searchScope:e},true)}}}}));a._register(a._focusTracker.onDidBlur(function(){a._findInputFocused.set(false)}));a._codeEditor.addOverlayWidget(a);a._viewZone=new W(0);a._applyTheme(s.getTheme());a._register(s.onThemeChange(a._applyTheme.bind(a)));a._register(a._codeEditor.onDidChangeModel(function(e){if(!a._isVisible){return}if(a._viewZoneId===undefined){return}a._codeEditor.changeViewZones(function(e){e.removeZone(a._viewZoneId);a._viewZoneId=undefined})}));a._register(a._codeEditor.onDidScrollChange(function(e){if(e.scrollTopChanged){a._layoutViewZone();return}setTimeout(function(){a._layoutViewZone()},0)}));return a}e.prototype.getId=function(){return e.ID};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){if(this._isVisible){return{preference:c.OverlayWidgetPositionPreference.TOP_RIGHT_CORNER}}return null};e.prototype._onStateChanged=function(e){if(e.searchString){this._findInput.setValue(this._state.searchString);this._updateButtons()}if(e.replaceString){this._replaceInputBox.value=this._state.replaceString}if(e.isRevealed){if(this._state.isRevealed){this._reveal(true)}else{this._hide(true)}}if(e.isReplaceRevealed){if(this._state.isReplaceRevealed){if(!this._codeEditor.getConfiguration().readOnly&&!this._isReplaceVisible){this._isReplaceVisible=true;this._replaceInputBox.width=this._findInput.inputBox.width;this._updateButtons()}}else{if(this._isReplaceVisible){this._isReplaceVisible=false;this._updateButtons()}}}if(e.isRegex){this._findInput.setRegex(this._state.isRegex)}if(e.wholeWord){this._findInput.setWholeWords(this._state.wholeWord)}if(e.matchCase){this._findInput.setCaseSensitive(this._state.matchCase)}if(e.searchScope){if(this._state.searchScope){this._toggleSelectionFind.checked=true}else{this._toggleSelectionFind.checked=false}this._updateToggleSelectionFindButton()}if(e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&this._state.matchesCount===0;h.toggleClass(this._domNode,"no-results",t);this._updateMatchesCount()}if(e.searchString||e.currentMatch){this._layoutViewZone()}};e.prototype._updateMatchesCount=function(){this._matchesCount.style.minWidth=R+"px";if(this._state.matchesCount>=d.MATCHES_LIMIT){this._matchesCount.title=N}else{this._matchesCount.title=""}if(this._matchesCount.firstChild){this._matchesCount.removeChild(this._matchesCount.firstChild)}var e;if(this._state.matchesCount>0){var t=String(this._state.matchesCount);if(this._state.matchesCount>=d.MATCHES_LIMIT){t+="+"}var i=String(this._state.matchesPosition);if(i==="0"){i="?"}e=o.format(I,i,t)}else{e=D}this._matchesCount.appendChild(document.createTextNode(e));R=Math.max(R,this._matchesCount.clientWidth)};e.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection();var t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:false;var i=this._toggleSelectionFind.checked;this._toggleSelectionFind.setEnabled(this._isVisible&&(i||t))};e.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible);this._replaceInputBox.setEnabled(this._isVisible&&this._isReplaceVisible);this._updateToggleSelectionFindButton();this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0;this._prevBtn.setEnabled(this._isVisible&&e);this._nextBtn.setEnabled(this._isVisible&&e);this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e);this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e);h.toggleClass(this._domNode,"replaceToggled",this._isReplaceVisible);this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible);this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible);this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var t=!this._codeEditor.getConfiguration().readOnly;this._toggleReplaceBtn.setEnabled(this._isVisible&&t)};e.prototype._reveal=function(e){var t=this;if(!this._isVisible){this._isVisible=true;var i=this._codeEditor.getSelection();var n=i?i.startLineNumber!==i.endLineNumber||i.startColumn!==i.endColumn:false;if(n&&this._codeEditor.getConfiguration().contribInfo.find.autoFindInSelection){this._toggleSelectionFind.checked=true}else{this._toggleSelectionFind.checked=false}this._tryUpdateWidgetWidth();this._updateButtons();setTimeout(function(){h.addClass(t._domNode,"visible");t._domNode.setAttribute("aria-hidden","false");if(!e){h.addClass(t._domNode,"noanimation");setTimeout(function(){h.removeClass(t._domNode,"noanimation")},200)}},0);this._codeEditor.layoutOverlayWidget(this);var r=true;if(this._codeEditor.getConfiguration().contribInfo.find.seedSearchStringFromSelection&&i){var o=h.getDomNodePagePosition(this._codeEditor.getDomNode());var s=this._codeEditor.getScrolledVisiblePosition(i.getStartPosition());var a=o.left+s.left;var u=s.top;if(u<this._viewZone.heightInPx){if(i.endLineNumber>i.startLineNumber){r=false}var l=h.getTopLeftOffset(this._domNode).left;if(a>l){r=false}var c=this._codeEditor.getScrolledVisiblePosition(i.getEndPosition());var d=o.left+c.left;if(d>l){r=false}}}this._showViewZone(r)}};e.prototype._hide=function(e){var t=this;if(this._isVisible){this._isVisible=false;this._updateButtons();h.removeClass(this._domNode,"visible");this._domNode.setAttribute("aria-hidden","true");if(e){this._codeEditor.focus()}this._codeEditor.layoutOverlayWidget(this);this._codeEditor.changeViewZones(function(e){if(t._viewZoneId!==undefined){e.removeZone(t._viewZoneId);t._viewZoneId=undefined;t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()-t._viewZone.heightInPx)}})}};e.prototype._layoutViewZone=function(){var t=this;if(!this._isVisible){return}if(this._viewZoneId!==undefined){return}this._codeEditor.changeViewZones(function(e){if(t._state.isReplaceRevealed){t._viewZone.heightInPx=F}else{t._viewZone.heightInPx=A}t._viewZoneId=e.addZone(t._viewZone);t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+t._viewZone.heightInPx)})};e.prototype._showViewZone=function(i){var n=this;if(i===void 0){i=true}if(!this._isVisible){return}this._codeEditor.changeViewZones(function(e){var t=A;if(n._viewZoneId!==undefined){if(n._state.isReplaceRevealed){n._viewZone.heightInPx=F;t=F-A}else{n._viewZone.heightInPx=A;t=A-F}e.removeZone(n._viewZoneId)}else{n._viewZone.heightInPx=A}n._viewZoneId=e.addZone(n._viewZone);if(i){n._codeEditor.setScrollTop(n._codeEditor.getScrollTop()+t)}})};e.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(g.inputActiveOptionBorder),inputBackground:e.getColor(g.inputBackground),inputForeground:e.getColor(g.inputForeground),inputBorder:e.getColor(g.inputBorder),inputValidationInfoBackground:e.getColor(g.inputValidationInfoBackground),inputValidationInfoBorder:e.getColor(g.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(g.inputValidationWarningBackground),inputValidationWarningBorder:e.getColor(g.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(g.inputValidationErrorBackground),inputValidationErrorBorder:e.getColor(g.inputValidationErrorBorder)};this._findInput.style(t);this._replaceInputBox.style(t)};e.prototype._tryUpdateWidgetWidth=function(){if(!this._isVisible){return}var e=this._codeEditor.getConfiguration().layoutInfo.width;var t=this._codeEditor.getConfiguration().layoutInfo.minimapWidth;var i=false;var n=false;var r=false;if(this._resized){var o=h.getTotalWidth(this._domNode);if(o>T){this._domNode.style.maxWidth=e-28-t-15+"px";this._replaceInputBox.inputElement.style.width=h.getTotalWidth(this._findInput.inputBox.inputElement)+"px";return}}if(T+28+t>=e){n=true}if(T+28+t-R>=e){r=true}if(T+28+t-R>=e+50){i=true}h.toggleClass(this._domNode,"collapsed-find-widget",i);h.toggleClass(this._domNode,"narrow-find-widget",r);h.toggleClass(this._domNode,"reduced-find-widget",n);if(!r&&!i){this._domNode.style.maxWidth=e-28-t-15+"px"}if(this._resized){var s=h.getTotalWidth(this._findInput.inputBox.inputElement);if(s>0){this._replaceInputBox.inputElement.style.width=s+"px"}}};e.prototype.focusFindInput=function(){this._findInput.select();this._findInput.focus()};e.prototype.focusReplaceInput=function(){this._replaceInputBox.select();this._replaceInputBox.focus()};e.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()};e.prototype._onFindInputMouseDown=function(e){if(e.middleButton){e.stopPropagation()}};e.prototype._onFindInputKeyDown=function(e){if(e.equals(3)){this._codeEditor.getAction(d.FIND_IDS.NextMatchFindAction).run().done(null,n.onUnexpectedError);e.preventDefault();return}if(e.equals(1024|3)){this._codeEditor.getAction(d.FIND_IDS.PreviousMatchFindAction).run().done(null,n.onUnexpectedError);e.preventDefault();return}if(e.equals(2)){if(this._isReplaceVisible){this._replaceInputBox.focus()}else{this._findInput.focusOnCaseSensitive()}e.preventDefault();return}if(e.equals(2048|18)){this._codeEditor.focus();e.preventDefault();return}};e.prototype._onReplaceInputKeyDown=function(e){if(e.equals(3)){this._controller.replace();e.preventDefault();return}if(e.equals(2048|3)){this._controller.replaceAll();e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive();e.preventDefault();return}if(e.equals(1024|2)){this._findInput.focus();e.preventDefault();return}if(e.equals(2048|18)){this._codeEditor.focus();e.preventDefault();return}};e.prototype.getHorizontalSashTop=function(e){return 0};e.prototype.getHorizontalSashLeft=function(e){return 0};e.prototype.getHorizontalSashWidth=function(e){return 500};e.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);if(!t){return""}return" ("+t.getLabel()+")"};e.prototype._buildFindPart=function(){var t=this;this._findInput=this._register(new s.FindInput(null,this._contextViewProvider,{width:k,label:v,placeholder:m,appendCaseSensitiveLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(d.FIND_IDS.ToggleRegexCommand),validation:function(e){if(e.length===0){return null}if(!t._findInput.getRegex()){return null}try{new RegExp(e);return null}catch(e){return{content:e.message}}}}));this._findInput.setRegex(!!this._state.isRegex);this._findInput.setCaseSensitive(!!this._state.matchCase);this._findInput.setWholeWords(!!this._state.wholeWord);this._register(this._findInput.onKeyDown(function(e){return t._onFindInputKeyDown(e)}));this._register(this._findInput.onInput(function(){t._state.change({searchString:t._findInput.getValue()},true)}));this._register(this._findInput.onDidOptionChange(function(){t._state.change({isRegex:t._findInput.getRegex(),wholeWord:t._findInput.getWholeWords(),matchCase:t._findInput.getCaseSensitive()},true)}));this._register(this._findInput.onCaseSensitiveKeyDown(function(e){if(e.equals(1024|2)){if(t._isReplaceVisible){t._replaceInputBox.focus();e.preventDefault()}}}));if(r.isLinux){this._register(this._findInput.onMouseDown(function(e){return t._onFindInputMouseDown(e)}))}this._matchesCount=document.createElement("div");this._matchesCount.className="matchesCount";this._updateMatchesCount();this._prevBtn=this._register(new H({label:_+this._keybindingLabelFor(d.FIND_IDS.PreviousMatchFindAction),className:"previous",onTrigger:function(){t._codeEditor.getAction(d.FIND_IDS.PreviousMatchFindAction).run().done(null,n.onUnexpectedError)},onKeyDown:function(e){}}));this._nextBtn=this._register(new H({label:y+this._keybindingLabelFor(d.FIND_IDS.NextMatchFindAction),className:"next",onTrigger:function(){t._codeEditor.getAction(d.FIND_IDS.NextMatchFindAction).run().done(null,n.onUnexpectedError)},onKeyDown:function(e){}}));var e=document.createElement("div");e.className="find-part";e.appendChild(this._findInput.domNode);e.appendChild(this._matchesCount);e.appendChild(this._prevBtn.domNode);e.appendChild(this._nextBtn.domNode);this._toggleSelectionFind=this._register(new V({parent:e,title:C+this._keybindingLabelFor(d.FIND_IDS.ToggleSearchScopeCommand),onChange:function(){if(t._toggleSelectionFind.checked){var e=t._codeEditor.getSelection();if(e.endColumn===1&&e.endLineNumber>e.startLineNumber){e=e.setEndPosition(e.endLineNumber-1,1)}if(!e.isEmpty()){t._state.change({searchScope:e},true)}}else{t._state.change({searchScope:null},true)}}}));this._closeBtn=this._register(new H({label:b+this._keybindingLabelFor(d.FIND_IDS.CloseFindWidgetCommand),className:"close-fw",onTrigger:function(){t._state.change({isRevealed:false,searchScope:null},false)},onKeyDown:function(e){if(e.equals(2)){if(t._isReplaceVisible){if(t._replaceBtn.isEnabled()){t._replaceBtn.focus()}else{t._codeEditor.focus()}e.preventDefault()}}}}));e.appendChild(this._closeBtn.domNode);return e};e.prototype._buildReplacePart=function(){var t=this;var e=document.createElement("div");e.className="replace-input";e.style.width=O+"px";this._replaceInputBox=this._register(new a.InputBox(e,null,{ariaLabel:S,placeholder:w}));this._register(h.addStandardDisposableListener(this._replaceInputBox.inputElement,"keydown",function(e){return t._onReplaceInputKeyDown(e)}));this._register(h.addStandardDisposableListener(this._replaceInputBox.inputElement,"input",function(e){t._state.change({replaceString:t._replaceInputBox.value},false)}));this._replaceBtn=this._register(new H({label:E+this._keybindingLabelFor(d.FIND_IDS.ReplaceOneAction),className:"replace",onTrigger:function(){t._controller.replace()},onKeyDown:function(e){if(e.equals(1024|2)){t._closeBtn.focus();e.preventDefault()}}}));this._replaceAllBtn=this._register(new H({label:L+this._keybindingLabelFor(d.FIND_IDS.ReplaceAllAction),className:"replace-all",onTrigger:function(){t._controller.replaceAll()},onKeyDown:function(e){}}));var i=document.createElement("div");i.className="replace-part";i.appendChild(e);i.appendChild(this._replaceBtn.domNode);i.appendChild(this._replaceAllBtn.domNode);return i};e.prototype._buildDomNode=function(){var e=this;var t=this._buildFindPart();var i=this._buildReplacePart();this._toggleReplaceBtn=this._register(new H({label:x,className:"toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},false);if(e._isReplaceVisible){e._replaceInputBox.width=e._findInput.inputBox.width}e._showViewZone()},onKeyDown:function(e){}}));this._toggleReplaceBtn.toggleClass("expand",this._isReplaceVisible);this._toggleReplaceBtn.toggleClass("collapse",!this._isReplaceVisible);this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);this._domNode=document.createElement("div");this._domNode.className="editor-widget find-widget";this._domNode.setAttribute("aria-hidden","true");this._domNode.style.width=T+"px";this._domNode.appendChild(this._toggleReplaceBtn.domNode);this._domNode.appendChild(t);this._domNode.appendChild(i);this._buildSash()};e.prototype._buildSash=function(){var r=this;this._resizeSash=new l.Sash(this._domNode,this,{orientation:l.Orientation.VERTICAL});this._resized=false;var o=T;this._register(this._resizeSash.onDidStart(function(e){o=h.getTotalWidth(r._domNode)}));this._register(this._resizeSash.onDidChange(function(e){r._resized=true;var t=o+e.startX-e.currentX;if(t<T){return}var i=t-P;var n=parseFloat(h.getComputedStyle(r._domNode).maxWidth)||0;if(t>n){return}r._domNode.style.width=t+"px";if(r._isReplaceVisible){r._replaceInputBox.width=i}}))};e.ID="editor.contrib.findWidget";return e}(u.Widget);t.FindWidget=B;var V=function(i){pe(n,i);function n(e){var t=i.call(this)||this;t._opts=e;t._domNode=document.createElement("div");t._domNode.className="monaco-checkbox";t._domNode.title=t._opts.title;t._domNode.tabIndex=0;t._checkbox=document.createElement("input");t._checkbox.type="checkbox";t._checkbox.className="checkbox";t._checkbox.id="checkbox-"+n._COUNTER++;t._checkbox.tabIndex=-1;t._label=document.createElement("label");t._label.className="label";t._label.htmlFor=t._checkbox.id;t._label.tabIndex=-1;t._domNode.appendChild(t._checkbox);t._domNode.appendChild(t._label);t._opts.parent.appendChild(t._domNode);t.onchange(t._checkbox,function(e){t._opts.onChange()});return t}Object.defineProperty(n.prototype,"domNode",{get:function(){return this._domNode},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"checked",{get:function(){return this._checkbox.checked},set:function(e){this._checkbox.checked=e},enumerable:true,configurable:true});n.prototype.focus=function(){this._checkbox.focus()};n.prototype.enable=function(){this._checkbox.removeAttribute("disabled")};n.prototype.disable=function(){this._checkbox.disabled=true};n.prototype.setEnabled=function(e){if(e){this.enable();this.domNode.tabIndex=0}else{this.disable();this.domNode.tabIndex=-1}};n._COUNTER=0;return n}(u.Widget);var H=function(i){pe(e,i);function e(e){var t=i.call(this)||this;t._opts=e;t._domNode=document.createElement("div");t._domNode.title=t._opts.label;t._domNode.tabIndex=0;t._domNode.className="button "+t._opts.className;t._domNode.setAttribute("role","button");t._domNode.setAttribute("aria-label",t._opts.label);t.onclick(t._domNode,function(e){t._opts.onTrigger();e.preventDefault()});t.onkeydown(t._domNode,function(e){if(e.equals(10)||e.equals(3)){t._opts.onTrigger();e.preventDefault();return}t._opts.onKeyDown(e)});return t}Object.defineProperty(e.prototype,"domNode",{get:function(){return this._domNode},enumerable:true,configurable:true});e.prototype.isEnabled=function(){return this._domNode.tabIndex>=0};e.prototype.focus=function(){this._domNode.focus()};e.prototype.setEnabled=function(e){h.toggleClass(this._domNode,"disabled",!e);this._domNode.setAttribute("aria-disabled",String(!e));this._domNode.tabIndex=e?0:-1};e.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))};e.prototype.toggleClass=function(e,t){h.toggleClass(this._domNode,e,t)};return e}(u.Widget);t.SimpleButton=H;p.registerThemingParticipant(function(e,i){function t(e,t){if(t){i.addRule(".monaco-editor "+e+" { background-color: "+t+"; }")}}t(".findMatch",e.getColor(g.editorFindMatchHighlight));t(".currentFindMatch",e.getColor(g.editorFindMatch));t(".findScope",e.getColor(g.editorFindRangeHighlight));var n=e.getColor(g.editorWidgetBackground);t(".find-widget",n);var r=e.getColor(g.widgetShadow);if(r){i.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+r+"; }")}var o=e.getColor(g.editorFindMatchHighlightBorder);if(o){i.addRule(".monaco-editor .findMatch { border: 1px dotted "+o+"; -moz-box-sizing: border-box; box-sizing: border-box; }")}var s=e.getColor(g.editorFindMatchBorder);if(s){i.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+s+"; padding: 1px; -moz-box-sizing: border-box; box-sizing: border-box; }")}var a=e.getColor(g.editorFindRangeHighlightBorder);if(a){i.addRule(".monaco-editor .findScope { border: 1px dashed "+a+"; }")}var u=e.getColor(g.contrastBorder);if(u){i.addRule(".monaco-editor .find-widget { border: 2px solid "+u+"; }")}var l=e.getColor(g.errorForeground);if(l){i.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+l+"; }")}var c=e.getColor(g.editorWidgetBorder);if(c){i.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+c+"; width: 3px !important; margin-left: -4px;}")}})});define(r[201],e([0,1,352,328,2,19,5,11,141,260,18,21,76,153,72,49,525,524,16,44,14]),function(e,t,i,s,n,r,a,o,u,l,c,d,h,f,p,g,v,m,_,y,C){"use strict";Object.defineProperty(t,"__esModule",{value:true});function b(e){var t=e.getSelection();if(t.startLineNumber===t.endLineNumber){if(t.isEmpty()){var i=e.getModel().getWordAtPosition(t.getStartPosition());if(i){return i.word}}else{return e.getModel().getValueInRange(t)}}return null}t.getSelectionSearchString=b;var S;(function(e){e[e["NoFocusChange"]=0]="NoFocusChange";e[e["FocusFindInput"]=1]="FocusFindInput";e[e["FocusReplaceInput"]=2]="FocusReplaceInput"})(S=t.FindStartFocusAction||(t.FindStartFocusAction={}));var w=function(o){pe(t,o);function t(e,t,i,n){var r=o.call(this)||this;r._editor=e;r._findWidgetVisible=u.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(t);r._storageService=i;r._clipboardService=n;r._updateHistoryDelayer=new c.Delayer(500);r._currentHistoryNavigator=new s.HistoryNavigator;r._state=r._register(new l.FindReplaceState);r.loadQueryState();r._register(r._state.onFindReplaceStateChange(function(e){return r._onStateChanged(e)}));r._model=null;r._register(r._editor.onDidChangeModel(function(){var e=r._editor.getModel()&&r._state.isRevealed;r.disposeModel();r._state.change({searchScope:null,matchCase:r._storageService.getBoolean("editor.matchCase",h.StorageScope.WORKSPACE,false),wholeWord:r._storageService.getBoolean("editor.wholeWord",h.StorageScope.WORKSPACE,false),isRegex:r._storageService.getBoolean("editor.isRegex",h.StorageScope.WORKSPACE,false)},false);if(e){r._start({forceRevealReplace:false,seedSearchStringFromSelection:false&&r._editor.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:false,shouldFocus:0,shouldAnimate:false})}}));return r}t.get=function(e){return e.getContribution(t.ID)};t.prototype.dispose=function(){this.disposeModel();o.prototype.dispose.call(this)};t.prototype.disposeModel=function(){if(this._model){this._model.dispose();this._model=null}};t.prototype.getId=function(){return t.ID};t.prototype._onStateChanged=function(e){this.saveQueryState(e);if(e.updateHistory&&e.searchString){this._delayedUpdateHistory()}if(e.isRevealed){if(this._state.isRevealed){this._findWidgetVisible.set(true)}else{this._findWidgetVisible.reset();this.disposeModel()}}if(e.searchString){this.setGlobalBufferTerm(this._state.searchString)}};t.prototype.saveQueryState=function(e){if(e.isRegex){this._storageService.store("editor.isRegex",this._state.actualIsRegex,h.StorageScope.WORKSPACE)}if(e.wholeWord){this._storageService.store("editor.wholeWord",this._state.actualWholeWord,h.StorageScope.WORKSPACE)}if(e.matchCase){this._storageService.store("editor.matchCase",this._state.actualMatchCase,h.StorageScope.WORKSPACE)}};t.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",h.StorageScope.WORKSPACE,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",h.StorageScope.WORKSPACE,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",h.StorageScope.WORKSPACE,this._state.isRegex)},false)};t.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))};t.prototype._updateHistory=function(){if(this._state.searchString){this._currentHistoryNavigator.add(this._state.searchString)}};t.prototype.getState=function(){return this._state};t.prototype.getHistory=function(){return this._currentHistoryNavigator};t.prototype.closeFindWidget=function(){this._state.change({isRevealed:false,searchScope:null},false);this._editor.focus()};t.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},false)};t.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},false)};t.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},false)};t.prototype.toggleSearchScope=function(){if(this._state.searchScope){this._state.change({searchScope:null},true)}else{var e=this._editor.getSelection();if(e.endColumn===1&&e.endLineNumber>e.startLineNumber){e=e.setEndPosition(e.endLineNumber-1,1)}if(!e.isEmpty()){this._state.change({searchScope:e},true)}}};t.prototype.setSearchString=function(e){if(this._state.isRegex){e=a.escapeRegExpCharacters(e)}this._state.change({searchString:e},false)};t.prototype.highlightFindOptions=function(){};t.prototype._start=function(e){this.disposeModel();if(!this._editor.getModel()){return}var t={isRevealed:true};if(e.seedSearchStringFromSelection){var i=b(this._editor);if(i){if(this._state.isRegex){t.searchString=a.escapeRegExpCharacters(i)}else{t.searchString=i}}}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){var i=this.getGlobalBufferTerm();if(i){t.searchString=i}}if(e.forceRevealReplace){t.isReplaceRevealed=true}else if(!this._findWidgetVisible.get()){t.isReplaceRevealed=false}this._state.change(t,false);if(!this._model){this._model=new u.FindModelBoundToEditorModel(this._editor,this._state)}};t.prototype.start=function(e){this._start(e)};t.prototype.moveToNextMatch=function(){if(this._model){this._model.moveToNextMatch();return true}return false};t.prototype.moveToPrevMatch=function(){if(this._model){this._model.moveToPrevMatch();return true}return false};t.prototype.replace=function(){if(this._model){this._model.replace();return true}return false};t.prototype.replaceAll=function(){if(this._model){this._model.replaceAll();return true}return false};t.prototype.selectAllMatches=function(){if(this._model){this._model.selectAllMatches();this._editor.focus();return true}return false};t.prototype.showPreviousFindTerm=function(){var e=this._currentHistoryNavigator.previous();if(e){this._state.change({searchString:e},false,false)}return true};t.prototype.showNextFindTerm=function(){var e=this._currentHistoryNavigator.next();if(e){this._state.change({searchString:e},false,false)}return true};t.prototype.getGlobalBufferTerm=function(){if(this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService){return this._clipboardService.readFindText()}return""};t.prototype.setGlobalBufferTerm=function(e){if(this._editor.getConfiguration().contribInfo.find.globalFindClipboard&&this._clipboardService){this._clipboardService.writeFindText(e)}};t.ID="editor.contrib.findController";t=q([G(1,r.IContextKeyService),G(2,h.IStorageService),G(3,f.IClipboardService)],t);return t}(n.Disposable);t.CommonFindController=w;var E=function(u){pe(e,u);function e(e,t,i,n,r,o,s){var a=u.call(this,e,i,o,s)||this;a._contextViewService=t;a._contextKeyService=i;a._keybindingService=n;a._themeService=r;return a}e.prototype._start=function(e){if(!this._widget){this._createFindWidget()}u.prototype._start.call(this,e);if(e.shouldFocus===2){this._widget.focusReplaceInput()}else if(e.shouldFocus===1){this._widget.focusFindInput()}};e.prototype.highlightFindOptions=function(){if(!this._widget){this._createFindWidget()}if(this._state.isRevealed){this._widget.highlightFindOptions()}else{this._findOptionsWidget.highlightFindOptions()}};e.prototype._createFindWidget=function(){this._widget=this._register(new v.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService));this._findOptionsWidget=this._register(new m.FindOptionsWidget(this._editor,this._state,this._keybindingService,this._themeService))};e=q([G(1,p.IContextViewService),G(2,r.IContextKeyService),G(3,g.IKeybindingService),G(4,_.IThemeService),G(5,h.IStorageService),G(6,C.optional(f.IClipboardService))],e);return e}(w);t.FindController=E;var L=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.StartFindAction,label:i.localize(0,null),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:2048|36}})||this}t.prototype.run=function(e,t){var i=w.get(t);if(i){i.start({forceRevealReplace:false,seedSearchStringFromSelection:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getConfiguration().contribInfo.find.globalFindClipboard,shouldFocus:1,shouldAnimate:true})}};return t}(o.EditorAction);t.StartFindAction=L;var x=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.StartFindWithSelection,label:i.localize(1,null),alias:"Find",precondition:null,kbOpts:{kbExpr:null,primary:null,mac:{primary:2048|35}}})||this}t.prototype.run=function(e,t){var i=w.get(t);if(i){i.start({forceRevealReplace:false,seedSearchStringFromSelection:true,seedSearchStringFromGlobalClipboard:false,shouldFocus:1,shouldAnimate:true});i.setGlobalBufferTerm(i.getState().searchString)}};return t}(o.EditorAction);t.StartFindWithSelectionAction=x;var N=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.run=function(e,t){var i=w.get(t);if(i&&!this._run(i)){i.start({forceRevealReplace:false,seedSearchStringFromSelection:i.getState().searchString.length===0&&t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:true,shouldFocus:0,shouldAnimate:true});this._run(i)}};return t}(o.EditorAction);t.MatchFindAction=N;var I=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.NextMatchFindAction,label:i.localize(2,null),alias:"Find Next",precondition:null,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:61,mac:{primary:2048|37,secondary:[61]}}})||this}t.prototype._run=function(e){return e.moveToNextMatch()};return t}(N);t.NextMatchFindAction=I;var D=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.PreviousMatchFindAction,label:i.localize(3,null),alias:"Find Previous",precondition:null,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:1024|61,mac:{primary:2048|1024|37,secondary:[1024|61]}}})||this}t.prototype._run=function(e){return e.moveToPrevMatch()};return t}(N);t.PreviousMatchFindAction=D;var T=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.run=function(e,t){var i=w.get(t);if(!i){return}var n=b(t);if(n){i.setSearchString(n)}if(!this._run(i)){i.start({forceRevealReplace:false,seedSearchStringFromSelection:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:false,shouldFocus:0,shouldAnimate:true});this._run(i)}};return t}(o.EditorAction);t.SelectionMatchFindAction=T;var M=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(4,null),alias:"Find Next Selection",precondition:null,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:2048|61}})||this}t.prototype._run=function(e){return e.moveToNextMatch()};return t}(T);t.NextSelectionMatchFindAction=M;var k=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(5,null),alias:"Find Previous Selection",precondition:null,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:2048|1024|61}})||this}t.prototype._run=function(e){return e.moveToPrevMatch()};return t}(T);t.PreviousSelectionMatchFindAction=k;var O=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.StartFindReplaceAction,label:i.localize(6,null),alias:"Replace",precondition:null,kbOpts:{kbExpr:null,primary:2048|38,mac:{primary:2048|512|36}}})||this}t.prototype.run=function(e,t){if(t.getConfiguration().readOnly){return}var i=w.get(t);var n=t.getSelection();var r=!n.isEmpty()&&n.startLineNumber===n.endLineNumber&&t.getConfiguration().contribInfo.find.seedSearchStringFromSelection;var o=i.getState().searchString;var s=!!o||r?2:1;if(i){i.start({forceRevealReplace:true,seedSearchStringFromSelection:r,seedSearchStringFromGlobalClipboard:t.getConfiguration().contribInfo.find.seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:true})}};return t}(o.EditorAction);t.StartFindReplaceAction=O;var R=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.ShowNextFindTermAction,label:i.localize(7,null),alias:"Show Next Find Term",precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:r.ContextKeyExpr.and(u.CONTEXT_FIND_INPUT_FOCUSED,d.EditorContextKeys.focus),primary:u.ShowNextFindTermKeybinding.primary,mac:u.ShowNextFindTermKeybinding.mac,win:u.ShowNextFindTermKeybinding.win,linux:u.ShowNextFindTermKeybinding.linux}})||this}t.prototype._run=function(e){return e.showNextFindTerm()};return t}(N);t.ShowNextFindTermAction=R;var P=function(e){pe(t,e);function t(){return e.call(this,{id:u.FIND_IDS.ShowPreviousFindTermAction,label:i.localize(8,null),alias:"Find Show Previous Find Term",precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:r.ContextKeyExpr.and(u.CONTEXT_FIND_INPUT_FOCUSED,d.EditorContextKeys.focus),primary:u.ShowPreviousFindTermKeybinding.primary,mac:u.ShowPreviousFindTermKeybinding.mac,win:u.ShowPreviousFindTermKeybinding.win,linux:u.ShowPreviousFindTermKeybinding.linux}})||this}t.prototype._run=function(e){return e.showPreviousFindTerm()};return t}(N);t.ShowPreviousFindTermAction=P;o.registerEditorContribution(E);o.registerEditorAction(L);o.registerEditorAction(x);o.registerEditorAction(I);o.registerEditorAction(D);o.registerEditorAction(M);o.registerEditorAction(k);o.registerEditorAction(O);o.registerEditorAction(R);o.registerEditorAction(P);var A=o.EditorCommand.bindToContribution(w.get);o.registerEditorCommand(new A({id:u.FIND_IDS.CloseFindWidgetCommand,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}));o.registerEditorCommand(new A({id:u.FIND_IDS.ToggleCaseSensitiveCommand,precondition:null,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:u.ToggleCaseSensitiveKeybinding.primary,mac:u.ToggleCaseSensitiveKeybinding.mac,win:u.ToggleCaseSensitiveKeybinding.win,linux:u.ToggleCaseSensitiveKeybinding.linux}}));o.registerEditorCommand(new A({id:u.FIND_IDS.ToggleWholeWordCommand,precondition:null,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:u.ToggleWholeWordKeybinding.primary,mac:u.ToggleWholeWordKeybinding.mac,win:u.ToggleWholeWordKeybinding.win,linux:u.ToggleWholeWordKeybinding.linux}}));o.registerEditorCommand(new A({id:u.FIND_IDS.ToggleRegexCommand,precondition:null,handler:function(e){return e.toggleRegex()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:u.ToggleRegexKeybinding.primary,mac:u.ToggleRegexKeybinding.mac,win:u.ToggleRegexKeybinding.win,linux:u.ToggleRegexKeybinding.linux}}));o.registerEditorCommand(new A({id:u.FIND_IDS.ToggleSearchScopeCommand,precondition:null,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:u.ToggleSearchScopeKeybinding.primary,mac:u.ToggleSearchScopeKeybinding.mac,win:u.ToggleSearchScopeKeybinding.win,linux:u.ToggleSearchScopeKeybinding.linux}}));o.registerEditorCommand(new A({id:u.FIND_IDS.ReplaceOneAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replace()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:2048|1024|22}}));o.registerEditorCommand(new A({id:u.FIND_IDS.ReplaceAllAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.replaceAll()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:2048|512|3}}));o.registerEditorCommand(new A({id:u.FIND_IDS.SelectAllMatchesAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:y.KeybindingsRegistry.WEIGHT.editorContrib(5),kbExpr:d.EditorContextKeys.focus,primary:512|3}}))});define(r[527],e([0,1,358,4,2,66,10,19,95,12,3,33,11,200,22,16,26,21,36,55,43,44,329]),function(e,n,i,r,o,s,a,u,l,c,d,t,h,f,p,g,v,m,_,y,C,b){"use strict";Object.defineProperty(n,"__esModule",{value:true});var S=function(){function e(e,t){var i=this;this._editor=e;this._markers=null;this._nextIdx=-1;this._toUnbind=[];this._ignoreSelectionChange=false;this._onCurrentMarkerChanged=new r.Emitter;this._onMarkerSetChanged=new r.Emitter;this.setMarkers(t);this._toUnbind.push(this._editor.onDidDispose(function(){return i.dispose()}));this._toUnbind.push(this._editor.onDidChangeCursorPosition(function(){if(!i._ignoreSelectionChange){i._nextIdx=-1}}))}Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:true,configurable:true});e.prototype.setMarkers=function(e){this._markers=e||[];this._markers.sort(function(e,t){return s.default.compare(e.severity,t.severity)||d.Range.compareRangesUsingStarts(e,t)});this._nextIdx=-1;this._onMarkerSetChanged.fire(this)};e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=true;try{e()}finally{this._ignoreSelectionChange=false}};e.prototype._initIdx=function(e){var t=false;var i=this._editor.getPosition();for(var n=0;n<this._markers.length;n++){var r=d.Range.lift(this._markers[n]);if(r.isEmpty()){var o=this._editor.getModel().getWordAtPosition(r.getStartPosition());if(o){r=new d.Range(r.startLineNumber,o.startColumn,r.startLineNumber,o.endColumn)}}if(r.containsPosition(i)||i.isBeforeOrEqual(r.getStartPosition())){this._nextIdx=n+(e?0:-1);t=true;break}}if(!t){this._nextIdx=e?0:this._markers.length-1}if(this._nextIdx<0){this._nextIdx=this._markers.length-1}};e.prototype.move=function(e){if(!this.canNavigate()){this._onCurrentMarkerChanged.fire(undefined);return}if(this._nextIdx===-1){this._initIdx(e)}else if(e){this._nextIdx+=1;if(this._nextIdx>=this._markers.length){this._nextIdx=0}}else{this._nextIdx-=1;if(this._nextIdx<0){this._nextIdx=this._markers.length-1}}var t=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(t)};e.prototype.canNavigate=function(){return this._markers.length>0};e.prototype.next=function(){this.move(true)};e.prototype.previous=function(){this.move(false)};e.prototype.findMarkerAtPosition=function(e){for(var t=0,i=this._markers;t<i.length;t++){var n=i[t];if(d.Range.containsPosition(n,e)){return n}}return undefined};Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:true,configurable:true});e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)};e.prototype.reveal=function(){var t=this;if(this._nextIdx===-1){return}this.withoutWatchingEditorPosition(function(){var e=new c.Position(t._markers[t._nextIdx].startLineNumber,t._markers[t._nextIdx].startColumn);t._editor.setPosition(e);t._editor.revealPositionInCenter(e,0)})};e.prototype.dispose=function(){this._toUnbind=o.dispose(this._toUnbind)};return e}();var w=function(){function e(e,t){var i=this;this.lines=0;this.longestLineLength=0;this._disposables=[];this._editor=t;this._domNode=document.createElement("span");this._domNode.className="descriptioncontainer";this._domNode.setAttribute("aria-live","assertive");this._domNode.setAttribute("role","alert");this._scrollable=new y.ScrollableElement(this._domNode,{horizontal:C.ScrollbarVisibility.Auto,vertical:C.ScrollbarVisibility.Hidden,useShadows:false,horizontalScrollbarSize:3});a.addClass(this._scrollable.getDomNode(),"block");e.appendChild(this._scrollable.getDomNode());this._disposables.push(this._scrollable.onScroll(function(e){return i._domNode.style.left="-"+e.scrollLeft+"px"}));this._disposables.push(this._scrollable)}e.prototype.dispose=function(){o.dispose(this._disposables)};e.prototype.update=function(e){var t=e.source,i=e.message;if(t){this.lines=0;this.longestLineLength=0;var n=new Array(t.length+3+1).join(" ");var r=i.split(/\r\n|\r|\n/g);for(var o=0;o<r.length;o++){var s=r[o];this.lines+=1;this.longestLineLength=Math.max(s.length,this.longestLineLength);if(o===0){i="["+t+"] "+s}else{i+="\n"+n+s}}}else{this.lines=1;this.longestLineLength=i.length}this._domNode.innerText=i;this._editor.applyFontInfo(this._domNode);var a=Math.floor(this._editor.getConfiguration().fontInfo.typicalFullwidthCharacterWidth*this.longestLineLength);this._scrollable.setScrollDimensions({scrollWidth:a})};e.prototype.layout=function(e,t){this._scrollable.setScrollDimensions({width:t})};return e}();var E=function(r){pe(e,r);function e(e,t,i){var n=r.call(this,e,{showArrow:true,showFrame:true,isAccessible:true})||this;n._model=t;n._themeService=i;n._callOnDispose=[];n._severity=s.default.Warning;n._backgroundColor=v.Color.white;n._applyTheme(i.getTheme());n._callOnDispose.push(i.onThemeChange(n._applyTheme.bind(n)));n.create();n._wireModelAndView();return n}e.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(n.editorMarkerNavigationBackground);var t=n.editorMarkerNavigationError;if(this._severity===s.default.Warning){t=n.editorMarkerNavigationWarning}else if(this._severity===s.default.Info){t=n.editorMarkerNavigationInfo}var i=e.getColor(t);this.style({arrowColor:i,frameColor:i})};e.prototype._applyStyles=function(){if(this._parentContainer){this._parentContainer.style.backgroundColor=this._backgroundColor.toString()}r.prototype._applyStyles.call(this)};e.prototype.dispose=function(){this._callOnDispose=o.dispose(this._callOnDispose);r.prototype.dispose.call(this)};e.prototype.focus=function(){this._parentContainer.focus()};e.prototype._fillContainer=function(e){this._parentContainer=e;a.addClass(e,"marker-widget");this._parentContainer.tabIndex=0;this._parentContainer.setAttribute("role","tooltip");this._container=document.createElement("div");e.appendChild(this._container);this._title=document.createElement("div");this._title.className="block title";this._container.appendChild(this._title);this._message=new w(this._container,this.editor);this._disposables.push(this._message)};e.prototype.show=function(e,t){r.prototype.show.call(this,e,t);if(this.editor.getConfiguration().accessibilitySupport!==1){this.focus()}};e.prototype._wireModelAndView=function(){this._model.onCurrentMarkerChanged(this.showAtMarker,this,this._callOnDispose);this._model.onMarkerSetChanged(this._onMarkersChanged,this,this._callOnDispose)};e.prototype.showAtMarker=function(e){var t=this;if(!e){return}this._container.classList.remove("stale");this._title.innerHTML=i.localize(0,null,this._model.indexOf(e),this._model.total);this._message.update(e);this._model.withoutWatchingEditorPosition(function(){t._severity=e.severity;t._applyTheme(t._themeService.getTheme());t.show(new c.Position(e.startLineNumber,e.startColumn),t.computeRequiredHeight())})};e.prototype._onMarkersChanged=function(){var e=this._model.findMarkerAtPosition(this.position);if(e){this._container.classList.remove("stale");this._message.update(e)}else{this._container.classList.add("stale")}this._relayout()};e.prototype._doLayout=function(e,t){this._message.layout(e,t)};e.prototype._relayout=function(){r.prototype._relayout.call(this,this.computeRequiredHeight())};e.prototype.computeRequiredHeight=function(){return 1+this._message.lines};return e}(f.ZoneWidget);var L=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i._isNext=e;return i}e.prototype.run=function(e,t){var i=x.get(t);if(!i){return}var n=i.getOrCreateModel();if(n){if(this._isNext){n.next()}else{n.previous()}n.reveal()}};return e}(h.EditorAction);var x=function(){function t(e,t,i,n){this._markerService=t;this._contextKeyService=i;this._themeService=n;this._callOnClose=[];this._editor=e;this._markersNavigationVisible=D.bindTo(this._contextKeyService)}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.dispose=function(){this._cleanUp()};t.prototype._cleanUp=function(){this._markersNavigationVisible.reset();this._callOnClose=o.dispose(this._callOnClose);this._zone=null;this._model=null};t.prototype.getOrCreateModel=function(){var t=this;if(this._model){return this._model}var e=this._getMarkers();this._model=new S(this._editor,e);this._zone=new E(this._editor,this._model,this._themeService);this._markersNavigationVisible.set(true);this._callOnClose.push(this._model);this._callOnClose.push(this._zone);this._callOnClose.push(this._editor.onDidChangeModel(function(){return t._cleanUp()}));this._model.onCurrentMarkerChanged(function(e){return!e&&t._cleanUp()},undefined,this._callOnClose);this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._callOnClose);return this._model};t.prototype.closeMarkersNavigation=function(){this._cleanUp();this._editor.focus()};t.prototype._onMarkerChanged=function(e){var t=this;if(!e.some(function(e){return t._editor.getModel().uri.toString()===e.toString()})){return}this._model.setMarkers(this._getMarkers())};t.prototype._getMarkers=function(){return this._markerService.read({resource:this._editor.getModel().uri})};t.ID="editor.contrib.markerController";t=q([G(1,l.IMarkerService),G(2,u.IContextKeyService),G(3,g.IThemeService)],t);return t}();var N=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.marker.next",label:i.localize(1,null),alias:"Go to Next Error or Warning",precondition:m.EditorContextKeys.writable,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:66}})||this}return t}(L);var I=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.marker.prev",label:i.localize(2,null),alias:"Go to Previous Error or Warning",precondition:m.EditorContextKeys.writable,kbOpts:{kbExpr:m.EditorContextKeys.focus,primary:1024|66}})||this}return t}(L);h.registerEditorContribution(x);h.registerEditorAction(N);h.registerEditorAction(I);var D=new u.RawContextKey("markersNavigationVisible",false);var T=h.EditorCommand.bindToContribution(x.get);h.registerEditorCommand(new T({id:"closeMarkersNavigation",precondition:D,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:b.KeybindingsRegistry.WEIGHT.editorContrib(50),kbExpr:m.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}));var M=p.oneOf(_.editorErrorForeground,_.editorErrorBorder);var k=p.oneOf(_.editorWarningForeground,_.editorWarningBorder);var O=p.oneOf(_.editorInfoForeground,_.editorInfoBorder);n.editorMarkerNavigationError=p.registerColor("editorMarkerNavigationError.background",{dark:M,light:M,hc:M},i.localize(3,null));n.editorMarkerNavigationWarning=p.registerColor("editorMarkerNavigationWarning.background",{dark:k,light:k,hc:k},i.localize(4,null));n.editorMarkerNavigationInfo=p.registerColor("editorMarkerNavigationInfo.background",{dark:O,light:O,hc:O},i.localize(5,null));n.editorMarkerNavigationBackground=p.registerColor("editorMarkerNavigation.background",{dark:"#2D2D30",light:v.Color.white,hc:"#0C141F"},i.localize(6,null))});define(r[528],e([0,1,360,10,7,3,12,17,469,161,162,74,32,256,521,183,26,2,156]),function(e,t,i,o,n,C,b,r,s,a,u,S,l,w,E,p,L,x,N){"use strict";Object.defineProperty(t,"__esModule",{value:true});var I=o.$;var D=function(){function e(e,t,i){this.range=e;this.color=t;this.provider=i}return e}();var c=function(){function e(e){this._editor=e;this._range=null}e.prototype.setRange=function(e){this._range=e;this._result=[]};e.prototype.clearResult=function(){this._result=[]};e.prototype.computeAsync=function(){var e=this._editor.getModel();if(!r.HoverProviderRegistry.has(e)){return n.TPromise.as(null)}return s.getHover(e,new b.Position(this._range.startLineNumber,this._range.startColumn))};e.prototype.computeSync=function(){var l=this;var c=this._range.startLineNumber;if(c>this._editor.getModel().getLineCount()){return[]}var d=p.ColorDetector.get(this._editor);var h=this._editor.getModel().getLineMaxColumn(c);var e=this._editor.getLineDecorations(c);var f=false;var t=e.map(function(e){var t=e.range.startLineNumber===c?e.range.startColumn:1;var i=e.range.endLineNumber===c?e.range.endColumn:h;if(t>l._range.startColumn||l._range.endColumn>i){return null}var n=new C.Range(l._range.startLineNumber,t,l._range.startLineNumber,i);var r=d.getColorData(e.range.getStartPosition());if(!f&&r){f=true;var o=r.colorInfo,s=o.color,a=o.range;return new D(a,s,r.provider)}else{if(S.isEmptyMarkdownString(e.options.hoverMessage)){return null}var u=void 0;if(e.options.hoverMessage){if(Array.isArray(e.options.hoverMessage)){u=e.options.hoverMessage.slice()}else{u=[e.options.hoverMessage]}}return{contents:u,range:n}}});return t.filter(function(e){return!!e})};e.prototype.onResult=function(e,t){if(t){this._result=e.concat(this._result.sort(function(e,t){if(e instanceof D){return-1}else if(t instanceof D){return 1}return 0}))}else{this._result=this._result.concat(e)}};e.prototype.getResult=function(){return this._result.slice(0)};e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])};e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new S.MarkdownString).appendText(i.localize(0,null))]}};return e}();var d=function(n){pe(r,n);function r(e,t){var i=n.call(this,r.ID,e)||this;i.renderDisposable=x.empty;i.toDispose=[];i._computer=new c(i._editor);i._highlightDecorations=[];i._isChangingDecorations=false;i._markdownRenderer=t;t.onDidRenderCodeBlock(i.onContentsChange,i,i.toDispose);i._hoverOperation=new a.HoverOperation(i._computer,function(e){return i._withResult(e,true)},null,function(e){return i._withResult(e,false)});i.toDispose.push(o.addStandardDisposableListener(i.getDomNode(),o.EventType.FOCUS,function(){if(i._colorPicker){o.addClass(i.getDomNode(),"colorpicker-hover")}}));i.toDispose.push(o.addStandardDisposableListener(i.getDomNode(),o.EventType.BLUR,function(){o.removeClass(i.getDomNode(),"colorpicker-hover")}));return i}r.prototype.dispose=function(){this.renderDisposable.dispose();this.renderDisposable=x.empty;this._hoverOperation.cancel();this.toDispose=x.dispose(this.toDispose);n.prototype.dispose.call(this)};r.prototype.onModelDecorationsChanged=function(){if(this._isChangingDecorations){return}if(this.isVisible){this._hoverOperation.cancel();this._computer.clearResult();if(!this._colorPicker){this._hoverOperation.start()}}};r.prototype.startShowingAt=function(e,t){if(this._lastRange&&this._lastRange.equalsRange(e)){return}this._hoverOperation.cancel();if(this.isVisible){if(this._showAtPosition.lineNumber!==e.startLineNumber){this.hide()}else{var i=[];for(var n=0,r=this._messages.length;n<r;n++){var o=this._messages[n];var s=o.range;if(s.startColumn<=e.startColumn&&s.endColumn>=e.endColumn){i.push(o)}}if(i.length>0){if(h(i,this._messages)){return}this._renderMessages(e,i)}else{this.hide()}}}this._lastRange=e;this._computer.setRange(e);this._shouldFocus=t;this._hoverOperation.start()};r.prototype.hide=function(){this._lastRange=null;this._hoverOperation.cancel();n.prototype.hide.call(this);this._isChangingDecorations=true;this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]);this._isChangingDecorations=false;this.renderDisposable.dispose();this.renderDisposable=x.empty;this._colorPicker=null};r.prototype.isColorPickerVisible=function(){if(this._colorPicker){return true}return false};r.prototype._withResult=function(e,t){this._messages=e;if(this._lastRange&&this._messages.length>0){this._renderMessages(this._lastRange,this._messages)}else if(t){this.hide()}};r.prototype._renderMessages=function(f,e){var p=this;this.renderDisposable.dispose();this._colorPicker=null;var g=Number.MAX_VALUE,v=e[0].range,m=document.createDocumentFragment(),_=true;var y=false;e.forEach(function(s){if(!s.range){return}g=Math.min(g,s.range.startColumn);v=C.Range.plusRange(v,s.range);if(!(s instanceof D)){s.contents.filter(function(e){return!S.isEmptyMarkdownString(e)}).forEach(function(e){var t=p._markdownRenderer.render(e);m.appendChild(I("div.hover-row",null,t));_=false})}else{y=true;var e=s.color,t=e.red,i=e.green,n=e.blue,r=e.alpha;var o=new L.RGBA(t*255,i*255,n*255,r);var a=new L.Color(o);var u=p._editor.getModel();var l=new C.Range(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);var c={range:s.range,color:s.color};var d=new w.ColorPickerModel(a,[],0);var h=new E.ColorPickerWidget(m,d,p._editor.getConfiguration().pixelRatio);N.getColorPresentations(u,c,s.provider).then(function(e){d.colorPresentations=e;var t=p._editor.getModel().getValueInRange(s.range);d.guessColorPresentation(a,t);var i=function(){var e;var t;if(d.presentation.textEdit){e=[d.presentation.textEdit];t=new C.Range(d.presentation.textEdit.range.startLineNumber,d.presentation.textEdit.range.startColumn,d.presentation.textEdit.range.endLineNumber,d.presentation.textEdit.range.endColumn);t=t.setEndPosition(t.endLineNumber,t.startColumn+d.presentation.textEdit.text.length)}else{e=[{identifier:null,range:l,text:d.presentation.label,forceMoveMarkers:false}];t=l.setEndPosition(l.endLineNumber,l.startColumn+d.presentation.label.length)}u.pushEditOperations([],e,function(){return[]});if(d.presentation.additionalTextEdits){e=d.presentation.additionalTextEdits.slice();u.pushEditOperations([],e,function(){return[]});p.hide()}p._editor.pushUndoStop();l=t};var n=function(e){return N.getColorPresentations(u,{range:l,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},s.provider).then(function(e){d.colorPresentations=e})};var r=d.onColorFlushed(function(e){n(e).then(i)});var o=d.onDidChangeColor(n);p._colorPicker=h;p.showAt(new b.Position(f.startLineNumber,g),p._shouldFocus);p.updateContents(m);p._colorPicker.layout();p.renderDisposable=x.combinedDisposable([r,o,h])})}});if(!y&&!_){this.showAt(new b.Position(f.startLineNumber,g),this._shouldFocus);this.updateContents(m)}this._isChangingDecorations=true;this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[{range:v,options:r._DECORATION_OPTIONS}]);this._isChangingDecorations=false};r.ID="editor.contrib.modesContentHoverWidget";r._DECORATION_OPTIONS=l.ModelDecorationOptions.register({className:"hoverHighlight"});return r}(u.ContentHoverWidget);t.ModesContentHoverWidget=d;function h(e,t){if(!e&&t||e&&!t||e.length!==t.length){return false}for(var i=0;i<e.length;i++){var n=e[i];var r=t[i];if(n instanceof D){return false}if(r instanceof D){return false}if(!S.markedStringsEquals(n.contents,r.contents)){return false}}return true}});define(r[529],e([0,1,359,37,15,63,60,3,11,24,528,271,2,16,22,21,121,330]),function(e,t,i,n,r,o,s,a,u,l,c,d,h,f,p,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});var m=function(){function t(e,t,i){var n=this;this._openerService=t;this._modeService=i;this._editor=e;this._toUnhook=[];this._isMouseDown=false;if(e.getConfiguration().contribInfo.hover){this._toUnhook.push(this._editor.onMouseDown(function(e){return n._onEditorMouseDown(e)}));this._toUnhook.push(this._editor.onMouseUp(function(e){return n._onEditorMouseUp(e)}));this._toUnhook.push(this._editor.onMouseMove(function(e){return n._onEditorMouseMove(e)}));this._toUnhook.push(this._editor.onMouseLeave(function(e){return n._hideWidgets()}));this._toUnhook.push(this._editor.onKeyDown(function(e){return n._onKeyDown(e)}));this._toUnhook.push(this._editor.onDidChangeModel(function(){return n._hideWidgets()}));this._toUnhook.push(this._editor.onDidChangeModelDecorations(function(){return n._onModelDecorationsChanged()}));this._toUnhook.push(this._editor.onDidScrollChange(function(e){if(e.scrollTopChanged||e.scrollLeftChanged){n._hideWidgets()}}))}}Object.defineProperty(t.prototype,"contentWidget",{get:function(){if(!this._contentWidget){this._createHoverWidget()}return this._contentWidget},enumerable:true,configurable:true});Object.defineProperty(t.prototype,"glyphWidget",{get:function(){if(!this._glyphWidget){this._createHoverWidget()}return this._glyphWidget},enumerable:true,configurable:true});t.get=function(e){return e.getContribution(t.ID)};t.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged();this.glyphWidget.onModelDecorationsChanged()};t.prototype._onEditorMouseDown=function(e){this._isMouseDown=true;var t=e.target.type;if(t===l.MouseTargetType.CONTENT_WIDGET&&e.target.detail===c.ModesContentHoverWidget.ID){this._hoverClicked=true;return}if(t===l.MouseTargetType.OVERLAY_WIDGET&&e.target.detail===d.ModesGlyphHoverWidget.ID){return}if(t!==l.MouseTargetType.OVERLAY_WIDGET&&e.target.detail!==d.ModesGlyphHoverWidget.ID){this._hoverClicked=false}this._hideWidgets()};t.prototype._onEditorMouseUp=function(e){this._isMouseDown=false};t.prototype._onEditorMouseMove=function(e){var t=e.target.type;var i=r.isMacintosh?"metaKey":"ctrlKey";if(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible()){return}if(t===l.MouseTargetType.CONTENT_WIDGET&&e.target.detail===c.ModesContentHoverWidget.ID&&!e.event[i]){return}if(t===l.MouseTargetType.OVERLAY_WIDGET&&e.target.detail===d.ModesGlyphHoverWidget.ID&&!e.event[i]){return}if(this._editor.getConfiguration().contribInfo.hover&&t===l.MouseTargetType.CONTENT_TEXT){this.glyphWidget.hide();this.contentWidget.startShowingAt(e.target.range,false)}else if(t===l.MouseTargetType.GUTTER_GLYPH_MARGIN){this.contentWidget.hide();this.glyphWidget.startShowingAt(e.target.position.lineNumber)}else{this._hideWidgets()}};t.prototype._onKeyDown=function(e){if(e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57){this._hideWidgets()}};t.prototype._hideWidgets=function(){if(!this._contentWidget||this._isMouseDown&&this._hoverClicked&&this._contentWidget.isColorPickerVisible()){return}this._glyphWidget.hide();this._contentWidget.hide()};t.prototype._createHoverWidget=function(){var e=new v.MarkdownRenderer(this._editor,this._modeService,this._openerService);this._contentWidget=new c.ModesContentHoverWidget(this._editor,e);this._glyphWidget=new d.ModesGlyphHoverWidget(this._editor,e)};t.prototype.showContentHover=function(e,t){this.contentWidget.startShowingAt(e,t)};t.prototype.getId=function(){return t.ID};t.prototype.dispose=function(){this._toUnhook=h.dispose(this._toUnhook);if(this._glyphWidget){this._glyphWidget.dispose();this._glyphWidget=null}if(this._contentWidget){this._contentWidget.dispose();this._contentWidget=null}};t.ID="editor.contrib.hover";t=q([G(1,o.IOpenerService),G(2,s.IModeService)],t);return t}();t.ModesHoverController=m;var _=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.showHover",label:i.localize(0,null),alias:"Show Hover",precondition:null,kbOpts:{kbExpr:g.EditorContextKeys.textFocus,primary:n.KeyChord(2048|41,2048|39)}})||this}t.prototype.run=function(e,t){var i=m.get(t);if(!i){return}var n=t.getPosition();var r=new a.Range(n.lineNumber,n.column,n.lineNumber,n.column);i.showContentHover(r,true)};return t}(u.EditorAction);u.registerEditorContribution(m);u.registerEditorAction(_);f.registerThemingParticipant(function(e,t){var i=e.getColor(p.editorHoverHighlight);if(i){t.addRule(".monaco-editor .hoverHighlight { background-color: "+i+"; }")}var n=e.getColor(p.editorHoverBackground);if(n){t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+n+"; }")}var r=e.getColor(p.editorHoverBorder);if(r){t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+r+"; }");t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+r.transparent(.5)+"; }")}var o=e.getColor(p.textLinkForeground);if(o){t.addRule(".monaco-editor .monaco-editor-hover a { color: "+o+"; }")}var s=e.getColor(p.textCodeBlockBackground);if(s){t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+s+"; }")}})});define(r[530],e([0,1,361,7,3,20,21,11,62,272,103,16,36,32]),function(e,t,i,c,d,h,n,r,o,f,p,s,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:true});var l=function(){function l(e,t){this.editor=e;this.editorWorkerService=t;this.currentRequest=c.TPromise.as(null);this.decorationRemover=c.TPromise.as(null);this.decorationIds=[]}l.get=function(e){return e.getContribution(l.ID)};l.prototype.dispose=function(){};l.prototype.getId=function(){return l.ID};l.prototype.run=function(o,e){var s=this;this.currentRequest.cancel();var a=this.editor.getSelection(),t=this.editor.getModel(),i=t.uri;if(a.startLineNumber!==a.endLineNumber){return null}var u=new p.EditorState(this.editor,1|4);if(!this.editorWorkerService.canNavigateValueSet(i)){this.currentRequest=c.TPromise.as(null)}else{this.currentRequest=this.editorWorkerService.navigateValueSet(i,a,e);this.currentRequest=this.currentRequest.then(function(e){if(e&&e.range&&e.value){return e}return null})}return this.currentRequest.then(function(e){if(!e||!e.range||!e.value){return}if(!u.validate(s.editor)){return}var t=d.Range.lift(e.range),i=e.range,n=e.value.length-(a.endColumn-a.startColumn);i={startLineNumber:i.startLineNumber,startColumn:i.startColumn,endLineNumber:i.endLineNumber,endColumn:i.startColumn+e.value.length};if(n>1){a=new h.Selection(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+n-1)}var r=new f.InPlaceReplaceCommand(t,a,e.value);s.editor.pushUndoStop();s.editor.executeCommand(o,r);s.editor.pushUndoStop();s.decorationIds=s.editor.deltaDecorations(s.decorationIds,[{range:i,options:l.DECORATION}]);s.decorationRemover.cancel();s.decorationRemover=c.TPromise.timeout(350);s.decorationRemover.then(function(){s.editor.changeDecorations(function(e){s.decorationIds=e.deltaDecorations(s.decorationIds,[])})})})};l.ID="editor.contrib.inPlaceReplaceController";l.DECORATION=u.ModelDecorationOptions.register({className:"valueSetReplacement"});l=q([G(1,o.IEditorWorkerService)],l);return l}();var g=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.inPlaceReplace.up",label:i.localize(0,null),alias:"Replace with Previous Value",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2048|1024|82}})||this}t.prototype.run=function(e,t){var i=l.get(t);if(!i){return undefined}return i.run(this.id,true)};return t}(r.EditorAction);var v=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.inPlaceReplace.down",label:i.localize(1,null),alias:"Replace with Next Value",precondition:n.EditorContextKeys.writable,kbOpts:{kbExpr:n.EditorContextKeys.textFocus,primary:2048|1024|84}})||this}t.prototype.run=function(e,t){var i=l.get(t);if(!i){return undefined}return i.run(this.id,false)};return t}(r.EditorAction);r.registerEditorContribution(l);r.registerEditorAction(g);r.registerEditorAction(v);s.registerThemingParticipant(function(e,t){var i=e.getColor(a.editorBracketMatchBorder);if(i){t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+i+"; }")}})});define(r[531],e([0,1,363,13,15,7,63,11,17,24,410,2,16,22,32,159,74,25,46,333]),function(e,t,r,o,i,n,s,a,u,l,c,d,h,f,p,g,v,m,_){"use strict";Object.defineProperty(t,"__esModule",{value:true});var y=(new v.MarkdownString).appendText(i.isMacintosh?r.localize(0,null):r.localize(1,null));var C=(new v.MarkdownString).appendText(i.isMacintosh?r.localize(2,null):r.localize(3,null));var b=(new v.MarkdownString).appendText(r.localize(4,null));var S=(new v.MarkdownString).appendText(r.localize(5,null));var w={meta:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:y}),metaActive:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:y}),alt:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:b}),altActive:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:b}),altCommand:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:S}),altCommandActive:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:S}),metaCommand:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link",hoverMessage:C}),metaCommandActive:p.ModelDecorationOptions.register({stickiness:m.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,inlineClassName:"detected-link-active",hoverMessage:C})};var E=function(){function i(e,t){this.link=e;this.decorationId=t}i.decoration=function(e,t){return{range:e.range,options:i._getOptions(e,t,false)}};i._getOptions=function(e,t,i){if(/^command:/i.test(e.url)){if(t){return i?w.metaCommandActive:w.metaCommand}else{return i?w.altCommandActive:w.altCommand}}else{if(t){return i?w.metaActive:w.meta}else{return i?w.altActive:w.alt}}};i.prototype.activate=function(e,t){e.changeDecorationOptions(this.decorationId,i._getOptions(this.link,t,true))};i.prototype.deactivate=function(e,t){e.changeDecorationOptions(this.decorationId,i._getOptions(this.link,t,false))};return i}();var L=function(){function t(i,e,t){var n=this;this.editor=i;this.openerService=e;this.notificationService=t;this.listenersToRemove=[];var r=new g.ClickLinkGesture(i);this.listenersToRemove.push(r);this.listenersToRemove.push(r.onMouseMoveOrRelevantKeyDown(function(e){var t=e[0],i=e[1];n._onEditorMouseMove(t,i)}));this.listenersToRemove.push(r.onExecute(function(e){n.onEditorMouseUp(e)}));this.listenersToRemove.push(r.onCancel(function(e){n.cleanUpActiveLinkDecoration()}));this.enabled=i.getConfiguration().contribInfo.links;this.listenersToRemove.push(i.onDidChangeConfiguration(function(e){var t=i.getConfiguration().contribInfo.links;if(n.enabled===t){return}n.enabled=t;n.updateDecorations([]);n.stop();n.beginCompute()}));this.listenersToRemove.push(i.onDidChangeModelContent(function(e){return n.onChange()}));this.listenersToRemove.push(i.onDidChangeModel(function(e){return n.onModelChanged()}));this.listenersToRemove.push(i.onDidChangeModelLanguage(function(e){return n.onModelModeChanged()}));this.listenersToRemove.push(u.LinkProviderRegistry.onDidChange(function(e){return n.onModelModeChanged()}));this.timeoutPromise=null;this.computePromise=null;this.currentOccurrences={};this.activeLinkDecorationId=null;this.beginCompute()}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.onModelChanged=function(){this.currentOccurrences={};this.activeLinkDecorationId=null;this.stop();this.beginCompute()};t.prototype.onModelModeChanged=function(){this.stop();this.beginCompute()};t.prototype.onChange=function(){var e=this;if(!this.timeoutPromise){this.timeoutPromise=n.TPromise.timeout(t.RECOMPUTE_TIME);this.timeoutPromise.then(function(){e.timeoutPromise=null;e.beginCompute()})}};t.prototype.beginCompute=function(){var t=this;if(!this.editor.getModel()||!this.enabled){return}if(!u.LinkProviderRegistry.has(this.editor.getModel())){return}this.computePromise=c.getLinks(this.editor.getModel()).then(function(e){t.updateDecorations(e);t.computePromise=null})};t.prototype.updateDecorations=function(h){var f=this;var p=this.editor.getConfiguration().multiCursorModifier==="altKey";this.editor.changeDecorations(function(e){var t=[];var i=Object.keys(f.currentOccurrences);for(var n=0,r=i.length;n<r;n++){var o=i[n];var s=f.currentOccurrences[o];t.push(s.decorationId)}var a=[];if(h){for(var u=0;u<h.length;u++){a.push(E.decoration(h[u],p))}}var l=e.deltaDecorations(t,a);f.currentOccurrences={};f.activeLinkDecorationId=null;for(var c=0,r=l.length;c<r;c++){var d=new E(h[c],l[c]);f.currentOccurrences[d.decorationId]=d}})};t.prototype._onEditorMouseMove=function(e,t){var i=this;var n=this.editor.getConfiguration().multiCursorModifier==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var r=this.getLinkOccurrence(e.target.position);if(r){this.editor.changeDecorations(function(e){r.activate(e,n);i.activeLinkDecorationId=r.decorationId})}}else{this.cleanUpActiveLinkDecoration()}};t.prototype.cleanUpActiveLinkDecoration=function(){var t=this.editor.getConfiguration().multiCursorModifier==="altKey";if(this.activeLinkDecorationId){var i=this.currentOccurrences[this.activeLinkDecorationId];if(i){this.editor.changeDecorations(function(e){i.deactivate(e,t)})}this.activeLinkDecorationId=null}};t.prototype.onEditorMouseUp=function(e){if(!this.isEnabled(e)){return}var t=this.getLinkOccurrence(e.target.position);if(!t){return}this.openLinkOccurrence(t,e.hasSideBySideModifier)};t.prototype.openLinkOccurrence=function(e,t){var i=this;if(!this.openerService){return}var n=e.link;n.resolve().then(function(e){return i.openerService.open(e,{openToSide:t})},function(e){if(e==="invalid"){i.notificationService.warn(r.localize(6,null,n.url))}else if(e==="missing"){i.notificationService.warn(r.localize(7,null))}else{o.onUnexpectedError(e)}}).done(null,o.onUnexpectedError)};t.prototype.getLinkOccurrence=function(e){var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,true);for(var i=0;i<t.length;i++){var n=t[i];var r=this.currentOccurrences[n.id];if(r){return r}}return null};t.prototype.isEnabled=function(e,t){return e.target.type===l.MouseTargetType.CONTENT_TEXT&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey)};t.prototype.stop=function(){if(this.timeoutPromise){this.timeoutPromise.cancel();this.timeoutPromise=null}if(this.computePromise){this.computePromise.cancel();this.computePromise=null}};t.prototype.dispose=function(){this.listenersToRemove=d.dispose(this.listenersToRemove);this.stop()};t.ID="editor.linkDetector";t.RECOMPUTE_TIME=1e3;t=q([G(1,s.IOpenerService),G(2,_.INotificationService)],t);return t}();var x=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.openLink",label:r.localize(8,null),alias:"Open Link",precondition:null})||this}t.prototype.run=function(e,t){var i=L.get(t);if(!i){return}var n=t.getSelections();for(var r=0,o=n;r<o.length;r++){var s=o[r];var a=i.getLinkOccurrence(s.getEndPosition());if(a){i.openLinkOccurrence(a,false)}}};return t}(a.EditorAction);a.registerEditorContribution(L);a.registerEditorAction(x);h.registerThemingParticipant(function(e,t){var i=e.getColor(f.editorActiveLinkForeground);if(i){t.addRule(".monaco-editor .detected-link-active { color: "+i+" !important; }")}})});define(r[202],e([0,1,18,2,52,3,33,11,24,19,16,22,44,340]),function(e,t,r,o,s,a,i,n,u,l,c,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=function(){function i(e,t){this._messageListeners=[];this._editor=e;this._visible=i.CONTEXT_SNIPPET_MODE.bindTo(t)}i.get=function(e){return e.getContribution(i._id)};i.prototype.getId=function(){return i._id};i.prototype.dispose=function(){this._visible.reset()};i.prototype.isVisible=function(){return this._visible.get()};i.prototype.showMessage=function(e,t){var i=this;s.alert(e);this._visible.set(true);o.dispose(this._messageWidget);this._messageListeners=o.dispose(this._messageListeners);this._messageWidget=new g(this._editor,t,e);this._messageListeners.push(this._editor.onDidBlurEditorText(function(){return i.closeMessage()}));this._messageListeners.push(this._editor.onDidChangeCursorPosition(function(){return i.closeMessage()}));this._messageListeners.push(this._editor.onDidDispose(function(){return i.closeMessage()}));this._messageListeners.push(this._editor.onDidChangeModel(function(){return i.closeMessage()}));this._messageListeners.push(r.setDisposableTimeout(function(){return i.closeMessage()},3e3));var n;this._messageListeners.push(this._editor.onMouseMove(function(e){if(!e.target.position){return}if(!n){n=new a.Range(t.lineNumber-3,1,e.target.position.lineNumber+3,1)}else if(!n.containsPosition(e.target.position)){i.closeMessage()}}))};i.prototype.closeMessage=function(){this._visible.reset();this._messageListeners=o.dispose(this._messageListeners);this._messageListeners.push(g.fadeOut(this._messageWidget))};i._id="editor.contrib.messageController";i.CONTEXT_SNIPPET_MODE=new l.RawContextKey("messageVisible",false);i=q([G(1,l.IContextKeyService)],i);return i}();t.MessageController=f;var p=n.EditorCommand.bindToContribution(f.get);n.registerEditorCommand(new p({id:"leaveEditorMessage",precondition:f.CONTEXT_SNIPPET_MODE,handler:function(e){return e.closeMessage()},kbOpts:{weight:h.KeybindingsRegistry.WEIGHT.editorContrib(30),primary:9}}));var g=function(){function e(e,t,i){var n=t.lineNumber,r=t.column;this.allowEditorOverflow=true;this.suppressMouseDown=false;this._editor=e;this._editor.revealLinesInCenterIfOutsideViewport(n,n,0);this._position={lineNumber:n,column:r-1};this._domNode=document.createElement("div");this._domNode.classList.add("monaco-editor-overlaymessage");var o=document.createElement("div");o.classList.add("message");o.textContent=i;this._domNode.appendChild(o);var s=document.createElement("div");s.classList.add("anchor");this._domNode.appendChild(s);this._editor.addContentWidget(this);this._domNode.classList.add("fadeIn")}e.fadeOut=function(e){var t;var i=function(){e.dispose();clearTimeout(t);e.getDomNode().removeEventListener("animationend",i)};t=setTimeout(i,110);e.getDomNode().addEventListener("animationend",i);e.getDomNode().classList.add("fadeOut");return{dispose:i}};e.prototype.dispose=function(){this._editor.removeContentWidget(this)};e.prototype.getId=function(){return"messageoverlay"};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){return{position:this._position,preference:[u.ContentWidgetPositionPreference.ABOVE]}};return e}();n.registerEditorContribution(f);c.registerThemingParticipant(function(e,t){var i=e.getColor(d.inputValidationInfoBorder);if(i){var n=e.type===c.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+i+"; }");t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+n+"px solid "+i+"; }")}var r=e.getColor(d.inputValidationInfoBackground);if(r){t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+r+"; }")}})});define(r[533],e([0,1,364,2,37,18,25,21,11,3,20,58,198,17,201,32,22,16]),function(e,t,i,n,r,o,s,a,u,p,h,l,c,_,y,d,g,v){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.insertCursorAbove",label:i.localize(0,null),alias:"Add Cursor Above",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2048|512|16,linux:{primary:1024|512|16,secondary:[2048|1024|16]}}})||this}t.prototype.run=function(e,t,i){var n=t._getCursors();var r=n.context;if(r.config.readOnly){return}r.model.pushStackElement();n.setStates(i.source,l.CursorChangeReason.Explicit,c.CursorMoveCommands.addCursorUp(r,n.getAll()));n.reveal(true,1,0)};return t}(u.EditorAction);t.InsertCursorAbove=f;var m=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.insertCursorBelow",label:i.localize(1,null),alias:"Add Cursor Below",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2048|512|18,linux:{primary:1024|512|18,secondary:[2048|1024|18]}}})||this}t.prototype.run=function(e,t,i){var n=t._getCursors();var r=n.context;if(r.config.readOnly){return}r.model.pushStackElement();n.setStates(i.source,l.CursorChangeReason.Explicit,c.CursorMoveCommands.addCursorDown(r,n.getAll()));n.reveal(true,2,0)};return t}(u.EditorAction);t.InsertCursorBelow=m;var C=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:i.localize(2,null),alias:"Add Cursors to Line Ends",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:1024|512|39}})||this}t.prototype.getCursorsForSelection=function(e,t){if(e.isEmpty()){return[]}var i=t.getModel();var n=[];for(var r=e.startLineNumber;r<e.endLineNumber;r++){var o=i.getLineMaxColumn(r);n.push(new h.Selection(r,o,r,o))}if(e.endColumn>1){n.push(new h.Selection(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}return n};t.prototype.run=function(e,t){var i=this;var n=t.getSelections();var r=n.map(function(e){return i.getCursorsForSelection(e,t)}).reduce(function(e,t){return e.concat(t)});if(r.length>0){t.setSelections(r)}};return t}(u.EditorAction);var b=function(){function e(e,t,i){this.selections=e;this.revealRange=t;this.revealScrollType=i}return e}();t.MultiCursorSessionResult=b;var S=function(){function d(e,t,i,n,r,o,s){this._editor=e;this.findController=t;this.isDisconnectedFromFindController=i;this.searchText=n;this.wholeWord=r;this.matchCase=o;this.currentMatch=s}d.create=function(e,t){var i=t.getState();if(!e.isFocused()&&i.isRevealed&&i.searchString.length>0){return new d(e,t,false,i.searchString,i.wholeWord,i.matchCase,null)}var n=false;var r;var o;var s=e.getSelections();if(s.length===1&&s[0].isEmpty()){n=true;r=true;o=true}else{r=i.wholeWord;o=i.matchCase}var a=e.getSelection();var u;var l=null;if(a.isEmpty()){var c=e.getModel().getWordAtPosition(a.getStartPosition());if(!c){return null}u=c.word;l=new h.Selection(a.startLineNumber,c.startColumn,a.startLineNumber,c.endColumn)}else{u=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n")}return new d(e,t,n,u,r,o,l)};d.prototype.addSelectionToNextFindMatch=function(){var e=this._getNextMatch();if(!e){return null}var t=this._editor.getSelections();return new b(t.concat(e),e,0)};d.prototype.moveSelectionToNextFindMatch=function(){var e=this._getNextMatch();if(!e){return null}var t=this._editor.getSelections();return new b(t.slice(0,t.length-1).concat(e),e,0)};d.prototype._getNextMatch=function(){if(this.currentMatch){var e=this.currentMatch;this.currentMatch=null;return e}this.findController.highlightFindOptions();var t=this._editor.getSelections();var i=t[t.length-1];var n=this._editor.getModel().findNextMatch(this.searchText,i.getEndPosition(),false,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,false);if(!n){return null}return new h.Selection(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn)};d.prototype.addSelectionToPreviousFindMatch=function(){var e=this._getPreviousMatch();if(!e){return null}var t=this._editor.getSelections();return new b(t.concat(e),e,0)};d.prototype.moveSelectionToPreviousFindMatch=function(){var e=this._getPreviousMatch();if(!e){return null}var t=this._editor.getSelections();return new b(t.slice(0,t.length-1).concat(e),e,0)};d.prototype._getPreviousMatch=function(){if(this.currentMatch){var e=this.currentMatch;this.currentMatch=null;return e}this.findController.highlightFindOptions();var t=this._editor.getSelections();var i=t[t.length-1];var n=this._editor.getModel().findPreviousMatch(this.searchText,i.getStartPosition(),false,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,false);if(!n){return null}return new h.Selection(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn)};d.prototype.selectAll=function(){this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,true,false,this.matchCase,this.wholeWord?this._editor.getConfiguration().wordSeparators:null,false,1073741824)};return d}();t.MultiCursorSession=S;var w=function(i){pe(t,i);function t(e){var t=i.call(this)||this;t._editor=e;t._ignoreSelectionChange=false;t._session=null;t._sessionDispose=[];return t}t.get=function(e){return e.getContribution(t.ID)};t.prototype.dispose=function(){this._endSession();i.prototype.dispose.call(this)};t.prototype.getId=function(){return t.ID};t.prototype._beginSessionIfNeeded=function(e){var t=this;if(!this._session){var i=S.create(this._editor,e);if(!i){return}this._session=i;var n={searchString:this._session.searchText};if(this._session.isDisconnectedFromFindController){n.wholeWordOverride=1;n.matchCaseOverride=1;n.isRegexOverride=2}e.getState().change(n,false);this._sessionDispose=[this._editor.onDidChangeCursorSelection(function(e){if(t._ignoreSelectionChange){return}t._endSession()}),this._editor.onDidBlurEditorText(function(){t._endSession()}),e.getState().onFindReplaceStateChange(function(e){if(e.matchCase||e.wholeWord){t._endSession()}})]}};t.prototype._endSession=function(){this._sessionDispose=n.dispose(this._sessionDispose);if(this._session&&this._session.isDisconnectedFromFindController){var e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,false)}this._session=null};t.prototype._setSelections=function(e){this._ignoreSelectionChange=true;this._editor.setSelections(e);this._ignoreSelectionChange=false};t.prototype._expandEmptyToWord=function(e,t){if(!t.isEmpty()){return t}var i=e.getWordAtPosition(t.getStartPosition());if(!i){return t}return new h.Selection(t.startLineNumber,i.startColumn,t.startLineNumber,i.endColumn)};t.prototype._applySessionResult=function(e){if(!e){return}this._setSelections(e.selections);if(e.revealRange){this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType)}};t.prototype.getSession=function(e){return this._session};t.prototype.addSelectionToNextFindMatch=function(e){if(!this._session){var t=this._editor.getSelections();if(t.length>1){var i=e.getState();var n=i.matchCase;var r=O(this._editor.getModel(),t,n);if(!r){var o=this._editor.getModel();var s=[];for(var a=0,u=t.length;a<u;a++){s[a]=this._expandEmptyToWord(o,t[a])}this._editor.setSelections(s);return}}}this._beginSessionIfNeeded(e);if(this._session){this._applySessionResult(this._session.addSelectionToNextFindMatch())}};t.prototype.addSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e);if(this._session){this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}};t.prototype.moveSelectionToNextFindMatch=function(e){this._beginSessionIfNeeded(e);if(this._session){this._applySessionResult(this._session.moveSelectionToNextFindMatch())}};t.prototype.moveSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e);if(this._session){this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}};t.prototype.selectAll=function(e){var t=null;var i=e.getState();if(i.isRevealed&&i.searchString.length>0&&i.isRegex){t=this._editor.getModel().findMatches(i.searchString,true,i.isRegex,i.matchCase,i.wholeWord?this._editor.getConfiguration().wordSeparators:null,false,1073741824)}else{this._beginSessionIfNeeded(e);if(!this._session){return}t=this._session.selectAll()}if(t.length>0){var n=this._editor.getSelection();for(var r=0,o=t.length;r<o;r++){var s=t[r];var a=s.range.intersectRanges(n);if(a){t[r]=t[0];t[0]=s;break}}this._setSelections(t.map(function(e){return new h.Selection(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)}))}};t.ID="editor.contrib.multiCursorController";return t}(n.Disposable);t.MultiCursorSelectionController=w;var E=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.run=function(e,t){var i=w.get(t);if(!i){return}var n=y.CommonFindController.get(t);if(!n){return null}this._run(i,n)};return t}(u.EditorAction);t.MultiCursorSelectionControllerAction=E;var L=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:i.localize(3,null),alias:"Add Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.focus,primary:2048|34}})||this}t.prototype._run=function(e,t){e.addSelectionToNextFindMatch(t)};return t}(E);t.AddSelectionToNextFindMatchAction=L;var x=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:i.localize(4,null),alias:"Add Selection To Previous Find Match",precondition:null})||this}t.prototype._run=function(e,t){e.addSelectionToPreviousFindMatch(t)};return t}(E);t.AddSelectionToPreviousFindMatchAction=x;var N=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:i.localize(5,null),alias:"Move Last Selection To Next Find Match",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.focus,primary:r.KeyChord(2048|41,2048|34)}})||this}t.prototype._run=function(e,t){e.moveSelectionToNextFindMatch(t)};return t}(E);t.MoveSelectionToNextFindMatchAction=N;var I=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:i.localize(6,null),alias:"Move Last Selection To Previous Find Match",precondition:null})||this}t.prototype._run=function(e,t){e.moveSelectionToPreviousFindMatch(t)};return t}(E);t.MoveSelectionToPreviousFindMatchAction=I;var D=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.selectHighlights",label:i.localize(7,null),alias:"Select All Occurrences of Find Match",precondition:null,kbOpts:{kbExpr:a.EditorContextKeys.focus,primary:2048|1024|42}})||this}t.prototype._run=function(e,t){e.selectAll(t)};return t}(E);t.SelectHighlightsAction=D;var T=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.changeAll",label:i.localize(8,null),alias:"Change All Occurrences",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textFocus,primary:2048|60},menuOpts:{group:"1_modification",order:1.2}})||this}t.prototype._run=function(e,t){e.selectAll(t)};return t}(E);t.CompatChangeAll=T;var M=function(){function e(e,t,i,n){this.lastWordUnderCursor=e;this.searchText=t;this.matchCase=i;this.wordSeparators=n}e.softEquals=function(e,t){if(!e&&!t){return true}if(!e||!t){return false}return e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators};return e}();var k=function(e){pe(f,e);function f(t){var i=e.call(this)||this;i.editor=t;i._isEnabled=t.getConfiguration().contribInfo.selectionHighlight;i.decorations=[];i.updateSoon=i._register(new o.RunOnceScheduler(function(){return i._update()},300));i.state=null;i._register(t.onDidChangeConfiguration(function(e){i._isEnabled=t.getConfiguration().contribInfo.selectionHighlight}));i._register(t.onDidChangeCursorSelection(function(e){if(!i._isEnabled){return}if(e.selection.isEmpty()){if(e.reason===l.CursorChangeReason.Explicit){if(i.state&&(!i.state.lastWordUnderCursor||!i.state.lastWordUnderCursor.containsPosition(e.selection.getStartPosition()))){i._setState(null)}i.updateSoon.schedule()}else{i._setState(null)}}else{i._update()}}));i._register(t.onDidChangeModel(function(e){i._setState(null)}));i._register(y.CommonFindController.get(t).getState().onFindReplaceStateChange(function(e){i._update()}));return i}f.prototype.getId=function(){return f.ID};f.prototype._update=function(){this._setState(f._createState(this._isEnabled,this.editor))};f._createState=function(e,t){if(!e){return null}var i=t.getModel();if(!i){return null}var n=t.getSelection();if(n.startLineNumber!==n.endLineNumber){return null}var r=w.get(t);if(!r){return null}var o=y.CommonFindController.get(t);if(!o){return null}var s=r.getSession(o);if(!s){var a=t.getSelections();if(a.length>1){var u=o.getState();var l=u.matchCase;var c=O(t.getModel(),a,l);if(!c){return null}}s=S.create(t,o)}if(!s){return null}var d=null;var h=_.DocumentHighlightProviderRegistry.has(i);if(s.currentMatch){if(h){return null}var f=t.getConfiguration();if(!f.contribInfo.occurrencesHighlight){return null}d=s.currentMatch}if(/^[ \t]+$/.test(s.searchText)){return null}if(s.searchText.length>200){return null}var p=o.getState();var g=p.matchCase;if(p.isRevealed){var v=p.searchString;if(!g){v=v.toLowerCase()}var m=s.searchText;if(!g){m=m.toLowerCase()}if(v===m&&s.matchCase===p.matchCase&&s.wholeWord===p.wholeWord&&!p.isRegex){return null}}return new M(d,s.searchText,s.matchCase,s.wholeWord?t.getConfiguration().wordSeparators:null)};f.prototype._setState=function(e){if(M.softEquals(this.state,e)){this.state=e;return}this.state=e;if(!this.state){if(this.decorations.length>0){this.decorations=this.editor.deltaDecorations(this.decorations,[])}return}var t=this.editor.getModel();if(t.isTooLargeForTokenization()){return}var i=_.DocumentHighlightProviderRegistry.has(t);var n=t.findMatches(this.state.searchText,true,false,this.state.matchCase,this.state.wordSeparators,false).map(function(e){return e.range});n.sort(p.Range.compareRangesUsingStarts);var r=this.editor.getSelections();r.sort(p.Range.compareRangesUsingStarts);var o=[];for(var s=0,a=0,u=n.length,l=r.length;s<u;){var c=n[s];if(a>=l){o.push(c);s++}else{var d=p.Range.compareRangesUsingStarts(c,r[a]);if(d<0){o.push(c);s++}else if(d>0){a++}else{s++;a++}}}var h=o.map(function(e){return{range:e,options:i?f._SELECTION_HIGHLIGHT:f._SELECTION_HIGHLIGHT_OVERVIEW}});this.decorations=this.editor.deltaDecorations(this.decorations,h)};f.prototype.dispose=function(){this._setState(null);e.prototype.dispose.call(this)};f.ID="editor.contrib.selectionHighlighter";f._SELECTION_HIGHLIGHT_OVERVIEW=d.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:v.themeColorFromId(g.overviewRulerSelectionHighlightForeground),darkColor:v.themeColorFromId(g.overviewRulerSelectionHighlightForeground),position:s.OverviewRulerLane.Center}});f._SELECTION_HIGHLIGHT=d.ModelDecorationOptions.register({stickiness:s.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight"});return f}(n.Disposable);t.SelectionHighlighter=k;function O(e,t,i){var n=R(e,t[0],!i);for(var r=1,o=t.length;r<o;r++){var s=t[r];if(s.isEmpty()){return false}var a=R(e,s,!i);if(n!==a){return false}}return true}function R(e,t,i){var n=e.getValueInRange(t);return i?n.toLowerCase():n}u.registerEditorContribution(w);u.registerEditorContribution(k);u.registerEditorAction(f);u.registerEditorAction(m);u.registerEditorAction(C);u.registerEditorAction(L);u.registerEditorAction(x);u.registerEditorAction(N);u.registerEditorAction(I);u.registerEditorAction(D);u.registerEditorAction(T)});define(r[534],e([0,1,366,2,7,10,52,17,24,18,13,4,87,19,185,55,88,16,22,63,60,121,372]),function(e,t,c,l,i,d,h,f,n,r,o,p,g,s,a,v,m,u,_,y,C,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var S=d.$;var w=function(i){pe(n,i);function n(e){var t=i.call(this)||this;t._onHint=t._register(new p.Emitter);t.onHint=t._onHint.event;t._onCancel=t._register(new p.Emitter);t.onCancel=t._onCancel.event;t.editor=e;t.enabled=false;t.triggerCharactersListeners=[];t.throttledDelayer=new r.RunOnceScheduler(function(){return t.doTrigger()},n.DELAY);t.active=false;t._register(t.editor.onDidChangeConfiguration(function(){return t.onEditorConfigurationChange()}));t._register(t.editor.onDidChangeModel(function(e){return t.onModelChanged()}));t._register(t.editor.onDidChangeModelLanguage(function(e){return t.onModelChanged()}));t._register(t.editor.onDidChangeCursorSelection(function(e){return t.onCursorChange(e)}));t._register(f.SignatureHelpProviderRegistry.onDidChange(t.onModelChanged,t));t.onEditorConfigurationChange();t.onModelChanged();return t}n.prototype.cancel=function(e){if(e===void 0){e=false}this.active=false;this.throttledDelayer.cancel();if(!e){this._onCancel.fire(void 0)}};n.prototype.trigger=function(e){if(e===void 0){e=n.DELAY}if(!f.SignatureHelpProviderRegistry.has(this.editor.getModel())){return}this.cancel(true);return this.throttledDelayer.schedule(e)};n.prototype.doTrigger=function(){var i=this;a.provideSignatureHelp(this.editor.getModel(),this.editor.getPosition()).then(null,o.onUnexpectedError).then(function(e){if(!e||!e.signatures||e.signatures.length===0){i.cancel();i._onCancel.fire(void 0);return false}i.active=true;var t={hints:e};i._onHint.fire(t);return true})};n.prototype.isTriggered=function(){return this.active||this.throttledDelayer.isScheduled()};n.prototype.onModelChanged=function(){var t=this;if(this.active){this.cancel()}this.triggerCharactersListeners=l.dispose(this.triggerCharactersListeners);var e=this.editor.getModel();if(!e){return}var i=new m.CharacterSet;for(var n=0,r=f.SignatureHelpProviderRegistry.ordered(e);n<r.length;n++){var o=r[n];if(Array.isArray(o.signatureHelpTriggerCharacters)){for(var s=0,a=o.signatureHelpTriggerCharacters;s<a.length;s++){var u=a[s];i.add(u.charCodeAt(0))}}}this.triggerCharactersListeners.push(this.editor.onDidType(function(e){if(!t.enabled){return}if(i.has(e.charCodeAt(e.length-1))){t.trigger()}}))};n.prototype.onCursorChange=function(e){if(e.source==="mouse"){this.cancel()}else if(this.isTriggered()){this.trigger()}};n.prototype.onEditorConfigurationChange=function(){this.enabled=this.editor.getConfiguration().contribInfo.parameterHints;if(!this.enabled){this.cancel()}};n.prototype.dispose=function(){this.cancel(true);this.triggerCharactersListeners=l.dispose(this.triggerCharactersListeners);i.prototype.dispose.call(this)};n.DELAY=120;return n}(l.Disposable);t.ParameterHintsModel=w;var E=function(){function e(e,t,i,n){var r=this;this.editor=e;this.allowEditorOverflow=true;this.markdownRenderer=new b.MarkdownRenderer(e,n,i);this.model=new w(e);this.keyVisible=a.Context.Visible.bindTo(t);this.keyMultipleSignatures=a.Context.MultipleSignatures.bindTo(t);this.visible=false;this.disposables=[];this.disposables.push(this.model.onHint(function(e){r.show();r.hints=e.hints;r.currentSignature=e.hints.activeSignature;r.render()}));this.disposables.push(this.model.onCancel(function(){r.hide()}))}e.prototype.createParamaterHintDOMNodes=function(){var t=this;this.element=S(".editor-widget.parameter-hints-widget");var e=d.append(this.element,S(".wrapper"));var i=d.append(e,S(".buttons"));var n=d.append(i,S(".button.previous"));var r=d.append(i,S(".button.next"));var o=g.stop(g.domEvent(n,"click"));o(this.previous,this,this.disposables);var s=g.stop(g.domEvent(r,"click"));s(this.next,this,this.disposables);this.overloads=d.append(e,S(".overloads"));var a=S(".body");this.scrollbar=new v.DomScrollableElement(a,{});this.disposables.push(this.scrollbar);e.appendChild(this.scrollbar.getDomNode());this.signature=d.append(a,S(".signature"));this.docs=d.append(a,S(".docs"));this.currentSignature=0;this.editor.addContentWidget(this);this.hide();this.disposables.push(this.editor.onDidChangeCursorSelection(function(e){if(t.visible){t.editor.layoutContentWidget(t)}}));var u=function(){var e=t.editor.getConfiguration().fontInfo;t.element.style.fontSize=e.fontSize+"px"};u();p.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(u,null,this.disposables);this.disposables.push(this.editor.onDidLayoutChange(function(e){return t.updateMaxHeight()}));this.updateMaxHeight()};e.prototype.show=function(){var e=this;if(!this.model||this.visible){return}if(!this.element){this.createParamaterHintDOMNodes()}this.keyVisible.set(true);this.visible=true;i.TPromise.timeout(100).done(function(){return d.addClass(e.element,"visible")});this.editor.layoutContentWidget(this)};e.prototype.hide=function(){if(!this.model||!this.visible){return}if(!this.element){this.createParamaterHintDOMNodes()}this.keyVisible.reset();this.visible=false;this.hints=null;this.announcedLabel=null;d.removeClass(this.element,"visible");this.editor.layoutContentWidget(this)};e.prototype.getPosition=function(){if(this.visible){return{position:this.editor.getPosition(),preference:[n.ContentWidgetPositionPreference.ABOVE,n.ContentWidgetPositionPreference.BELOW]}}return null};e.prototype.render=function(){var e=this.hints.signatures.length>1;d.toggleClass(this.element,"multiple",e);this.keyMultipleSignatures.set(e);this.signature.innerHTML="";this.docs.innerHTML="";var t=this.hints.signatures[this.currentSignature];if(!t){return}var i=d.append(this.signature,S(".code"));var n=t.parameters.length>0;var r=this.editor.getConfiguration().fontInfo;i.style.fontSize=r.fontSize+"px";i.style.fontFamily=r.fontFamily;if(!n){var o=d.append(i,S("span"));o.textContent=t.label}else{this.renderParameters(i,t,this.hints.activeParameter)}var s=t.parameters[this.hints.activeParameter];if(s&&s.documentation){var a=S("span.documentation");if(typeof s.documentation==="string"){d.removeClass(this.docs,"markdown-docs");a.textContent=s.documentation}else{d.addClass(this.docs,"markdown-docs");a.appendChild(this.markdownRenderer.render(s.documentation))}d.append(this.docs,S("p",null,a))}d.toggleClass(this.signature,"has-docs",!!t.documentation);if(typeof t.documentation==="string"){d.append(this.docs,S("p",null,t.documentation))}else{d.append(this.docs,this.markdownRenderer.render(t.documentation))}var u=String(this.currentSignature+1);if(this.hints.signatures.length<10){u+="/"+this.hints.signatures.length}this.overloads.textContent=u;if(s){var l=s.label;if(this.announcedLabel!==l){h.alert(c.localize(0,null,l));this.announcedLabel=l}}this.editor.layoutContentWidget(this);this.scrollbar.scanDomNode()};e.prototype.renderParameters=function(e,t,i){var n=t.label.length;var r=0;var o;for(var s=t.parameters.length-1;s>=0;s--){var a=t.parameters[s];r=t.label.lastIndexOf(a.label,n-1);var u=0;var l=0;if(r>=0){u=r;l=r+a.label.length}o=document.createElement("span");o.textContent=t.label.substring(l,n);d.prepend(e,o);o=document.createElement("span");o.className="parameter "+(s===i?"active":"");o.textContent=t.label.substring(u,l);d.prepend(e,o);n=u}o=document.createElement("span");o.textContent=t.label.substring(0,n);d.prepend(e,o)};e.prototype.next=function(){var e=this.hints.signatures.length;if(e<2){this.cancel();return false}this.currentSignature=(this.currentSignature+1)%e;this.render();return true};e.prototype.previous=function(){var e=this.hints.signatures.length;if(e<2){this.cancel();return false}this.currentSignature=(this.currentSignature-1+e)%e;this.render();return true};e.prototype.cancel=function(){this.model.cancel()};e.prototype.getDomNode=function(){return this.element};e.prototype.getId=function(){return e.ID};e.prototype.trigger=function(){this.model.trigger(0)};e.prototype.updateMaxHeight=function(){var e=Math.max(this.editor.getLayoutInfo().height/4,250);this.element.style.maxHeight=e+"px"};e.prototype.dispose=function(){this.disposables=l.dispose(this.disposables);this.model.dispose();this.model=null};e.ID="editor.widget.parameterHintsWidget";e=q([G(1,s.IContextKeyService),G(2,y.IOpenerService),G(3,C.IModeService)],e);return e}();t.ParameterHintsWidget=E;u.registerThemingParticipant(function(e,t){var i=e.getColor(_.editorHoverBorder);if(i){var n=e.type===u.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: "+n+"px solid "+i+"; }");t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+i.transparent(.5)+"; }");t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+i.transparent(.5)+"; }")}var r=e.getColor(_.editorHoverBackground);if(r){t.addRule(".monaco-editor .parameter-hints-widget { background-color: "+r+"; }")}var o=e.getColor(_.textLinkForeground);if(o){t.addRule(".monaco-editor .parameter-hints-widget a { color: "+o+"; }")}var s=e.getColor(_.textCodeBlockBackground);if(s){t.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+s+"; }")}})});define(r[535],e([0,1,365,2,14,21,19,11,534,185,44]),function(e,t,i,n,r,o,s,a,u,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d=function(){function t(e,t){this.editor=e;this.widget=t.createInstance(u.ParameterHintsWidget,this.editor)}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.cancel=function(){this.widget.cancel()};t.prototype.previous=function(){this.widget.previous()};t.prototype.next=function(){this.widget.next()};t.prototype.trigger=function(){this.widget.trigger()};t.prototype.dispose=function(){this.widget=n.dispose(this.widget)};t.ID="editor.controller.parameterHints";t=q([G(1,r.IInstantiationService)],t);return t}();var h=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.triggerParameterHints",label:i.localize(0,null),alias:"Trigger Parameter Hints",precondition:o.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:o.EditorContextKeys.textFocus,primary:2048|1024|10}})||this}t.prototype.run=function(e,t){var i=d.get(t);if(i){i.trigger()}};return t}(a.EditorAction);t.TriggerParameterHintsAction=h;a.registerEditorContribution(d);a.registerEditorAction(h);var f=c.KeybindingsRegistry.WEIGHT.editorContrib(75);var p=a.EditorCommand.bindToContribution(d.get);a.registerEditorCommand(new p({id:"closeParameterHints",precondition:l.Context.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.textFocus,primary:9,secondary:[1024|9]}}));a.registerEditorCommand(new p({id:"showPrevParameterHint",precondition:s.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.textFocus,primary:16,secondary:[512|16],mac:{primary:16,secondary:[512|16,256|46]}}}));a.registerEditorCommand(new p({id:"showNextParameterHint",precondition:s.ContextKeyExpr.and(l.Context.Visible,l.Context.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:f,kbExpr:o.EditorContextKeys.textFocus,primary:18,secondary:[512|18],mac:{primary:18,secondary:[512|18,256|44]}}}))});define(r[142],e([0,1,368,68,5,27,48,4,10,73,38,200,140,19,26,396]),function(e,t,o,s,i,r,a,u,l,c,n,d,h,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:true});var g;(function(e){e.inPeekEditor=new f.RawContextKey("inReferenceSearchEditor",true);e.notInPeekEditor=e.inPeekEditor.toNegated()})(g=t.PeekContext||(t.PeekContext={}));function v(e){var t=e.get(n.ICodeEditorService).getFocusedCodeEditor();if(t instanceof h.EmbeddedCodeEditorWidget){return t.getParentEditor()}return t}t.getOuterEditor=v;var m={headerBackgroundColor:p.Color.white,primaryHeadingColor:p.Color.fromHex("#333333"),secondaryHeadingColor:p.Color.fromHex("#6c6c6cb3")};var _=function(n){pe(e,n);function e(e,t){if(t===void 0){t={}}var i=n.call(this,e,t)||this;i._onDidClose=new u.Emitter;r.mixin(i.options,m,false);return i}e.prototype.dispose=function(){n.prototype.dispose.call(this);this._onDidClose.fire(this)};Object.defineProperty(e.prototype,"onDidClose",{get:function(){return this._onDidClose.event},enumerable:true,configurable:true});e.prototype.style=function(e){var t=this.options;if(e.headerBackgroundColor){t.headerBackgroundColor=e.headerBackgroundColor}if(e.primaryHeadingColor){t.primaryHeadingColor=e.primaryHeadingColor}if(e.secondaryHeadingColor){t.secondaryHeadingColor=e.secondaryHeadingColor}n.prototype.style.call(this,e)};e.prototype._applyStyles=function(){n.prototype._applyStyles.call(this);var e=this.options;if(this._headElement){this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()}if(this._primaryHeading){this._primaryHeading.style.color=e.primaryHeadingColor.toString()}if(this._secondaryHeading){this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()}if(this._bodyElement){this._bodyElement.style.borderColor=e.frameColor.toString()}};e.prototype._fillContainer=function(e){this.setCssClass("peekview-widget");this._headElement=a.$(".head").getHTMLElement();this._bodyElement=a.$(".body").getHTMLElement();this._fillHead(this._headElement);this._fillBody(this._bodyElement);e.appendChild(this._headElement);e.appendChild(this._bodyElement)};e.prototype._fillHead=function(e){var t=this;var i=a.$(".peekview-title").on(l.EventType.CLICK,function(e){return t._onTitleClick(e)}).appendTo(this._headElement).getHTMLElement();this._primaryHeading=a.$("span.filename").appendTo(i).getHTMLElement();this._secondaryHeading=a.$("span.dirname").appendTo(i).getHTMLElement();this._metaHeading=a.$("span.meta").appendTo(i).getHTMLElement();var n=a.$(".peekview-actions").appendTo(this._headElement);var r=this._getActionBarOptions();this._actionbarWidget=new c.ActionBar(n,r);this._disposables.push(this._actionbarWidget);this._actionbarWidget.push(new s.Action("peekview.close",o.localize(0,null),"close-peekview-action",true,function(){t.dispose();return null}),{label:false,icon:true})};e.prototype._getActionBarOptions=function(){return{}};e.prototype._onTitleClick=function(e){};e.prototype.setTitle=function(e,t){a.$(this._primaryHeading).safeInnerHtml(e);this._primaryHeading.setAttribute("aria-label",e);if(t){a.$(this._secondaryHeading).safeInnerHtml(t)}else{l.clearNode(this._secondaryHeading)}};e.prototype.setMetaTitle=function(e){if(e){a.$(this._metaHeading).safeInnerHtml(e)}else{l.clearNode(this._metaHeading)}};e.prototype._doLayout=function(e,t){if(!this._isShowing&&e<0){this.dispose();return}var i=Math.ceil(this.editor.getConfiguration().lineHeight*1.2),n=e-(i+2);this._doLayoutHead(i,t);this._doLayoutBody(n,t)};e.prototype._doLayoutHead=function(e,t){this._headElement.style.height=i.format("{0}px",e);this._headElement.style.lineHeight=this._headElement.style.height};e.prototype._doLayoutBody=function(e,t){this._bodyElement.style.height=i.format("{0}px",e)};return e}(d.ZoneWidget);t.PeekViewWidget=_});define(r[537],e([0,1,375,13,2,7,3,24,16,22,12,398]),function(e,t,i,a,u,l,c,n,r,o,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function e(e,t){var i=this;this.themeService=t;this._disposables=[];this.allowEditorOverflow=true;this._currentAcceptInput=null;this._currentCancelInput=null;this._editor=e;this._editor.addContentWidget(this);this._disposables.push(e.onDidChangeConfiguration(function(e){if(e.fontInfo){i.updateFont()}}));this._disposables.push(t.onThemeChange(function(e){return i.onThemeChange(e)}))}e.prototype.onThemeChange=function(e){this.updateStyles(e)};e.prototype.dispose=function(){this._disposables=u.dispose(this._disposables);this._editor.removeContentWidget(this)};e.prototype.getId=function(){return"__renameInputWidget"};e.prototype.getDomNode=function(){if(!this._domNode){this._inputField=document.createElement("input");this._inputField.className="rename-input";this._inputField.type="text";this._inputField.setAttribute("aria-label",i.localize(0,null));this._domNode=document.createElement("div");this._domNode.style.height=this._editor.getConfiguration().lineHeight+"px";this._domNode.className="monaco-editor rename-box";this._domNode.appendChild(this._inputField);this.updateFont();this.updateStyles(this.themeService.getTheme())}return this._domNode};e.prototype.updateStyles=function(e){if(!this._inputField){return}var t=e.getColor(o.inputBackground);var i=e.getColor(o.inputForeground);var n=e.getColor(o.widgetShadow);var r=e.getColor(o.inputBorder);this._inputField.style.backgroundColor=t?t.toString():null;this._inputField.style.color=i?i.toString():null;this._inputField.style.borderWidth=r?"1px":"0px";this._inputField.style.borderStyle=r?"solid":"none";this._inputField.style.borderColor=r?r.toString():"none";this._domNode.style.boxShadow=n?" 0 2px 8px "+n:null};e.prototype.updateFont=function(){if(!this._inputField){return}var e=this._editor.getConfiguration().fontInfo;this._inputField.style.fontFamily=e.fontFamily;this._inputField.style.fontWeight=e.fontWeight;this._inputField.style.fontSize=e.fontSize+"px"};e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[n.ContentWidgetPositionPreference.BELOW,n.ContentWidgetPositionPreference.ABOVE]}:null};e.prototype.acceptInput=function(){if(this._currentAcceptInput){this._currentAcceptInput()}};e.prototype.cancelInput=function(){if(this._currentCancelInput){this._currentCancelInput()}};e.prototype.getInput=function(n,r,e,t){var o=this;this._position=new d.Position(n.startLineNumber,n.startColumn);this._inputField.value=r;this._inputField.setAttribute("selectionStart",e.toString());this._inputField.setAttribute("selectionEnd",t.toString());this._inputField.size=Math.max((n.endColumn-n.startColumn)*1.1,20);var s=[],i;i=function(){u.dispose(s);o._hide()};return new l.TPromise(function(e,t){o._currentCancelInput=function(){o._currentAcceptInput=null;o._currentCancelInput=null;t(a.canceled());return true};o._currentAcceptInput=function(){if(o._inputField.value.trim().length===0||o._inputField.value===r){o.cancelInput();return}o._currentAcceptInput=null;o._currentCancelInput=null;e(o._inputField.value)};var i=function(){if(!c.Range.containsPosition(n,o._editor.getPosition())){o.cancelInput()}};s.push(o._editor.onDidChangeCursorSelection(i));s.push(o._editor.onDidBlurEditor(function(){return o.cancelInput()}));o._show()},this._currentCancelInput).then(function(e){i();return e},function(e){i();return l.TPromise.wrapError(e)})};e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0);this._visible=true;this._editor.layoutContentWidget(this);setTimeout(function(){e._inputField.focus();e._inputField.setSelectionRange(parseInt(e._inputField.getAttribute("selectionStart")),parseInt(e._inputField.getAttribute("selectionEnd")))},25)};e.prototype._hide=function(){this._visible=false;this._editor.layoutContentWidget(this)};e=q([G(1,r.IThemeService)],e);return e}();t.default=s});define(r[538],e([0,1,374,13,7,92,19,98,11,21,171,537,64,14,16,18,17,52,3,202,103,44,46]),function(e,t,c,d,h,i,n,r,o,s,f,a,u,l,p,g,v,m,_,y,C,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:true});function w(i,n,r){var e=v.RenameProviderRegistry.ordered(i);var o=[];var s=false;var t=e.map(function(t){return function(){if(!s){return g.asWinJsPromise(function(e){return t.provideRenameEdits(i,n,r,e)}).then(function(e){if(!e){}else if(!e.rejectReason){s=true;return e}else{o.push(e.rejectReason)}return undefined})}return undefined}});return g.sequence(t).then(function(e){var t=e[0];if(o.length>0){return{edits:undefined,rejectReason:o.join("\n")}}else if(!t){return{edits:undefined,rejectReason:c.localize(0,null)}}else{return t}})}t.rename=w;function E(t,i){var n=v.RenameProviderRegistry.ordered(t)[0];if(!n||typeof n.resolveInitialRenameValue!=="function"){return h.TPromise.as(null)}return g.asWinJsPromise(function(e){return n.resolveInitialRenameValue(t,i,e)}).then(function(e){return!e?undefined:e},function(e){d.onUnexpectedExternalError(e);return h.TPromise.wrapError(new Error("provider failed"))})}var L=new n.RawContextKey("renameInputVisible",false);var x=function(){function t(e,t,i,n,r,o,s){this.editor=e;this._notificationService=t;this._textModelResolverService=i;this._progressService=n;this._fileService=s;this._renameInputField=new a.default(e,o);this._renameInputVisible=L.bindTo(r)}t.get=function(e){return e.getContribution(t.ID)};t.prototype.dispose=function(){this._renameInputField.dispose()};t.prototype.getId=function(){return t.ID};t.prototype.run=function(){return T(this,void 0,h.TPromise,function(){var r=this;var t,i,n,o,s,a,u,l;return M(this,function(e){switch(e.label){case 0:t=this.editor.getSelection();i=t.startLineNumber,n=0,o=0;return[4,E(this.editor.getModel(),this.editor.getPosition())];case 1:u=e.sent();if(u){i=u.range.startLineNumber;if(u.text){a=u.text}else{a=this.editor.getModel().getValueInRange(u.range)}o=a.length;if(!t.isEmpty()&&t.startLineNumber===t.endLineNumber){n=Math.max(0,t.startColumn-u.range.startColumn);o=Math.min(u.range.endColumn,t.endColumn)-u.range.startColumn}s=new _.Range(i,u.range.startColumn,i,u.range.endColumn)}else{l=this.editor.getModel().getWordAtPosition(t.getStartPosition());if(!l){return[2,undefined]}a=l.word;o=a.length;if(!t.isEmpty()&&t.startLineNumber===t.endLineNumber){n=Math.max(0,t.startColumn-l.startColumn);o=Math.min(l.endColumn,t.endColumn)-l.startColumn}s=new _.Range(i,l.startColumn,i,l.endColumn)}this._renameInputVisible.set(true);return[2,this._renameInputField.getInput(s,a,n,o).then(function(t){r._renameInputVisible.reset();r.editor.focus();var i=new f.BulkEdit(r.editor,null,r._textModelResolverService,r._fileService);var n=new C.EditorState(r.editor,4|1|2|8);var e=w(r.editor.getModel(),r.editor.getPosition(),t).then(function(e){if(e.rejectReason){if(n.validate(r.editor)){y.MessageController.get(r.editor).showMessage(e.rejectReason,r.editor.getPosition())}else{r._notificationService.info(e.rejectReason)}return undefined}i.add(e.edits);return i.perform().then(function(e){if(e){r.editor.setSelection(e)}m.alert(c.localize(1,null,a,t,i.ariaMessage()))})},function(e){r._notificationService.error(c.localize(2,null));return h.TPromise.wrapError(e)});r._progressService.showWhile(e,250);return e},function(e){r._renameInputVisible.reset();r.editor.focus();if(!d.isPromiseCanceledError(e)){return h.TPromise.wrapError(e)}return undefined})]}})})};t.prototype.acceptRenameInput=function(){this._renameInputField.acceptInput()};t.prototype.cancelRenameInput=function(){this._renameInputField.cancelInput()};t.ID="editor.contrib.renameController";t=q([G(1,S.INotificationService),G(2,u.ITextModelService),G(3,r.IProgressService),G(4,n.IContextKeyService),G(5,p.IThemeService),G(6,l.optional(i.IFileService))],t);return t}();var N=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.rename",label:c.localize(3,null),alias:"Rename Symbol",precondition:n.ContextKeyExpr.and(s.EditorContextKeys.writable,s.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:s.EditorContextKeys.textFocus,primary:60},menuOpts:{group:"1_modification",order:1.1}})||this}t.prototype.run=function(e,t){var i=x.get(t);if(i){return i.run()}return undefined};return t}(o.EditorAction);t.RenameAction=N;o.registerEditorContribution(x);o.registerEditorAction(N);var I=o.EditorCommand.bindToContribution(x.get);o.registerEditorCommand(new I({id:"acceptRenameInput",precondition:L,handler:function(e){return e.acceptRenameInput()},kbOpts:{weight:b.KeybindingsRegistry.WEIGHT.editorContrib(99),kbExpr:s.EditorContextKeys.focus,primary:3}}));o.registerEditorCommand(new I({id:"cancelRenameInput",precondition:L,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:b.KeybindingsRegistry.WEIGHT.editorContrib(99),kbExpr:s.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}));o.registerDefaultLanguageCommand("_executeDocumentRenameProvider",function(e,t,i){var n=i.newName;if(typeof n!=="string"){throw d.illegalArgument("newName")}return w(e,t,n)})});define(r[539],e([0,1,378,110,5,4,7,13,2,10,126,104,55,49,19,24,107,52,82,109,16,22,76,121,60,63,400]),function(e,f,l,a,i,p,t,r,s,g,n,v,u,o,c,d,m,h,_,y,C,b,S,w,E,L){"use strict";Object.defineProperty(f,"__esModule",{value:true});var x=false;var N=false;var I=12;f.editorSuggestWidgetBackground=b.registerColor("editorSuggestWidget.background",{dark:b.editorWidgetBackground,light:b.editorWidgetBackground,hc:b.editorWidgetBackground},l.localize(0,null));f.editorSuggestWidgetBorder=b.registerColor("editorSuggestWidget.border",{dark:b.editorWidgetBorder,light:b.editorWidgetBorder,hc:b.editorWidgetBorder},l.localize(1,null));f.editorSuggestWidgetForeground=b.registerColor("editorSuggestWidget.foreground",{dark:b.editorForeground,light:b.editorForeground,hc:b.editorForeground},l.localize(2,null));f.editorSuggestWidgetSelectedBackground=b.registerColor("editorSuggestWidget.selectedBackground",{dark:b.listFocusBackground,light:b.listFocusBackground,hc:b.listFocusBackground},l.localize(3,null));f.editorSuggestWidgetHighlightForeground=b.registerColor("editorSuggestWidget.highlightForeground",{dark:b.listHighlightForeground,light:b.listHighlightForeground,hc:b.listHighlightForeground},l.localize(4,null));var D=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function T(e){return e&&e.match(D)?e:null}function M(e){if(!e){return false}var t=e.suggestion;if(t.documentation){return true}return t.detail&&t.detail!==t.label}var k=function(){function e(e,t,i){this.widget=e;this.editor=t;this.triggerKeybindingLabel=i}Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:true,configurable:true});e.prototype.renderTemplate=function(e){var s=this;var a=Object.create(null);a.disposables=[];a.root=e;a.icon=g.append(e,g.$(".icon"));a.colorspan=g.append(a.icon,g.$("span.colorspan"));var t=g.append(e,g.$(".contents"));var u=g.append(t,g.$(".main"));a.highlightedLabel=new n.HighlightedLabel(u);a.disposables.push(a.highlightedLabel);a.typeLabel=g.append(u,g.$("span.type-label"));a.readMore=g.append(u,g.$("span.readMore"));a.readMore.title=l.localize(5,null,this.triggerKeybindingLabel);var i=function(){var e=s.editor.getConfiguration();var t=e.fontInfo.fontFamily;var i=e.contribInfo.suggestFontSize||e.fontInfo.fontSize;var n=e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight;var r=i+"px";var o=n+"px";a.root.style.fontSize=r;u.style.fontFamily=t;u.style.lineHeight=o;a.icon.style.height=o;a.icon.style.width=o;a.readMore.style.height=o;a.readMore.style.width=o};i();p.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo||e.contribInfo}).on(i,null,a.disposables);return a};e.prototype.renderElement=function(e,t,i){var n=this;var r=i;var o=e.suggestion;if(M(e)){r.root.setAttribute("aria-label",l.localize(6,null,o.label))}else{r.root.setAttribute("aria-label",l.localize(7,null,o.label))}r.icon.className="icon "+o.type;r.colorspan.style.backgroundColor="";if(o.type==="color"){var s=T(o.label)||typeof o.documentation==="string"&&T(o.documentation);if(s){r.icon.className="icon customcolor";r.colorspan.style.backgroundColor=s}}r.highlightedLabel.set(o.label,a.createMatches(e.matches));r.typeLabel.textContent=(o.detail||"").replace(/\n.*$/m,"");if(M(e)){g.show(r.readMore);r.readMore.onmousedown=function(e){e.stopPropagation();e.preventDefault()};r.readMore.onclick=function(e){e.stopPropagation();e.preventDefault();n.widget.toggleDetails()}}else{g.hide(r.readMore);r.readMore.onmousedown=null;r.readMore.onclick=null}};e.prototype.disposeTemplate=function(e){e.highlightedLabel.dispose();e.disposables=s.dispose(e.disposables)};return e}();var O;(function(e){e[e["Hidden"]=0]="Hidden";e[e["Loading"]=1]="Loading";e[e["Empty"]=2]="Empty";e[e["Open"]=3]="Open";e[e["Frozen"]=4]="Frozen";e[e["Details"]=5]="Details"})(O||(O={}));var R=function(){function e(e,t,i,n,r){var o=this;this.widget=t;this.editor=i;this.markdownRenderer=n;this.triggerKeybindingLabel=r;this.borderWidth=1;this.disposables=[];this.el=g.append(e,g.$(".details"));this.disposables.push(s.toDisposable(function(){return e.removeChild(o.el)}));this.body=g.$(".body");this.scrollbar=new u.DomScrollableElement(this.body,{});g.append(this.el,this.scrollbar.getDomNode());this.disposables.push(this.scrollbar);this.header=g.append(this.body,g.$(".header"));this.close=g.append(this.header,g.$("span.close"));this.close.title=l.localize(8,null,this.triggerKeybindingLabel);this.type=g.append(this.header,g.$("p.type"));this.docs=g.append(this.body,g.$("p.docs"));this.ariaLabel=null;this.configureFont();p.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(function(e){return e.fontInfo}).on(this.configureFont,this,this.disposables)}Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:true,configurable:true});e.prototype.render=function(e){var t=this;if(!e||!M(e)){this.type.textContent="";this.docs.textContent="";g.addClass(this.el,"no-docs");this.ariaLabel=null;return}g.removeClass(this.el,"no-docs");if(typeof e.suggestion.documentation==="string"){g.removeClass(this.docs,"markdown-docs");this.docs.textContent=e.suggestion.documentation}else{g.addClass(this.docs,"markdown-docs");this.docs.innerHTML="";this.docs.appendChild(this.markdownRenderer.render(e.suggestion.documentation))}if(e.suggestion.detail){this.type.innerText=e.suggestion.detail;g.show(this.type)}else{this.type.innerText="";g.hide(this.type)}this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+this.borderWidth*2+"px";this.close.onmousedown=function(e){e.preventDefault();e.stopPropagation()};this.close.onclick=function(e){e.preventDefault();e.stopPropagation();t.widget.toggleDetails()};this.body.scrollTop=0;this.scrollbar.scanDomNode();this.ariaLabel=i.format("{0}\n{1}\n{2}",e.suggestion.label||"",e.suggestion.detail||"",e.suggestion.documentation||"")};e.prototype.getAriaLabel=function(){return this.ariaLabel};e.prototype.scrollDown=function(e){if(e===void 0){e=8}this.body.scrollTop+=e};e.prototype.scrollUp=function(e){if(e===void 0){e=8}this.body.scrollTop-=e};e.prototype.scrollTop=function(){this.body.scrollTop=0};e.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight};e.prototype.pageDown=function(){this.scrollDown(80)};e.prototype.pageUp=function(){this.scrollUp(80)};e.prototype.setBorderWidth=function(e){this.borderWidth=e};e.prototype.configureFont=function(){var e=this.editor.getConfiguration();var t=e.fontInfo.fontFamily;var i=e.contribInfo.suggestFontSize||e.fontInfo.fontSize;var n=e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight;var r=i+"px";var o=n+"px";this.el.style.fontSize=r;this.type.style.fontFamily=t;this.close.style.height=o;this.close.style.width=o};e.prototype.dispose=function(){this.disposables=s.dispose(this.disposables)};return e}();var P=function(){function i(e,t,i,n,r,o,s,a){var u=this;this.editor=e;this.telemetryService=t;this.allowEditorOverflow=true;this.ignoreFocusEvents=false;this.onDidSelectEmitter=new p.Emitter;this.onDidFocusEmitter=new p.Emitter;this.onDidHideEmitter=new p.Emitter;this.onDidShowEmitter=new p.Emitter;this.onDidSelect=this.onDidSelectEmitter.event;this.onDidFocus=this.onDidFocusEmitter.event;this.onDidHide=this.onDidHideEmitter.event;this.onDidShow=this.onDidShowEmitter.event;this.maxWidgetWidth=660;this.listWidth=330;this.storageServiceAvailable=true;this.expandSuggestionDocs=false;var l=o.lookupKeybinding("editor.action.triggerSuggest");var c=!l?"":" ("+l.getLabel()+")";var d=new w.MarkdownRenderer(e,s,a);this.isAuto=false;this.focusedItem=null;this.storageService=r;if(this.expandDocsSettingFromStorage()===undefined){this.storageService.store("expandSuggestionDocs",N,S.StorageScope.GLOBAL);if(this.expandDocsSettingFromStorage()===undefined){this.storageServiceAvailable=false}}this.element=g.$(".editor-widget.suggest-widget");if(!this.editor.getConfiguration().contribInfo.iconsInSuggestions){g.addClass(this.element,"no-icons")}this.messageElement=g.append(this.element,g.$(".message"));this.listElement=g.append(this.element,g.$(".tree"));this.details=new R(this.element,this,this.editor,d,c);var h=new k(this,this.editor,c);this.list=new v.List(this.listElement,this,[h],{useShadows:false,selectOnMouseDown:true,focusOnMouseDown:false});this.toDispose=[y.attachListStyler(this.list,n,{listInactiveFocusBackground:f.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:b.activeContrastBorder}),n.onThemeChange(function(e){return u.onThemeChange(e)}),e.onDidBlurEditorText(function(){return u.onEditorBlur()}),e.onDidLayoutChange(function(){return u.onEditorLayoutChange()}),this.list.onSelectionChange(function(e){return u.onListSelection(e)}),this.list.onFocusChange(function(e){return u.onListFocus(e)}),this.editor.onDidChangeCursorSelection(function(){return u.onCursorSelectionChanged()})];this.suggestWidgetVisible=m.Context.Visible.bindTo(i);this.suggestWidgetMultipleSuggestions=m.Context.MultipleSuggestions.bindTo(i);this.suggestionSupportsAutoAccept=m.Context.AcceptOnKey.bindTo(i);this.editor.addContentWidget(this);this.setState(0);this.onThemeChange(n.getTheme())}i.prototype.onCursorSelectionChanged=function(){if(this.state===0){return}this.editor.layoutContentWidget(this)};i.prototype.onEditorBlur=function(){var e=this;if(x){return}this.editorBlurTimeout=t.TPromise.timeout(150).then(function(){if(!e.editor.isFocused()){e.setState(0)}})};i.prototype.onEditorLayoutChange=function(){if((this.state===3||this.state===5)&&this.expandDocsSettingFromStorage()){this.expandSideOrBelow()}};i.prototype.onListSelection=function(e){var t=this;if(!e.elements.length){return}var i=e.elements[0];var n=e.indexes[0];i.resolve().then(function(){t.onDidSelectEmitter.fire({item:i,index:n,model:t.completionModel});h.alert(l.localize(11,null,i.suggestion.label));t.editor.focus()})};i.prototype._getSuggestionAriaAlertLabel=function(e){if(M(e)){return l.localize(12,null,e.suggestion.label)}else{return l.localize(13,null,e.suggestion.label)}};i.prototype._ariaAlert=function(e){if(this._lastAriaAlertLabel===e){return}this._lastAriaAlertLabel=e;if(this._lastAriaAlertLabel){h.alert(this._lastAriaAlertLabel)}};i.prototype.onThemeChange=function(e){var t=e.getColor(f.editorSuggestWidgetBackground);if(t){this.listElement.style.backgroundColor=t.toString();this.details.element.style.backgroundColor=t.toString();this.messageElement.style.backgroundColor=t.toString()}var i=e.getColor(f.editorSuggestWidgetBorder);if(i){this.listElement.style.borderColor=i.toString();this.details.element.style.borderColor=i.toString();this.messageElement.style.borderColor=i.toString();this.detailsBorderColor=i.toString()}var n=e.getColor(b.focusBorder);if(n){this.detailsFocusBorderColor=n.toString()}this.details.setBorderWidth(e.type==="hc"?2:1)};i.prototype.onListFocus=function(e){var t=this;if(this.ignoreFocusEvents){return}if(!e.elements.length){if(this.currentSuggestionDetails){this.currentSuggestionDetails.cancel();this.currentSuggestionDetails=null;this.focusedItem=null}this._ariaAlert(null);return}var i=e.elements[0];this._ariaAlert(this._getSuggestionAriaAlertLabel(i));if(i===this.focusedItem){return}if(this.currentSuggestionDetails){this.currentSuggestionDetails.cancel();this.currentSuggestionDetails=null}var n=e.indexes[0];this.suggestionSupportsAutoAccept.set(!i.suggestion.noAutoAccept);this.focusedItem=i;this.list.reveal(n);this.currentSuggestionDetails=i.resolve().then(function(){if(t.expandDocsSettingFromStorage()){t.showDetails()}else{g.removeClass(t.element,"docs-side")}}).then(null,function(e){return!r.isPromiseCanceledError(e)&&r.onUnexpectedError(e)}).then(function(){return t.currentSuggestionDetails=null});this.onDidFocusEmitter.fire({item:i,index:n,model:this.completionModel})};i.prototype.setState=function(e){if(!this.element){return}var t=this.state!==e;this.state=e;g.toggleClass(this.element,"frozen",e===4);switch(e){case 0:g.hide(this.messageElement,this.details.element,this.listElement);this.hide();if(t){this.list.splice(0,this.list.length)}break;case 1:this.messageElement.textContent=i.LOADING_MESSAGE;g.hide(this.listElement,this.details.element);g.show(this.messageElement);g.removeClass(this.element,"docs-side");this.show();break;case 2:this.messageElement.textContent=i.NO_SUGGESTIONS_MESSAGE;g.hide(this.listElement,this.details.element);g.show(this.messageElement);g.removeClass(this.element,"docs-side");this.show();break;case 3:g.hide(this.messageElement,this.details.element);g.show(this.listElement);this.show();break;case 4:g.hide(this.messageElement);g.show(this.listElement);this.show();break;case 5:g.hide(this.messageElement);g.show(this.details.element,this.listElement);this.show();this._ariaAlert(this.details.getAriaLabel());break}if(t&&this.state!==0){this.editor.layoutContentWidget(this)}};i.prototype.showTriggered=function(e){var t=this;if(this.state!==0){return}this.isAuto=!!e;if(!this.isAuto){this.loadingTimeout=setTimeout(function(){t.loadingTimeout=null;t.setState(1)},50)}};i.prototype.showSuggestions=function(e,t,i,n){if(this.loadingTimeout){clearTimeout(this.loadingTimeout);this.loadingTimeout=null}this.completionModel=e;if(i&&this.state!==2&&this.state!==0){this.setState(4);return}var r=this.completionModel.items.length;var o=r===0;this.suggestWidgetMultipleSuggestions.set(r>1);if(o){if(n){this.setState(0)}else{this.setState(2)}this.completionModel=null}else{var s=this.completionModel.stats;s["wasAutomaticallyTriggered"]=!!n;this.telemetryService.publicLog("suggestWidget",F({},s,this.editor.getTelemetryData()));this.focusedItem=null;this.list.splice(0,this.list.length,this.completionModel.items);if(i){this.setState(4)}else{this.setState(3)}this.list.reveal(t,t);this.list.setFocus([t]);if(this.detailsBorderColor){this.details.element.style.borderColor=this.detailsBorderColor}}};i.prototype.selectNextPage=function(){switch(this.state){case 0:return false;case 5:this.details.pageDown();return true;case 1:return!this.isAuto;default:this.list.focusNextPage();return true}};i.prototype.selectNext=function(){switch(this.state){case 0:return false;case 1:return!this.isAuto;default:this.list.focusNext(1,true);return true}};i.prototype.selectLast=function(){switch(this.state){case 0:return false;case 5:this.details.scrollBottom();return true;case 1:return!this.isAuto;default:this.list.focusLast();return true}};i.prototype.selectPreviousPage=function(){switch(this.state){case 0:return false;case 5:this.details.pageUp();return true;case 1:return!this.isAuto;default:this.list.focusPreviousPage();return true}};i.prototype.selectPrevious=function(){switch(this.state){case 0:return false;case 1:return!this.isAuto;default:this.list.focusPrevious(1,true);return false}};i.prototype.selectFirst=function(){switch(this.state){case 0:return false;case 5:this.details.scrollTop();return true;case 1:return!this.isAuto;default:this.list.focusFirst();return true}};i.prototype.getFocusedItem=function(){if(this.state!==0&&this.state!==2&&this.state!==1){return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}}return undefined};i.prototype.toggleDetailsFocus=function(){if(this.state===5){this.setState(3);if(this.detailsBorderColor){this.details.element.style.borderColor=this.detailsBorderColor}}else if(this.state===3&&this.expandDocsSettingFromStorage()){this.setState(5);if(this.detailsFocusBorderColor){this.details.element.style.borderColor=this.detailsFocusBorderColor}}this.telemetryService.publicLog("suggestWidget:toggleDetailsFocus",this.editor.getTelemetryData())};i.prototype.toggleDetails=function(){if(!M(this.list.getFocusedElements()[0])){return}if(this.expandDocsSettingFromStorage()){this.updateExpandDocsSetting(false);g.hide(this.details.element);g.removeClass(this.element,"docs-side");g.removeClass(this.element,"docs-below");this.editor.layoutContentWidget(this);this.telemetryService.publicLog("suggestWidget:collapseDetails",this.editor.getTelemetryData())}else{if(this.state!==3&&this.state!==5){return}this.updateExpandDocsSetting(true);this.showDetails();this.telemetryService.publicLog("suggestWidget:expandDetails",this.editor.getTelemetryData())}};i.prototype.showDetails=function(){this.expandSideOrBelow();g.show(this.details.element);this.details.render(this.list.getFocusedElements()[0]);this.details.element.style.maxHeight=this.maxWidgetHeight+"px";this.listElement.style.marginTop="0px";this.editor.layoutContentWidget(this);this.adjustDocsPosition();this.editor.focus();this._ariaAlert(this.details.getAriaLabel())};i.prototype.show=function(){var e=this;this.updateListHeight();this.suggestWidgetVisible.set(true);this.showTimeout=t.TPromise.timeout(100).then(function(){g.addClass(e.element,"visible");e.onDidShowEmitter.fire(e)})};i.prototype.hide=function(){this.suggestWidgetVisible.reset();this.suggestWidgetMultipleSuggestions.reset();g.removeClass(this.element,"visible")};i.prototype.hideWidget=function(){clearTimeout(this.loadingTimeout);this.setState(0);this.onDidHideEmitter.fire(this)};i.prototype.getPosition=function(){if(this.state===0){return null}return{position:this.editor.getPosition(),preference:[d.ContentWidgetPositionPreference.BELOW,d.ContentWidgetPositionPreference.ABOVE]}};i.prototype.getDomNode=function(){return this.element};i.prototype.getId=function(){return i.ID};i.prototype.updateListHeight=function(){var e=0;if(this.state===2||this.state===1){e=this.unfocusedHeight}else{var t=this.list.contentHeight/this.unfocusedHeight;e=Math.min(t,I)*this.unfocusedHeight}this.element.style.lineHeight=this.unfocusedHeight+"px";this.listElement.style.height=e+"px";this.list.layout(e)};i.prototype.adjustDocsPosition=function(){var e=this.editor.getConfiguration().fontInfo.lineHeight;var t=this.editor.getScrolledVisiblePosition(this.editor.getPosition());var i=g.getDomNodePagePosition(this.editor.getDomNode());var n=i.left+t.left;var r=i.top+t.top+t.height;var o=g.getDomNodePagePosition(this.element);var s=o.left;var a=o.top;if(s<n-this.listWidth){g.addClass(this.element,"list-right")}else{g.removeClass(this.element,"list-right")}if(g.hasClass(this.element,"docs-side")&&r-e>a&&this.details.element.offsetHeight>this.listElement.offsetHeight){this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px"}};i.prototype.expandSideOrBelow=function(){var e=this.element.style.maxWidth.match(/(\d+)px/);if(!e||Number(e[1])<this.maxWidgetWidth){g.addClass(this.element,"docs-below");g.removeClass(this.element,"docs-side")}else{g.addClass(this.element,"docs-side");g.removeClass(this.element,"docs-below")}};Object.defineProperty(i.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*I},enumerable:true,configurable:true});Object.defineProperty(i.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getConfiguration();return e.contribInfo.suggestLineHeight||e.fontInfo.lineHeight},enumerable:true,configurable:true});i.prototype.getHeight=function(e){return this.unfocusedHeight};i.prototype.getTemplateId=function(e){return"suggestion"};i.prototype.expandDocsSettingFromStorage=function(){if(this.storageServiceAvailable){return this.storageService.getBoolean("expandSuggestionDocs",S.StorageScope.GLOBAL)}else{return this.expandSuggestionDocs}};i.prototype.updateExpandDocsSetting=function(e){if(this.storageServiceAvailable){this.storageService.store("expandSuggestionDocs",e,S.StorageScope.GLOBAL)}else{this.expandSuggestionDocs=e}};i.prototype.dispose=function(){this.state=null;this.suggestionSupportsAutoAccept=null;this.currentSuggestionDetails=null;this.focusedItem=null;this.element=null;this.messageElement=null;this.listElement=null;this.details.dispose();this.details=null;this.list.dispose();this.list=null;this.toDispose=s.dispose(this.toDispose);if(this.loadingTimeout){clearTimeout(this.loadingTimeout);this.loadingTimeout=null}if(this.editorBlurTimeout){this.editorBlurTimeout.cancel();this.editorBlurTimeout=null}if(this.showTimeout){this.showTimeout.cancel();this.showTimeout=null}};i.ID="editor.widget.suggestWidget";i.LOADING_MESSAGE=l.localize(9,null);i.NO_SUGGESTIONS_MESSAGE=l.localize(10,null);i=q([G(1,_.ITelemetryService),G(2,c.IContextKeyService),G(3,C.IThemeService),G(4,S.IStorageService),G(5,o.IKeybindingService),G(6,E.IModeService),G(7,L.IOpenerService)],i);return i}();f.SuggestWidget=P;C.registerThemingParticipant(function(e,t){var i=e.getColor(f.editorSuggestWidgetHighlightForeground);if(i){t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+i+"; }")}var n=e.getColor(f.editorSuggestWidgetForeground);if(n){t.addRule(".monaco-editor .suggest-widget { color: "+n+"; }")}var r=e.getColor(b.textLinkForeground);if(r){t.addRule(".monaco-editor .suggest-widget a { color: "+r+"; }")}var o=e.getColor(b.textCodeBlockBackground);if(o){t.addRule(".monaco-editor .suggest-widget code { background-color: "+o+"; }")}})});define(r[540],e([0,1,377,13,23,2,14,19,34,21,11,52,51,3,133,187,107,479,539,44,451]),function(e,t,n,u,r,i,o,s,a,l,c,d,h,f,p,g,v,m,_,y,C){"use strict";Object.defineProperty(t,"__esModule",{value:true});var b=function(){function e(i,e,n){var r=this;this._disposables=[];this._activeAcceptCharacters=new Set;this._disposables.push(e.onDidShow(function(){return r._onItem(e.getFocusedItem())}));this._disposables.push(e.onDidFocus(this._onItem,this));this._disposables.push(e.onDidHide(this.reset,this));this._disposables.push(i.onWillType(function(e){if(r._activeItem){var t=e[e.length-1];if(r._activeAcceptCharacters.has(t)&&i.getConfiguration().contribInfo.acceptSuggestionOnCommitCharacter){n(r._activeItem)}}}))}e.prototype._onItem=function(e){if(!e||r.isFalsyOrEmpty(e.item.suggestion.commitCharacters)){this.reset();return}this._activeItem=e;this._activeAcceptCharacters.clear();for(var t=0,i=e.item.suggestion.commitCharacters;t<i.length;t++){var n=i[t];if(n.length>0){this._activeAcceptCharacters.add(n[0])}}};e.prototype.reset=function(){this._activeItem=undefined};e.prototype.dispose=function(){i.dispose(this._disposables)};return e}();var S=function(){function t(e,t,i,n){var r=this;this._editor=e;this._commandService=t;this._contextKeyService=i;this._instantiationService=n;this._toDispose=[];this._model=new m.SuggestModel(this._editor);this._memory=n.createInstance(C.SuggestMemories,this._editor.getConfiguration().contribInfo.suggestSelection);this._toDispose.push(this._model.onDidTrigger(function(e){if(!r._widget){r._createSuggestWidget()}r._widget.showTriggered(e.auto)}));this._toDispose.push(this._model.onDidSuggest(function(e){var t=r._memory.select(r._editor.getModel(),r._editor.getPosition(),e.completionModel.items);r._widget.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}));this._toDispose.push(this._model.onDidCancel(function(e){if(r._widget&&!e.retrigger){r._widget.hideWidget()}}));var o=v.Context.AcceptSuggestionsOnEnter.bindTo(i);var s=function(){var e=r._editor.getConfiguration().contribInfo,t=e.acceptSuggestionOnEnter,i=e.suggestSelection;o.set(t==="on"||t==="smart");r._memory.setMode(i)};this._toDispose.push(this._editor.onDidChangeConfiguration(function(e){return s()}));s()}t.get=function(e){return e.getContribution(t.ID)};t.prototype._createSuggestWidget=function(){var a=this;this._widget=this._instantiationService.createInstance(_.SuggestWidget,this._editor);this._toDispose.push(this._widget.onDidSelect(this._onDidSelectItem,this));var t=new b(this._editor,this._widget,function(e){return a._onDidSelectItem(e)});this._toDispose.push(t,this._model.onDidSuggest(function(e){if(e.completionModel.items.length===0){t.reset()}}));var u=v.Context.MakesTextEdit.bindTo(this._contextKeyService);this._toDispose.push(this._widget.onDidFocus(function(e){var t=e.item;var i=a._editor.getPosition();var n=t.position.column-t.suggestion.overwriteBefore;var r=i.column;var o=true;if(a._editor.getConfiguration().contribInfo.acceptSuggestionOnEnter==="smart"&&a._model.state===2&&!t.suggestion.command&&!t.suggestion.additionalTextEdits&&t.suggestion.snippetType!=="textmate"&&r-n===t.suggestion.insertText.length){var s=a._editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:n,endLineNumber:i.lineNumber,endColumn:r});o=s!==t.suggestion.insertText}u.set(o)}));this._toDispose.push({dispose:function(){u.reset()}})};t.prototype.getId=function(){return t.ID};t.prototype.dispose=function(){this._toDispose=i.dispose(this._toDispose);if(this._widget){this._widget.dispose();this._widget=null}if(this._model){this._model.dispose();this._model=null}};t.prototype._onDidSelectItem=function(e){if(!e||!e.item){this._model.cancel();return}var t=e.item,i=t.suggestion,n=t.position;var r=this._editor.getPosition().column;var o=r-n.column;if(Array.isArray(i.additionalTextEdits)){this._editor.pushUndoStop();this._editor.executeEdits("suggestController.additionalTextEdits",i.additionalTextEdits.map(function(e){return h.EditOperation.replace(f.Range.lift(e.range),e.text)}));this._editor.pushUndoStop()}this._memory.memorize(this._editor.getModel(),this._editor.getPosition(),e.item);var s=i.insertText;if(i.snippetType!=="textmate"){s=p.SnippetParser.escape(s)}g.SnippetController2.get(this._editor).insert(s,i.overwriteBefore+o,i.overwriteAfter);if(!i.command){this._model.cancel()}else if(i.command.id===w.id){this._model.trigger({auto:this._model.state===2},true)}else{(a=this._commandService).executeCommand.apply(a,[i.command.id].concat(i.command.arguments)).done(undefined,u.onUnexpectedError);this._model.cancel()}this._alertCompletionItem(e.item);var a};t.prototype._alertCompletionItem=function(e){var t=e.suggestion;var i=n.localize(0,null,t.label,t.insertText);d.alert(i)};t.prototype.triggerSuggest=function(e){this._model.trigger({auto:false},false,e);this._editor.revealLine(this._editor.getPosition().lineNumber,0);this._editor.focus()};t.prototype.acceptSelectedSuggestion=function(){if(this._widget){var e=this._widget.getFocusedItem();this._onDidSelectItem(e)}};t.prototype.cancelSuggestWidget=function(){if(this._widget){this._model.cancel();this._widget.hideWidget()}};t.prototype.selectNextSuggestion=function(){if(this._widget){this._widget.selectNext()}};t.prototype.selectNextPageSuggestion=function(){if(this._widget){this._widget.selectNextPage()}};t.prototype.selectLastSuggestion=function(){if(this._widget){this._widget.selectLast()}};t.prototype.selectPrevSuggestion=function(){if(this._widget){this._widget.selectPrevious()}};t.prototype.selectPrevPageSuggestion=function(){if(this._widget){this._widget.selectPreviousPage()}};t.prototype.selectFirstSuggestion=function(){if(this._widget){this._widget.selectFirst()}};t.prototype.toggleSuggestionDetails=function(){if(this._widget){this._widget.toggleDetails()}};t.prototype.toggleSuggestionFocus=function(){if(this._widget){this._widget.toggleDetailsFocus()}};t.ID="editor.contrib.suggestController";t=q([G(1,a.ICommandService),G(2,s.IContextKeyService),G(3,o.IInstantiationService)],t);return t}();t.SuggestController=S;var w=function(e){pe(t,e);function t(){return e.call(this,{id:t.id,label:n.localize(1,null),alias:"Trigger Suggest",precondition:s.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:l.EditorContextKeys.textFocus,primary:2048|10,mac:{primary:256|10}}})||this}t.prototype.run=function(e,t){var i=S.get(t);if(!i){return}i.triggerSuggest()};t.id="editor.action.triggerSuggest";return t}(c.EditorAction);t.TriggerSuggestAction=w;c.registerEditorContribution(S);c.registerEditorAction(w);var E=y.KeybindingsRegistry.WEIGHT.editorContrib(90);var L=c.EditorCommand.bindToContribution(S.get);c.registerEditorCommand(new L({id:"acceptSelectedSuggestion",precondition:v.Context.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:2}}));c.registerEditorCommand(new L({id:"acceptSelectedSuggestionOnEnter",precondition:v.Context.Visible,handler:function(e){return e.acceptSelectedSuggestion()},kbOpts:{weight:E,kbExpr:s.ContextKeyExpr.and(l.EditorContextKeys.textFocus,v.Context.AcceptSuggestionsOnEnter,v.Context.MakesTextEdit),primary:3}}));c.registerEditorCommand(new L({id:"hideSuggestWidget",precondition:v.Context.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:9,secondary:[1024|9]}}));c.registerEditorCommand(new L({id:"selectNextSuggestion",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:18,secondary:[2048|18],mac:{primary:18,secondary:[2048|18,256|44]}}}));c.registerEditorCommand(new L({id:"selectNextPageSuggestion",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:12,secondary:[2048|12]}}));c.registerEditorCommand(new L({id:"selectLastSuggestion",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}}));c.registerEditorCommand(new L({id:"selectPrevSuggestion",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:16,secondary:[2048|16],mac:{primary:16,secondary:[2048|16,256|46]}}}));c.registerEditorCommand(new L({id:"selectPrevPageSuggestion",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:11,secondary:[2048|11]}}));c.registerEditorCommand(new L({id:"selectFirstSuggestion",precondition:s.ContextKeyExpr.and(v.Context.Visible,v.Context.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}}));c.registerEditorCommand(new L({id:"toggleSuggestionDetails",precondition:v.Context.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:2048|10,mac:{primary:256|10}}}));c.registerEditorCommand(new L({id:"toggleSuggestionFocus",precondition:v.Context.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:E,kbExpr:l.EditorContextKeys.textFocus,primary:2048|512|10,mac:{primary:256|512|10}}}))});define(r[541],e([0,1,380,18,13,3,11,17,2,22,16,58,32,19,21,23,25]),function(e,u,i,o,s,h,t,f,n,l,a,c,d,r,p,g,v){"use strict";Object.defineProperty(u,"__esModule",{value:true});u.editorWordHighlight=l.registerColor("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},i.localize(0,null),true);u.editorWordHighlightStrong=l.registerColor("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},i.localize(1,null),true);u.editorWordHighlightBorder=l.registerColor("editor.wordHighlightBorder",{light:null,dark:null,hc:l.activeContrastBorder},i.localize(2,null));u.editorWordHighlightStrongBorder=l.registerColor("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:l.activeContrastBorder},i.localize(3,null));u.overviewRulerWordHighlightForeground=l.registerColor("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},i.localize(4,null));u.overviewRulerWordHighlightStrongForeground=l.registerColor("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0",light:"#C0A0C0",hc:"#C0A0C0"},i.localize(5,null));u.ctxHasWordHighlights=new r.RawContextKey("hasWordHighlights",false);function m(i,n){var e=f.DocumentHighlightProviderRegistry.ordered(i);var r=false;return o.sequence(e.map(function(t){return function(){if(!r){return o.asWinJsPromise(function(e){return t.provideDocumentHighlights(i,n,e)}).then(function(e){if(Array.isArray(e)&&e.length>0){r=true;return e}return undefined},function(e){s.onUnexpectedExternalError(e);return undefined})}return undefined}})).then(function(e){return e[0]})}u.getOccurrencesAtPosition=m;t.registerDefaultLanguageCommand("_executeDocumentHighlights",m);var _=function(){function r(e,t){var i=this;this.workerRequestTokenId=0;this.workerRequest=null;this.workerRequestCompleted=false;this.workerRequestValue=[];this.lastCursorPositionChangeTime=0;this.renderDecorationsTimer=-1;this.editor=e;this._hasWordHighlights=u.ctxHasWordHighlights.bindTo(t);this._ignorePositionChangeEvent=false;this.occurrencesHighlight=this.editor.getConfiguration().contribInfo.occurrencesHighlight;this.model=this.editor.getModel();this.toUnhook=[];this.toUnhook.push(e.onDidChangeCursorPosition(function(e){if(i._ignorePositionChangeEvent){return}if(!i.occurrencesHighlight){return}i._onPositionChanged(e)}));this.toUnhook.push(e.onDidChangeModel(function(e){i._stopAll();i.model=i.editor.getModel()}));this.toUnhook.push(e.onDidChangeModelContent(function(e){i._stopAll()}));this.toUnhook.push(e.onDidChangeConfiguration(function(e){var t=i.editor.getConfiguration().contribInfo.occurrencesHighlight;if(i.occurrencesHighlight!==t){i.occurrencesHighlight=t;i._stopAll()}}));this._lastWordRange=null;this._decorationIds=[];this.workerRequestTokenId=0;this.workerRequest=null;this.workerRequestCompleted=false;this.lastCursorPositionChangeTime=0;this.renderDecorationsTimer=-1}r.prototype.hasDecorations=function(){return this._decorationIds.length>0};r.prototype.restore=function(){if(!this.occurrencesHighlight){return}this._run()};r.prototype._getSortedHighlights=function(){var t=this;return this._decorationIds.map(function(e){return t.model.getDecorationRange(e)}).sort(h.Range.compareRangesUsingStarts)};r.prototype.moveNext=function(){var t=this;var e=this._getSortedHighlights();var i=g.firstIndex(e,function(e){return e.containsPosition(t.editor.getPosition())});var n=(i+1)%e.length;var r=e[n];try{this._ignorePositionChangeEvent=true;this.editor.setPosition(r.getStartPosition());this.editor.revealRangeInCenterIfOutsideViewport(r)}finally{this._ignorePositionChangeEvent=false}};r.prototype.moveBack=function(){var t=this;var e=this._getSortedHighlights();var i=g.firstIndex(e,function(e){return e.containsPosition(t.editor.getPosition())});var n=(i-1+e.length)%e.length;var r=e[n];try{this._ignorePositionChangeEvent=true;this.editor.setPosition(r.getStartPosition());this.editor.revealRangeInCenterIfOutsideViewport(r)}finally{this._ignorePositionChangeEvent=false}};r.prototype._removeDecorations=function(){if(this._decorationIds.length>0){this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]);this._hasWordHighlights.set(false)}};r.prototype._stopAll=function(){this._lastWordRange=null;this._removeDecorations();if(this.renderDecorationsTimer!==-1){clearTimeout(this.renderDecorationsTimer);this.renderDecorationsTimer=-1}if(this.workerRequest!==null){this.workerRequest.cancel();this.workerRequest=null}if(!this.workerRequestCompleted){this.workerRequestTokenId++;this.workerRequestCompleted=true}};r.prototype._onPositionChanged=function(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==c.CursorChangeReason.Explicit){this._stopAll();return}this._run()};r.prototype._run=function(){var t=this;if(!f.DocumentHighlightProviderRegistry.has(this.model)){this._stopAll();return}var e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}var i=e.startLineNumber;var n=e.startColumn;var r=e.endColumn;var o=this.model.getWordAtPosition({lineNumber:i,column:n});if(!o||o.startColumn>n||o.endColumn<r){this._stopAll();return}var s=new h.Range(i,o.startColumn,i,o.endColumn);var a=this._lastWordRange&&this._lastWordRange.equalsRange(s);for(var u=0,l=this._decorationIds.length;!a&&u<l;u++){var c=this.model.getDecorationRange(this._decorationIds[u]);if(c&&c.startLineNumber===i){if(c.startColumn<=n&&c.endColumn>=r){a=true}}}this.lastCursorPositionChangeTime=(new Date).getTime();if(a){if(this.workerRequestCompleted&&this.renderDecorationsTimer!==-1){clearTimeout(this.renderDecorationsTimer);this.renderDecorationsTimer=-1;this._beginRenderDecorations()}}else{this._stopAll();var d=++this.workerRequestTokenId;this.workerRequestCompleted=false;this.workerRequest=m(this.model,this.editor.getPosition());this.workerRequest.then(function(e){if(d===t.workerRequestTokenId){t.workerRequestCompleted=true;t.workerRequestValue=e||[];t._beginRenderDecorations()}}).done()}this._lastWordRange=s};r.prototype._beginRenderDecorations=function(){var e=this;var t=(new Date).getTime();var i=this.lastCursorPositionChangeTime+250;if(t>=i){this.renderDecorationsTimer=-1;this.renderDecorations()}else{this.renderDecorationsTimer=setTimeout(function(){e.renderDecorations()},i-t)}};r.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;var e=[];for(var t=0,i=this.workerRequestValue.length;t<i;t++){var n=this.workerRequestValue[t];e.push({range:n.range,options:r._getDecorationOptions(n.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e);this._hasWordHighlights.set(this.hasDecorations())};r._getDecorationOptions=function(e){if(e===f.DocumentHighlightKind.Write){return this._WRITE_OPTIONS}else if(e===f.DocumentHighlightKind.Text){return this._TEXT_OPTIONS}else{return this._REGULAR_OPTIONS}};r.prototype.dispose=function(){this._stopAll();this.toUnhook=n.dispose(this.toUnhook)};r._WRITE_OPTIONS=d.ModelDecorationOptions.register({stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlightStrong",overviewRuler:{color:a.themeColorFromId(u.overviewRulerWordHighlightStrongForeground),darkColor:a.themeColorFromId(u.overviewRulerWordHighlightStrongForeground),position:v.OverviewRulerLane.Center}});r._TEXT_OPTIONS=d.ModelDecorationOptions.register({stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"selectionHighlight",overviewRuler:{color:a.themeColorFromId(l.overviewRulerSelectionHighlightForeground),darkColor:a.themeColorFromId(l.overviewRulerSelectionHighlightForeground),position:v.OverviewRulerLane.Center}});r._REGULAR_OPTIONS=d.ModelDecorationOptions.register({stickiness:v.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"wordHighlight",overviewRuler:{color:a.themeColorFromId(u.overviewRulerWordHighlightForeground),darkColor:a.themeColorFromId(u.overviewRulerWordHighlightForeground),position:v.OverviewRulerLane.Center}});return r}();var y=function(){function t(e,t){this.wordHighligher=new _(e,t)}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.saveViewState=function(){if(this.wordHighligher.hasDecorations()){return true}return false};t.prototype.moveNext=function(){this.wordHighligher.moveNext()};t.prototype.moveBack=function(){this.wordHighligher.moveBack()};t.prototype.restoreViewState=function(e){if(e){this.wordHighligher.restore()}};t.prototype.dispose=function(){this.wordHighligher.dispose()};t.ID="editor.contrib.wordHighlighter";t=q([G(1,r.IContextKeyService)],t);return t}();var C=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i._isNext=e;return i}e.prototype.run=function(e,t){var i=y.get(t);if(!i){return}if(this._isNext){i.moveNext()}else{i.moveBack()}};return e}(t.EditorAction);var b=function(e){pe(t,e);function t(){return e.call(this,true,{id:"editor.action.wordHighlight.next",label:i.localize(6,null),alias:"Go to Next Symbol Highlight",precondition:u.ctxHasWordHighlights,kbOpts:{kbExpr:p.EditorContextKeys.textFocus,primary:65}})||this}return t}(C);var S=function(e){pe(t,e);function t(){return e.call(this,false,{id:"editor.action.wordHighlight.prev",label:i.localize(7,null),alias:"Go to Previous Symbol Highlight",precondition:u.ctxHasWordHighlights,kbOpts:{kbExpr:p.EditorContextKeys.textFocus,primary:1024|65}})||this}return t}(C);t.registerEditorContribution(y);t.registerEditorAction(b);t.registerEditorAction(S);a.registerThemingParticipant(function(e,t){var i=e.getColor(l.editorSelectionHighlight);if(i){t.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+i+"; }");t.addRule(".monaco-editor .selectionHighlight { background-color: "+i.transparent(.5)+"; }")}var n=e.getColor(u.editorWordHighlight);if(n){t.addRule(".monaco-editor .wordHighlight { background-color: "+n+"; }")}var r=e.getColor(u.editorWordHighlightStrong);if(r){t.addRule(".monaco-editor .wordHighlightStrong { background-color: "+r+"; }")}var o=e.getColor(l.editorSelectionHighlightBorder);if(o){t.addRule(".monaco-editor .selectionHighlight { border: 1px dotted "+o+"; box-sizing: border-box; }")}var s=e.getColor(u.editorWordHighlightBorder);if(s){t.addRule(".monaco-editor .wordHighlight { border: 1px dashed "+s+"; box-sizing: border-box; }")}var a=e.getColor(u.editorWordHighlightStrongBorder);if(a){t.addRule(".monaco-editor .wordHighlightStrong { border: 1px dashed "+a+"; box-sizing: border-box; }")}})});define(r[542],e([0,1,381,2,5,10,136,28,47,14,49,19,21,11,188,16,22,15,52,63,30,31,44,402]),function(e,t,d,i,r,a,h,u,n,o,l,c,s,f,p,g,v,m,_,y,C,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:true});var w=new c.RawContextKey("accessibilityHelpWidgetVisible",false);var E=function(n){pe(t,n);function t(e,t){var i=n.call(this)||this;i._editor=e;i._widget=i._register(t.createInstance(M,i._editor));return i}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.show=function(){this._widget.show()};t.prototype.hide=function(){this._widget.hide()};t.ID="editor.contrib.accessibilityHelpController";t=q([G(1,o.IInstantiationService)],t);return t}(i.Disposable);var L=d.localize(0,null);var x=d.localize(1,null);var N=d.localize(2,null);var I=d.localize(3,null);var D=d.localize(4,null);function T(e,t){if(!e||e.length===0){return L}if(e.length===1){if(t){return r.format(x,e[0].positionLineNumber,e[0].positionColumn,t)}return r.format(N,e[0].positionLineNumber,e[0].positionColumn)}if(t){return r.format(I,e.length,t)}if(e.length>0){return r.format(D,e.length)}return null}var M=function(o){pe(s,o);function s(e,t,i,n){var r=o.call(this)||this;r._contextKeyService=t;r._keybindingService=i;r._openerService=n;r._editor=e;r._isVisibleKey=w.bindTo(r._contextKeyService);r._domNode=u.createFastDomNode(document.createElement("div"));r._domNode.setClassName("accessibilityHelpWidget");r._domNode.setDisplay("none");r._domNode.setAttribute("role","dialog");r._domNode.setAttribute("aria-hidden","true");r._contentDomNode=u.createFastDomNode(document.createElement("div"));r._contentDomNode.setAttribute("role","document");r._domNode.appendChild(r._contentDomNode);r._isVisible=false;r._register(r._editor.onDidLayoutChange(function(){if(r._isVisible){r._layout()}}));r._register(a.addStandardDisposableListener(r._contentDomNode.domNode,"keydown",function(e){if(!r._isVisible){return}if(e.equals(2048|35)){_.alert(d.localize(5,null));r._editor.updateOptions({accessibilitySupport:"on"});a.clearNode(r._contentDomNode.domNode);r._buildContent();r._contentDomNode.domNode.focus();e.preventDefault();e.stopPropagation()}if(e.equals(2048|38)){_.alert(d.localize(6,null));var t=r._editor.getRawConfiguration().accessibilityHelpUrl;if(typeof t==="undefined"){t="https://go.microsoft.com/fwlink/?linkid=852450"}r._openerService.open(C.default.parse(t));e.preventDefault();e.stopPropagation()}}));r.onblur(r._contentDomNode.domNode,function(){r.hide()});r._editor.addOverlayWidget(r);return r}s.prototype.dispose=function(){this._editor.removeOverlayWidget(this);o.prototype.dispose.call(this)};s.prototype.getId=function(){return s.ID};s.prototype.getDomNode=function(){return this._domNode.domNode};s.prototype.getPosition=function(){return{preference:null}};s.prototype.show=function(){if(this._isVisible){return}this._isVisible=true;this._isVisibleKey.set(true);this._layout();this._domNode.setDisplay("block");this._domNode.setAttribute("aria-hidden","false");this._contentDomNode.domNode.tabIndex=0;this._buildContent();this._contentDomNode.domNode.focus()};s.prototype._descriptionForCommand=function(e,t,i){var n=this._keybindingService.lookupKeybinding(e);if(n){return r.format(t,n.getAriaLabel())}return r.format(i,e)};s.prototype._buildContent=function(){var e=this._editor.getConfiguration();var t=this._editor.getSelections();var i=0;if(t){var n=this._editor.getModel();if(n){t.forEach(function(e){i+=n.getValueLengthInRange(e)})}}var r=T(t,i);if(e.wrappingInfo.inDiffEditor){if(e.readOnly){r+=d.localize(7,null)}else{r+=d.localize(8,null)}}else{if(e.readOnly){r+=d.localize(9,null)}else{r+=d.localize(10,null)}}switch(e.accessibilitySupport){case 0:var o=m.isMacintosh?d.localize(11,null):d.localize(12,null);r+="\n\n - "+o;break;case 2:r+="\n\n - "+d.localize(13,null);break;case 1:r+="\n\n - "+d.localize(14,null);r+=" "+o;break}var s=d.localize(15,null);var a=d.localize(16,null);var u=d.localize(17,null);var l=d.localize(18,null);if(e.tabFocusMode){r+="\n\n - "+this._descriptionForCommand(p.ToggleTabFocusModeAction.ID,s,a)}else{r+="\n\n - "+this._descriptionForCommand(p.ToggleTabFocusModeAction.ID,u,l)}var c=m.isMacintosh?d.localize(19,null):d.localize(20,null);r+="\n\n - "+c;r+="\n\n"+d.localize(21,null);this._contentDomNode.domNode.appendChild(h.renderFormattedText(r));this._contentDomNode.domNode.setAttribute("aria-label",r)};s.prototype.hide=function(){if(!this._isVisible){return}this._isVisible=false;this._isVisibleKey.reset();this._domNode.setDisplay("none");this._domNode.setAttribute("aria-hidden","true");this._contentDomNode.domNode.tabIndex=-1;a.clearNode(this._contentDomNode.domNode);this._editor.focus()};s.prototype._layout=function(){var e=this._editor.getLayoutInfo();var t=Math.max(5,Math.min(s.WIDTH,e.width-40));var i=Math.max(5,Math.min(s.HEIGHT,e.height-40));this._domNode.setWidth(t);this._domNode.setHeight(i);var n=Math.round((e.height-i)/2);this._domNode.setTop(n);var r=Math.round((e.width-t)/2);this._domNode.setLeft(r)};s.ID="editor.contrib.accessibilityHelpWidget";s.WIDTH=500;s.HEIGHT=300;s=q([G(1,c.IContextKeyService),G(2,l.IKeybindingService),G(3,y.IOpenerService)],s);return s}(n.Widget);var k=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.showAccessibilityHelp",label:d.localize(22,null),alias:"Show Accessibility Help",precondition:null,kbOpts:{kbExpr:s.EditorContextKeys.focus,primary:b.isIE?2048|59:512|59}})||this}t.prototype.run=function(e,t){var i=E.get(t);if(i){i.show()}};return t}(f.EditorAction);f.registerEditorContribution(E);f.registerEditorAction(k);var O=f.EditorCommand.bindToContribution(E.get);f.registerEditorCommand(new O({id:"closeAccessibilityHelp",precondition:w,handler:function(e){return e.hide()},kbOpts:{weight:S.KeybindingsRegistry.WEIGHT.editorContrib(100),kbExpr:s.EditorContextKeys.focus,primary:9,secondary:[1024|9]}}));g.registerThemingParticipant(function(e,t){var i=e.getColor(v.editorWidgetBackground);if(i){t.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+i+"; }")}var n=e.getColor(v.widgetShadow);if(n){t.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+n+"; }")}var r=e.getColor(v.contrastBorder);if(r){t.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+r+"; }")}})});define(r[543],e([0,1,382,2,5,11,24,60,17,85,69,26,16,22,406]),function(e,t,i,n,h,r,o,s,a,u,l,f,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=function(r){pe(t,r);function t(e,t,i){var n=r.call(this)||this;n._editor=e;n._standaloneThemeService=t;n._modeService=i;n._widget=null;n._register(n._editor.onDidChangeModel(function(e){return n.stop()}));n._register(n._editor.onDidChangeModelLanguage(function(e){return n.stop()}));n._register(a.TokenizationRegistry.onDidChange(function(e){return n.stop()}));return n}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.dispose=function(){this.stop();r.prototype.dispose.call(this)};t.prototype.launch=function(){if(this._widget){return}if(!this._editor.getModel()){return}this._widget=new _(this._editor,this._standaloneThemeService,this._modeService)};t.prototype.stop=function(){if(this._widget){this._widget.dispose();this._widget=null}};t.ID="editor.contrib.inspectTokens";t=q([G(1,u.IStandaloneThemeService),G(2,s.IModeService)],t);return t}(n.Disposable);var g=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.inspectTokens",label:i.localize(0,null),alias:"Developer: Inspect Tokens",precondition:null})||this}t.prototype.run=function(e,t){var i=p.get(t);if(i){i.launch()}};return t}(r.EditorAction);function v(e){var t="";for(var i=0,n=e.length;i<n;i++){var r=e.charCodeAt(i);switch(r){case 9:t+="&rarr;";break;case 32:t+="&middot;";break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;case 38:t+="&amp;";break;default:t+=String.fromCharCode(r)}}return t}function m(n){var e=a.TokenizationRegistry.get(n.language);if(e){return e}return{getInitialState:function(){return l.NULL_STATE},tokenize:function(e,t,i){return l.nullTokenize(n.language,e,t,i)},tokenize2:function(e,t,i){return l.nullTokenize2(n.id,e,t,i)}}}var _=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n.allowEditorOverflow=true;n._editor=e;n._modeService=i;n._model=n._editor.getModel();n._domNode=document.createElement("div");n._domNode.className="tokens-inspect-widget";n._tokenizationSupport=m(n._model.getLanguageIdentifier());n._compute(n._editor.getPosition());n._register(n._editor.onDidChangeCursorPosition(function(e){return n._compute(n._editor.getPosition())}));n._editor.addContentWidget(n);return n}e.prototype.dispose=function(){this._editor.removeContentWidget(this);r.prototype.dispose.call(this)};e.prototype.getId=function(){return e._ID};e.prototype._compute=function(e){var t=this._getTokensAtLine(e.lineNumber);var i=0;for(var n=t.tokens1.length-1;n>=0;n--){var r=t.tokens1[n];if(e.column-1>=r.offset){i=n;break}}var o=0;for(var n=t.tokens2.length>>>1;n>=0;n--){if(e.column-1>=t.tokens2[n<<1]){o=n;break}}var s="";var a=this._model.getLineContent(e.lineNumber);var u="";if(i<t.tokens1.length){var l=t.tokens1[i].offset;var c=i+1<t.tokens1.length?t.tokens1[i+1].offset:a.length;u=a.substring(l,c)}s+='<h2 class="tm-token">'+v(u)+'<span class="tm-token-length">('+u.length+" "+(u.length===1?"char":"chars")+")</span></h2>";s+='<hr class="tokens-inspect-separator" style="clear:both"/>';var d=this._decodeMetadata(t.tokens2[(o<<1)+1]);s+='<table class="tm-metadata-table"><tbody>';s+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+h.escape(d.languageIdentifier.language)+"</td>";s+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(d.tokenType)+"</td>";s+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(d.fontStyle)+"</td>";s+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+f.Color.Format.CSS.formatHex(d.foreground)+"</td>";s+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+f.Color.Format.CSS.formatHex(d.background)+"</td>";s+="</tbody></table>";s+='<hr class="tokens-inspect-separator"/>';if(i<t.tokens1.length){s+='<span class="tm-token-type">'+h.escape(t.tokens1[i].type)+"</span>"}this._domNode.innerHTML=s;this._editor.layoutContentWidget(this)};e.prototype._decodeMetadata=function(e){var t=a.TokenizationRegistry.getColorMap();var i=a.TokenMetadata.getLanguageId(e);var n=a.TokenMetadata.getTokenType(e);var r=a.TokenMetadata.getFontStyle(e);var o=a.TokenMetadata.getForeground(e);var s=a.TokenMetadata.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(i),tokenType:n,fontStyle:r,foreground:t[o],background:t[s]}};e.prototype._tokenTypeToString=function(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"};e.prototype._fontStyleToString=function(e){var t="";if(e&1){t+="italic "}if(e&2){t+="bold "}if(e&4){t+="underline "}if(t.length===0){t="---"}return t};e.prototype._getTokensAtLine=function(e){var t=this._getStateBeforeLine(e);var i=this._tokenizationSupport.tokenize(this._model.getLineContent(e),t,0);var n=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),t,0);return{startState:t,tokens1:i.tokens,tokens2:n.tokens,endState:i.endState}};e.prototype._getStateBeforeLine=function(e){var t=this._tokenizationSupport.getInitialState();for(var i=1;i<e;i++){var n=this._tokenizationSupport.tokenize(this._model.getLineContent(i),t,0);t=n.endState}return t};e.prototype.getDomNode=function(){return this._domNode};e.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[o.ContentWidgetPositionPreference.BELOW,o.ContentWidgetPositionPreference.ABOVE]}};e._ID="editor.contrib.inspectTokensWidget";return e}(n.Disposable);r.registerEditorContribution(p);r.registerEditorAction(g);c.registerThemingParticipant(function(e,t){var i=e.getColor(d.editorHoverBorder);if(i){var n=e.type===c.HIGH_CONTRAST?2:1;t.addRule(".monaco-editor .tokens-inspect-widget { border: "+n+"px solid "+i+"; }");t.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+i+"; }")}var r=e.getColor(d.editorHoverBackground);if(r){t.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+r+"; }")}})});define(r[143],e([0,1,33,489,11,16,32]),function(e,t,i,n,r,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:true});var s=function(){function s(e,t){this.themeService=t;this.editor=e}s.get=function(e){return e.getContribution(s.ID)};s.prototype.getId=function(){return s.ID};s.prototype.dispose=function(){if(this.widget){this.widget.destroy();this.widget=null}};s.prototype.run=function(t){var i=this;if(this.widget){this.widget.destroy();this.widget=null}var e=function(e){i.clearDecorations();if(e&&i.lastKnownEditorSelection){i.editor.setSelection(i.lastKnownEditorSelection);i.editor.revealRangeInCenterIfOutsideViewport(i.lastKnownEditorSelection,0)}i.lastKnownEditorSelection=null;i.editor.focus()};this.widget=new n.QuickOpenEditorWidget(this.editor,function(){return e(false)},function(){return e(true)},function(e){i.widget.setInput(t.getModel(e),t.getAutoFocus(e))},{inputAriaLabel:t.inputAriaLabel},this.themeService);if(!this.lastKnownEditorSelection){this.lastKnownEditorSelection=this.editor.getSelection()}this.widget.show("")};s.prototype.decorateLine=function(r,e){var o=this;e.changeDecorations(function(e){var t=[];if(o.rangeHighlightDecorationId){t.push(o.rangeHighlightDecorationId);o.rangeHighlightDecorationId=null}var i=[{range:r,options:s._RANGE_HIGHLIGHT_DECORATION}];var n=e.deltaDecorations(t,i);o.rangeHighlightDecorationId=n[0]})};s.prototype.clearDecorations=function(){var t=this;if(this.rangeHighlightDecorationId){this.editor.changeDecorations(function(e){e.deltaDecorations([t.rangeHighlightDecorationId],[]);t.rangeHighlightDecorationId=null})}};s.ID="editor.controller.quickOpenController";s._RANGE_HIGHLIGHT_DECORATION=a.ModelDecorationOptions.register({className:"rangeHighlight",isWholeLine:true});s=q([G(1,o.IThemeService)],s);return s}();t.QuickOpenController=s;var u=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i._inputAriaLabel=e;return i}e.prototype.getController=function(e){return s.get(e)};e.prototype._show=function(e,t){e.run({inputAriaLabel:this._inputAriaLabel,getModel:function(e){return t.getModel(e)},getAutoFocus:function(e){return t.getAutoFocus(e)}})};return e}(r.EditorAction);t.BaseEditorQuickOpenAction=u;r.registerEditorContribution(s)});define(r[545],e([0,1,383,115,106,33,21,24,143,11,12,3,407]),function(e,t,s,n,i,r,o,a,u,l,c,d){"use strict";Object.defineProperty(t,"__esModule",{value:true});var h=function(r){pe(e,r);function e(e,t,i){var n=r.call(this)||this;n.editor=t;n.decorator=i;n._parseResult=n._parseInput(e);return n}e.prototype._parseInput=function(e){var t=e.split(",").map(function(e){return parseInt(e,10)}).filter(function(e){return!isNaN(e)}),i;if(t.length===0){i=new c.Position(-1,-1)}else if(t.length===1){i=new c.Position(t[0],1)}else{i=new c.Position(t[0],t[1])}var n;if(a.isCodeEditor(this.editor)){n=this.editor.getModel()}else{n=this.editor.getModel().modified}var r=n.validatePosition(i).equals(i),o;if(r){if(i.column&&i.column>1){o=s.localize(0,null,i.lineNumber,i.column)}else{o=s.localize(1,null,i.lineNumber,i.column)}}else if(i.lineNumber<1||i.lineNumber>n.getLineCount()){o=s.localize(2,null,n.getLineCount())}else{o=s.localize(3,null,n.getLineMaxColumn(i.lineNumber))}return{position:i,isValid:r,label:o}};e.prototype.getLabel=function(){return this._parseResult.label};e.prototype.getAriaLabel=function(){return s.localize(4,null,this._parseResult.label)};e.prototype.run=function(e,t){if(e===i.Mode.OPEN){return this.runOpen()}return this.runPreview()};e.prototype.runOpen=function(){if(!this._parseResult.isValid){return false}var e=this.toSelection();this.editor.setSelection(e);this.editor.revealRangeInCenter(e,0);this.editor.focus();return true};e.prototype.runPreview=function(){if(!this._parseResult.isValid){this.decorator.clearDecorations();return false}var e=this.toSelection();this.editor.revealRangeInCenter(e,0);this.decorator.decorateLine(e,this.editor);return false};e.prototype.toSelection=function(){return new d.Range(this._parseResult.position.lineNumber,this._parseResult.position.column,this._parseResult.position.lineNumber,this._parseResult.position.column)};return e}(n.QuickOpenEntry);t.GotoLineEntry=h;var f=function(e){pe(t,e);function t(){return e.call(this,s.localize(5,null),{id:"editor.action.gotoLine",label:s.localize(6,null),alias:"Go to Line...",precondition:null,kbOpts:{kbExpr:o.EditorContextKeys.focus,primary:2048|37,mac:{primary:256|37}}})||this}t.prototype.run=function(e,t){var i=this;this._show(this.getController(t),{getModel:function(e){return new n.QuickOpenModel([new h(e,t,i.getController(t))])},getAutoFocus:function(e){return{autoFocusFirstEntry:e.length>0}}})};return t}(u.BaseEditorQuickOpenAction);t.GotoLineAction=f;l.registerEditorAction(f)});define(r[546],e([0,1,384,13,110,7,115,106,49,21,143,11,31]),function(e,t,i,n,l,r,o,s,a,u,c,d,h){"use strict";Object.defineProperty(t,"__esModule",{value:true});var f=function(o){pe(e,o);function e(e,t,i,n){var r=o.call(this)||this;r.key=e;r.setHighlights(t);r.action=i;r.editor=n;return r}e.prototype.getLabel=function(){return this.action.label};e.prototype.getAriaLabel=function(){return i.localize(0,null,this.getLabel())};e.prototype.getGroupLabel=function(){return this.key};e.prototype.run=function(e,t){var i=this;if(e===s.Mode.OPEN){r.TPromise.timeout(50).done(function(){i.editor.focus();try{var e=i.action.run()||r.TPromise.as(null);e.done(null,n.onUnexpectedError)}catch(e){n.onUnexpectedError(e)}},n.onUnexpectedError);return true}return false};return e}(o.QuickOpenEntryGroup);t.EditorActionCommandEntry=f;var p=function(e){pe(t,e);function t(){return e.call(this,i.localize(1,null),{id:"editor.action.quickCommand",label:i.localize(2,null),alias:"Command Palette",precondition:null,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:h.isIE?512|59:59},menuOpts:{}})||this}t.prototype.run=function(e,t){var i=this;var n=e.get(a.IKeybindingService);this._show(this.getController(t),{getModel:function(e){return new o.QuickOpenModel(i._editorActionsToEntries(n,t,e))},getAutoFocus:function(e){return{autoFocusFirstEntry:true,autoFocusPrefixMatch:e}}})};t.prototype._sort=function(e,t){var i=e.getLabel().toLowerCase();var n=t.getLabel().toLowerCase();return i.localeCompare(n)};t.prototype._editorActionsToEntries=function(e,t,i){var n=t.getSupportedActions();var r=[];for(var o=0;o<n.length;o++){var s=n[o];var a=e.lookupKeybinding(s.id);if(s.label){var u=l.matchesFuzzy(i,s.label);if(u){r.push(new f(a?a.getLabel():"",u,s,t))}}}r=r.sort(this._sort);return r};return t}(c.BaseEditorQuickOpenAction);t.QuickCommandAction=p;d.registerEditorAction(p)});define(r[547],e([0,1,385,110,5,115,106,21,17,143,475,11,3,409]),function(e,t,g,v,m,r,i,n,_,o,s,a,y){"use strict";Object.defineProperty(t,"__esModule",{value:true});var C=":";var b=function(u){pe(e,u);function e(e,t,i,n,r,o,s){var a=u.call(this)||this;a.name=e;a.type=t;a.description=i;a.range=n;a.setHighlights(r);a.editor=o;a.decorator=s;return a}e.prototype.getLabel=function(){return this.name};e.prototype.getAriaLabel=function(){return g.localize(0,null,this.name)};e.prototype.getIcon=function(){return this.type};e.prototype.getDescription=function(){return this.description};e.prototype.getType=function(){return this.type};e.prototype.getRange=function(){return this.range};e.prototype.run=function(e,t){if(e===i.Mode.OPEN){return this.runOpen(t)}return this.runPreview()};e.prototype.runOpen=function(e){var t=this.toSelection();this.editor.setSelection(t);this.editor.revealRangeInCenter(t,0);this.editor.focus();return true};e.prototype.runPreview=function(){var e=this.toSelection();this.editor.revealRangeInCenter(e,0);this.decorator.decorateLine(this.range,this.editor);return false};e.prototype.toSelection=function(){return new y.Range(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)};return e}(r.QuickOpenEntryGroup);var u=function(e){pe(t,e);function t(){return e.call(this,g.localize(1,null),{id:"editor.action.quickOutline",label:g.localize(2,null),alias:"Go to Symbol...",precondition:n.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:n.EditorContextKeys.focus,primary:2048|1024|45},menuOpts:{group:"navigation",order:3}})||this}t.prototype.run=function(e,t){var i=this;var n=t.getModel();if(!_.DocumentSymbolProviderRegistry.has(n)){return null}return s.getDocumentSymbols(n).then(function(e){if(e.entries.length===0){return}i._run(t,e.entries)})};t.prototype._run=function(t,i){var n=this;this._show(this.getController(t),{getModel:function(e){return new r.QuickOpenModel(n.toQuickOpenEntries(t,i,e))},getAutoFocus:function(e){if(e.indexOf(C)===0){e=e.substr(C.length)}return{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}}})};t.prototype.toQuickOpenEntries=function(e,t,i){var n=this.getController(e);var r=[];var o=i;if(i.indexOf(C)===0){o=o.substr(C.length)}for(var s=0;s<t.length;s++){var a=t[s];var u=m.trim(a.name);var l=v.matchesFuzzy(o,u);if(l){var c=null;if(a.containerName){c=a.containerName}r.push(new b(u,_.symbolKindToCssClass(a.kind),c,y.Range.lift(a.location.range),l,e,n))}}if(i){if(i.indexOf(C)===0){r=r.sort(this.sortScoped.bind(this,i.toLowerCase()))}else{r=r.sort(this.sortNormal.bind(this,i.toLowerCase()))}}if(r.length>0&&i.indexOf(C)===0){var d=null;var h=null;var f=0;for(var s=0;s<r.length;s++){var p=r[s];if(d!==p.getType()){if(h){h.setGroupLabel(this.typeToLabel(d,f))}d=p.getType();h=p;f=1;p.setShowBorder(s>0)}else{f++}}if(h){h.setGroupLabel(this.typeToLabel(d,f))}}else if(r.length>0){r[0].setGroupLabel(g.localize(3,null,r.length))}return r};t.prototype.typeToLabel=function(e,t){switch(e){case"module":return g.localize(4,null,t);case"class":return g.localize(5,null,t);case"interface":return g.localize(6,null,t);case"method":return g.localize(7,null,t);case"function":return g.localize(8,null,t);case"property":return g.localize(9,null,t);case"variable":return g.localize(10,null,t);case"var":return g.localize(11,null,t);case"constructor":return g.localize(12,null,t);case"call":return g.localize(13,null,t)}return e};t.prototype.sortNormal=function(e,t,i){var n=t.getLabel().toLowerCase();var r=i.getLabel().toLowerCase();var o=n.localeCompare(r);if(o!==0){return o}var s=t.getRange();var a=i.getRange();return s.startLineNumber-a.startLineNumber};t.prototype.sortScoped=function(e,t,i){e=e.substr(C.length);var n=t.getType();var r=i.getType();var o=n.localeCompare(r);if(o!==0){return o}if(e){var s=t.getLabel().toLowerCase();var a=i.getLabel().toLowerCase();var u=s.localeCompare(a);if(u!==0){return u}}var l=t.getRange();var c=i.getRange();return l.startLineNumber-c.startLineNumber};return t}(o.BaseEditorQuickOpenAction);t.QuickOutlineAction=u;a.registerEditorAction(u)});define(r[548],e([0,1,22,36]),function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.vs={base:"vs",inherit:false,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"09885A"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.jade",foreground:"4F76AC"},{token:"tag.class.jade",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"09885A"},{token:"attribute.value.unit",foreground:"09885A"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(r={},r[i.editorBackground]="#FFFFFE",r[i.editorForeground]="#000000",r[i.editorInactiveSelection]="#E5EBF1",r[n.editorIndentGuides]="#D3D3D3",r[i.editorSelectionHighlight]="#ADD6FF4D",r)};t.vs_dark={base:"vs-dark",inherit:false,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.jade",foreground:"4F76AC"},{token:"tag.class.jade",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(o={},o[i.editorBackground]="#1E1E1E",o[i.editorForeground]="#D4D4D4",o[i.editorInactiveSelection]="#3A3D41",o[n.editorIndentGuides]="#404040",o[i.editorSelectionHighlight]="#ADD6FF26",o)};t.hc_black={base:"hc-black",inherit:false,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.jade",foreground:"4F76AC"},{token:"tag.class.jade",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(s={},s[i.editorBackground]="#000000",s[i.editorForeground]="#FFFFFF",s[n.editorIndentGuides]="#FFFFFF",s)};var r,o,s});define(r[549],e([0,1,560,548,10,17,26,22,16,45,4]),function(e,t,a,i,n,u,o,r,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:true});var d="vs";var h="vs-dark";var f="hc-black";var p=l.Registry.as(r.Extensions.ColorContribution);var g=l.Registry.as(s.Extensions.ThemingContribution);var v=function(){function e(e,t,i,n){if(t.length>0){this.id=e+" "+t;this.themeName=t}else{this.id=e;this.themeName=e}this.base=e;this.rules=n;this.colors={};for(var r in i){this.colors[r]=o.Color.fromHex(i[r])}this.defaultColors={}}e.prototype.getColor=function(e,t){if(this.colors.hasOwnProperty(e)){return this.colors[e]}if(t!==false){return this.getDefault(e)}return null};e.prototype.getDefault=function(e){if(this.defaultColors.hasOwnProperty(e)){return this.defaultColors[e]}var t=p.resolveDefaultColor(e,this);this.defaultColors[e]=t;return t};e.prototype.defines=function(e){return this.colors.hasOwnProperty(e)};Object.defineProperty(e.prototype,"type",{get:function(){switch(this.base){case d:return"light";case f:return"hc";default:return"dark"}},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){this._tokenTheme=a.TokenTheme.createFromRawTokenTheme(this.rules)}return this._tokenTheme},enumerable:true,configurable:true});return e}();function m(e){return e===d||e===h||e===f}function _(e){switch(e){case d:return i.vs;case h:return i.vs_dark;case f:return i.hc_black}}function y(e){var t=_(e);return new v(e,"",t.colors,t.rules)}var C=function(){function e(){this._onThemeChange=new c.Emitter;this._knownThemes=new Map;this._knownThemes.set(d,y(d));this._knownThemes.set(h,y(h));this._knownThemes.set(f,y(f));this._styleElement=n.createStyleSheet();this._styleElement.className="monaco-colors";this.setTheme(d)}Object.defineProperty(e.prototype,"onThemeChange",{get:function(){return this._onThemeChange.event},enumerable:true,configurable:true});e.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e)||m(e)){throw new Error("Illegal theme name!")}if(!m(t.base)){throw new Error("Illegal theme base!")}var i=[];var n={};if(t.inherit){var r=_(t.base);i=i.concat(r.rules);for(var o in r.colors){n[o]=r.colors[o]}}i=i.concat(t.rules);for(var o in t.colors){n[o]=t.colors[o]}this._knownThemes.set(e,new v(t.base,e,n,i))};e.prototype.getTheme=function(){return this._theme};e.prototype.setTheme=function(e){var t;if(this._knownThemes.has(e)){t=this._knownThemes.get(e)}else{t=this._knownThemes.get(d)}this._theme=t;var i=[];var n={};var r={addRule:function(e){if(!n[e]){i.push(e);n[e]=true}}};g.getThemingParticipants().forEach(function(e){return e(t,r)});var o=t.tokenTheme;var s=o.getColorMap();r.addRule(a.generateTokensCSSForColorMap(s));this._styleElement.innerHTML=i.join("\n");u.TokenizationRegistry.setColorMap(s);this._onThemeChange.fire(t);return t.id};return e}();t.StandaloneThemeServiceImpl=C});define(r[550],e([0,1,19]),function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InputFocusedContextKey="inputFocus";t.InputFocusedContext=new i.RawContextKey(t.InputFocusedContextKey,false)});define(r[205],e([0,1,104,14,2,19,239,179,109,16,550,56,27,390,45,80,91,29,4]),function(e,c,n,t,d,i,r,o,h,s,a,u,f,l,p,g,v,m,_){"use strict";Object.defineProperty(c,"__esModule",{value:true});c.IListService=t.createDecorator("listService");var y=function(){function e(e){this.lists=[];this._lastFocusedWidget=undefined}Object.defineProperty(e.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:true,configurable:true});e.prototype.register=function(t,e){var i=this;if(this.lists.some(function(e){return e.widget===t})){throw new Error("Cannot register the same widget multiple times")}var n={widget:t,extraContextKeys:e};this.lists.push(n);if(t.isDOMFocused()){this._lastFocusedWidget=t}var r=d.combinedDisposable([t.onDidFocus(function(){return i._lastFocusedWidget=t}),d.toDisposable(function(){return i.lists.splice(i.lists.indexOf(n),1)})]);return r};e=q([G(0,i.IContextKeyService)],e);return e}();c.ListService=y;var C=new i.RawContextKey("listFocus",true);c.WorkbenchListSupportsMultiSelectContextKey=new i.RawContextKey("listSupportsMultiselect",true);c.WorkbenchListFocusContextKey=i.ContextKeyExpr.and(C,i.ContextKeyExpr.not(a.InputFocusedContextKey));c.WorkbenchListDoubleSelection=new i.RawContextKey("listDoubleSelection",false);c.WorkbenchListMultiSelection=new i.RawContextKey("listMultiSelection",false);function b(e,t){var i=e.createScoped(t.getHTMLElement());if(t instanceof n.List||t instanceof r.PagedList){c.WorkbenchListSupportsMultiSelectContextKey.bindTo(i)}C.bindTo(i);return i}c.multiSelectModifierSettingKey="workbench.list.multiSelectModifier";c.openModeSettingKey="workbench.list.openMode";function S(e){return e.getValue(c.multiSelectModifierSettingKey)==="alt"}function w(e){return e.getValue(c.openModeSettingKey)!=="doubleClick"}var E=function(){function e(e){this.configurationService=e}e.prototype.isSelectionSingleChangeEvent=function(e){if(S(this.configurationService)){return e.browserEvent.altKey}return n.isSelectionSingleChangeEvent(e)};e.prototype.isSelectionRangeChangeEvent=function(e){return n.isSelectionRangeChangeEvent(e)};return e}();var L=function(){function e(e,t){this.configurationService=e;this.existingOpenController=t}e.prototype.shouldOpen=function(e){if(e instanceof MouseEvent){var t=e.detail===2;if(!w(this.configurationService)&&!t){return false}if(e.button===0||e.button===1){return this.existingOpenController?this.existingOpenController.shouldOpen(e):true}return false}return this.existingOpenController?this.existingOpenController.shouldOpen(e):true};return e}();function x(e,t){if(e.multipleSelectionSupport!==false&&!e.multipleSelectionController){e.multipleSelectionController=new E(t)}e.openController=new L(t,e.openController);return e}function N(e,t){if(!e.controller){e.controller=t.createInstance(k,{})}return e}var I=function(l){pe(e,l);function e(e,t,i,n,r,o,s,a){var u=l.call(this,e,t,i,f.mixin(x(n,a),{keyboardSupport:false,selectOnMouseDown:true},false))||this;u.configurationService=a;u.contextKeyService=b(r,u);u.listDoubleSelection=c.WorkbenchListDoubleSelection.bindTo(u.contextKeyService);u.listMultiSelection=c.WorkbenchListMultiSelection.bindTo(u.contextKeyService);u._useAltAsMultipleSelectionModifier=S(a);u.disposables.push(d.combinedDisposable([u.contextKeyService,o.register(u),h.attachListStyler(u,s),u.onSelectionChange(function(){var e=u.getSelection();u.listMultiSelection.set(e.length>1);u.listDoubleSelection.set(e.length===2)})]));u.registerListeners();return u}Object.defineProperty(e.prototype,"useAltAsMultipleSelectionModifier",{get:function(){return this._useAltAsMultipleSelectionModifier},enumerable:true,configurable:true});e.prototype.registerListeners=function(){var t=this;this.disposables.push(this.configurationService.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(c.multiSelectModifierSettingKey)){t._useAltAsMultipleSelectionModifier=S(t.configurationService)}}))};e=q([G(4,i.IContextKeyService),G(5,c.IListService),G(6,s.IThemeService),G(7,u.IConfigurationService)],e);return e}(n.List);c.WorkbenchList=I;var D=function(l){pe(e,l);function e(e,t,i,n,r,o,s,a){var u=l.call(this,e,t,i,f.mixin(x(n,a),{keyboardSupport:false,selectOnMouseDown:true},false))||this;u.configurationService=a;u.disposables=[];u.contextKeyService=b(r,u);u._useAltAsMultipleSelectionModifier=S(a);u.disposables.push(d.combinedDisposable([u.contextKeyService,o.register(u),h.attachListStyler(u,s)]));u.registerListeners();return u}Object.defineProperty(e.prototype,"useAltAsMultipleSelectionModifier",{get:function(){return this._useAltAsMultipleSelectionModifier},enumerable:true,configurable:true});e.prototype.registerListeners=function(){var t=this;this.disposables.push(this.configurationService.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(c.multiSelectModifierSettingKey)){t._useAltAsMultipleSelectionModifier=S(t.configurationService)}}))};e.prototype.dispose=function(){this.disposables=d.dispose(this.disposables)};e=q([G(4,i.IContextKeyService),G(5,c.IListService),G(6,s.IThemeService),G(7,u.IConfigurationService)],e);return e}(r.PagedList);c.WorkbenchPagedList=D;var T=function(l){pe(e,l);function e(e,t,i,n,r,o,s,a){var u=l.call(this,e,N(t,s),f.mixin(i,{keyboardSupport:false},false))||this;u.configurationService=a;u.disposables=[];u.contextKeyService=b(n,u);u.listDoubleSelection=c.WorkbenchListDoubleSelection.bindTo(u.contextKeyService);u.listMultiSelection=c.WorkbenchListMultiSelection.bindTo(u.contextKeyService);u._openOnSingleClick=w(a);u._useAltAsMultipleSelectionModifier=S(a);u.disposables.push(u.contextKeyService,r.register(u),h.attachListStyler(u,o));u.registerListeners();return u}Object.defineProperty(e.prototype,"openOnSingleClick",{get:function(){return this._openOnSingleClick},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"useAltAsMultipleSelectionModifier",{get:function(){return this._useAltAsMultipleSelectionModifier},enumerable:true,configurable:true});e.prototype.registerListeners=function(){var t=this;this.disposables.push(this.onDidChangeSelection(function(){var e=t.getSelection();t.listDoubleSelection.set(e&&e.length===2);t.listMultiSelection.set(e&&e.length>1)}));this.disposables.push(this.configurationService.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(c.openModeSettingKey)){t._openOnSingleClick=w(t.configurationService)}if(e.affectsConfiguration(c.multiSelectModifierSettingKey)){t._useAltAsMultipleSelectionModifier=S(t.configurationService)}}))};e.prototype.dispose=function(){this.disposables=d.dispose(this.disposables)};e=q([G(3,i.IContextKeyService),G(4,c.IListService),G(5,s.IThemeService),G(6,t.IInstantiationService),G(7,u.IConfigurationService)],e);return e}(o.Tree);c.WorkbenchTree=T;function M(e){if(typeof e.keyboardSupport!=="boolean"){e.keyboardSupport=false}if(typeof e.clickBehavior!=="number"){e.clickBehavior=v.ClickBehavior.ON_MOUSE_DOWN}return e}var k=function(n){pe(e,n);function e(e,t){var i=n.call(this,M(e))||this;i.configurationService=t;i.disposables=[];if(m.isUndefinedOrNull(e.openMode)){i.setOpenMode(i.getOpenModeSetting());i.registerListeners()}return i}e.prototype.registerListeners=function(){var t=this;this.disposables.push(this.configurationService.onDidChangeConfiguration(function(e){if(e.affectsConfiguration(c.openModeSettingKey)){t.setOpenMode(t.getOpenModeSetting())}}))};e.prototype.getOpenModeSetting=function(){return w(this.configurationService)?v.OpenMode.SINGLE_CLICK:v.OpenMode.DOUBLE_CLICK};e.prototype.dispose=function(){this.disposables=d.dispose(this.disposables)};e=q([G(1,u.IConfigurationService)],e);return e}(v.DefaultController);c.WorkbenchTreeController=k;var O=function(n){pe(e,n);function e(e,t){var i=n.call(this)||this;i.tree=e;i.options=t;i._openResource=new _.Emitter;i.openResource=i._openResource.event;i.registerListeners();return i}e.prototype.registerListeners=function(){var t=this;if(this.options&&this.options.openOnFocus){this._register(this.tree.onDidChangeFocus(function(e){return t.onFocus(e)}))}this._register(this.tree.onDidChangeSelection(function(e){return t.onSelection(e)}))};e.prototype.onFocus=function(e){var t=e.payload;var i=this.tree.getFocus();this.tree.setSelection([i],{fromFocus:true});var n=t&&t.originalEvent;var r=t&&t.origin==="mouse";var o=r&&n&&n.detail===2;if(!r||this.tree.openOnSingleClick||o){this._openResource.fire({editorOptions:{preserveFocus:true,pinned:false,revealIfVisible:true},sideBySide:false,element:i,payload:t})}};e.prototype.onSelection=function(e){var t=e.payload;if(t&&t.fromFocus){return}var i=t&&t.originalEvent;var n=t&&t.origin==="mouse";var r=n&&i&&i.detail===2;if(!n||this.tree.openOnSingleClick||r){if(r&&i){i.preventDefault()}var o=t&&t.origin==="keyboard";var s=i&&(i.ctrlKey||i.metaKey||i.altKey);var a=!(o&&(!t||!t.preserveFocus)||r||t&&t.focusEditor);this._openResource.fire({editorOptions:{preserveFocus:a,pinned:r,revealIfVisible:true},sideBySide:s,element:this.tree.getSelection()[0],payload:t})}};return e}(d.Disposable);c.TreeResourceNavigator=O;var R=p.Registry.as(g.Extensions.Configuration);R.registerConfiguration({id:"workbench",order:7,title:l.localize(0,null),type:"object",properties:{"workbench.list.multiSelectModifier":{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[l.localize(1,null),l.localize(2,null)],default:"ctrlCmd",description:l.localize(3,null)},"workbench.list.openMode":{type:"string",enum:["singleClick","doubleClick"],enumDescriptions:[l.localize(4,null),l.localize(5,null)],default:"singleClick",description:l.localize(6,null)}}})});define(r[552],e([0,1,14,92,392,41,15,108]),function(e,o,t,s,a,u,l,c){"use strict";Object.defineProperty(o,"__esModule",{value:true});o.IWorkspacesMainService=t.createDecorator("workspacesMainService");o.IWorkspacesService=t.createDecorator("workspacesService");o.WORKSPACE_EXTENSION="code-workspace";o.WORKSPACE_FILTER=[{name:a.localize(0,null),extensions:[o.WORKSPACE_EXTENSION]}];o.UNTITLED_WORKSPACE_NAME="workspace.json";function i(e){return n(e)||r(e)}o.isStoredWorkspaceFolder=i;function n(e){return e&&typeof e==="object"&&typeof e.path==="string"&&(!e.name||typeof e.name==="string")}o.isRawFileWorkspaceFolder=n;function r(e){return e&&typeof e==="object"&&typeof e.uri==="string"&&(!e.name||typeof e.name==="string")}o.isRawUriWorkspaceFolder=r;function d(e,t,i){if(h(e)){return c.tildify(e,t.userHome)}if(s.isParent(e.configPath,t.workspacesHome,!l.isLinux)){return a.localize(1,null)}var n=u.basename(e.configPath);var r=n.substr(0,n.length-o.WORKSPACE_EXTENSION.length-1);if(i&&i.verbose){return a.localize(2,null,c.getPathLabel(u.join(u.dirname(e.configPath),r),null,t))}return a.localize(3,null,r)}o.getWorkspaceLabel=d;function h(e){return typeof e==="string"}o.isSingleFolderWorkspaceIdentifier=h;function f(e){var t=e;return t&&typeof t.id==="string"&&typeof t.configPath==="string"}o.isWorkspaceIdentifier=f});define(r[112],e([0,1,30,41,169,14,75,552,23,15]),function(e,t,r,i,o,n,s,a,u,l){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IWorkspaceContextService=n.createDecorator("contextService");var c;(function(e){e[e["EMPTY"]=1]="EMPTY";e[e["FOLDER"]=2]="FOLDER";e[e["WORKSPACE"]=3]="WORKSPACE"})(c=t.WorkbenchState||(t.WorkbenchState={}));var d=function(){function e(e,t,i,n,r){if(t===void 0){t=""}if(i===void 0){i=[]}if(n===void 0){n=null}this._id=e;this._name=t;this._configuration=n;this._ctime=r;this._foldersMap=s.TernarySearchTree.forPaths();this.folders=i}e.prototype.update=function(e){this._id=e.id;this._name=e.name;this._configuration=e.configuration;this._ctime=e.ctime;this.folders=e.folders};Object.defineProperty(e.prototype,"folders",{get:function(){return this._folders},set:function(e){this._folders=e;this.updateFoldersMap()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ctime",{get:function(){return this._ctime},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(e){this._configuration=e},enumerable:true,configurable:true});e.prototype.getFolder=function(e){if(!e){return null}return this._foldersMap.findSubstr(e.toString())};e.prototype.updateFoldersMap=function(){this._foldersMap=s.TernarySearchTree.forPaths();for(var e=0,t=this.folders;e<t.length;e++){var i=t[e];this._foldersMap.set(i.uri.toString(),i)}};e.prototype.toJSON=function(){return{id:this.id,folders:this.folders,name:this.name,configuration:this.configuration}};return e}();t.Workspace=d;var h=function(){function e(e,t){this.raw=t;this.uri=e.uri;this.index=e.index;this.name=e.name}e.prototype.toResource=function(e){return this.uri.with({path:i.join(this.uri.path,e)})};e.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}};return e}();t.WorkspaceFolder=h;function f(e,t){var i=p(e,t);return v(u.coalesce(i)).map(function(e,t){var i=e.uri,n=e.raw,r=e.name;return new h({uri:i,name:r||o.basenameOrAuthority(i),index:t},n)})}t.toWorkspaceFolders=f;function p(e,n){return e.map(function(e,t){var i;if(a.isRawFileWorkspaceFolder(e)){i=g(e.path,n)}else if(a.isRawUriWorkspaceFolder(e)){try{i=r.default.parse(e.uri)}catch(e){console.warn(e)}}if(!i){return void 0}return new h({uri:i,name:e.name,index:t},e)})}function g(e,t){if(e){if(i.isAbsolute(e)){return r.default.file(e)}if(t){return t.with({path:i.join(t.path,e)})}}return null}function v(e){return u.distinct(e,function(e){return l.isLinux?e.uri.toString():e.uri.toString().toLowerCase()})}});define(r[207],e([0,1,373,13,108,4,2,67,5,7,26,48,10,105,516,173,14,112,3,33,32,140,142,125,64,22,16,109,160,30,25,205,19,91,397]),function(e,h,a,i,t,l,c,n,o,r,s,d,f,u,p,g,v,m,_,y,C,b,S,w,E,L,x,N,I,D,T,M,k,O){"use strict";Object.defineProperty(h,"__esModule",{value:true});var R=function(){function l(e,t){var i=this;this._editor=e;this._model=t;this._decorations=new Map;this._decorationIgnoreSet=new Set;this._callOnDispose=[];this._callOnModelChange=[];this._callOnDispose.push(this._editor.onDidChangeModel(function(){return i._onModelChanged()}));this._onModelChanged()}l.prototype.dispose=function(){this._callOnModelChange=c.dispose(this._callOnModelChange);this._callOnDispose=c.dispose(this._callOnDispose);this.removeDecorations()};l.prototype._onModelChanged=function(){this._callOnModelChange=c.dispose(this._callOnModelChange);var e=this._editor.getModel();if(e){for(var t=0,i=this._model.groups;t<i.length;t++){var n=i[t];if(n.uri.toString()===e.uri.toString()){this._addDecorations(n);return}}}};l.prototype._addDecorations=function(a){var u=this;this._callOnModelChange.push(this._editor.getModel().onDidChangeDecorations(function(e){return u._onDecorationChanged()}));this._editor.changeDecorations(function(e){var t=[];var i=[];for(var n=0,r=a.children.length;n<r;n++){var o=a.children[n];if(u._decorationIgnoreSet.has(o.id)){continue}t.push({range:o.range,options:l.DecorationOptions});i.push(n)}var s=e.deltaDecorations([],t);for(var n=0;n<s.length;n++){u._decorations.set(s[n],a.children[i[n]])}})};l.prototype._onDecorationChanged=function(){var s=this;var a=[];this._decorations.forEach(function(e,t){var i=s._editor.getModel().getDecorationRange(t);if(!i){return}var n=false;if(_.Range.equalsRange(i,e.range)){return}else if(_.Range.spansMultipleLines(i)){n=true}else{var r=e.range.endColumn-e.range.startColumn;var o=i.endColumn-i.startColumn;if(r!==o){n=true}}if(n){s._decorationIgnoreSet.add(e.id);a.push(t)}else{e.range=i}});this._editor.changeDecorations(function(e){for(var t=0,i=a.length;t<i;t++){s._decorations.delete(a[t])}e.deltaDecorations(a,[])})};l.prototype.removeDecorations=function(){var e=this;this._editor.changeDecorations(function(i){e._decorations.forEach(function(e,t){i.removeDecoration(t)});e._decorations.clear()})};l.DecorationOptions=C.ModelDecorationOptions.register({stickiness:T.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,className:"reference-decoration"});return l}();var P=function(){function e(e){this._textModelResolverService=e}e.prototype.getId=function(e,t){if(t instanceof w.ReferencesModel){return"root"}else if(t instanceof w.FileReferences){return t.id}else if(t instanceof w.OneReference){return t.id}return undefined};e.prototype.hasChildren=function(e,t){if(t instanceof w.ReferencesModel){return true}if(t instanceof w.FileReferences&&!t.failure){return true}return false};e.prototype.getChildren=function(t,i){if(i instanceof w.ReferencesModel){return r.TPromise.as(i.groups)}else if(i instanceof w.FileReferences){return i.resolve(this._textModelResolverService).then(function(e){if(i.failure){return t.refresh(i).then(function(){return e.children})}return e.children})}else{return r.TPromise.as([])}};e.prototype.getParent=function(e,t){var i=null;if(t instanceof w.FileReferences){i=t.parent}else if(t instanceof w.OneReference){i=t.parent}return r.TPromise.as(i)};e=q([G(0,E.ITextModelService)],e);return e}();var A=function(s){pe(e,s);function e(){var e=s!==null&&s.apply(this,arguments)||this;e._onDidFocus=new l.Emitter;e.onDidFocus=e._onDidFocus.event;e._onDidSelect=new l.Emitter;e.onDidSelect=e._onDidSelect.event;e._onDidOpenToSide=new l.Emitter;e.onDidOpenToSide=e._onDidOpenToSide.event;return e}e.prototype.onTap=function(e,t,i){if(t instanceof w.FileReferences){i.preventDefault();i.stopPropagation();return this._expandCollapse(e,t)}var n=s.prototype.onTap.call(this,e,t,i);this._onDidFocus.fire(t);return n};e.prototype.onMouseDown=function(e,t,i){var n=i.detail===2;if(i.leftButton){if(t instanceof w.FileReferences){if(this.openOnSingleClick||n||this.isClickOnTwistie(i)){i.preventDefault();i.stopPropagation();return this._expandCollapse(e,t)}}var r=s.prototype.onClick.call(this,e,t,i);var o=i.ctrlKey||i.metaKey||i.altKey;if(o&&(n||this.openOnSingleClick)){this._onDidOpenToSide.fire(t)}else if(n){this._onDidSelect.fire(t)}else if(this.openOnSingleClick){this._onDidFocus.fire(t)}return r}return false};e.prototype.onClick=function(e,t,i){if(i.leftButton){return false}return s.prototype.onClick.call(this,e,t,i)};e.prototype._expandCollapse=function(e,t){if(e.isExpanded(t)){e.collapse(t).done(null,i.onUnexpectedError)}else{e.expand(t).done(null,i.onUnexpectedError)}return true};e.prototype.onEscape=function(e,t){return false};e.prototype.dispose=function(){this._onDidFocus.dispose();this._onDidSelect.dispose();this._onDidOpenToSide.dispose()};return e}(M.WorkbenchTreeController);var F=function(){function e(e,t,i,n){var r=this;this._contextService=t;this._environmentService=i;var o=document.createElement("div");f.addClass(o,"reference-file");e.appendChild(o);this.file=new g.FileLabel(o,D.default.parse("no:file"),this._contextService,this._environmentService);this.badge=new p.CountBadge(d.$(".count").appendTo(o).getHTMLElement());var s=N.attachBadgeStyler(this.badge,n);this.dispose=function(){r.file.dispose();s.dispose()}}e.prototype.set=function(e){this.file.setFile(e.uri,this._contextService,this._environmentService);var t=e.children.length;this.badge.setCount(t);if(e.failure){this.badge.setTitleFormat(a.localize(0,null))}else if(t>1){this.badge.setTitleFormat(a.localize(1,null,t))}else{this.badge.setTitleFormat(a.localize(2,null,t))}};e=q([G(1,m.IWorkspaceContextService),G(2,v.optional(I.IEnvironmentService)),G(3,x.IThemeService)],e);return e}();var W=function(){function e(e){var t=document.createElement("div");this.before=document.createElement("span");this.inside=document.createElement("span");this.after=document.createElement("span");f.addClass(this.inside,"referenceMatch");f.addClass(t,"reference");t.appendChild(this.before);t.appendChild(this.inside);t.appendChild(this.after);e.appendChild(t)}e.prototype.set=function(e){var t=e.parent.preview.preview(e.range),i=t.before,n=t.inside,r=t.after;this.before.innerHTML=o.escape(i);this.inside.innerHTML=o.escape(n);this.after.innerHTML=o.escape(r)};return e}();var B=function(){function n(e,t,i){this._contextService=e;this._themeService=t;this._environmentService=i}n.prototype.getHeight=function(e,t){return 23};n.prototype.getTemplateId=function(e,t){if(t instanceof w.FileReferences){return n._ids.FileReferences}else if(t instanceof w.OneReference){return n._ids.OneReference}throw t};n.prototype.renderTemplate=function(e,t,i){if(t===n._ids.FileReferences){return new F(i,this._contextService,this._environmentService,this._themeService)}else if(t===n._ids.OneReference){return new W(i)}throw t};n.prototype.renderElement=function(e,t,i,n){if(t instanceof w.FileReferences){n.set(t)}else if(t instanceof w.OneReference){n.set(t)}else{throw i}};n.prototype.disposeTemplate=function(e,t,i){if(i instanceof F){i.dispose()}};n._ids={FileReferences:"FileReferences",OneReference:"OneReference"};n=q([G(0,m.IWorkspaceContextService),G(1,x.IThemeService),G(2,v.optional(I.IEnvironmentService))],n);return n}();var V=function(){function e(){}e.prototype.getAriaLabel=function(e,t){if(t instanceof w.FileReferences){return t.getAriaMessage()}else if(t instanceof w.OneReference){return t.getAriaMessage()}else{return undefined}};return e}();var H=function(){function e(e,t){var i=this;this._disposables=[];this._onDidChangePercentages=new l.Emitter;this._ratio=t;this._sash=new u.Sash(e,{getVerticalSashLeft:function(){return i._width*i._ratio},getVerticalSashHeight:function(){return i._height}});var n;this._disposables.push(this._sash.onDidStart(function(e){n=e.startX-i._width*i.ratio}));this._disposables.push(this._sash.onDidChange(function(e){var t=e.currentX-n;if(t>20&&t+20<i._width){i._ratio=t/i._width;i._sash.layout();i._onDidChangePercentages.fire(i)}}))}e.prototype.dispose=function(){this._sash.dispose();this._onDidChangePercentages.dispose();c.dispose(this._disposables)};Object.defineProperty(e.prototype,"onDidChangePercentages",{get:function(){return this._onDidChangePercentages.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"width",{set:function(e){this._width=e;this._sash.layout()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"height",{set:function(e){this._height=e;this._sash.layout()},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"percentages",{get:function(){var e=100*this._ratio;var t=100-e;return[e+"%",t+"%"]},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"ratio",{get:function(){return this._ratio},enumerable:true,configurable:true});return e}();h.ctxReferenceWidgetSearchTreeFocused=new k.RawContextKey("referenceSearchTreeFocused",true);var z=function(u){pe(e,u);function e(e,t,i,n,r,o,s){var a=u.call(this,e,{showFrame:false,showArrow:true,isResizeable:true,isAccessible:true})||this;a.layoutData=t;a._textModelResolverService=i;a._contextService=n;a._themeService=r;a._instantiationService=o;a._environmentService=s;a._disposeOnNewModel=[];a._callOnDispose=[];a._onDidSelectReference=new l.Emitter;a._applyTheme(r.getTheme());a._callOnDispose.push(r.onThemeChange(a._applyTheme.bind(a)));a.create();return a}e.prototype._applyTheme=function(e){var t=e.getColor(h.peekViewBorder)||s.Color.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(h.peekViewTitleBackground)||s.Color.transparent,primaryHeadingColor:e.getColor(h.peekViewTitleForeground),secondaryHeadingColor:e.getColor(h.peekViewTitleInfoForeground)})};e.prototype.dispose=function(){this.setModel(null);this._callOnDispose=c.dispose(this._callOnDispose);c.dispose(this._preview,this._previewNotAvailableMessage,this._tree,this._sash,this._previewModelReference);u.prototype.dispose.call(this)};Object.defineProperty(e.prototype,"onDidSelectReference",{get:function(){return this._onDidSelectReference.event},enumerable:true,configurable:true});e.prototype.show=function(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0);u.prototype.show.call(this,e,this.layoutData.heightInLines||18)};e.prototype.focus=function(){this._tree.DOMFocus()};e.prototype._onTitleClick=function(e){if(this._preview&&this._preview.getModel()){this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}};e.prototype._fillBody=function(e){var o=this;var t=d.$(e);this.setCssClass("reference-zone-widget");t.div({class:"messages"},function(e){o._messageContainer=e.hide()});t.div({class:"preview inline"},function(e){var t={scrollBeyondLastLine:false,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:true,verticalHasArrows:false,horizontalHasArrows:false},overviewRulerLanes:2,fixedOverflowWidgets:true,minimap:{enabled:false}};o._preview=o._instantiationService.createInstance(b.EmbeddedCodeEditorWidget,e.getHTMLElement(),t,o.editor);o._previewContainer=e.hide();o._previewNotAvailableMessage=C.TextModel.createFromString(a.localize(3,null))});this._sash=new H(e,this.layoutData.ratio||.8);this._sash.onDidChangePercentages(function(){var e=o._sash.percentages,t=e[0],i=e[1];o._previewContainer.style({width:t});o._treeContainer.style({width:i});o._preview.layout();o._tree.layout();o.layoutData.ratio=o._sash.ratio});t.div({class:"ref-tree inline"},function(e){var t=o._instantiationService.createInstance(A,{clickBehavior:O.ClickBehavior.ON_MOUSE_UP});o._callOnDispose.push(t);var i={dataSource:o._instantiationService.createInstance(P),renderer:o._instantiationService.createInstance(B),controller:t,accessibilityProvider:new V};var n={twistiePixels:20,ariaLabel:a.localize(4,null)};o._tree=o._instantiationService.createInstance(M.WorkbenchTree,e.getHTMLElement(),i,n);o._callOnDispose.push(N.attachListStyler(o._tree,o._themeService));h.ctxReferenceWidgetSearchTreeFocused.bindTo(o._tree.contextKeyService);var r=function(e,t){if(e instanceof w.OneReference){if(t==="show"){o._revealReference(e)}o._onDidSelectReference.fire({element:e,kind:t,source:"tree"})}};o._disposables.push(o._tree.onDidChangeFocus(function(e){if(e&&e.payload&&e.payload.origin==="keyboard"){r(e.focus,"show")}}));o._disposables.push(o._tree.onDidChangeSelection(function(e){if(e&&e.payload&&e.payload.origin==="keyboard"){r(e.selection[0],"goto")}}));o._disposables.push(t.onDidFocus(function(e){return r(e,"show")}));o._disposables.push(t.onDidSelect(function(e){return r(e,"goto")}));o._disposables.push(t.onDidOpenToSide(function(e){return r(e,"side")}));o._treeContainer=e.hide()})};e.prototype._doLayoutBody=function(e,t){u.prototype._doLayoutBody.call(this,e,t);var i=e+"px";this._sash.height=e;this._sash.width=t;var n=this._sash.percentages,r=n[0],o=n[1];this._previewContainer.style({height:i,width:r});this._treeContainer.style({height:i,width:o});this._tree.layout(e);this._preview.layout();this.layoutData={heightInLines:this._viewZone.heightInLines,ratio:this._sash.ratio}};e.prototype._onWidth=function(e){this._sash.width=e;this._preview.layout()};e.prototype.setSelection=function(e){var t=this;return this._revealReference(e).then(function(){t._tree.setSelection([e]);t._tree.setFocus(e)})};e.prototype.setModel=function(e){this._disposeOnNewModel=c.dispose(this._disposeOnNewModel);this._model=e;if(this._model){return this._onNewModel()}return undefined};e.prototype._onNewModel=function(){var n=this;if(this._model.empty){this.setTitle("");this._messageContainer.innerHtml(a.localize(5,null)).show();return r.TPromise.as(void 0)}this._messageContainer.hide();this._decorationsManager=new R(this._preview,this._model);this._disposeOnNewModel.push(this._decorationsManager);this._disposeOnNewModel.push(this._model.onDidChangeReferenceRange(function(e){return n._tree.refresh(e)}));this._disposeOnNewModel.push(this._preview.onMouseDown(function(e){var t=e.event,i=e.target;if(t.detail===2){n._onDidSelectReference.fire({element:{uri:n._getFocusedReference().uri,range:i.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}}));f.addClass(this.container,"results-loaded");this._treeContainer.show();this._previewContainer.show();this._preview.layout();this._tree.layout();this.focus();var e=this._model.groups.length===1?this._model.groups[0]:this._model;return this._tree.setInput(e)};e.prototype._getFocusedReference=function(){var e=this._tree.getFocus();if(e instanceof w.OneReference){return e}else if(e instanceof w.FileReferences){if(e.children.length>0){return e.children[0]}}return undefined};e.prototype._revealReference=function(o){var s=this;if(o.uri.scheme!==n.Schemas.inMemory){this.setTitle(o.name,t.getPathLabel(o.directory,this._contextService,this._environmentService))}else{this.setTitle(a.localize(6,null))}var e=this._textModelResolverService.createModelReference(o.uri);return r.TPromise.join([e,this._tree.reveal(o)]).then(function(e){var t=e[0];if(!s._model){t.dispose();return}c.dispose(s._previewModelReference);var i=t.object;if(i){s._previewModelReference=t;var n=s._preview.getModel()===i.textEditorModel;s._preview.setModel(i.textEditorModel);var r=_.Range.lift(o.range).collapseToStart();s._preview.setSelection(r);s._preview.revealRangeInCenter(r,n?0:1)}else{s._preview.setModel(s._previewNotAvailableMessage);t.dispose()}},i.onUnexpectedError)};return e}(S.PeekViewWidget);h.ReferenceWidget=z;h.peekViewTitleBackground=L.registerColor("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},a.localize(7,null));h.peekViewTitleForeground=L.registerColor("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},a.localize(8,null));h.peekViewTitleInfoForeground=L.registerColor("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#6c6c6cb3",hc:"#FFFFFF99"},a.localize(9,null));h.peekViewBorder=L.registerColor("peekView.border",{dark:"#007acc",light:"#007acc",hc:L.contrastBorder},a.localize(10,null));h.peekViewResultsBackground=L.registerColor("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:s.Color.black},a.localize(11,null));h.peekViewResultsMatchForeground=L.registerColor("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:s.Color.white},a.localize(12,null));h.peekViewResultsFileForeground=L.registerColor("peekViewResult.fileForeground",{dark:s.Color.white,light:"#1E1E1E",hc:s.Color.white},a.localize(13,null));h.peekViewResultsSelectionBackground=L.registerColor("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},a.localize(14,null));h.peekViewResultsSelectionForeground=L.registerColor("peekViewResult.selectionForeground",{dark:s.Color.white,light:"#6C6C6C",hc:s.Color.white},a.localize(15,null));h.peekViewEditorBackground=L.registerColor("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:s.Color.black},a.localize(16,null));h.peekViewEditorGutterBackground=L.registerColor("peekViewEditorGutter.background",{dark:h.peekViewEditorBackground,light:h.peekViewEditorBackground,hc:h.peekViewEditorBackground},a.localize(17,null));h.peekViewResultsMatchHighlight=L.registerColor("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},a.localize(18,null));h.peekViewEditorMatchHighlight=L.registerColor("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},a.localize(19,null));x.registerThemingParticipant(function(e,t){var i=e.getColor(h.peekViewResultsMatchHighlight);if(i){t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { background-color: "+i+"; }")}var n=e.getColor(h.peekViewEditorMatchHighlight);if(n){t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+n+"; }")}var r=e.getColor(L.activeContrastBorder);if(r){t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch { border: 1px dotted "+r+"; box-sizing: border-box; }");t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+r+"; box-sizing: border-box; }")}var o=e.getColor(h.peekViewResultsBackground);if(o){t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+o+"; }")}var s=e.getColor(h.peekViewResultsMatchForeground);if(s){t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+s+"; }")}var a=e.getColor(h.peekViewResultsFileForeground);if(a){t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+a+"; }")}var u=e.getColor(h.peekViewResultsSelectionBackground);if(u){t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+u+"; }")}var l=e.getColor(h.peekViewResultsSelectionForeground);if(l){t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-tree.focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+l+" !important; }")}var c=e.getColor(h.peekViewEditorBackground);if(c){t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,"+".monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {"+("\tbackground-color: "+c+";")+"}")}var d=e.getColor(h.peekViewEditorGutterBackground);if(d){t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {"+("\tbackground-color: "+d+";")+"}")}})});define(r[208],e([0,1,370,13,2,70,14,19,56,112,76,11,207,64,16,12,160,46]),function(e,d,u,r,i,n,o,s,a,l,c,t,h,f,p,g,v,m){"use strict";Object.defineProperty(d,"__esModule",{value:true});d.ctxReferenceSearchVisible=new s.RawContextKey("referenceSearchVisible",false);var _=function(){function t(e,t,i,n,r,o,s,a,u,l,c){this._editorService=i;this._textModelResolverService=n;this._notificationService=r;this._instantiationService=o;this._contextService=s;this._storageService=a;this._themeService=u;this._configurationService=l;this._environmentService=c;this._requestIdPool=0;this._disposables=[];this._ignoreModelChangeEvent=false;this._editor=e;this._referenceSearchVisible=d.ctxReferenceSearchVisible.bindTo(t)}t.get=function(e){return e.getContribution(t.ID)};t.prototype.getId=function(){return t.ID};t.prototype.dispose=function(){if(this._widget){this._widget.dispose();this._widget=null}this._editor=null};t.prototype.toggleWidget=function(n,e,r){var o=this;var t;if(this._widget){t=this._widget.position}this.closeWidget();if(!!t&&n.containsPosition(t)){return null}this._referenceSearchVisible.set(true);this._disposables.push(this._editor.onDidChangeModelLanguage(function(){o.closeWidget()}));this._disposables.push(this._editor.onDidChangeModel(function(){if(!o._ignoreModelChangeEvent){o.closeWidget()}}));var i="peekViewLayout";var s=JSON.parse(this._storageService.get(i,undefined,"{}"));this._widget=new h.ReferenceWidget(this._editor,s,this._textModelResolverService,this._contextService,this._themeService,this._instantiationService,this._environmentService);this._widget.setTitle(u.localize(0,null));this._widget.show(n);this._disposables.push(this._widget.onDidClose(function(){e.cancel();o._storageService.store(i,JSON.stringify(o._widget.layoutData));o._widget=null;o.closeWidget()}));this._disposables.push(this._widget.onDidSelectReference(function(e){var t=e.element,i=e.kind;switch(i){case"open":if(e.source==="editor"&&o._configurationService.getValue("editor.stablePeek")){break}case"side":o.openReference(t,i==="side");break;case"goto":if(r.onGoto){r.onGoto(t)}else{o._gotoReference(t)}break}}));var a=++this._requestIdPool;e.then(function(e){if(a!==o._requestIdPool||!o._widget){return undefined}if(o._model){o._model.dispose()}o._model=e;return o._widget.setModel(o._model).then(function(){o._widget.setMetaTitle(r.getMetaTitle(o._model));var e=o._editor.getModel().uri;var t=new g.Position(n.startLineNumber,n.startColumn);var i=o._model.nearestReference(e,t);if(i){return o._widget.setSelection(i)}return undefined})},function(e){o._notificationService.error(e)})};t.prototype.closeWidget=function(){if(this._widget){this._widget.dispose();this._widget=null}this._referenceSearchVisible.reset();this._disposables=i.dispose(this._disposables);if(this._model){this._model.dispose();this._model=null}this._editor.focus();this._requestIdPool+=1};t.prototype._gotoReference=function(e){var t=this;this._widget.hide();this._ignoreModelChangeEvent=true;var i=e.uri,n=e.range;this._editorService.openEditor({resource:i,options:{selection:n}}).done(function(e){t._ignoreModelChangeEvent=false;if(!e||e.getControl()!==t._editor){t.closeWidget();return}t._widget.show(n);t._widget.focus()},function(e){t._ignoreModelChangeEvent=false;r.onUnexpectedError(e)})};t.prototype.openReference=function(e,t){var i=e.uri,n=e.range;this._editorService.openEditor({resource:i,options:{selection:n}},t);if(!t){this.closeWidget()}};t.ID="editor.contrib.referencesController";t=q([G(1,s.IContextKeyService),G(2,n.IEditorService),G(3,f.ITextModelService),G(4,m.INotificationService),G(5,o.IInstantiationService),G(6,l.IWorkspaceContextService),G(7,c.IStorageService),G(8,p.IThemeService),G(9,a.IConfigurationService),G(10,o.optional(v.IEnvironmentService))],t);return t}();d.ReferencesController=_;t.registerEditorContribution(_)});define(r[209],e([0,1,356,52,37,15,7,70,3,11,184,208,125,142,19,202,21,98,46]),function(e,t,i,s,n,r,o,a,g,u,l,c,v,d,h,m,f,_,y){"use strict";Object.defineProperty(t,"__esModule",{value:true});var p=function(){function e(e,t,i,n){if(e===void 0){e=false}if(t===void 0){t=false}if(i===void 0){i=true}if(n===void 0){n=true}this.openToSide=e;this.openInPeek=t;this.filterCurrent=i;this.showMessage=n}return e}();t.DefinitionActionConfig=p;var C=function(n){pe(e,n);function e(e,t){var i=n.call(this,t)||this;i._configuration=e;return i}e.prototype.run=function(e,c){var d=this;var t=e.get(y.INotificationService);var h=e.get(a.IEditorService);var i=e.get(_.IProgressService);var f=c.getModel();var p=c.getPosition();var n=this._getDeclarationsAtPosition(f,p).then(function(e){if(f.isDisposed()||c.getModel()!==f){return}var t=-1;var i=[];for(var n=0;n<e.length;n++){var r=e[n];if(!r||!r.range){continue}var o=r.uri,s=r.range;var a=i.push({uri:o,range:s});if(d._configuration.filterCurrent&&o.toString()===f.uri.toString()&&g.Range.containsPosition(s,p)&&t===-1){t=a-1}}if(i.length===0){if(d._configuration.showMessage){var u=f.getWordAtPosition(p);m.MessageController.get(c).showMessage(d._getNoResultFoundMessage(u),p)}}else if(i.length===1&&t!==-1){var l=i[0];d._openReference(h,l,false)}else{d._onResult(h,c,new v.ReferencesModel(i))}},function(e){t.error(e)});i.showWhile(n,250);return n};e.prototype._getDeclarationsAtPosition=function(e,t){return l.getDefinitionsAtPosition(e,t)};e.prototype._getNoResultFoundMessage=function(e){return e&&e.word?i.localize(0,null,e.word):i.localize(1,null)};e.prototype._getMetaTitle=function(e){return e.references.length>1&&i.localize(2,null,e.references.length)};e.prototype._onResult=function(t,e,i){var n=this;var r=i.getAriaMessage();s.alert(r);if(this._configuration.openInPeek){this._openInPeek(t,e,i)}else{var o=i.nearestReference(e.getModel().uri,e.getPosition());this._openReference(t,o,this._configuration.openToSide).then(function(e){if(e&&i.references.length>1){n._openInPeek(t,e,i)}else{i.dispose()}})}};e.prototype._openReference=function(e,t,i){var n=t.uri,r=t.range;return e.openEditor({resource:n,options:{selection:g.Range.collapseToStart(r),revealIfVisible:true,revealInCenterIfOutsideViewport:true}},i).then(function(e){return e&&e.getControl()})};e.prototype._openInPeek=function(t,e,i){var n=this;var r=c.ReferencesController.get(e);if(r){r.toggleWidget(e.getSelection(),o.TPromise.as(i),{getMetaTitle:function(e){return n._getMetaTitle(e)},onGoto:function(e){r.closeWidget();return n._openReference(t,e,false)}})}else{i.dispose()}};return e}(u.EditorAction);t.DefinitionAction=C;var b=r.isWeb?2048|70:70;var S=function(e){pe(t,e);function t(){return e.call(this,new p,{id:t.ID,label:i.localize(3,null),alias:"Go to Definition",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasDefinitionProvider,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:b},menuOpts:{group:"navigation",order:1.1}})||this}t.ID="editor.action.goToDeclaration";return t}(C);t.GoToDefinitionAction=S;var w=function(e){pe(t,e);function t(){return e.call(this,new p(true),{id:t.ID,label:i.localize(4,null),alias:"Open Definition to the Side",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasDefinitionProvider,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:n.KeyChord(2048|41,b)}})||this}t.ID="editor.action.openDeclarationToTheSide";return t}(C);t.OpenDefinitionToSideAction=w;var E=function(e){pe(t,e);function t(){return e.call(this,new p(void 0,true,false),{id:"editor.action.previewDeclaration",label:i.localize(5,null),alias:"Peek Definition",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasDefinitionProvider,d.PeekContext.notInPeekEditor,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:512|70,linux:{primary:2048|1024|68}},menuOpts:{group:"navigation",order:1.2}})||this}return t}(C);t.PeekDefinitionAction=E;var L=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._getDeclarationsAtPosition=function(e,t){return l.getImplementationsAtPosition(e,t)};t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?i.localize(6,null,e.word):i.localize(7,null)};t.prototype._getMetaTitle=function(e){return e.references.length>1&&i.localize(8,null,e.references.length)};return t}(C);t.ImplementationAction=L;var x=function(e){pe(t,e);function t(){return e.call(this,new p,{id:t.ID,label:i.localize(9,null),alias:"Go to Implementation",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasImplementationProvider,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:2048|70}})||this}t.ID="editor.action.goToImplementation";return t}(L);t.GoToImplementationAction=x;var N=function(e){pe(t,e);function t(){return e.call(this,new p(false,true,false),{id:t.ID,label:i.localize(10,null),alias:"Peek Implementation",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasImplementationProvider,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:2048|1024|70}})||this}t.ID="editor.action.peekImplementation";return t}(L);t.PeekImplementationAction=N;var I=function(e){pe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype._getDeclarationsAtPosition=function(e,t){return l.getTypeDefinitionsAtPosition(e,t)};t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?i.localize(11,null,e.word):i.localize(12,null)};t.prototype._getMetaTitle=function(e){return e.references.length>1&&i.localize(13,null,e.references.length)};return t}(C);t.TypeDefinitionAction=I;var D=function(e){pe(t,e);function t(){return e.call(this,new p,{id:t.ID,label:i.localize(14,null),alias:"Go to Type Definition",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasTypeDefinitionProvider,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:0},menuOpts:{group:"navigation",order:1.4}})||this}t.ID="editor.action.goToTypeDefinition";return t}(I);t.GoToTypeDefintionAction=D;var T=function(e){pe(t,e);function t(){return e.call(this,new p(false,true,false),{id:t.ID,label:i.localize(15,null),alias:"Peek Type Definition",precondition:h.ContextKeyExpr.and(f.EditorContextKeys.hasTypeDefinitionProvider,f.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:f.EditorContextKeys.textFocus,primary:0}})||this}t.ID="editor.action.peekTypeDefinition";return t}(I);t.PeekTypeDefinitionAction=T;u.registerEditorAction(S);u.registerEditorAction(w);u.registerEditorAction(E);u.registerEditorAction(x);u.registerEditorAction(N);u.registerEditorAction(D);u.registerEditorAction(T)});define(r[557],e([0,1,357,18,13,74,7,60,3,17,24,11,184,2,64,16,22,103,209,159,194]),function(e,t,n,o,s,g,r,i,v,a,u,l,c,d,h,f,p,m,_,y){"use strict";Object.defineProperty(t,"__esModule",{value:true});var C=function(){function p(e,t,i){var n=this;this.textModelResolverService=t;this.modeService=i;this.toUnhook=[];this.decorations=[];this.editor=e;this.throttler=new o.Throttler;var r=new y.ClickLinkGesture(e);this.toUnhook.push(r);this.toUnhook.push(r.onMouseMoveOrRelevantKeyDown(function(e){var t=e[0],i=e[1];n.startFindDefinition(t,i)}));this.toUnhook.push(r.onExecute(function(e){if(n.isEnabled(e)){n.gotoDefinition(e.target,e.hasSideBySideModifier).done(function(){n.removeDecorations()},function(e){n.removeDecorations();s.onUnexpectedError(e)})}}));this.toUnhook.push(r.onCancel(function(){n.removeDecorations();n.currentWordUnderMouse=null}))}p.prototype.startFindDefinition=function(e,t){var d=this;if(!this.isEnabled(e,t)){this.currentWordUnderMouse=null;this.removeDecorations();return}var h=e.target.position;var f=h?this.editor.getModel().getWordAtPosition(h):null;if(!f){this.currentWordUnderMouse=null;this.removeDecorations();return}if(this.currentWordUnderMouse&&this.currentWordUnderMouse.startColumn===f.startColumn&&this.currentWordUnderMouse.endColumn===f.endColumn&&this.currentWordUnderMouse.word===f.word){return}this.currentWordUnderMouse=f;var i=new m.EditorState(this.editor,4|1|2|8);this.throttler.queue(function(){return i.validate(d.editor)?d.findDefinition(e.target):r.TPromise.wrap(null)}).then(function(e){if(!e||!e.length||!i.validate(d.editor)){d.removeDecorations();return}if(e.length>1){d.addDecoration(new v.Range(h.lineNumber,f.startColumn,h.lineNumber,f.endColumn),(new g.MarkdownString).appendText(n.localize(0,null,e.length)))}else{var c=e[0];if(!c.uri){return}d.textModelResolverService.createModelReference(c.uri).then(function(e){if(!e.object||!e.object.textEditorModel){e.dispose();return}var t=e.object.textEditorModel;var i=c.range.startLineNumber;if(t.getLineMaxColumn(i)===0){e.dispose();return}var n=t.getLineFirstNonWhitespaceColumn(i);var r=Math.min(t.getLineCount(),i+p.MAX_SOURCE_PREVIEW_LINES);var o=i+1;var s=n;for(;o<r;o++){var a=t.getLineFirstNonWhitespaceColumn(o);s=Math.min(s,a);if(n===a){break}}var u=new v.Range(i,1,o+1,1);var l=t.getValueInRange(u).replace(new RegExp("^\\s{"+(s-1)+"}","gm"),"").trim();d.addDecoration(new v.Range(h.lineNumber,f.startColumn,h.lineNumber,f.endColumn),(new g.MarkdownString).appendCodeblock(d.modeService.getModeIdByFilenameOrFirstLine(t.uri.fsPath),l));e.dispose()})}}).done(undefined,s.onUnexpectedError)};p.prototype.addDecoration=function(e,t){var i={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.decorations=this.editor.deltaDecorations(this.decorations,[i])};p.prototype.removeDecorations=function(){if(this.decorations.length>0){this.decorations=this.editor.deltaDecorations(this.decorations,[])}};p.prototype.isEnabled=function(e,t){return this.editor.getModel()&&e.isNoneOrSingleMouseDown&&e.target.type===u.MouseTargetType.CONTENT_TEXT&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey)&&a.DefinitionProviderRegistry.has(this.editor.getModel())};p.prototype.findDefinition=function(e){var t=this.editor.getModel();if(!t){return r.TPromise.as(null)}return c.getDefinitionsAtPosition(this.editor.getModel(),e.position)};p.prototype.gotoDefinition=function(e,t){var i=this;this.editor.setPosition(e.position);var n=new _.DefinitionAction(new _.DefinitionActionConfig(t,false,true,false),{alias:undefined,label:undefined,id:undefined,precondition:undefined});return this.editor.invokeWithinContext(function(e){return n.run(e,i.editor)})};p.prototype.getId=function(){return p.ID};p.prototype.dispose=function(){this.toUnhook=d.dispose(this.toUnhook)};p.ID="editor.contrib.gotodefinitionwithmouse";p.MAX_SOURCE_PREVIEW_LINES=8;p=q([G(1,h.ITextModelService),G(2,i.IModeService)],p);return p}();l.registerEditorContribution(C);f.registerThemingParticipant(function(e,t){var i=e.getColor(p.editorActiveLinkForeground);if(i){t.addRule(".monaco-editor .goto-definition-link { color: "+i+" !important; }")}})});define(r[558],e([0,1,369,30,7,70,34,19,44,12,3,11,17,142,208,125,18,13,21,140,24,205,207]),function(e,t,i,s,a,u,n,r,o,l,c,d,h,f,p,g,v,m,_,y,C,b,S){"use strict";Object.defineProperty(t,"__esModule",{value:true});var w={getMetaTitle:function(e){return e.references.length>1&&i.localize(0,null,e.references.length)}};var E=function(){function e(e,t){if(e instanceof y.EmbeddedCodeEditorWidget){f.PeekContext.inPeekEditor.bindTo(t)}}e.prototype.dispose=function(){};e.prototype.getId=function(){return e.ID};e.ID="editor.contrib.referenceController";e=q([G(1,r.IContextKeyService)],e);return e}();t.ReferenceController=E;var L=function(e){pe(t,e);function t(){return e.call(this,{id:"editor.action.referenceSearch.trigger",label:i.localize(1,null),alias:"Find All References",precondition:r.ContextKeyExpr.and(_.EditorContextKeys.hasReferenceProvider,f.PeekContext.notInPeekEditor,_.EditorContextKeys.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:_.EditorContextKeys.textFocus,primary:1024|70},menuOpts:{group:"navigation",order:1.5}})||this}t.prototype.run=function(e,t){var i=p.ReferencesController.get(t);if(!i){return}var n=t.getSelection();var r=t.getModel();var o=M(r,n.getStartPosition()).then(function(e){return new g.ReferencesModel(e)});i.toggleWidget(n,o,w)};return t}(d.EditorAction);t.ReferenceAction=L;d.registerEditorContribution(E);d.registerEditorAction(L);var x=function(e,t,o){if(!(t instanceof s.default)){throw new Error("illegal argument, uri")}if(!o){throw new Error("illegal argument, position")}return e.get(u.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(!C.isCodeEditor(t)){return undefined}var i=p.ReferencesController.get(t);if(!i){return undefined}var n=M(t.getModel(),l.Position.lift(o)).then(function(e){return new g.ReferencesModel(e)});var r=new c.Range(o.lineNumber,o.column,o.lineNumber,o.column);return a.TPromise.as(i.toggleWidget(r,n,w))})};var N=function(e,t,n,r){if(!(t instanceof s.default)){throw new Error("illegal argument, uri expected")}return e.get(u.IEditorService).openEditor({resource:t}).then(function(e){var t=e.getControl();if(!C.isCodeEditor(t)){return undefined}var i=p.ReferencesController.get(t);if(!i){return undefined}return a.TPromise.as(i.toggleWidget(new c.Range(n.lineNumber,n.column,n.lineNumber,n.column),a.TPromise.as(new g.ReferencesModel(r)),w)).then(function(){return true})})};n.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:x});n.CommandsRegistry.registerCommand({id:"editor.action.showReferences",handler:N,description:{description:"Show references at a position in a file",args:[{name:"uri",description:"The text document in which to show references",constraint:s.default},{name:"position",description:"The position at which to show",constraint:l.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array}]}});function I(e,t){T(e,function(e){return e.closeWidget()})}function D(e,t){var i=e.get(b.IListService);var n=i.lastFocusedList&&i.lastFocusedList.getFocus();if(n instanceof g.OneReference){T(e,function(e){return e.openReference(n,true)})}}function T(e,t){var i=f.getOuterEditor(e);if(!i){return}var n=p.ReferencesController.get(i);if(!n){return}t(n)}o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearch",weight:o.KeybindingsRegistry.WEIGHT.workbenchContrib(50),primary:9,secondary:[1024|9],when:r.ContextKeyExpr.and(p.ctxReferenceSearchVisible,r.ContextKeyExpr.not("config.editor.stablePeek")),handler:I});o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"closeReferenceSearchEditor",weight:o.KeybindingsRegistry.WEIGHT.editorContrib(-101),primary:9,secondary:[1024|9],when:r.ContextKeyExpr.and(f.PeekContext.inPeekEditor,r.ContextKeyExpr.not("config.editor.stablePeek")),handler:I});o.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:o.KeybindingsRegistry.WEIGHT.editorContrib(),primary:2048|3,mac:{primary:256|3},when:r.ContextKeyExpr.and(p.ctxReferenceSearchVisible,S.ctxReferenceWidgetSearchTreeFocused),handler:D});function M(i,n){var e=h.ReferenceProviderRegistry.ordered(i).map(function(t){return v.asWinJsPromise(function(e){return t.provideReferences(i,n,{includeDeclaration:true},e)}).then(function(e){if(Array.isArray(e)){return e}return undefined},function(e){m.onUnexpectedExternalError(e)})});return a.TPromise.join(e).then(function(e){var t=[];for(var i=0,n=e;i<n.length;i++){var r=n[i];if(r){t.push.apply(t,r)}}return t})}t.provideReferences=M;d.registerDefaultLanguageCommand("_executeReferenceProvider",M)});define(r[559],e([0,1,132,196,139,168,518,456,457,458,520,183,461,462,463,464,201,465,467,209,557,527,529,530,470,531,533,535,474,558,538,476,187,540,188,541,481]),function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true})});define(r[114],e([0,1,67,66,30,7,34,423,427,164,49,112,33,24,4,444,2,10,54,44,414,37,426,15,46,12]),function(e,t,s,i,n,o,a,r,u,l,c,d,h,f,p,g,v,m,_,y,C,b,S,w,E,L){"use strict";Object.defineProperty(t,"__esModule",{value:true});var x=function(){function e(e){this._widget=e}e.prototype.getId=function(){return"editor"};e.prototype.getControl=function(){return this._widget};e.prototype.focus=function(){this._widget.focus()};e.prototype.isVisible=function(){return true};e.prototype.withTypedEditor=function(e,t){if(f.isCodeEditor(this._widget)){return e(this._widget)}else{return t(this._widget)}};return e}();t.SimpleEditor=x;var N=function(){function e(e){this.model=e;this._onDispose=new p.Emitter}Object.defineProperty(e.prototype,"onDispose",{get:function(){return this._onDispose.event},enumerable:true,configurable:true});e.prototype.load=function(){return o.TPromise.as(this)};Object.defineProperty(e.prototype,"textEditorModel",{get:function(){return this.model},enumerable:true,configurable:true});e.prototype.dispose=function(){this._onDispose.fire()};return e}();t.SimpleModel=N;var I=function(){function e(){this.openEditorDelegate=null}e.prototype.setEditor=function(e){this.editor=new x(e)};e.prototype.setOpenEditorDelegate=function(e){this.openEditorDelegate=e};e.prototype.openEditor=function(t,e){var i=this;return o.TPromise.as(this.editor.withTypedEditor(function(e){return i.doOpenEditor(e,t)},function(e){return i.doOpenEditor(e.getOriginalEditor(),t)||i.doOpenEditor(e.getModifiedEditor(),t)}))};e.prototype.doOpenEditor=function(e,t){var i=this.findModel(e,t);if(!i){if(t.resource){if(this.openEditorDelegate){this.openEditorDelegate(t.resource.toString());return null}else{var n=t.resource.scheme;if(n===s.Schemas.http||n===s.Schemas.https){m.windowOpenNoOpener(t.resource.toString());return this.editor}}}return null}var r=t.options.selection;if(r){if(typeof r.endLineNumber==="number"&&typeof r.endColumn==="number"){e.setSelection(r);e.revealRangeInCenter(r,1)}else{var o={lineNumber:r.startLineNumber,column:r.startColumn};e.setPosition(o);e.revealPositionInCenter(o,1)}}return this.editor};e.prototype.findModel=function(e,t){var i=e.getModel();if(i.uri.toString()!==t.resource.toString()){return null}return i};return e}();t.SimpleEditorService=I;var D=function(){function e(){}e.prototype.setEditor=function(e){this.editor=new x(e)};e.prototype.createModelReference=function(t){var i=this;var e;e=this.editor.withTypedEditor(function(e){return i.findModel(e,t)},function(e){return i.findModel(e.getOriginalEditor(),t)||i.findModel(e.getModifiedEditor(),t)});if(!e){return o.TPromise.as(new v.ImmortalReference(null))}return o.TPromise.as(new v.ImmortalReference(new N(e)))};e.prototype.registerTextModelContentProvider=function(e,t){return{dispose:function(){}}};e.prototype.findModel=function(e,t){var i=e.getModel();if(i.uri.toString()!==t.toString()){return null}return i};return e}();t.SimpleEditorModelResolverService=D;var T=function(){function e(){}e.prototype.show=function(){return e.NULL_PROGRESS_RUNNER};e.prototype.showWhile=function(e,t){return null};e.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}};return e}();t.SimpleProgressService=T;var M=function(){function e(){}e.prototype.confirm=function(e){var t=e.message;if(e.detail){t=t+"\n\n"+e.detail}return o.TPromise.wrap(window.confirm(t))};e.prototype.confirmWithCheckbox=function(e){return this.confirm(e).then(function(e){return{confirmed:e,checkboxChecked:false}})};return e}();t.SimpleConfirmationService=M;var k=function(){function t(){}t.prototype.info=function(e){return this.notify({severity:i.default.Info,message:e})};t.prototype.warn=function(e){return this.notify({severity:i.default.Warning,message:e})};t.prototype.error=function(e){return this.notify({severity:i.default.Error,message:e})};t.prototype.notify=function(e){switch(e.severity){case i.default.Error:console.error(e.message);break;case i.default.Warning:console.warn(e.message);break;default:console.log(e.message);break}return t.NO_OP};t.NO_OP=new E.NoOpNotification;return t}();t.SimpleNotificationService=k;var O=function(){function e(e){this._onWillExecuteCommand=new p.Emitter;this.onWillExecuteCommand=this._onWillExecuteCommand.event;this._instantiationService=e;this._dynamicCommands=Object.create(null)}e.prototype.addCommand=function(e){var t=this;var i=e.id;this._dynamicCommands[i]=e;return{dispose:function(){delete t._dynamicCommands[i]}}};e.prototype.executeCommand=function(e){var t=[];for(var i=1;i<arguments.length;i++){t[i-1]=arguments[i]}var n=a.CommandsRegistry.getCommand(e)||this._dynamicCommands[e];if(!n){return o.TPromise.wrapError(new Error("command '"+e+"' not found"))}try{this._onWillExecuteCommand.fire({commandId:e});var r=this._instantiationService.invokeFunction.apply(this._instantiationService,[n.handler].concat(t));return o.TPromise.as(r)}catch(e){return o.TPromise.wrapError(e)}};return e}();t.StandaloneCommandService=O;var R=function(s){pe(e,s);function e(e,t,i,n,r){var o=s.call(this,e,t,i,n)||this;o._cachedResolver=null;o._dynamicKeybindings=[];o.toDispose.push(m.addDisposableListener(r,m.EventType.KEY_DOWN,function(e){var t=new _.StandardKeyboardEvent(e);var i=o._dispatch(t,t.target);if(i){t.preventDefault()}}));return o}e.prototype.addDynamicKeybinding=function(i,e,t,n){var r=this;var o=[];this._dynamicKeybindings.push({keybinding:b.createKeybinding(e,w.OS),command:i,when:n,weight1:1e3,weight2:0});o.push({dispose:function(){for(var e=0;e<r._dynamicKeybindings.length;e++){var t=r._dynamicKeybindings[e];if(t.command===i){r._dynamicKeybindings.splice(e,1);r.updateResolver({source:c.KeybindingSource.Default});return}}}});var s=this._commandService;if(s instanceof O){o.push(s.addCommand({id:i,handler:t}))}else{throw new Error("Unknown command service!")}this.updateResolver({source:c.KeybindingSource.Default});return v.combinedDisposable(o)};e.prototype.updateResolver=function(e){this._cachedResolver=null;this._onDidUpdateKeybindings.fire(e)};e.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._toNormalizedKeybindingItems(y.KeybindingsRegistry.getDefaultKeybindings(),true);var t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,false);this._cachedResolver=new l.KeybindingResolver(e,t)}return this._cachedResolver};e.prototype._toNormalizedKeybindingItems=function(e,t){var i=[],n=0;for(var r=0,o=e.length;r<o;r++){var s=e[r];var a=s.when?s.when.normalize():null;var u=s.keybinding;if(!u){i[n++]=new S.ResolvedKeybindingItem(null,s.command,s.commandArgs,a,t)}else{var l=this.resolveKeybinding(u);for(var c=0;c<l.length;c++){i[n++]=new S.ResolvedKeybindingItem(l[c],s.command,s.commandArgs,a,t)}}}return i};e.prototype.resolveKeybinding=function(e){return[new u.USLayoutResolvedKeybinding(e,w.OS)]};e.prototype.resolveKeyboardEvent=function(e){var t=new b.SimpleKeybinding(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode);return new u.USLayoutResolvedKeybinding(t,w.OS)};e.prototype.resolveUserBinding=function(e){return[]};return e}(r.AbstractKeybindingService);t.StandaloneKeybindingService=R;function P(e){return e&&typeof e==="object"&&(!e.overrideIdentifier||typeof e.overrideIdentifier==="string")&&(!e.resource||e.resource instanceof n.default)}var A=function(){function e(){this._onDidChangeConfiguration=new p.Emitter;this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;this._configuration=new g.Configuration(new g.DefaultConfigurationModel,new g.ConfigurationModel)}e.prototype.configuration=function(){return this._configuration};e.prototype.getValue=function(e,t){var i=typeof e==="string"?e:void 0;var n=P(e)?e:P(t)?t:{};return this.configuration().getValue(i,n,null)};e.prototype.updateValue=function(e,t,i,n){return o.TPromise.as(null)};e.prototype.inspect=function(e,t){if(t===void 0){t={}}return this.configuration().inspect(e,t,null)};e.prototype.keys=function(){return this.configuration().keys(null)};e.prototype.reloadConfiguration=function(){return o.TPromise.as(null)};e.prototype.getConfigurationData=function(){return null};return e}();t.SimpleConfigurationService=A;var F=function(){function e(e){var t=this;this.configurationService=e;this._onDidChangeConfigurationEmitter=new p.Emitter;this.configurationService.onDidChangeConfiguration(function(e){t._onDidChangeConfigurationEmitter.fire(e)})}e.prototype.getValue=function(e,t,i){var n=L.Position.isIPosition(t)?t:null;var r=n?typeof i==="string"?i:void 0:typeof t==="string"?t:void 0;return this.configurationService.getValue(r)};return e}();t.SimpleResourceConfigurationService=F;var W=function(){function e(e){this._commandService=e}e.prototype.createMenu=function(e,t){return new C.Menu(e,o.TPromise.as(true),this._commandService,t)};return e}();t.SimpleMenuService=W;var B=function(){function e(){this.isOptedIn=false}e.prototype.publicLog=function(e,t){return o.TPromise.wrap(null)};e.prototype.getTelemetryInfo=function(){return null};return e}();t.StandaloneTelemetryService=B;var V=function(){function t(){this._onDidChangeWorkspaceName=new p.Emitter;this.onDidChangeWorkspaceName=this._onDidChangeWorkspaceName.event;this._onDidChangeWorkspaceFolders=new p.Emitter;this.onDidChangeWorkspaceFolders=this._onDidChangeWorkspaceFolders.event;this._onDidChangeWorkbenchState=new p.Emitter;this.onDidChangeWorkbenchState=this._onDidChangeWorkbenchState.event;var e=n.default.from({scheme:t.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new d.WorkspaceFolder({uri:e,name:"",index:0})],name:e.fsPath}}t.prototype.getWorkspace=function(){return this.workspace};t.prototype.getWorkbenchState=function(){if(this.workspace){if(this.workspace.configuration){return d.WorkbenchState.WORKSPACE}return d.WorkbenchState.FOLDER}return d.WorkbenchState.EMPTY};t.prototype.getWorkspaceFolder=function(e){return e&&e.scheme===t.SCHEME?this.workspace.folders[0]:void 0};t.prototype.isInsideWorkspace=function(e){return e&&e.scheme===t.SCHEME};t.prototype.isCurrentWorkspace=function(e){return true};return t}();t.SimpleWorkspaceContextService=V});define(r[561],e([0,1,2,7,72,14,34,49,19,38,62,114,138,139,85,206,89,16,52,386,31,46]),function(e,t,p,g,i,n,v,r,m,o,s,c,a,u,l,_,y,d,h,f,C,b){"use strict";Object.defineProperty(t,"__esModule",{value:true});var S=0;var w=false;function E(){if(w){return}w=true;h.setARIAContainer(document.body)}var L=function(l){pe(e,l);function e(e,t,i,n,r,o,s,a){var u=this;t=t||{};t.ariaLabel=t.ariaLabel||f.localize(0,null);t.ariaLabel=t.ariaLabel+";"+(C.isIE?f.localize(1,null):f.localize(2,null));u=l.call(this,e,t,i,n,r,o,a)||this;if(s instanceof c.StandaloneKeybindingService){u._standaloneKeybindingService=s}E();return u}e.prototype.addCommand=function(e,t,i){if(!this._standaloneKeybindingService){console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService");return null}var n="DYNAMIC_"+ ++S;var r=m.ContextKeyExpr.deserialize(i);this._standaloneKeybindingService.addDynamicKeybinding(n,e,t,r);return n};e.prototype.createContextKey=function(e,t){return this._contextKeyService.createKey(e,t)};e.prototype.addAction=function(t){var i=this;if(typeof t.id!=="string"||typeof t.label!=="string"||typeof t.run!=="function"){throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!")}if(!this._standaloneKeybindingService){console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");return p.empty}var e=t.id;var n=t.label;var r=m.ContextKeyExpr.and(m.ContextKeyExpr.equals("editorId",this.getId()),m.ContextKeyExpr.deserialize(t.precondition));var o=t.keybindings;var s=m.ContextKeyExpr.and(r,m.ContextKeyExpr.deserialize(t.keybindingContext));var a=t.contextMenuGroupId||null;var u=t.contextMenuOrder||0;var l=function(){var e=t.run(i);return e?e:g.TPromise.as(void 0)};var c=[];var d=this.getId()+":"+e;c.push(v.CommandsRegistry.registerCommand(d,l));if(a){var h={command:{id:d,title:n},when:r,group:a,order:u};c.push(y.MenuRegistry.appendMenuItem(y.MenuId.EditorContext,h))}if(Array.isArray(o)){c=c.concat(o.map(function(e){return i._standaloneKeybindingService.addDynamicKeybinding(d,e,l,s)}))}var f=new _.InternalEditorAction(d,n,n,r,l,this._contextKeyService);this._actions[e]=f;c.push({dispose:function(){delete i._actions[e]}});return p.combinedDisposable(c)};e=q([G(2,n.IInstantiationService),G(3,o.ICodeEditorService),G(4,v.ICommandService),G(5,m.IContextKeyService),G(6,r.IKeybindingService),G(7,d.IThemeService)],e);return e}(a.CodeEditor);t.StandaloneCodeEditor=L;var x=function(f){pe(e,f);function e(e,t,i,n,r,o,s,a,u,l){var c=this;t=t||{};if(typeof t.theme==="string"){l.setTheme(t.theme)}var d=t.model;delete t.model;c=f.call(this,e,t,n,r,o,s,a,l)||this;c._contextViewService=u;c._register(i);if(typeof d==="undefined"){d=self.monaco.editor.createModel(t.value||"",t.language||"text/plain");c._ownsModel=true}else{c._ownsModel=false}c._attachModel(d);if(d){var h={oldModelUrl:null,newModelUrl:d.uri};c._onDidChangeModel.fire(h)}return c}e.prototype.dispose=function(){f.prototype.dispose.call(this)};e.prototype._attachModel=function(e){f.prototype._attachModel.call(this,e);if(this._view){this._contextViewService.setContainer(this._view.domNode.domNode)}};e.prototype._postDetachModelCleanup=function(e){f.prototype._postDetachModelCleanup.call(this,e);if(e&&this._ownsModel){e.dispose();this._ownsModel=false}};e=q([G(3,n.IInstantiationService),G(4,o.ICodeEditorService),G(5,v.ICommandService),G(6,m.IContextKeyService),G(7,r.IKeybindingService),G(8,i.IContextViewService),G(9,l.IStandaloneThemeService)],e);return e}(L);t.StandaloneEditor=x;var N=function(h){pe(e,h);function e(e,t,i,n,r,o,s,a,u,l,c){var d=this;t=t||{};if(typeof t.theme==="string"){t.theme=l.setTheme(t.theme)}d=h.call(this,e,t,a,r,n,u,l,c)||this;d._contextViewService=s;d._register(i);d._contextViewService.setContainer(d._containerDomElement);return d}e.prototype.dispose=function(){h.prototype.dispose.call(this)};e.prototype._createInnerEditor=function(e,t,i){return e.createInstance(L,t,i)};e.prototype.getOriginalEditor=function(){return h.prototype.getOriginalEditor.call(this)};e.prototype.getModifiedEditor=function(){return h.prototype.getModifiedEditor.call(this)};e.prototype.addCommand=function(e,t,i){return this.getModifiedEditor().addCommand(e,t,i)};e.prototype.createContextKey=function(e,t){return this.getModifiedEditor().createContextKey(e,t)};e.prototype.addAction=function(e){return this.getModifiedEditor().addAction(e)};e=q([G(3,n.IInstantiationService),G(4,m.IContextKeyService),G(5,r.IKeybindingService),G(6,i.IContextViewService),G(7,s.IEditorWorkerService),G(8,o.ICodeEditorService),G(9,l.IStandaloneThemeService),G(10,b.INotificationService)],e);return e}(u.DiffEditorWidget);t.StandaloneDiffEditor=N});define(r[211],e([0,1,2,56,394,72,484,14,422,93,34,49,19,429,95,98,76,82,112,38,62,151,150,60,442,53,517,491,114,445,89,85,549,117,46,416]),function(e,t,i,p,g,v,m,a,u,l,_,y,C,c,d,h,f,b,S,w,E,L,x,N,I,D,T,M,k,O,R,P,A,F,W,B){"use strict";Object.defineProperty(t,"__esModule",{value:true});var V;(function(t){var i=new l.ServiceCollection;var n=function(){function e(e,t){this._serviceId=e;this._factory=t;this._value=null}Object.defineProperty(e.prototype,"id",{get:function(){return this._serviceId},enumerable:true,configurable:true});e.prototype.get=function(e){if(!this._value){if(e){this._value=e[this._serviceId.toString()]}if(!this._value){this._value=this._factory(e)}if(!this._value){throw new Error("Service "+this._serviceId+" is missing!")}i.set(this._serviceId,this._value)}return this._value};return e}();t.LazyStaticService=n;var r=[];function e(e,t){var i=new n(e,t);r.push(i);return i}function o(t){var i=new l.ServiceCollection;for(var e in t){if(t.hasOwnProperty(e)){i.set(a.createDecorator(e),t[e])}}r.forEach(function(e){return i.set(e.id,e.get(t))});var n=new u.InstantiationService(i,true);i.set(a.IInstantiationService,n);return[i,n]}t.init=o;t.instantiationService=e(a.IInstantiationService,function(){return new u.InstantiationService(i,true)});var s=new k.SimpleConfigurationService;t.configurationService=e(p.IConfigurationService,function(){return s});t.resourceConfigurationService=e(x.ITextResourceConfigurationService,function(){return new k.SimpleResourceConfigurationService(s)});t.contextService=e(S.IWorkspaceContextService,function(){return new k.SimpleWorkspaceContextService});t.telemetryService=e(b.ITelemetryService,function(){return new k.StandaloneTelemetryService});t.confirmationService=e(B.IConfirmationService,function(){return new k.SimpleConfirmationService});t.notificationService=e(W.INotificationService,function(){return new k.SimpleNotificationService});t.markerService=e(d.IMarkerService,function(){return new c.MarkerService});t.modeService=e(N.IModeService,function(e){return new I.ModeServiceImpl});t.modelService=e(D.IModelService,function(e){return new T.ModelServiceImpl(t.markerService.get(e),t.configurationService.get(e))});t.editorWorkerService=e(E.IEditorWorkerService,function(e){return new L.EditorWorkerServiceImpl(t.modelService.get(e),t.resourceConfigurationService.get(e))});t.standaloneThemeService=e(P.IStandaloneThemeService,function(){return new A.StandaloneThemeServiceImpl});t.codeEditorService=e(w.ICodeEditorService,function(e){return new M.CodeEditorServiceImpl(t.standaloneThemeService.get(e))});t.progressService=e(h.IProgressService,function(){return new k.SimpleProgressService});t.storageService=e(f.IStorageService,function(){return f.NullStorageService});t.logService=e(F.ILogService,function(){return new F.NullLogService})})(V=t.StaticServices||(t.StaticServices={}));var n=function(f){pe(e,f);function e(e,n){var r=f.call(this)||this;var t=V.init(n),i=t[0],o=t[1];r._serviceCollection=i;r._instantiationService=o;var s=r.get(p.IConfigurationService);var a=r.get(W.INotificationService);var u=r.get(b.ITelemetryService);var l=function(e,t){var i=null;if(n){i=n[e.toString()]}if(!i){i=t()}r._serviceCollection.set(e,i);return i};var c=l(C.IContextKeyService,function(){return r._register(new O.ContextKeyService(s))});var d=l(_.ICommandService,function(){return new k.StandaloneCommandService(r._instantiationService)});l(y.IKeybindingService,function(){return r._register(new k.StandaloneKeybindingService(c,d,u,a,e))});var h=l(v.IContextViewService,function(){return r._register(new m.ContextViewService(e,u,new F.NullLogService))});l(v.IContextMenuService,function(){return r._register(new g.ContextMenuService(e,u,a,h))});l(R.IMenuService,function(){return new k.SimpleMenuService(d)});return r}e.prototype.get=function(e){var t=this._serviceCollection.get(e);if(!t){throw new Error("Missing service "+e)}return t};e.prototype.set=function(e,t){this._serviceCollection.set(e,t)};e.prototype.has=function(e){return this._serviceCollection.has(e)};return e}(i.Disposable);t.DynamicStandaloneServices=n});define(r[563],e([0,1,33,24,561,43,211,486,63,437,114,17,404,168,70,34,72,14,49,19,38,62,64,69,85,119,50,58,25,46,411]),function(e,t,i,n,r,o,d,a,u,s,l,c,h,f,p,g,v,m,_,y,C,b,S,w,E,L,x,N,I,D){"use strict";Object.defineProperty(t,"__esModule",{value:true});function T(e,t,i){var n=new d.DynamicStandaloneServices(e,t);var r=null;if(!n.has(p.IEditorService)){r=new l.SimpleEditorService;n.set(p.IEditorService,r)}var o=null;if(!n.has(S.ITextModelService)){o=new l.SimpleEditorModelResolverService;n.set(S.ITextModelService,o)}if(!n.has(u.IOpenerService)){n.set(u.IOpenerService,new a.OpenerService(n.get(p.IEditorService),n.get(g.ICommandService)))}var s=i(n);if(r){r.setEditor(s)}if(o){o.setEditor(s)}return s}function M(t,i,e){return T(t,e,function(e){return new r.StandaloneEditor(t,i,e,e.get(m.IInstantiationService),e.get(C.ICodeEditorService),e.get(g.ICommandService),e.get(y.IContextKeyService),e.get(_.IKeybindingService),e.get(v.IContextViewService),e.get(E.IStandaloneThemeService))})}t.create=M;function k(t){return d.StaticServices.codeEditorService.get().onCodeEditorAdd(function(e){t(e)})}t.onDidCreateEditor=k;function O(t,i,e){return T(t,e,function(e){return new r.StandaloneDiffEditor(t,i,e,e.get(m.IInstantiationService),e.get(y.IContextKeyService),e.get(_.IKeybindingService),e.get(v.IContextViewService),e.get(b.IEditorWorkerService),e.get(C.ICodeEditorService),e.get(E.IStandaloneThemeService),e.get(D.INotificationService))})}t.createDiffEditor=O;function R(e,t){return new f.DiffNavigator(e,t)}t.createDiffNavigator=R;function P(e,t,i){return d.StaticServices.modelService.get().createModel(e,t,i)}function A(e,t,i){e=e||"";if(!t){var n=i?i.path:null;var r=e.indexOf("\n");var o=e;if(r!==-1){o=e.substring(0,r)}return P(e,d.StaticServices.modeService.get().getOrCreateModeByFilenameOrFirstLine(n,o),i)}return P(e,d.StaticServices.modeService.get().getOrCreateMode(t),i)}t.createModel=A;function F(e,t){d.StaticServices.modelService.get().setMode(e,d.StaticServices.modeService.get().getOrCreateMode(t))}t.setModelLanguage=F;function W(e,t,i){if(e){d.StaticServices.markerService.get().changeOne(t,e.uri,i)}}t.setModelMarkers=W;function B(e){return d.StaticServices.markerService.get().read(e)}t.getModelMarkers=B;function V(e){return d.StaticServices.modelService.get().getModel(e)}t.getModel=V;function H(){return d.StaticServices.modelService.get().getModels()}t.getModels=H;function z(e){return d.StaticServices.modelService.get().onModelAdded(e)}t.onDidCreateModel=z;function K(e){return d.StaticServices.modelService.get().onModelRemoved(e)}t.onWillDisposeModel=K;function U(t){return d.StaticServices.modelService.get().onModelModeChanged(function(e){t({model:e.model,oldLanguage:e.oldModeId})})}t.onDidChangeModelLanguage=U;function j(e){return h.createWebWorker(d.StaticServices.modelService.get(),e)}t.createWebWorker=j;function q(e,t){return s.Colorizer.colorizeElement(d.StaticServices.standaloneThemeService.get(),d.StaticServices.modeService.get(),e,t)}t.colorizeElement=q;function G(e,t,i){return s.Colorizer.colorize(d.StaticServices.modeService.get(),e,t,i)}t.colorize=G;function Y(e,t,i){if(i===void 0){i=4}return s.Colorizer.colorizeModelLine(e,t,i)}t.colorizeModelLine=Y;function Z(n){var e=c.TokenizationRegistry.get(n);if(e){return e}return{getInitialState:function(){return w.NULL_STATE},tokenize:function(e,t,i){return w.nullTokenize(n,e,t,i)},tokenize2:undefined}}function $(e,t){var i=d.StaticServices.modeService.get();i.getOrCreateMode(t);var n=Z(t);var r=e.split(/\r\n|\r|\n/);var o=[];var s=n.getInitialState();for(var a=0,u=r.length;a<u;a++){var l=r[a];var c=n.tokenize(l,s,0);o[a]=c.tokens;s=c.endState}return o}t.tokenize=$;function X(e,t){d.StaticServices.standaloneThemeService.get().defineTheme(e,t)}t.defineTheme=X;function J(e){d.StaticServices.standaloneThemeService.get().setTheme(e)}t.setTheme=J;var Q;(function(e){e[e["Smooth"]=0]="Smooth";e[e["Immediate"]=1]="Immediate"})(Q||(Q={}));var ee;(function(e){e[e["Off"]=0]="Off";e[e["On"]=1]="On";e[e["Relative"]=2]="Relative";e[e["Interval"]=3]="Interval";e[e["Custom"]=4]="Custom"})(ee||(ee={}));function te(){return{create:M,onDidCreateEditor:k,createDiffEditor:O,createDiffNavigator:R,createModel:A,setModelLanguage:F,setModelMarkers:W,getModelMarkers:B,getModels:H,getModel:V,onDidCreateModel:z,onWillDisposeModel:K,onDidChangeModelLanguage:U,createWebWorker:j,colorizeElement:q,colorize:G,colorizeModelLine:Y,tokenize:$,defineTheme:X,setTheme:J,ScrollbarVisibility:o.ScrollbarVisibility,WrappingIndent:x.WrappingIndent,OverviewRulerLane:I.OverviewRulerLane,EndOfLinePreference:I.EndOfLinePreference,DefaultEndOfLine:I.DefaultEndOfLine,EndOfLineSequence:I.EndOfLineSequence,TrackedRangeStickiness:I.TrackedRangeStickiness,CursorChangeReason:N.CursorChangeReason,MouseTargetType:n.MouseTargetType,TextEditorCursorStyle:x.TextEditorCursorStyle,TextEditorCursorBlinkingStyle:x.TextEditorCursorBlinkingStyle,ContentWidgetPositionPreference:n.ContentWidgetPositionPreference,OverlayWidgetPositionPreference:n.OverlayWidgetPositionPreference,RenderMinimap:x.RenderMinimap,ScrollType:Q,RenderLineNumbersType:ee,InternalEditorOptions:x.InternalEditorOptions,BareFontInfo:L.BareFontInfo,FontInfo:L.FontInfo,TextModelResolvedOptions:I.TextModelResolvedOptions,FindMatch:I.FindMatch,EditorType:i.EditorType}}t.createMonacoEditorAPI=te});define(r[564],e([0,1,7,124,211,17,61,12,3,18,285,286,40,102]),function(e,t,o,i,s,a,n,d,u,h,r,l,c,f){"use strict";Object.defineProperty(t,"__esModule",{value:true});function p(e){i.ModesRegistry.registerLanguage(e)}t.register=p;function g(){var e=[];e=e.concat(i.ModesRegistry.getLanguages());return e}t.getLanguages=g;function v(t,i){var n=s.StaticServices.modeService.get().onDidCreateMode(function(e){if(e.getId()===t){n.dispose();i()}});return n}t.onLanguage=v;function m(e,t){var i=s.StaticServices.modeService.get().getLanguageIdentifier(e);if(!i){throw new Error("Cannot set configuration for unknown language "+e)}return c.LanguageConfigurationRegistry.register(i,t)}t.setLanguageConfiguration=m;var _=function(){function e(e,t,i){this._standaloneThemeService=e;this._languageIdentifier=t;this._actual=i}e.prototype.getInitialState=function(){return this._actual.getInitialState()};e.prototype._toClassicTokens=function(e,t,i){var n=[];var r=0;for(var o=0,s=e.length;o<s;o++){var a=e[o];var u=a.startIndex;if(o===0){u=0}else if(u<r){u=r}n[o]=new f.Token(u+i,a.scopes,t);r=u}return n};e.prototype.tokenize=function(e,t,i){var n=this._actual.tokenize(e,t);var r=this._toClassicTokens(n.tokens,this._languageIdentifier.language,i);var o;if(n.endState.equals(t)){o=t}else{o=n.endState}return new f.TokenizationResult(r,o)};e.prototype._toBinaryTokens=function(e,t){var i=this._languageIdentifier.id;var n=this._standaloneThemeService.getTheme().tokenTheme;var r=[],o=0;var s=0;for(var a=0,u=e.length;a<u;a++){var l=e[a];var c=n.match(i,l.scopes);if(o>0&&r[o-1]===c){continue}var d=l.startIndex;if(a===0){d=0}else if(d<s){d=s}r[o++]=d+t;r[o++]=c;s=d}var h=new Uint32Array(o);for(var a=0;a<o;a++){h[a]=r[a]}return h};e.prototype.tokenize2=function(e,t,i){var n=this._actual.tokenize(e,t);var r=this._toBinaryTokens(n.tokens,i);var o;if(n.endState.equals(t)){o=t}else{o=n.endState}return new f.TokenizationResult2(r,o)};return e}();t.TokenizationSupport2Adapter=_;function y(e,t){var i=s.StaticServices.modeService.get().getLanguageIdentifier(e);if(!i){throw new Error("Cannot set tokens provider for unknown language "+e)}var n=new _(s.StaticServices.standaloneThemeService.get(),i,t);return a.TokenizationRegistry.register(e,n)}t.setTokensProvider=y;function C(e,t){var i=r.compile(e,t);var n=l.createTokenizationSupport(s.StaticServices.modeService.get(),s.StaticServices.standaloneThemeService.get(),e,i);return a.TokenizationRegistry.register(e,n)}t.setMonarchTokensProvider=C;function b(e,t){return a.ReferenceProviderRegistry.register(e,t)}t.registerReferenceProvider=b;function S(e,t){return a.RenameProviderRegistry.register(e,t)}t.registerRenameProvider=S;function w(e,t){return a.SignatureHelpProviderRegistry.register(e,t)}t.registerSignatureHelpProvider=w;function E(e,r){return a.HoverProviderRegistry.register(e,{provideHover:function(e,t,i){var n=e.getWordAtPosition(t);return h.toThenable(r.provideHover(e,t,i)).then(function(e){if(!e){return undefined}if(!e.range&&n){e.range=new u.Range(t.lineNumber,n.startColumn,t.lineNumber,n.endColumn)}if(!e.range){e.range=new u.Range(t.lineNumber,t.column,t.lineNumber,t.column)}return e})}})}t.registerHoverProvider=E;function L(e,t){return a.DocumentSymbolProviderRegistry.register(e,t)}t.registerDocumentSymbolProvider=L;function x(e,t){return a.DocumentHighlightProviderRegistry.register(e,t)}t.registerDocumentHighlightProvider=x;function N(e,t){return a.DefinitionProviderRegistry.register(e,t)}t.registerDefinitionProvider=N;function I(e,t){return a.ImplementationProviderRegistry.register(e,t)}t.registerImplementationProvider=I;function D(e,t){return a.TypeDefinitionProviderRegistry.register(e,t)}t.registerTypeDefinitionProvider=D;function T(e,t){return a.CodeLensProviderRegistry.register(e,t)}t.registerCodeLensProvider=T;function M(e,o){return a.CodeActionProviderRegistry.register(e,{provideCodeActions:function(e,t,i,n){var r=s.StaticServices.markerService.get().read({resource:e.uri}).filter(function(e){return u.Range.areIntersectingOrTouching(e,t)});return o.provideCodeActions(e,t,{markers:r,only:i.only},n)}})}t.registerCodeActionProvider=M;function k(e,t){return a.DocumentFormattingEditProviderRegistry.register(e,t)}t.registerDocumentFormattingEditProvider=k;function O(e,t){return a.DocumentRangeFormattingEditProviderRegistry.register(e,t)}t.registerDocumentRangeFormattingEditProvider=O;function R(e,t){return a.OnTypeFormattingEditProviderRegistry.register(e,t)}t.registerOnTypeFormattingEditProvider=R;function P(e,t){return a.LinkProviderRegistry.register(e,t)}t.registerLinkProvider=P;function A(e,t){var r=new V(t);return a.SuggestRegistry.register(e,{triggerCharacters:t.triggerCharacters,provideCompletionItems:function(e,t,i,n){return r.provideCompletionItems(e,t,i,n)},resolveCompletionItem:function(e,t,i,n){return r.resolveCompletionItem(e,t,i,n)}})}t.registerCompletionItemProvider=A;function F(e,t){return a.ColorProviderRegistry.register(e,t)}t.registerColorProvider=F;var W;(function(e){e[e["Text"]=0]="Text";e[e["Method"]=1]="Method";e[e["Function"]=2]="Function";e[e["Constructor"]=3]="Constructor";e[e["Field"]=4]="Field";e[e["Variable"]=5]="Variable";e[e["Class"]=6]="Class";e[e["Interface"]=7]="Interface";e[e["Module"]=8]="Module";e[e["Property"]=9]="Property";e[e["Unit"]=10]="Unit";e[e["Value"]=11]="Value";e[e["Enum"]=12]="Enum";e[e["Keyword"]=13]="Keyword";e[e["Snippet"]=14]="Snippet";e[e["Color"]=15]="Color";e[e["File"]=16]="File";e[e["Reference"]=17]="Reference";e[e["Folder"]=18]="Folder"})(W=t.CompletionItemKind||(t.CompletionItemKind={}));function B(e){switch(e){case W.Method:return"method";case W.Function:return"function";case W.Constructor:return"constructor";case W.Field:return"field";case W.Variable:return"variable";case W.Class:return"class";case W.Interface:return"interface";case W.Module:return"module";case W.Property:return"property";case W.Unit:return"unit";case W.Value:return"value";case W.Enum:return"enum";case W.Keyword:return"keyword";case W.Snippet:return"snippet";case W.Text:return"text";case W.Color:return"color";case W.File:return"file";case W.Reference:return"reference";case W.Folder:return"folder"}return"property"}var V=function(){function c(e){this._provider=e}c.from=function(e,t,i){var n={_actual:e,label:e.label,insertText:e.label,type:B(e.kind),detail:e.detail,documentation:e.documentation,command:e.command,sortText:e.sortText,filterText:e.filterText,snippetType:"internal",additionalTextEdits:e.additionalTextEdits,commitCharacters:e.commitCharacters};var r=e.textEdit?e.textEdit.range:e.range;if(r){var o=r.startLineNumber===r.endLineNumber;if(!o||r.startLineNumber!==t.lineNumber){console.warn("INVALID range, must be single line and on the same line");return null}n.overwriteBefore=t.column-r.startColumn;n.overwriteAfter=r.endColumn-t.column}else{n.overwriteBefore=t.column-i.column;n.overwriteAfter=0}if(e.textEdit){n.insertText=e.textEdit.text}else if(typeof e.insertText==="object"&&typeof e.insertText.value==="string"){n.insertText=e.insertText.value;n.snippetType="textmate"}else if(typeof e.insertText==="string"){n.insertText=e.insertText}return n};c.prototype.provideCompletionItems=function(u,l,e,t){var i=this._provider.provideCompletionItems(u,l,t,e);return h.toThenable(i).then(function(e){var t={suggestions:[]};var i=l;var n=u.getWordUntilPosition(l);if(n){i=new d.Position(i.lineNumber,n.startColumn)}var r;if(Array.isArray(e)){r={items:e,isIncomplete:false}}else if(typeof e==="object"&&Array.isArray(e.items)){r=e;t.incomplete=r.isIncomplete}else if(!e){return undefined}else{console.warn("INVALID result from completion provider. expected CompletionItem-array or CompletionList but got:",e)}for(var o=0;o<r.items.length;o++){var s=r.items[o];var a=c.from(s,l,i);if(a){t.suggestions.push(a)}}return t})};c.prototype.resolveCompletionItem=function(n,r,e,t){if(typeof this._provider.resolveCompletionItem!=="function"){return o.TPromise.as(e)}var i=e._actual;if(!i){return o.TPromise.as(e)}return h.toThenable(this._provider.resolveCompletionItem(i,t)).then(function(e){var t=r;var i=n.getWordUntilPosition(r);if(i){t=new d.Position(t.lineNumber,i.startColumn)}return c.from(e,r,t)})};return c}();function H(){return{register:p,getLanguages:g,onLanguage:v,setLanguageConfiguration:m,setTokensProvider:y,setMonarchTokensProvider:C,registerReferenceProvider:b,registerRenameProvider:S,registerCompletionItemProvider:A,registerSignatureHelpProvider:w,registerHoverProvider:E,registerDocumentSymbolProvider:L,registerDocumentHighlightProvider:x,registerDefinitionProvider:N,registerImplementationProvider:I,registerTypeDefinitionProvider:D,registerCodeLensProvider:T,registerCodeActionProvider:M,registerDocumentFormattingEditProvider:k,registerDocumentRangeFormattingEditProvider:O,registerOnTypeFormattingEditProvider:R,registerLinkProvider:P,registerColorProvider:F,DocumentHighlightKind:a.DocumentHighlightKind,CompletionItemKind:W,SymbolKind:a.SymbolKind,IndentAction:n.IndentAction,SuggestTriggerKind:a.SuggestTriggerKind}}t.createMonacoLanguagesAPI=H});define(r[417],e([0,1,181,563,564,50,431]),function(e,t,i,n,r,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=self;if(typeof a.Promise==="undefined"){a.Promise=s.PolyfillPromise}o.EDITOR_DEFAULTS.wrappingIndent=o.WrappingIndent.None;o.EDITOR_DEFAULTS.viewInfo.glyphMargin=false;o.EDITOR_DEFAULTS.autoIndent=false;var u=i.createMonacoBaseAPI();u.editor=n.createMonacoEditorAPI();u.languages=r.createMonacoLanguagesAPI();t.CancellationTokenSource=u.CancellationTokenSource;t.Emitter=u.Emitter;t.KeyCode=u.KeyCode;t.KeyMod=u.KeyMod;t.Position=u.Position;t.Range=u.Range;t.Selection=u.Selection;t.SelectionDirection=u.SelectionDirection;t.Severity=u.Severity;t.Promise=u.Promise;t.Uri=u.Uri;t.Token=u.Token;t.editor=u.editor;t.languages=u.languages;a.monaco=u;if(typeof a.require!=="undefined"&&typeof a.require.config==="function"){a.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index"]})}});define(r[566],e([0,1,417,559,542,543,482,547,545,546,483]),function(e,i,t){"use strict";function n(e){for(var t in e)if(!i.hasOwnProperty(t))i[t]=e[t]}Object.defineProperty(i,"__esModule",{value:true});n(t)})}).call(this);define("vs/language/typescript/monaco.contribution",["require","exports","vs/editor/editor.api"],function(i,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=monaco.Emitter;var t=function(){function e(e,t){this._onDidChange=new n;this._extraLibs=Object.create(null);this._workerMaxIdleTime=2*60*1e3;this.setCompilerOptions(e);this.setDiagnosticsOptions(t)}Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});e.prototype.getExtraLibs=function(){var e=Object.create(null);for(var t in this._extraLibs){e[t]=this._extraLibs[t]}return Object.freeze(e)};e.prototype.addExtraLib=function(e,t){var i=this;if(typeof t==="undefined"){t="ts:extralib-"+Date.now()}if(this._extraLibs[t]){throw new Error(t+" already a extra lib")}this._extraLibs[t]=e;this._onDidChange.fire(this);return{dispose:function(){if(delete i._extraLibs[t]){i._onDidChange.fire(i)}}}};e.prototype.getCompilerOptions=function(){return this._compilerOptions};e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null);this._onDidChange.fire(this)};e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions};e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null);this._onDidChange.fire(this)};e.prototype.setMaximunWorkerIdleTime=function(e){this._workerMaxIdleTime=e};e.prototype.getWorkerMaxIdleTime=function(){return this._workerMaxIdleTime};e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e};e.prototype.getEagerModelSync=function(){return this._eagerModelSync};return e}();e.LanguageServiceDefaultsImpl=t;var r;(function(e){e[e["None"]=0]="None";e[e["CommonJS"]=1]="CommonJS";e[e["AMD"]=2]="AMD";e[e["UMD"]=3]="UMD";e[e["System"]=4]="System";e[e["ES2015"]=5]="ES2015"})(r||(r={}));var o;(function(e){e[e["None"]=0]="None";e[e["Preserve"]=1]="Preserve";e[e["React"]=2]="React"})(o||(o={}));var s;(function(e){e[e["CarriageReturnLineFeed"]=0]="CarriageReturnLineFeed";e[e["LineFeed"]=1]="LineFeed"})(s||(s={}));var a;(function(e){e[e["Unknown"]=0]="Unknown";e[e["JS"]=1]="JS";e[e["JSX"]=2]="JSX";e[e["TS"]=3]="TS";e[e["TSX"]=4]="TSX"})(a||(a={}));var u;(function(e){e[e["ES3"]=0]="ES3";e[e["ES5"]=1]="ES5";e[e["ES2015"]=2]="ES2015";e[e["ES2016"]=3]="ES2016";e[e["ES2017"]=4]="ES2017";e[e["ESNext"]=5]="ESNext";e[e["Latest"]=5]="Latest"})(u||(u={}));var l;(function(e){e[e["Standard"]=0]="Standard";e[e["JSX"]=1]="JSX"})(l||(l={}));var c;(function(e){e[e["Classic"]=1]="Classic";e[e["NodeJs"]=2]="NodeJs"})(c||(c={}));var d=new t({allowNonTsExtensions:true,target:u.Latest},{noSemanticValidation:false,noSyntaxValidation:false});var h=new t({allowNonTsExtensions:true,allowJs:true,target:u.Latest},{noSemanticValidation:true,noSyntaxValidation:false});function f(){return v().then(function(e){return e.getTypeScriptWorker()})}function p(){return v().then(function(e){return e.getJavaScriptWorker()})}function g(){return{ModuleKind:r,JsxEmit:o,NewLineKind:s,ScriptTarget:u,ModuleResolutionKind:c,typescriptDefaults:d,javascriptDefaults:h,getTypeScriptWorker:f,getJavaScriptWorker:p}}monaco.languages.typescript=g();function v(){return monaco.Promise.wrap(new Promise(function(e,t){i(["./tsMode"],e,t)}))}monaco.languages.register({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"]});monaco.languages.onLanguage("typescript",function(){return v().then(function(e){return e.setupTypeScript(d)})});monaco.languages.register({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"]});monaco.languages.onLanguage("javascript",function(){return v().then(function(e){return e.setupJavaScript(h)})})});define("vs/language/css/monaco.contribution",["require","exports","vs/editor/editor.api"],function(i,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=monaco.Emitter;var t=function(){function e(e,t){this._onDidChange=new n;this._languageId=e;this.setDiagnosticsOptions(t)}Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:true,configurable:true});e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null);this._onDidChange.fire(this)};return e}();e.LanguageServiceDefaultsImpl=t;var r={validate:true,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}};var o=new t("css",r);var s=new t("scss",r);var a=new t("less",r);function u(){return{cssDefaults:o,lessDefaults:a,scssDefaults:s}}monaco.languages.css=u();function l(){return monaco.Promise.wrap(new Promise(function(e,t){i(["./cssMode"],e,t)}))}monaco.languages.onLanguage("less",function(){l().then(function(e){return e.setupMode(a)})});monaco.languages.onLanguage("scss",function(){l().then(function(e){return e.setupMode(s)})});monaco.languages.onLanguage("css",function(){l().then(function(e){return e.setupMode(o)})})});define("vs/language/json/monaco.contribution",["require","exports","vs/editor/editor.api"],function(i,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=monaco.Emitter;var t=function(){function e(e,t){this._onDidChange=new n;this._languageId=e;this.setDiagnosticsOptions(t)}Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:true,configurable:true});e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null);this._onDidChange.fire(this)};return e}();e.LanguageServiceDefaultsImpl=t;var r={validate:true,allowComments:true,schemas:[]};var o=new t("json",r);function s(){return{jsonDefaults:o}}monaco.languages.json=s();function a(){return monaco.Promise.wrap(new Promise(function(e,t){i(["./jsonMode"],e,t)}))}monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc"],aliases:["JSON","json"],mimetypes:["application/json"]});monaco.languages.onLanguage("json",function(){a().then(function(e){return e.setupMode(o)})})});define("vs/language/html/monaco.contribution",["require","exports","vs/editor/editor.api"],function(i,e){"use strict";Object.defineProperty(e,"__esModule",{value:true});var n=monaco.Emitter;var t=function(){function e(e,t){this._onDidChange=new n;this._languageId=e;this.setOptions(t)}Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:true,configurable:true});Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:true,configurable:true});e.prototype.setOptions=function(e){this._options=e||Object.create(null);this._onDidChange.fire(this)};return e}();e.LanguageServiceDefaultsImpl=t;var r={tabSize:4,insertSpaces:false,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:false,preserveNewLines:true,maxPreserveNewLines:null,indentHandlebars:false,endWithNewline:false,extraLiners:"head, body, /html",wrapAttributes:"auto"};var o={format:r,suggest:{html5:true,angular1:true,ionic:true}};var s={format:r,suggest:{html5:true}};var a={format:r,suggest:{html5:true,razor:true}};var u="html";var l="handlebars";var c="razor";var d=new t(u,o);var h=new t(l,s);var f=new t(c,a);function p(){return{htmlDefaults:d,razorDefaults:f,handlebarDefaults:h}}monaco.languages.html=p();function g(){return monaco.Promise.wrap(new Promise(function(e,t){i(["./htmlMode"],e,t)}))}monaco.languages.onLanguage(u,function(){g().then(function(e){return e.setupMode(d)})});monaco.languages.onLanguage(l,function(){g().then(function(e){return e.setupMode(h)})});monaco.languages.onLanguage(c,function(){g().then(function(e){return e.setupMode(f)})})});define("vs/basic-languages/monaco.contribution",["require","exports","./bat/bat.contribution","./coffee/coffee.contribution","./cpp/cpp.contribution","./csharp/csharp.contribution","./csp/csp.contribution","./css/css.contribution","./dockerfile/dockerfile.contribution","./fsharp/fsharp.contribution","./go/go.contribution","./handlebars/handlebars.contribution","./html/html.contribution","./ini/ini.contribution","./java/java.contribution","./less/less.contribution","./lua/lua.contribution","./markdown/markdown.contribution","./msdax/msdax.contribution","./mysql/mysql.contribution","./objective-c/objective-c.contribution","./pgsql/pgsql.contribution","./php/php.contribution","./postiats/postiats.contribution","./powershell/powershell.contribution","./pug/pug.contribution","./python/python.contribution","./r/r.contribution","./razor/razor.contribution","./redis/redis.contribution","./redshift/redshift.contribution","./ruby/ruby.contribution","./sb/sb.contribution","./scss/scss.contribution","./solidity/solidity.contribution","./sql/sql.contribution","./swift/swift.contribution","./vb/vb.contribution","./xml/xml.contribution","./yaml/yaml.contribution","vs/editor/editor.api"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true})});define("vs/editor/editor.main",["vs/editor/edcore.main","vs/language/typescript/monaco.contribution","vs/language/css/monaco.contribution","vs/language/json/monaco.contribution","vs/language/html/monaco.contribution","vs/basic-languages/monaco.contribution"],function(){});